(function(Ze,ug){function t(a,b){function c(){}c.prototype=a;var d=new c,e;for(e in b)d[e]=b[e];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function an(a){return a instanceof Array?function(){return W.iter(a)}:"function"==typeof a.iterator?n(a,a.iterator):a.iterator}function n(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=bn++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},
c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}Ze.lime=Ze.lime||{};Ze.openfl=Ze.openfl||{};Ze.Plac3d=Ze.Plac3d||{};var k={},O=function(){return y.__string_rec(this,"")},Ae=function(){};k.ApplicationMain=Ae;Ae.__name__=["ApplicationMain"];Ae.main=function(){za.__registerEntryPoint("Plac3d",Ae.create,{build:"27",company:"",file:"Plac3d",fps:60,name:"Plac3d",orientation:"",packageName:"io.github.chfoo.plac3d",version:"1.2.1",windows:[{allowHighDPI:!1,antialiasing:0,background:0,borderless:!1,
depthBuffer:!0,display:0,fullscreen:!1,hardware:!0,height:0,hidden:null,maximized:null,minimized:null,parameters:{},resizable:!0,stencilBuffer:!0,title:"Plac3d",vsync:!1,width:0,x:null,y:null}]})};Ae.create=function(a){var b=new wh;b.create(a);Be.init(a);var c=new xh(new yh);b.setPreloader(c);c.create(a);var d=b.__windows[0].stage;c.onComplete.add(function(){Ae.start(d)});a=0;for(var e=Be.preloadLibraries;a<e.length;){var f=e[a];++a;c.addLibrary(f)}a=0;for(e=Be.preloadLibraryNames;a<e.length;)f=e[a],
++a,c.addLibraryName(f);c.load();b.exec()};Ae._embed=Ze.Plac3d.embed=function(a,b,c,d,e){za.embed("Plac3d",a,b,c,{background:d,assetsPrefix:e})};Ae._embed2=Ze.openfl.embed=function(a,b,c,d,e){za.embed("Plac3d",a,b,c,{background:d,assetsPrefix:e})};Ae.start=function(a){try{var b=a.getChildAt(0);null!=b&&y.__instanceof(b,Nb)||(b=new Oc,a.addChild(b));new zh(b)}catch(c){Aa.lastException=c,c instanceof F&&(c=c.val),a.__handleError(c)}a.dispatchEvent(new J("resize",!1,!1));a.window.__fullscreen&&a.dispatchEvent(new ee("fullScreen",
!1,!1,!0,!0))};var Ah=function(){};k["openfl.events.IEventDispatcher"]=Ah;Ah.__name__=["openfl","events","IEventDispatcher"];Ah.prototype={addEventListener:null,dispatchEvent:null,hasEventListener:null,removeEventListener:null,willTrigger:null,__class__:Ah};var X=function(a){null!=a&&(this.__targetDispatcher=a)};k["openfl.events.EventDispatcher"]=X;X.__name__=["openfl","events","EventDispatcher"];X.__interfaces__=[Ah];X.__sortByPriority=function(a,b){return a.priority==b.priority?0:a.priority>b.priority?
-1:1};X.prototype={__eventMap:null,__iterators:null,__targetDispatcher:null,addEventListener:function(a,b,c,d,e){null==d&&(d=0);null==c&&(c=!1);if(null!=b)if(null==this.__eventMap&&(this.__eventMap=new pa,this.__iterators=new pa),e=this.__eventMap,null!=u[a]?e.existsReserved(a):e.h.hasOwnProperty(a)){e=this.__eventMap;e=null!=u[a]?e.getReserved(a):e.h[a];for(var f=0,p=e.length;f<p;){var g=f++;if(e[g].match(b,c))return}f=this.__iterators;a=null!=u[a]?f.getReserved(a):f.h[a];for(f=0;f<a.length;)p=a[f],
++f,p.active&&p.copy();e.push(new Bh(b,c,d));e.sort(X.__sortByPriority)}else e=[],e.push(new Bh(b,c,d)),b=new Ch(e),c=this.__eventMap,null!=u[a]?c.setReserved(a,e):c.h[a]=e,c=this.__iterators,b=[b],null!=u[a]?c.setReserved(a,b):c.h[a]=b},dispatchEvent:function(a){a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this;return this.__dispatchEvent(a)},hasEventListener:function(a){if(null==this.__eventMap)return!1;var b=this.__eventMap;return null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},
removeEventListener:function(a,b,c){null==c&&(c=!1);if(null!=this.__eventMap&&null!=b){var d=this.__eventMap,d=null!=u[a]?d.getReserved(a):d.h[a];if(null!=d){for(var e=this.__iterators,e=null!=u[a]?e.getReserved(a):e.h[a],f=0,p=d.length;f<p;){var g=f++;if(d[g].match(b,c)){for(b=0;b<e.length;)c=e[b],++b,c.remove(d[g],g);d.splice(g,1);break}}0==d.length&&(this.__eventMap.remove(a),this.__iterators.remove(a));a=this.__eventMap;(new Dh(a,a.arrayKeys())).hasNext()||(this.__iterators=this.__eventMap=null)}}},
toString:function(){return"[object "+sa.getClassName(y.getClass(this)).split(".").pop()+"]"},willTrigger:function(a){return this.hasEventListener(a)},__dispatchEvent:function(a){if(null==this.__eventMap||null==a)return!0;var b=a.type,c=this.__eventMap,d=null!=u[b]?c.getReserved(b):c.h[b];if(null==d)return!0;null==a.target&&(a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this);a.currentTarget=this;var c=1==a.eventPhase,e=this.__iterators,b=null!=u[b]?e.getReserved(b):e.h[b],e=b[0];
e.active&&(e=new Ch(d),b.push(e));e.reset(d);for(d=e;d.hasNext();){var f=d.next();if(null!=f&&f.useCapture==c&&(f.callback(a),a.__isCanceledNow))break}e!=b[0]&&W.remove(b,e);return!0},__class__:X};var Eh=function(){};k["openfl.display.IBitmapDrawable"]=Eh;Eh.__name__=["openfl","display","IBitmapDrawable"];Eh.prototype={__blendMode:null,__transform:null,__worldTransform:null,__worldColorTransform:null,__renderCairo:null,__renderCairoMask:null,__renderCanvas:null,__renderCanvasMask:null,__renderGL:null,
__updateChildren:null,__updateTransforms:null,__updateMask:null,__class__:Eh};var aa=function(){X.call(this);this.__alpha=1;this.__blendMode=10;this.__cacheAsBitmap=!1;this.__transform=new Ma;this.__visible=!0;this.__rotationSine=this.__rotation=0;this.__worldAlpha=this.__scaleY=this.__scaleX=this.__rotationCosine=1;this.__worldTransform=new Ma;this.__worldColorTransform=new Ob;this.__renderTransform=new Ma;this.set_name("instance"+ ++aa.__instanceCount)};k["openfl.display.DisplayObject"]=aa;aa.__name__=
["openfl","display","DisplayObject"];aa.__interfaces__=[Eh];aa.__super__=X;aa.prototype=t(X.prototype,{opaqueBackground:null,parent:null,scale9Grid:null,stage:null,__alpha:null,__blendMode:null,__cacheAsBitmap:null,__cacheAsBitmapMatrix:null,__cairo:null,__children:null,__filters:null,__forceCacheAsBitmap:null,__graphics:null,__interactive:null,__isMask:null,__loaderInfo:null,__mask:null,__name:null,__objectTransform:null,__renderable:null,__renderDirty:null,__renderParent:null,__renderTransform:null,
__renderTransformCache:null,__renderTransformChanged:null,__rotation:null,__rotationCosine:null,__rotationSine:null,__scaleX:null,__scaleY:null,__scrollRect:null,__transform:null,__transformDirty:null,__visible:null,__worldAlpha:null,__worldAlphaChanged:null,__worldClip:null,__worldClipChanged:null,__worldColorTransform:null,__worldTransform:null,__worldVisible:null,__worldVisibleChanged:null,__worldZ:null,__canvas:null,__context:null,__style:null,addEventListener:function(a,b,c,d,e){null==e&&(e=
!1);null==d&&(d=0);null==c&&(c=!1);switch(a){case "activate":case "deactivate":case "enterFrame":case "exitFrame":case "frameConstructed":case "render":aa.__broadcastEvents.exists(a)||aa.__broadcastEvents.set(a,[]);var f=aa.__broadcastEvents.get(a);-1==f.indexOf(this)&&f.push(this)}X.prototype.addEventListener.call(this,a,b,c,d,e)},dispatchEvent:function(a){if(y.__instanceof(a,Ga)){var b=this.__getRenderTransform();a.stageX=a.localX*b.a+a.localY*b.c+b.tx;b=this.__getRenderTransform();a.stageY=a.localX*
b.b+a.localY*b.d+b.ty}else y.__instanceof(a,hc)&&(b=this.__getRenderTransform(),a.stageX=a.localX*b.a+a.localY*b.c+b.tx,b=this.__getRenderTransform(),a.stageY=a.localX*b.b+a.localY*b.d+b.ty);return X.prototype.dispatchEvent.call(this,a)},getBounds:function(a){var b;null!=a?(b=this.__getWorldTransform().clone(),b.concat(a.__getWorldTransform().clone().invert())):(b=Ma.__temp,b.identity());a=new ha;this.__getBounds(a,b);return a},getRect:function(a){return this.getBounds(a)},globalToLocal:function(a){a=
a.clone();var b=this.__getRenderTransform(),c=b.a*b.d-b.b*b.c;if(0==c)a.x=-b.tx,a.y=-b.ty;else{var d=1/c*(b.c*(b.ty-a.y)+b.d*(a.x-b.tx));a.y=1/c*(b.a*(a.y-b.ty)+b.b*(b.tx-a.x));a.x=d}return a},hitTestObject:function(a){if(null!=a&&null!=a.parent&&null!=this.parent){var b=this.getBounds(this);a=a.getBounds(this);return b.intersects(a)}return!1},hitTestPoint:function(a,b,c){null==c&&(c=!1);return null!=this.stage?this.__hitTest(a,b,c,null,!0,this):!1},localToGlobal:function(a){return this.__getRenderTransform().transformPoint(a)},
removeEventListener:function(a,b,c){null==c&&(c=!1);X.prototype.removeEventListener.call(this,a,b,c);switch(a){case "activate":case "deactivate":case "enterFrame":case "exitFrame":case "frameConstructed":case "render":this.hasEventListener(a)||aa.__broadcastEvents.exists(a)&&W.remove(aa.__broadcastEvents.get(a),this)}},__cleanup:function(){this.__context=this.__canvas=this.__cairo=null;null!=this.__graphics&&this.__graphics.__cleanup()},__dispatch:function(a){if(null!=this.__eventMap&&this.hasEventListener(a.type)){var b=
X.prototype.__dispatchEvent.call(this,a);return a.__isCanceled?!0:b}return!0},__dispatchChildren:function(a){return this.__dispatchEvent(a)},__dispatchEvent:function(a){var b=X.prototype.__dispatchEvent.call(this,a);if(a.__isCanceled)return!0;a.bubbles&&null!=this.parent&&this.parent!=this&&(a.eventPhase=3,null==a.target&&(a.target=this),this.parent.__dispatchEvent(a));return b},__enterFrame:function(a){},__getBounds:function(a,b){null!=this.__graphics&&this.__graphics.__getBounds(a,b)},__getCursor:function(){return null},
__getInteractive:function(a){return!1},__getLocalBounds:function(a){this.__getBounds(a,this.__transform)},__getRenderBounds:function(a,b){if(null==this.__scrollRect)this.__getBounds(a,b);else{var c=ha.__temp;c.copyFrom(this.__scrollRect);c.__transform(c,b);a.__expand(b.tx,b.ty,c.width,c.height)}},__getRenderTransform:function(){this.__getWorldTransform();return this.__renderTransform},__getWorldTransform:function(){if(this.__transformDirty||0<aa.__worldTransformDirty){var a=[],b=this,c=this.__transformDirty;
if(null==this.parent)c&&this.__update(!0,!1);else for(;b!=this.stage;){a.push(b);b=b.parent;if(null==b)break;b!=this.stage&&b.__transformDirty&&(c=!0)}if(c)for(b=a.length;0<=--b;)a[b].__update(!0,!1)}return this.__worldTransform},__hitTest:function(a,b,c,d,e,f){if(null!=this.__graphics){if(!f.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(this.__graphics.__hitTest(a,b,c,this.__getRenderTransform()))return null==d||e||d.push(f),!0}return!1},__hitTestMask:function(a,
b){return null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getRenderTransform())?!0:!1},__readGraphicsData:function(a,b){null!=this.__graphics&&this.__graphics.__readGraphicsData(a)},__renderCairo:function(a){},__renderCairoMask:function(a){},__renderCanvas:function(a){if((null==this.get_mask()||0<this.get_mask().get_width()&&0<this.get_mask().get_height())&&!(null==this.opaqueBackground&&null==this.__graphics||!this.__renderable||0>=this.__worldAlpha)){if(null!=this.opaqueBackground&&
0<this.get_width()&&0<this.get_height()){a.maskManager.pushObject(this);var b=a.context,c=this.__renderTransform;a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);c=this.opaqueBackground;b.fillStyle="rgb("+(c>>>16&255)+","+(c>>>8&255)+","+(c&255)+")";b.fillRect(0,0,this.get_width(),this.get_height());a.maskManager.popObject(this)}if(null!=this.__graphics&&this.__renderable&&!(0>=this.__worldAlpha)&&(b=this.__graphics,null!=b)){r.render(b,a,this.__renderTransform);
var d=b.__width,e=b.__height;if(null!=b.__canvas){var c=a.context,f=this.__scrollRect;0<d&&0<e&&(null==f||0<f.width&&0<f.height)&&(a.maskManager.pushObject(this),c.globalAlpha=this.__worldAlpha,d=b.__worldTransform,a.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty),c.drawImage(b.__canvas,0,0),a.maskManager.popObject(this))}}}},__renderCanvasMask:function(a){null!=this.__graphics&&r.renderMask(this.__graphics,a)},__renderDOM:function(a){},__renderGL:function(a){if(!(null==
this.opaqueBackground&&null==this.__graphics||!this.__renderable||0>=this.__worldAlpha)){if(null!=this.opaqueBackground&&0<this.get_width()&&0<this.get_height()){a.maskManager.pushObject(this);var b=a.gl,c=ha.__temp;c.setTo(0,0,this.get_width(),this.get_height());a.maskManager.pushRect(c,this.__renderTransform);c=this.opaqueBackground;b.__context.clearColor((c>>>16&255)/255,(c>>>8&255)/255,(c&255)/255,1);b.__context.clear(b.COLOR_BUFFER_BIT);a.maskManager.popRect();a.maskManager.popObject(this)}if(null!=
this.__graphics&&this.__renderable&&!(0>=this.__worldAlpha)){var d=this.__graphics;if(null!=d&&(r.render(d,a,this.__renderTransform),null!=d.__bitmap&&d.__visible)){var e=a.renderer,b=a.gl;a.blendModeManager.setBlendMode(this.get_blendMode());a.maskManager.pushObject(this);c=a.filterManager.pushObject(this);c.get_data().uImage0.input=d.__bitmap;c.get_data().uImage0.smoothing=a.allowSmoothing;c.get_data().uMatrix.value=e.getMatrix(d.__worldTransform);a.shaderManager.setShader(c);e=b.ARRAY_BUFFER;d=
d.__bitmap.getBuffer(b,this.__worldAlpha);b.__context.bindBuffer(e,d);var d=c.get_data().aPosition.index,e=b.FLOAT,f=ba.fromInt(0);b.__context.vertexAttribPointer(d,3,e,!1,24,f);d=c.get_data().aTexCoord.index;e=b.FLOAT;f=ba.fromInt(12);b.__context.vertexAttribPointer(d,2,e,!1,24,f);c=c.get_data().aAlpha.index;d=b.FLOAT;e=ba.fromInt(20);b.__context.vertexAttribPointer(c,1,d,!1,24,e);b.__context.drawArrays(b.TRIANGLE_STRIP,0,4);a.filterManager.popObject(this);a.maskManager.popObject(this)}}}},__setRenderDirty:function(){this.__renderDirty||
(this.__renderDirty=!0,aa.__worldRenderDirty++)},__setStageReference:function(a){this.stage=a},__setTransformDirty:function(){this.__transformDirty||(this.__transformDirty=!0,aa.__worldTransformDirty++)},__stopAllMovieClips:function(){},__update:function(a,b,c){this.__renderable=this.get_visible()&&0!=this.__scaleX&&0!=this.__scaleY&&!this.__isMask&&(null==this.parent||!this.parent.__isMask);this.__updateTransforms();b&&this.__transformDirty&&(this.__transformDirty=!1,aa.__worldTransformDirty--);
null!=c&&this.__updateMask(c);if(!a){this.__worldColorTransform.__equals(this.get_transform().get_colorTransform())||(this.__worldColorTransform=this.get_transform().get_colorTransform().__clone());a=null!=this.parent?this.parent:this.__renderParent;if(null!=a){if(this.__worldAlpha=this.get_alpha()*a.__worldAlpha,this.__worldColorTransform.__combine(a.__worldColorTransform),null==this.get_blendMode()||10==this.get_blendMode())this.__blendMode=a.__blendMode}else this.__worldAlpha=this.get_alpha();
b&&this.__renderDirty&&(this.__renderDirty=!1)}},__updateChildren:function(a){this.__renderable=this.get_visible()&&0!=this.__scaleX&&0!=this.__scaleY&&!this.__isMask&&(null==this.parent||!this.parent.__isMask);this.__worldAlpha=this.get_alpha();this.__transformDirty&&(this.__transformDirty=!1,aa.__worldTransformDirty--)},__updateMask:function(a){null!=this.__graphics&&(a.__commands.overrideMatrix(this.__worldTransform),a.__commands.append(this.__graphics.__commands),a.set___dirty(!0),a.__visible=
!0,null==a.__bounds&&(a.__bounds=new ha),this.__graphics.__getBounds(a.__bounds,Ma.__identity))},__updateTransforms:function(a){var b=null!=a;a=b?a:this.__transform;null==this.__worldTransform&&(this.__worldTransform=new Ma);null==this.__renderTransform&&(this.__renderTransform=new Ma);b||null==this.parent?(this.__worldTransform.copyFrom(a),this.__renderTransform.copyFrom(a)):(b=this.parent.__worldTransform,this.__worldTransform.a=a.a*b.a+a.b*b.c,this.__worldTransform.b=a.a*b.b+a.b*b.d,this.__worldTransform.c=
a.c*b.a+a.d*b.c,this.__worldTransform.d=a.c*b.b+a.d*b.d,this.__worldTransform.tx=a.tx*b.a+a.ty*b.c+b.tx,this.__worldTransform.ty=a.tx*b.b+a.ty*b.d+b.ty,b=this.parent.__renderTransform,this.__renderTransform.a=a.a*b.a+a.b*b.c,this.__renderTransform.b=a.a*b.b+a.b*b.d,this.__renderTransform.c=a.c*b.a+a.d*b.c,this.__renderTransform.d=a.c*b.b+a.d*b.d,this.__renderTransform.tx=a.tx*b.a+a.ty*b.c+b.tx,this.__renderTransform.ty=a.tx*b.b+a.ty*b.d+b.ty);if(null!=this.__scrollRect){b=this.__renderTransform;a=
-this.__scrollRect.x;var c=-this.__scrollRect.y;b.tx=a*b.a+c*b.c+b.tx;b.ty=a*b.b+c*b.d+b.ty}},get_alpha:function(){return this.__alpha},set_alpha:function(a){1<a&&(a=1);a==this.__alpha||this.__renderDirty||(this.__renderDirty=!0,aa.__worldRenderDirty++);return this.__alpha=a},get_blendMode:function(){return this.__blendMode},set_blendMode:function(a){null==a&&(a=10);return this.__blendMode=a},get_cacheAsBitmap:function(){return null==this.__filters?this.__cacheAsBitmap:!0},set_cacheAsBitmap:function(a){this.__renderDirty||
(this.__renderDirty=!0,aa.__worldRenderDirty++);return this.__cacheAsBitmap=a},get_cacheAsBitmapMatrix:function(){return this.__cacheAsBitmapMatrix},set_cacheAsBitmapMatrix:function(a){this.__renderDirty||(this.__renderDirty=!0,aa.__worldRenderDirty++);return this.__cacheAsBitmapMatrix=a.clone()},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(a){this.__filters=null!=a&&0<a.length?a:null;this.__renderDirty||(this.__renderDirty=!0,aa.__worldRenderDirty++);
return a},get_height:function(){var a=new ha;this.__getBounds(a,this.__transform);return a.height},set_height:function(a){var b=new ha,c=Ma.__temp;c.identity();this.__getBounds(b,c);a!=b.height?this.set_scaleY(a/b.height):this.set_scaleY(1);return a},get_loaderInfo:function(){return null!=this.stage?ia.current.__loaderInfo:null},get_mask:function(){return this.__mask},set_mask:function(a){a!=this.__mask&&(this.__transformDirty||(this.__transformDirty=!0,aa.__worldTransformDirty++),this.__renderDirty||
(this.__renderDirty=!0,aa.__worldRenderDirty++));if(null!=this.__mask){this.__mask.__isMask=!1;var b=this.__mask;b.__transformDirty||(b.__transformDirty=!0,aa.__worldTransformDirty++);b=this.__mask;b.__renderDirty||(b.__renderDirty=!0,aa.__worldRenderDirty++)}null!=a&&(a.__isMask=!0);return this.__mask=a},get_mouseX:function(){var a=null!=this.stage?this.stage.__mouseX:ia.current.stage.__mouseX,b=null!=this.stage?this.stage.__mouseY:ia.current.stage.__mouseY,c=this.__getRenderTransform(),d=c.a*c.d-
c.b*c.c;return 0==d?-c.tx:1/d*(c.c*(c.ty-b)+c.d*(a-c.tx))},get_mouseY:function(){var a=null!=this.stage?this.stage.__mouseX:ia.current.stage.__mouseX,b=null!=this.stage?this.stage.__mouseY:ia.current.stage.__mouseY,c=this.__getRenderTransform(),d=c.a*c.d-c.b*c.c;return 0==d?-c.ty:1/d*(c.a*(b-c.ty)+c.b*(c.tx-a))},get_name:function(){return this.__name},set_name:function(a){return this.__name=a},get_root:function(){return null!=this.stage?ia.current:null},get_rotation:function(){return this.__rotation},
set_rotation:function(a){if(a!=this.__rotation){this.__rotation=a;var b=Math.PI/180*this.__rotation;this.__rotationSine=Math.sin(b);this.__rotationCosine=Math.cos(b);this.__transform.a=this.__rotationCosine*this.__scaleX;this.__transform.b=this.__rotationSine*this.__scaleX;this.__transform.c=-this.__rotationSine*this.__scaleY;this.__transform.d=this.__rotationCosine*this.__scaleY;this.__transformDirty||(this.__transformDirty=!0,aa.__worldTransformDirty++)}return a},get_scaleX:function(){return this.__scaleX},
set_scaleX:function(a){if(a!=this.__scaleX)if(this.__scaleX=a,0==this.__transform.b)a==this.__transform.a||this.__transformDirty||(this.__transformDirty=!0,aa.__worldTransformDirty++),this.__transform.a=a;else{var b=this.__rotationCosine*a,c=this.__rotationSine*a;this.__transform.a==b&&this.__transform.b==c||this.__transformDirty||(this.__transformDirty=!0,aa.__worldTransformDirty++);this.__transform.a=b;this.__transform.b=c}return a},get_scaleY:function(){return this.__scaleY},set_scaleY:function(a){if(a!=
this.__scaleY)if(this.__scaleY=a,0==this.__transform.c)a==this.__transform.d||this.__transformDirty||(this.__transformDirty=!0,aa.__worldTransformDirty++),this.__transform.d=a;else{var b=-this.__rotationSine*a,c=this.__rotationCosine*a;this.__transform.d==c&&this.__transform.c==b||this.__transformDirty||(this.__transformDirty=!0,aa.__worldTransformDirty++);this.__transform.c=b;this.__transform.d=c}return a},get_scrollRect:function(){return null==this.__scrollRect?null:this.__scrollRect.clone()},set_scrollRect:function(a){a==
this.__scrollRect||this.__transformDirty||(this.__transformDirty=!0,aa.__worldTransformDirty++);return this.__scrollRect=a},get_transform:function(){null==this.__objectTransform&&(this.__objectTransform=new Fh(this));return this.__objectTransform},set_transform:function(a){if(null==a)throw new F(new Gh("Parameter transform must be non-null."));null==this.__objectTransform&&(this.__objectTransform=new Fh(this));this.__transformDirty||(this.__transformDirty=!0,aa.__worldTransformDirty++);this.__objectTransform.set_matrix(a.get_matrix());
this.__objectTransform.set_colorTransform(a.get_colorTransform().__clone());return this.__objectTransform},get_visible:function(){return this.__visible},set_visible:function(a){a==this.__visible||this.__renderDirty||(this.__renderDirty=!0,aa.__worldRenderDirty++);return this.__visible=a},get_width:function(){var a=new ha;this.__getBounds(a,this.__transform);return a.width},set_width:function(a){var b=new ha,c=Ma.__temp;c.identity();this.__getBounds(b,c);a!=b.width?this.set_scaleX(a/b.width):this.set_scaleX(1);
return a},get_x:function(){return this.__transform.tx},set_x:function(a){a==this.__transform.tx||this.__transformDirty||(this.__transformDirty=!0,aa.__worldTransformDirty++);return this.__transform.tx=a},get_y:function(){return this.__transform.ty},set_y:function(a){a==this.__transform.ty||this.__transformDirty||(this.__transformDirty=!0,aa.__worldTransformDirty++);return this.__transform.ty=a},__class__:aa,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",
get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",set_transform:"set_transform",get_transform:"get_transform",set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_rotation:"set_rotation",get_rotation:"get_rotation",get_root:"get_root",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_mask:"set_mask",get_mask:"get_mask",get_loaderInfo:"get_loaderInfo",
set_height:"set_height",get_height:"get_height",set_filters:"set_filters",get_filters:"get_filters",set_cacheAsBitmapMatrix:"set_cacheAsBitmapMatrix",get_cacheAsBitmapMatrix:"get_cacheAsBitmapMatrix",set_cacheAsBitmap:"set_cacheAsBitmap",get_cacheAsBitmap:"get_cacheAsBitmap",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha"}});var Ya=function(){aa.call(this);this.doubleClickEnabled=!1;this.mouseEnabled=!0;this.__tabEnabled=this.needsSoftKeyboard=
!1;this.tabIndex=-1};k["openfl.display.InteractiveObject"]=Ya;Ya.__name__=["openfl","display","InteractiveObject"];Ya.__super__=aa;Ya.prototype=t(aa.prototype,{doubleClickEnabled:null,focusRect:null,mouseEnabled:null,needsSoftKeyboard:null,softKeyboardInputAreaOfInterest:null,tabIndex:null,__tabEnabled:null,requestSoftKeyboard:function(){ia.notImplemented({fileName:"InteractiveObject.hx",lineNumber:42,className:"openfl.display.InteractiveObject",methodName:"requestSoftKeyboard"});return!1},__getInteractive:function(a){null!=
a&&(a.push(this),null!=this.parent&&this.parent.__getInteractive(a));return!0},__hitTest:function(a,b,c,d,e,f){return!f.get_visible()||this.__isMask||e&&!this.mouseEnabled?!1:aa.prototype.__hitTest.call(this,a,b,c,d,e,f)},get_tabEnabled:function(){return this.__tabEnabled},set_tabEnabled:function(a){return this.__tabEnabled=a},__class__:Ya,__properties__:t(aa.prototype.__properties__,{set_tabEnabled:"set_tabEnabled",get_tabEnabled:"get_tabEnabled"})});var Nb=function(){Ya.call(this);this.mouseChildren=
!0;this.__children=[];this.__removedChildren=D.toObjectVector(null)};k["openfl.display.DisplayObjectContainer"]=Nb;Nb.__name__=["openfl","display","DisplayObjectContainer"];Nb.__super__=Ya;Nb.prototype=t(Ya.prototype,{mouseChildren:null,tabChildren:null,__removedChildren:null,addChild:function(a){return this.addChildAt(a,this.get_numChildren())},addChildAt:function(a,b){if(b>this.__children.length||0>b)throw new F("Invalid index position "+b);if(a.parent==this)this.__children[b]!=a&&(W.remove(this.__children,
a),this.__children.splice(b,0,a));else{null!=a.parent&&a.parent.removeChild(a);this.__children.splice(b,0,a);a.parent=this;var c=null!=this.stage&&null==a.stage;c&&this.__setStageReference(this.stage);a.__transformDirty||(a.__transformDirty=!0,aa.__worldTransformDirty++);a.__renderDirty||(a.__renderDirty=!0,aa.__worldRenderDirty++);this.__renderDirty||(this.__renderDirty=!0,aa.__worldRenderDirty++);var d=new J("added",!0);d.target=a;a.__dispatchEvent(d);c&&a.__dispatchChildren(new J("addedToStage",
!1,!1))}return a},areInaccessibleObjectsUnderPoint:function(a){return!1},contains:function(a){for(;a!=this&&null!=a;)a=a.parent;return a==this},getChildAt:function(a){return 0<=a&&a<this.__children.length?this.__children[a]:null},getChildByName:function(a){for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;if(d.get_name()==a)return d}return null},getChildIndex:function(a){for(var b=0,c=this.__children.length;b<c;){var d=b++;if(this.__children[d]==a)return d}return-1},getObjectsUnderPoint:function(a){var b=
[];this.__hitTest(a.x,a.y,!1,b,!1,this);b.reverse();return b},removeChild:function(a){null!=a&&a.parent==this&&(a.__transformDirty||(a.__transformDirty=!0,aa.__worldTransformDirty++),a.__renderDirty||(a.__renderDirty=!0,aa.__worldRenderDirty++),this.__renderDirty||(this.__renderDirty=!0,aa.__worldRenderDirty++),a.__dispatchEvent(new J("removed",!0)),null!=this.stage&&(null!=a.stage&&this.stage.get_focus()==a&&this.stage.set_focus(null),a.__dispatchChildren(new J("removedFromStage",!1,!1)),a.__setStageReference(null)),
a.parent=null,W.remove(this.__children,a),this.__removedChildren.push(a),a.__transformDirty||(a.__transformDirty=!0,aa.__worldTransformDirty++));return a},removeChildAt:function(a){return 0<=a&&a<this.__children.length?this.removeChild(this.__children[a]):null},removeChildren:function(a,b){null==b&&(b=2147483647);null==a&&(a=0);if(2147483647==b&&(b=this.__children.length-1,0>b))return;if(!(a>this.__children.length-1)){if(b<a||0>a||b>this.__children.length)throw new F(new Hh("The supplied index is out of bounds."));
for(var c=b-a;0<=c;)this.removeChildAt(a),--c}},resolve:function(a){if(null==this.__children)return null;for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;if(d.get_name()==a)return d}return null},setChildIndex:function(a,b){0<=b&&b<=this.__children.length&&a.parent==this&&(W.remove(this.__children,a),this.__children.splice(b,0,a))},stopAllMovieClips:function(){this.__stopAllMovieClips()},swapChildren:function(a,b){if(a.parent==this&&b.parent==this){var c=this.__children.indexOf(a),d=this.__children.indexOf(b);
this.__children[c]=b;this.__children[d]=a}},swapChildrenAt:function(a,b){var c=this.__children[a];this.__children[a]=this.__children[b];this.__children[b]=c},__dispatchChildren:function(a){var b=this.__dispatchEvent(a);if(b&&null!=this.__children)for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;a.target=e;if(!e.__dispatchChildren(a))return!1}return b},__enterFrame:function(a){for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__enterFrame(a)}},__getBounds:function(a,b){Ya.prototype.__getBounds.call(this,
a,b);if(0!=this.__children.length){null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;0!=e.__scaleX&&0!=e.__scaleY&&e.__getBounds(a,e.__worldTransform)}null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))}},__getRenderBounds:function(a,b){if(null!=this.__scrollRect)Ya.prototype.__getRenderBounds.call(this,a,b);else if(Ya.prototype.__getBounds.call(this,a,b),0!=this.__children.length){null!=b&&(this.__updateTransforms(b),
this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;0==e.__scaleX||0==e.__scaleY||e.__isMask||e.__getRenderBounds(a,e.__worldTransform)}null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))}},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(null!=this.__scrollRect){var p=Ka.__temp;p.setTo(a,b);var g=this.__getRenderTransform(),
m=g.a*g.d-g.b*g.c;if(0==m)p.x=-g.tx,p.y=-g.ty;else{var h=1/m*(g.c*(g.ty-p.y)+g.d*(p.x-g.tx));p.y=1/m*(g.a*(p.y-g.ty)+g.b*(g.tx-p.x));p.x=h}if(!this.__scrollRect.containsPoint(p))return!1}p=this.__children.length;if(e)if(null==d||!this.mouseChildren)for(;0<=--p;){if(this.__children[p].__hitTest(a,b,c,null,!0,this.__children[p]))return null!=d&&d.push(f),!0}else{if(null!=d){e=d.length;for(m=g=!1;0<=--p&&!(((g=this.__children[p].__getInteractive(null))||this.mouseEnabled&&!m)&&this.__children[p].__hitTest(a,
b,c,d,!0,this.__children[p])&&(m=!0,g)););if(m)return d.splice(e,0,f),!0}}else for(;0<=--p;)this.__children[p].__hitTest(a,b,c,d,!1,this.__children[p]);return!1},__hitTestMask:function(a,b){for(var c=this.__children.length;0<=--c;)if(this.__children[c].__hitTestMask(a,b))return!0;return!1},__readGraphicsData:function(a,b){Ya.prototype.__readGraphicsData.call(this,a,b);if(b)for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;e.__readGraphicsData(a,b)}},__renderCairo:function(a){},__renderCairoMask:function(a){},
__renderCanvas:function(a){if(!(!this.__renderable||0>=this.__worldAlpha||null!=this.get_mask()&&(0>=this.get_mask().get_width()||0>=this.get_mask().get_height()))){Ya.prototype.__renderCanvas.call(this,a);a.maskManager.pushObject(this);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCanvas(a)}b=0;for(c=this.__removedChildren;b<c.get_length();)d=c.get(b),++b,null==d.stage&&d.__cleanup();this.__removedChildren.set_length(0);a.maskManager.popObject(this)}},__renderCanvasMask:function(a){null!=
this.__graphics&&r.renderMask(this.__graphics,a);var b=new ha;this.__getBounds(b,this.__transform);a.context.rect(0,0,b.width,b.height)},__renderDOM:function(a){},__renderGL:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){Ya.prototype.__renderGL.call(this,a);a.maskManager.pushObject(this);a.filterManager.pushObject(this);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderGL(a)}b=0;for(c=this.__removedChildren;b<c.get_length();)d=c.get(b),++b,null==d.stage&&d.__cleanup();
this.__removedChildren.set_length(0);a.filterManager.popObject(this);a.maskManager.popObject(this)}},__setStageReference:function(a){Ya.prototype.__setStageReference.call(this,a);if(null!=this.__children)for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__setStageReference(a)}},__stopAllMovieClips:function(){for(var a=0,b=this.__children;a<b.length;){var c=b[a];++a;c.__stopAllMovieClips()}},__update:function(a,b,c){Ya.prototype.__update.call(this,a,b,c);if(b){b=0;for(var d=this.__children;b<
d.length;){var e=d[b];++b;e.__update(a,!0,c)}}},__updateChildren:function(a){Ya.prototype.__updateChildren.call(this,a);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__update(a,!0)}},get_numChildren:function(){return this.__children.length},__class__:Nb,__properties__:t(Ya.prototype.__properties__,{get_numChildren:"get_numChildren"})});var wa=function(){Nb.call(this);this.buttonMode=!1;this.useHandCursor=!0};k["openfl.display.Sprite"]=wa;wa.__name__=["openfl","display","Sprite"];wa.__super__=
Nb;wa.prototype=t(Nb.prototype,{buttonMode:null,dropTarget:null,hitArea:null,useHandCursor:null,startDrag:function(a,b){null==a&&(a=!1);null!=this.stage&&this.stage.__startDrag(this,a,b)},stopDrag:function(){null!=this.stage&&this.stage.__stopDrag(this)},__getCursor:function(){return this.buttonMode&&this.useHandCursor?da.POINTER:null},__hitTest:function(a,b,c,d,e,f){if(null!=this.hitArea){if(!this.hitArea.mouseEnabled)return this.hitArea.mouseEnabled=!0,a=this.hitArea.__hitTest(a,b,c,null,!0,f),
this.hitArea.mouseEnabled=!1,a&&(d[d.length]=f),a}else{if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(null!=this.__scrollRect){var p=Ka.__temp;p.setTo(a,b);var g=this.__getRenderTransform(),m=g.a*g.d-g.b*g.c;if(0==m)p.x=-g.tx,p.y=-g.ty;else{var h=1/m*(g.c*(g.ty-p.y)+g.d*(p.x-g.tx));p.y=1/m*(g.a*(p.y-g.ty)+g.b*(g.tx-p.x));p.x=h}if(!this.__scrollRect.containsPoint(p))return!1}if(Nb.prototype.__hitTest.call(this,
a,b,c,d,e,f))return e;if((!e||this.mouseEnabled)&&null!=this.__graphics&&this.__graphics.__hitTest(a,b,c,this.__getRenderTransform()))return null!=d&&d.push(f),!0}return!1},__hitTestMask:function(a,b){return Nb.prototype.__hitTestMask.call(this,a,b)||null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getRenderTransform())?!0:!1},get_graphics:function(){null==this.__graphics&&(this.__graphics=new vg(this));return this.__graphics},get_tabEnabled:function(){return this.__tabEnabled?!0:this.buttonMode},
__class__:wa,__properties__:t(Nb.prototype.__properties__,{get_graphics:"get_graphics"})});var xf=function(){wa.call(this);var a=new xd(this);a.setPosition(Math.floor((xd.PIXEL_CANVAS_WIDTH-1+1)*Math.random()),Math.floor((xd.PIXEL_CANVAS_HEIGHT-1+1)*Math.random()));var b=new Ba(".*([xy])=([0-9]+).*([xy])=([0-9]+)","");if(b.match(window.location.hash)){var c=null,d=null;"x"==b.matched(1)?c=q.parseInt(b.matched(2)):d=q.parseInt(b.matched(2));"x"==b.matched(3)?c=q.parseInt(b.matched(4)):d=q.parseInt(b.matched(4));
null!=c&&null!=d&&a.setPosition(c,d)}a=window.document.createElement("div");window.document.body.appendChild(a);a.innerHTML='\n            <div style="position:fixed;bottom:0px;right:0px;text-align:center;background:rgba(255,255,255,0.5);border-radius:0.1em;">\n                Version '+ia.application.config.version+'.\n                Built with Away3D + OpenFL + Haxe. <a href="https://github.com/chfoo/plac3d">More info.</a>\n            </div>\n        '};k["plac3d.Main"]=xf;xf.__name__=["plac3d",
"Main"];xf.__super__=wa;xf.prototype=t(wa.prototype,{__class__:xf});var zh=function(a){a.addChild(this);xf.call(this);this.dispatchEvent(new J("addedToStage",!1,!1))};k.DocumentClass=zh;zh.__name__=["DocumentClass"];zh.__super__=xf;zh.prototype=t(xf.prototype,{__class__:zh});var Ba=function(a,b){this.r=new RegExp(a,b.split("u").join(""))};k.EReg=Ba;Ba.__name__=["EReg"];Ba.prototype={r:null,match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},
matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new F("EReg::matched");},matchedRight:function(){if(null==this.r.m)throw new F("No string matched");var a=this.r.m.index+this.r.m[0].length;return W.substr(this.r.s,a,this.r.s.length-a)},matchedPos:function(){if(null==this.r.m)throw new F("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;var d=this.r;b=0>c?a:W.substr(a,
0,b+c);this.r.m=d.exec(b);if(b=null!=this.r.m)this.r.s=a;return b}if(d=this.match(0>c?W.substr(a,b,null):W.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;return d},split:function(a){return a.replace(this.r,"#__delim__#").split("#__delim__#")},map:function(a,b){for(var c=0,d="";!(c>=a.length);){if(!this.matchSub(a,c)){d+=q.string(W.substr(a,c,null));break}var e=this.matchedPos(),d=d+q.string(W.substr(a,c,e.pos-c)),d=d+q.string(b(this));0==e.len?(d+=q.string(W.substr(a,e.pos,1)),c=e.pos+1):c=e.pos+e.len;
if(!this.r.global)break}!this.r.global&&0<c&&c<a.length&&(d+=q.string(W.substr(a,c,null)));return d},__class__:Ba};var W=function(){};k.HxOverrides=W;W.__name__=["HxOverrides"];W.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],
b[2]);default:throw new F("Invalid date format : "+a);}};W.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};W.substr=function(a,b,c){if(null==c)c=a.length;else if(0>c)if(0==b)c=a.length+c;else return"";return a.substr(b,c)};W.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};W.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Ih=function(){};k.Lambda=Ih;Ih.__name__=
["Lambda"];Ih.array=function(a){var b=[];for(a=an(a)();a.hasNext();){var c=a.next();b.push(c)}return b};var hd=function(){this.length=0};k.List=hd;hd.__name__=["List"];hd.prototype={h:null,q:null,length:null,add:function(a){a=new ak(a,null);null==this.h?this.h=a:this.q.next=a;this.q=a;this.length++},pop:function(){if(null==this.h)return null;var a=this.h.item;this.h=this.h.next;null==this.h&&(this.q=null);this.length--;return a},clear:function(){this.q=this.h=null;this.length=0},iterator:function(){return new bk(this.h)},
__class__:hd};var ak=function(a,b){this.item=a;this.next=b};k["_List.ListNode"]=ak;ak.__name__=["_List","ListNode"];ak.prototype={item:null,next:null,__class__:ak};var bk=function(a){this.head=a};k["_List.ListIterator"]=bk;bk.__name__=["_List","ListIterator"];bk.prototype={head:null,hasNext:function(){return null!=this.head},next:function(){var a=this.head.item;this.head=this.head.next;return a},__class__:bk};var Be=function(){};k.ManifestResources=Be;Be.__name__=["ManifestResources"];Be.init=function(a){Be.preloadLibraries=
[];Be.preloadLibraryNames=[];var b=null;null!=a&&Object.prototype.hasOwnProperty.call(a,"assetsPrefix")&&(b=H.field(a,"assetsPrefix"));null==b&&(b="");Q.defaultRootPath=b;a=hb.parse('{"name":null,"assets":"aoy4:pathy26:assets%2Fskybox_envmap.pngy4:sizei13958y4:typey5:IMAGEy2:idR1y7:preloadtgoR0y21:assets%2Fcontrols.pngR2i13800R3R4R5R7R6tgoR0y24:assets%2Fplacements.dataR2i2000000R3y6:BINARYR5R8R6tgh","version":2,"libraryArgs":[],"libraryType":null}',b);a=Hb.fromManifest(a);Q.registerLibrary("default",
a);a=Q.getLibrary("default");null!=a?Be.preloadLibraries.push(a):Be.preloadLibraryNames.push("default")};Math.__name__=["Math"];var fe=function(){};k.Random=fe;fe.__name__=["Random"];fe.bool=function(){return.5>Math.random()};fe["int"]=function(a,b){return a+Math.floor((b-a+1)*Math.random())};fe["float"]=function(a,b){return a+(b-a)*Math.random()};fe.string=function(a,b){null==b&&(b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789");for(var c="",d=0;d<a;)d++,c+=b.charAt(Math.floor((b.length-
1+1)*Math.random()));return c};fe.date=function(a,b){var c=a.getTime(),c=c+(b.getTime()-c)*Math.random();return new Date(c)};fe.fromArray=function(a){return null!=a&&0<a.length?a[Math.floor((a.length-1+1)*Math.random())]:null};fe.shuffle=function(a){if(null!=a)for(var b=0,c=a.length;b<c;){var d=b++,e=Math.floor((a.length-1+1)*Math.random()),f=a[d];a[d]=a[e];a[e]=f}return a};fe.fromIterable=function(a){return null!=a?(a=Ih.array(a),null!=a&&0<a.length?a[Math.floor((a.length-1+1)*Math.random())]:null):
null};fe.enumConstructor=function(a){return null!=a?(a=a.__empty_constructs__,null!=a&&0<a.length?a[Math.floor((a.length-1+1)*Math.random())]:null):null};var H=function(){};k.Reflect=H;H.__name__=["Reflect"];H.field=function(a,b){try{return a[b]}catch(c){return Aa.lastException=c,null}};H.getProperty=function(a,b){var c;if(null==a)return null;var d;d=a.__properties__?c=a.__properties__["get_"+b]:!1;return d?a[c]():a[b]};H.setProperty=function(a,b,c){var d,e;e=a.__properties__?d=a.__properties__["set_"+
b]:!1;if(e)a[d](c);else a[b]=c};H.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};H.isFunction=function(a){return"function"==typeof a?!(a.__name__||a.__ename__):!1};H.compare=function(a,b){return a==b?0:a>b?1:-1};H.compareMethods=function(a,b){return a==b?!0:H.isFunction(a)&&H.isFunction(b)?a.scope==b.scope&&a.method==b.method?null!=a.method:!1:!1};H.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,
b))return!1;delete a[b];return!0};H.makeVarArgs=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a(b)}};var q=function(){};k.Std=q;q.__name__=["Std"];q.string=function(a){return y.__string_rec(a,"")};q.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=W.cca(a,1)&&88!=W.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};var Jh=function(){this.b=""};k.StringBuf=Jh;Jh.__name__=["StringBuf"];Jh.prototype={b:null,__class__:Jh};var fa=function(){};k.StringTools=fa;fa.__name__=
["StringTools"];fa.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");return b?a.split('"').join("&quot;").split("'").join("&#039;"):a};fa.startsWith=function(a,b){return a.length>=b.length?W.substr(a,0,b.length)==b:!1};fa.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c?W.substr(a,d-c,c)==b:!1};fa.isSpace=function(a,b){var c=W.cca(a,b);return 8<c&&14>c?!0:32==c};fa.ltrim=function(a){for(var b=a.length,c=0;c<b&&fa.isSpace(a,c);)++c;return 0<
c?W.substr(a,c,b-c):a};fa.rtrim=function(a){for(var b=a.length,c=0;c<b&&fa.isSpace(a,b-c-1);)++c;return 0<c?W.substr(a,0,b-c):a};fa.trim=function(a){return fa.ltrim(fa.rtrim(a))};fa.replace=function(a,b,c){return a.split(b).join(c)};fa.hex=function(a,b){for(var c="";c="0123456789ABCDEF".charAt(a&15)+c,a>>>=4,0<a;);if(null!=b)for(;c.length<b;)c="0"+c;return c};var xa=k.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};xa.TNull=
["TNull",0];xa.TNull.toString=O;xa.TNull.__enum__=xa;xa.TInt=["TInt",1];xa.TInt.toString=O;xa.TInt.__enum__=xa;xa.TFloat=["TFloat",2];xa.TFloat.toString=O;xa.TFloat.__enum__=xa;xa.TBool=["TBool",3];xa.TBool.toString=O;xa.TBool.__enum__=xa;xa.TObject=["TObject",4];xa.TObject.toString=O;xa.TObject.__enum__=xa;xa.TFunction=["TFunction",5];xa.TFunction.toString=O;xa.TFunction.__enum__=xa;xa.TClass=function(a){a=["TClass",6,a];a.__enum__=xa;a.toString=O;return a};xa.TEnum=function(a){a=["TEnum",7,a];a.__enum__=
xa;a.toString=O;return a};xa.TUnknown=["TUnknown",8];xa.TUnknown.toString=O;xa.TUnknown.__enum__=xa;xa.__empty_constructs__=[xa.TNull,xa.TInt,xa.TFloat,xa.TBool,xa.TObject,xa.TFunction,xa.TUnknown];var sa=function(){};k.Type=sa;sa.__name__=["Type"];sa.getSuperClass=function(a){return a.__super__};sa.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};sa.getEnumName=function(a){return a.__ename__.join(".")};sa.resolveClass=function(a){a=k[a];return null!=a&&a.__name__?a:null};sa.resolveEnum=
function(a){a=k[a];return null!=a&&a.__ename__?a:null};sa.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);case 9:return new a(b[0],b[1],
b[2],b[3],b[4],b[5],b[6],b[7],b[8]);case 10:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9]);case 11:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10]);case 12:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11]);case 13:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12]);case 14:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13]);default:throw new F("Too many arguments");}};
sa.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};sa.createEnum=function(a,b,c){var d=H.field(a,b);if(null==d)throw new F("No such constructor "+b);if(H.isFunction(d)){if(null==c)throw new F("Constructor "+b+" need parameters");return d.apply(a,c)}if(null!=c&&0!=c.length)throw new F("Constructor "+b+" does not need parameters");return d};sa.getInstanceFields=function(a){var b=[],c;for(c in a.prototype)b.push(c);W.remove(b,"__class__");W.remove(b,"__properties__");
return b};sa["typeof"]=function(a){switch(typeof a){case "boolean":return xa.TBool;case "function":return a.__name__||a.__ename__?xa.TObject:xa.TFunction;case "number":return Math.ceil(a)==a%2147483648?xa.TInt:xa.TFloat;case "object":if(null==a)return xa.TNull;var b=a.__enum__;if(null!=b)return xa.TEnum(b);a=y.getClass(a);return null!=a?xa.TClass(a):xa.TObject;case "string":return xa.TClass(String);case "undefined":return xa.TNull;default:return xa.TUnknown}};var Z={};k["_UInt.UInt_Impl_"]=Z;Z.__name__=
["_UInt","UInt_Impl_"];Z.gt=function(a,b){var c=0>a;return c!=0>b?c:a>b};Z.gte=function(a,b){var c=0>a;return c!=0>b?c:a>=b};Z.toFloat=function(a){return 0>a?4294967296+a:a+0};var Kh=function(){};k["away3d.Away3D"]=Kh;Kh.__name__=["away3d","Away3D"];var Gl=function(){};k["away3d.animators.IAnimationSet"]=Gl;Gl.__name__=["away3d","animators","IAnimationSet"];Gl.prototype={get_usesCPU:null,hasAnimation:null,getAnimation:null,resetGPUCompatibility:null,cancelGPUCompatibility:null,getAGALVertexCode:null,
getAGALFragmentCode:null,getAGALUVCode:null,doneAGALCode:null,activate:null,deactivate:null,__class__:Gl,__properties__:{get_usesCPU:"get_usesCPU"}};var Hl=function(){};k["away3d.animators.IAnimator"]=Hl;Hl.__name__=["away3d","animators","IAnimator"];Hl.prototype={get_animationSet:null,setRenderState:null,testGPUCompatibility:null,addOwner:null,removeOwner:null,getAnimationState:null,getAnimationStateByName:null,clone:null,dispose:null,__class__:Hl,__properties__:{get_animationSet:"get_animationSet"}};
var $e=function(a){this._profile=a};k["away3d.materials.compilation.ShaderRegisterCache"]=$e;$e.__name__=["away3d","materials","compilation","ShaderRegisterCache"];$e.prototype={_fragmentTempCache:null,_vertexTempCache:null,_varyingCache:null,_fragmentConstantsCache:null,_vertexConstantsCache:null,_textureCache:null,_vertexAttributesCache:null,_vertexConstantOffset:null,_vertexAttributesOffset:null,_varyingsOffset:null,_fragmentConstantOffset:null,_fragmentOutputRegister:null,_vertexOutputRegister:null,
_numUsedVertexConstants:null,_numUsedFragmentConstants:null,_numUsedStreams:null,_numUsedTextures:null,_numUsedVaryings:null,_profile:null,reset:function(){this._fragmentTempCache=new ic("ft",8,!1);this._vertexTempCache=new ic("vt",8,!1);this._varyingCache=new ic("v",8);this._textureCache=new ic("fs",8);this._vertexAttributesCache=new ic("va",8);this._fragmentConstantsCache=new ic("fc",28);this._vertexConstantsCache=new ic("vc",128);this._fragmentOutputRegister=new Wb("oc",-1);this._vertexOutputRegister=
new Wb("op",-1);for(var a=this._numUsedFragmentConstants=this._numUsedVaryings=this._numUsedTextures=this._numUsedStreams=this._numUsedVertexConstants=0,b=this._vertexAttributesOffset;a<b;)a++,this.getFreeVertexAttribute();a=0;for(b=this._vertexConstantOffset;a<b;)a++,this.getFreeVertexConstant();a=0;for(b=this._varyingsOffset;a<b;)a++,this.getFreeVarying();a=0;for(b=this._fragmentConstantOffset;a<b;)a++,this.getFreeFragmentConstant()},dispose:function(){this._fragmentTempCache.dispose();this._vertexTempCache.dispose();
this._varyingCache.dispose();this._fragmentConstantsCache.dispose();this._vertexAttributesCache.dispose();this._vertexOutputRegister=this._fragmentOutputRegister=this._vertexAttributesCache=this._fragmentConstantsCache=this._varyingCache=this._vertexTempCache=this._fragmentTempCache=null},addFragmentTempUsages:function(a,b){this._fragmentTempCache.addUsage(a,b)},removeFragmentTempUsage:function(a){this._fragmentTempCache.removeUsage(a)},addVertexTempUsages:function(a,b){this._vertexTempCache.addUsage(a,
b)},removeVertexTempUsage:function(a){this._vertexTempCache.removeUsage(a)},getFreeFragmentVectorTemp:function(){return this._fragmentTempCache.requestFreeVectorReg()},getFreeFragmentSingleTemp:function(){return this._fragmentTempCache.requestFreeRegComponent()},getFreeVarying:function(){var a=this._varyingCache.requestFreeVectorReg();++this._numUsedVaryings;return a},getFreeFragmentConstant:function(){var a=this._fragmentConstantsCache.requestFreeVectorReg();++this._numUsedFragmentConstants;return a},
getFreeVertexConstant:function(){var a=this._vertexConstantsCache.requestFreeVectorReg();++this._numUsedVertexConstants;return a},getFreeVertexVectorTemp:function(){return this._vertexTempCache.requestFreeVectorReg()},getFreeVertexSingleTemp:function(){return this._vertexTempCache.requestFreeRegComponent()},getFreeVertexAttribute:function(){var a=this._vertexAttributesCache.requestFreeVectorReg();++this._numUsedStreams;return a},getFreeTextureReg:function(){var a=this._textureCache.requestFreeVectorReg();
++this._numUsedTextures;return a},get_vertexConstantOffset:function(){return this._vertexConstantOffset},set_vertexConstantOffset:function(a){return this._vertexConstantOffset=a},get_vertexAttributesOffset:function(){return this._vertexAttributesOffset},set_vertexAttributesOffset:function(a){return this._vertexAttributesOffset=a},get_varyingsOffset:function(){return this._varyingsOffset},set_varyingsOffset:function(a){return this._varyingsOffset=a},get_fragmentConstantOffset:function(){return this._fragmentConstantOffset},
set_fragmentConstantOffset:function(a){return this._fragmentConstantOffset=a},get_fragmentOutputRegister:function(){return this._fragmentOutputRegister},get_numUsedVertexConstants:function(){return this._numUsedVertexConstants},get_numUsedFragmentConstants:function(){return this._numUsedFragmentConstants},get_numUsedStreams:function(){return this._numUsedStreams},get_numUsedTextures:function(){return this._numUsedTextures},get_numUsedVaryings:function(){return this._numUsedVaryings},__class__:$e,
__properties__:{get_numUsedVaryings:"get_numUsedVaryings",get_numUsedTextures:"get_numUsedTextures",get_numUsedStreams:"get_numUsedStreams",get_numUsedFragmentConstants:"get_numUsedFragmentConstants",get_numUsedVertexConstants:"get_numUsedVertexConstants",get_fragmentOutputRegister:"get_fragmentOutputRegister",set_fragmentConstantOffset:"set_fragmentConstantOffset",get_fragmentConstantOffset:"get_fragmentConstantOffset",set_varyingsOffset:"set_varyingsOffset",get_varyingsOffset:"get_varyingsOffset",
set_vertexAttributesOffset:"set_vertexAttributesOffset",get_vertexAttributesOffset:"get_vertexAttributesOffset",set_vertexConstantOffset:"set_vertexConstantOffset",get_vertexConstantOffset:"get_vertexConstantOffset"}};var ck=function(a){this.fragmentConstantData=D.toFloatVector(null);this.vertexConstantData=D.toFloatVector(null);this.indexDictionary=new ac;this._profile=a};k["away3d.animators.data.AnimationRegisterCache"]=ck;ck.__name__=["away3d","animators","data","AnimationRegisterCache"];ck.__super__=
$e;ck.prototype=t($e.prototype,{positionAttribute:null,uvAttribute:null,positionTarget:null,scaleAndRotateTarget:null,velocityTarget:null,vertexTime:null,vertexLife:null,vertexZeroConst:null,vertexOneConst:null,vertexTwoConst:null,uvTarget:null,colorAddTarget:null,colorMulTarget:null,colorAddVary:null,colorMulVary:null,uvVar:null,rotationRegisters:null,needFragmentAnimation:null,needUVAnimation:null,sourceRegisters:null,targetRegisters:null,indexDictionary:null,hasUVNode:null,needVelocity:null,hasBillboard:null,
hasColorMulNode:null,hasColorAddNode:null,reset:function(){$e.prototype.reset.call(this);this.rotationRegisters=D.toObjectVector(null);this.positionAttribute=this.getRegisterFromString(this.sourceRegisters.get(0));this.scaleAndRotateTarget=this.getRegisterFromString(this.targetRegisters.get(0));this.addVertexTempUsages(this.scaleAndRotateTarget,1);for(var a=1,b=this.targetRegisters.get_length();a<b;){var c=a++;this.rotationRegisters.push(this.getRegisterFromString(this.targetRegisters.get(c)));this.addVertexTempUsages(this.rotationRegisters.get(c-
1),1)}this.scaleAndRotateTarget=new Wb(this.scaleAndRotateTarget.get_regName(),this.scaleAndRotateTarget.get_index());this.vertexZeroConst=this.getFreeVertexConstant();this.vertexZeroConst=new Wb(this.vertexZeroConst.get_regName(),this.vertexZeroConst.get_index(),0);this.vertexOneConst=new Wb(this.vertexZeroConst.get_regName(),this.vertexZeroConst.get_index(),1);this.vertexTwoConst=new Wb(this.vertexZeroConst.get_regName(),this.vertexZeroConst.get_index(),2);this.positionTarget=this.getFreeVertexVectorTemp();
this.addVertexTempUsages(this.positionTarget,1);this.positionTarget=new Wb(this.positionTarget.get_regName(),this.positionTarget.get_index());this.needVelocity?(this.velocityTarget=this.getFreeVertexVectorTemp(),this.addVertexTempUsages(this.velocityTarget,1),this.velocityTarget=new Wb(this.velocityTarget.get_regName(),this.velocityTarget.get_index()),this.vertexTime=new Wb(this.velocityTarget.get_regName(),this.velocityTarget.get_index(),3),this.vertexLife=new Wb(this.positionTarget.get_regName(),
this.positionTarget.get_index(),3)):(a=this.getFreeVertexVectorTemp(),this.addVertexTempUsages(a,1),this.vertexTime=new Wb(a.get_regName(),a.get_index(),0),this.vertexLife=new Wb(a.get_regName(),a.get_index(),1))},setUVSourceAndTarget:function(a,b){this.uvVar=this.getRegisterFromString(b);this.uvAttribute=this.getRegisterFromString(a);this.uvTarget=new Wb(this.positionTarget.get_regName(),this.positionTarget.get_index())},setRegisterIndex:function(a,b,c){var d=null!=this.indexDictionary.h.__keys__[a.__id__]?
this.indexDictionary.h[a.__id__]:D.toIntVector(null,8,!0);d.set(b,c);this.indexDictionary.set(a,d)},getRegisterIndex:function(a,b){return this.indexDictionary.h[a.__id__].get(b)},getInitCode:function(){for(var a="",b=0,c=this.sourceRegisters.get_length();b<c;)var d=b++,a=a+("mov "+this.targetRegisters.get(d)+","+this.sourceRegisters.get(d)+"\n");a+="mov "+q.string(this.positionTarget)+".xyz,"+this.vertexZeroConst.toString()+"\n";this.needVelocity&&(a+="mov "+q.string(this.velocityTarget)+".xyz,"+
this.vertexZeroConst.toString()+"\n");return a},getCombinationCode:function(){return"add "+q.string(this.scaleAndRotateTarget)+".xyz,"+q.string(this.scaleAndRotateTarget)+".xyz,"+q.string(this.positionTarget)+".xyz\n"},initColorRegisters:function(){var a="";this.hasColorMulNode&&(this.colorMulTarget=this.getFreeVertexVectorTemp(),this.addVertexTempUsages(this.colorMulTarget,1),this.colorMulVary=this.getFreeVarying(),a+="mov "+q.string(this.colorMulTarget)+","+q.string(this.vertexOneConst)+"\n");this.hasColorAddNode&&
(this.colorAddTarget=this.getFreeVertexVectorTemp(),this.addVertexTempUsages(this.colorAddTarget,1),this.colorAddVary=this.getFreeVarying(),a+="mov "+q.string(this.colorAddTarget)+","+q.string(this.vertexZeroConst)+"\n");return a},getColorPassCode:function(){var a="";this.needFragmentAnimation&&(this.hasColorAddNode||this.hasColorMulNode)&&(this.hasColorMulNode&&(a+="mov "+q.string(this.colorMulVary)+","+q.string(this.colorMulTarget)+"\n"),this.hasColorAddNode&&(a+="mov "+q.string(this.colorAddVary)+
","+q.string(this.colorAddTarget)+"\n"));return a},getColorCombinationCode:function(a){var b="";this.needFragmentAnimation&&(this.hasColorAddNode||this.hasColorMulNode)&&(a=this.getRegisterFromString(a),this.addFragmentTempUsages(a,1),this.hasColorMulNode&&(b+="mul "+q.string(a)+","+q.string(a)+","+q.string(this.colorMulVary)+"\n"),this.hasColorAddNode&&(b+="add "+q.string(a)+","+q.string(a)+","+q.string(this.colorAddVary)+"\n"));return b},getRegisterFromString:function(a){var b=new Ba("([a-z]+)([\\d]+)",
"");b.match(a);return new Wb(b.matched(1),q.parseInt(b.matched(2)))},vertexConstantData:null,fragmentConstantData:null,_numVertexConstant:null,_numFragmentConstant:null,get_numVertexConstant:function(){return this._numVertexConstant},get_numFragmentConstant:function(){return this._numFragmentConstant},setDataLength:function(){this._numVertexConstant=this._numUsedVertexConstants-this._vertexConstantOffset;this._numFragmentConstant=this._numUsedFragmentConstants-this._fragmentConstantOffset;this.vertexConstantData.set_length(4*
this._numVertexConstant);this.fragmentConstantData.set_length(4*this._numFragmentConstant)},setVertexConst:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);a=4*(a-this._vertexConstantOffset);this.vertexConstantData.set(a++,b);this.vertexConstantData.set(a++,c);this.vertexConstantData.set(a++,d);this.vertexConstantData.set(a,e)},setVertexConstFromVector:function(a,b){for(var c=4*(a-this._vertexConstantOffset),d=0,e=b.get_length();d<e;){var f=d++;this.vertexConstantData.set(c++,
b.get(f))}},setVertexConstFromMatrix:function(a,b){var c=ga.RAW_DATA_CONTAINER;b.copyRawDataTo(c);var d=4*(a-this._vertexConstantOffset);this.vertexConstantData.set(d++,c.get(0));this.vertexConstantData.set(d++,c.get(4));this.vertexConstantData.set(d++,c.get(8));this.vertexConstantData.set(d++,c.get(12));this.vertexConstantData.set(d++,c.get(1));this.vertexConstantData.set(d++,c.get(5));this.vertexConstantData.set(d++,c.get(9));this.vertexConstantData.set(d++,c.get(13));this.vertexConstantData.set(d++,
c.get(2));this.vertexConstantData.set(d++,c.get(6));this.vertexConstantData.set(d++,c.get(10));this.vertexConstantData.set(d++,c.get(14));this.vertexConstantData.set(d++,c.get(3));this.vertexConstantData.set(d++,c.get(7));this.vertexConstantData.set(d++,c.get(11));this.vertexConstantData.set(d,c.get(15))},setFragmentConst:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);a=4*(a-this._fragmentConstantOffset);this.fragmentConstantData.set(a++,b);this.fragmentConstantData.set(a++,
c);this.fragmentConstantData.set(a++,d);this.fragmentConstantData.set(a,e)},__class__:ck,__properties__:t($e.prototype.__properties__,{get_numFragmentConstant:"get_numFragmentConstant",get_numVertexConstant:"get_numVertexConstant"})});var Il=function(){this.animationParticles=D.toObjectVector(null);this.previousTime=-Infinity;this.numProcessedVertices=0;this._bufferDirty=D.toBoolVector(null,8);this._bufferContext=D.toObjectVector(null,8);this._vertexBuffer=D.toObjectVector(null,8);for(var a=0;8>a;){var b=
a++;this._bufferDirty.set(b,!0)}};k["away3d.animators.data.AnimationSubGeometry"]=Il;Il.__name__=["away3d","animators","data","AnimationSubGeometry"];Il.prototype={_vertexData:null,_vertexBuffer:null,_bufferContext:null,_bufferDirty:null,_numVertices:null,_totalLenOfOneVertex:null,numProcessedVertices:null,previousTime:null,animationParticles:null,createVertexData:function(a,b){this._numVertices=a;this._totalLenOfOneVertex=b;this._vertexData=D.toFloatVector(null,a*b)},activateVertexBuffer:function(a,
b,c,d){var e=c.get_stage3DIndex();c=c.get_context3D();var f=this._vertexBuffer.get(e);if(null==f||this._bufferContext.get(e)!=c)f=this._vertexBuffer.set(e,c.createVertexBuffer(this._numVertices,this._totalLenOfOneVertex)),this._bufferContext.set(e,c),this._bufferDirty.set(e,!0);this._bufferDirty.get(e)&&(f.uploadFromVector(this._vertexData,0,this._numVertices),this._bufferDirty.set(e,!1));c.setVertexBufferAt(a,f,b,d)},dispose:function(){for(;0<this._vertexBuffer.get_length();){var a=this._vertexBuffer.pop();
null!=a&&a.dispose()}},invalidateBuffer:function(){for(var a=0;8>a;){var b=a++;this._bufferDirty.set(b,!0)}},get_vertexData:function(){return this._vertexData},get_numVertices:function(){return this._numVertices},get_totalLenOfOneVertex:function(){return this._totalLenOfOneVertex},__class__:Il,__properties__:{get_totalLenOfOneVertex:"get_totalLenOfOneVertex",get_numVertices:"get_numVertices",get_vertexData:"get_vertexData"}};var Jl=function(a,b,c,d,e){this.index=a;this.startTime=b;this.totalTime=
c+d;this.duration=c;this.delay=d;this.startVertexIndex=e.startVertexIndex;this.numVertices=e.numVertices};k["away3d.animators.data.ParticleAnimationData"]=Jl;Jl.__name__=["away3d","animators","data","ParticleAnimationData"];Jl.prototype={index:null,startTime:null,totalTime:null,duration:null,delay:null,startVertexIndex:null,numVertices:null,__class__:Jl};var Ia=function(a){null==a&&(a="null");this._originalName=this._name=a;this.updateFullPath();X.call(this)};k["away3d.library.assets.NamedAssetBase"]=
Ia;Ia.__name__=["away3d","library","assets","NamedAssetBase"];Ia.__super__=X;Ia.prototype=t(X.prototype,{_originalName:null,_namespace:null,_name:null,_id:null,_full_path:null,get_originalName:function(){return this._originalName},get_id:function(){return this._id},set_id:function(a){return this._id=a},get_name:function(){return this._name},set_name:function(a){var b=this._name;this._name=a;null==this._name&&(this._name="null");this.updateFullPath();this.hasEventListener("assetRename")&&this.dispatchEvent(new eb("assetRename",
y.__cast(this,Uc),b));return a},get_assetNamespace:function(){return this._namespace},get_assetFullPath:function(){return this._full_path},assetPathEquals:function(a,b){return this._name==a?null!=b?this._namespace==b:!0:!1},resetAssetPath:function(a,b,c){null==c&&(c=!0);this._name=null!=a?a:"null";this._namespace=null!=b?b:"default";c&&(this._originalName=this._name);this.updateFullPath()},updateFullPath:function(){this._full_path=[this._namespace,this._name]},__class__:Ia,__properties__:{get_assetFullPath:"get_assetFullPath",
get_assetNamespace:"get_assetNamespace",set_name:"set_name",get_name:"get_name",set_id:"set_id",get_id:"get_id",get_originalName:"get_originalName"}});var Uc=function(){};k["away3d.library.assets.IAsset"]=Uc;Uc.__name__=["away3d","library","assets","IAsset"];Uc.__interfaces__=[Ah];Uc.prototype={get_name:null,set_name:null,get_id:null,set_id:null,get_assetNamespace:null,get_assetType:null,get_assetFullPath:null,assetPathEquals:null,resetAssetPath:null,dispose:null,__class__:Uc,__properties__:{get_assetFullPath:"get_assetFullPath",
get_assetType:"get_assetType",get_assetNamespace:"get_assetNamespace",set_id:"set_id",get_id:"get_id",set_name:"set_name",get_name:"get_name"}};var Lh=function(){Ia.call(this)};k["away3d.animators.nodes.AnimationNodeBase"]=Lh;Lh.__name__=["away3d","animators","nodes","AnimationNodeBase"];Lh.__interfaces__=[Uc];Lh.__super__=Ia;Lh.prototype=t(Ia.prototype,{_stateClass:null,get_stateClass:function(){return this._stateClass},dispose:function(){},get_assetType:function(){return"animationNode"},__class__:Lh,
__properties__:t(Ia.prototype.__properties__,{get_assetType:"get_assetType",get_stateClass:"get_stateClass"})});var dk=function(){};k["away3d.animators.states.IAnimationState"]=dk;dk.__name__=["away3d","animators","states","IAnimationState"];dk.prototype={get_positionDelta:null,offset:null,update:null,phase:null,__class__:dk,__properties__:{get_positionDelta:"get_positionDelta"}};var ek=function(a,b){this._time=this._startTime=0;this._positionDeltaDirty=!0;this._rootDelta=new T;this._animator=a;this._animationNode=
b};k["away3d.animators.states.AnimationStateBase"]=ek;ek.__name__=["away3d","animators","states","AnimationStateBase"];ek.__interfaces__=[dk];ek.prototype={_animationNode:null,_rootDelta:null,_positionDeltaDirty:null,_time:null,_startTime:null,_animator:null,get_positionDelta:function(){this._positionDeltaDirty&&this.updatePositionDelta();return this._rootDelta},offset:function(a){this._startTime=a;this._positionDeltaDirty=!0},update:function(a){this._time!=a-this._startTime&&this.updateTime(a)},
phase:function(a){},updateTime:function(a){this._time=a-this._startTime;this._positionDeltaDirty=!0},updatePositionDelta:function(){},__class__:ek,__properties__:{get_positionDelta:"get_positionDelta"}};var sc=function(){this._aabbPointsDirty=!0;this._aabbPoints=D.toFloatVector(null);this._min=new T;this._max=new T};k["away3d.bounds.BoundingVolumeBase"]=sc;sc.__name__=["away3d","bounds","BoundingVolumeBase"];sc.prototype={_min:null,_max:null,_aabbPoints:null,_aabbPointsDirty:null,_boundingRenderable:null,
get_max:function(){return this._max},get_min:function(){return this._min},get_aabbPoints:function(){this._aabbPointsDirty&&this.updateAABBPoints();return this._aabbPoints},get_boundingRenderable:function(){null==this._boundingRenderable&&(this._boundingRenderable=this.createBoundingRenderable(),this.updateBoundingRenderable());return this._boundingRenderable},nullify:function(){this._min.x=this._min.y=this._min.z=0;this._max.x=this._max.y=this._max.z=0;this._aabbPointsDirty=!0;null!=this._boundingRenderable&&
this.updateBoundingRenderable()},disposeRenderable:function(){null!=this._boundingRenderable&&this._boundingRenderable.dispose();this._boundingRenderable=null},fromVertices:function(a){var b=0,c=a.get_length(),d,e,f,p,g,m;if(0==c)this.nullify();else{var h;d=p=a.get(b++);e=g=a.get(b++);for(f=m=a.get(b++);b<c;)h=a.get(b++),h<d?d=h:h>p&&(p=h),h=a.get(b++),h<e?e=h:h>g&&(g=h),h=a.get(b++),h<f?f=h:h>m&&(m=h);this.fromExtremes(d,e,f,p,g,m)}},fromGeometry:function(a){a=a.get_subGeometries();var b=a.get_length(),
c,d,e,f,p,g;if(0<b){var m=a.get(0),h=m.get_vertexData(),l=m.get_vertexOffset();c=f=h.get(l);d=p=h.get(l+1);e=g=h.get(l+2);for(var k=0;k<b;)for(var m=a.get(k++),h=m.get_vertexData(),A=h.get_length(),l=m.get_vertexOffset(),m=m.get_vertexStride();l<A;){var U=h.get(l);U<c?c=U:U>f&&(f=U);U=h.get(l+1);U<d?d=U:U>p&&(p=U);U=h.get(l+2);U<e?e=U:U>g&&(g=U);l+=m}this.fromExtremes(c,d,e,f,p,g)}else this.fromExtremes(0,0,0,0,0,0)},fromSphere:function(a,b){this.fromExtremes(a.x-b,a.y-b,a.z-b,a.x+b,a.y+b,a.z+b)},
fromExtremes:function(a,b,c,d,e,f){this._min.x=a;this._min.y=b;this._min.z=c;this._max.x=d;this._max.y=e;this._max.z=f;this._aabbPointsDirty=!0;null!=this._boundingRenderable&&this.updateBoundingRenderable()},isInFrustum:function(a,b){throw new F(new oa);},overlaps:function(a){var b=a._min;a=a._max;return this._max.x>b.x&&this._min.x<a.x&&this._max.y>b.y&&this._min.y<a.y&&this._max.z>b.z?this._min.z<a.z:!1},clone:function(){throw new F(new oa);},rayIntersection:function(a,b,c){return-1},containsPoint:function(a){return!1},
updateAABBPoints:function(){var a=this._max.x,b=this._max.y,c=this._max.z,d=this._min.x,e=this._min.y,f=this._min.z;this._aabbPoints.set(0,d);this._aabbPoints.set(1,e);this._aabbPoints.set(2,f);this._aabbPoints.set(3,a);this._aabbPoints.set(4,e);this._aabbPoints.set(5,f);this._aabbPoints.set(6,d);this._aabbPoints.set(7,b);this._aabbPoints.set(8,f);this._aabbPoints.set(9,a);this._aabbPoints.set(10,b);this._aabbPoints.set(11,f);this._aabbPoints.set(12,d);this._aabbPoints.set(13,e);this._aabbPoints.set(14,
c);this._aabbPoints.set(15,a);this._aabbPoints.set(16,e);this._aabbPoints.set(17,c);this._aabbPoints.set(18,d);this._aabbPoints.set(19,b);this._aabbPoints.set(20,c);this._aabbPoints.set(21,a);this._aabbPoints.set(22,b);this._aabbPoints.set(23,c);this._aabbPointsDirty=!1},updateBoundingRenderable:function(){throw new F(new oa);},createBoundingRenderable:function(){throw new F(new oa);},classifyToPlane:function(a){throw new F(new oa);},transformFrom:function(a,b){throw new F(new oa);},__class__:sc,
__properties__:{get_boundingRenderable:"get_boundingRenderable",get_aabbPoints:"get_aabbPoints",get_min:"get_min",get_max:"get_max"}};var yf=function(){this._centerX=this._centerY=this._centerZ=this._halfExtentsX=this._halfExtentsY=this._halfExtentsZ=0;sc.call(this)};k["away3d.bounds.AxisAlignedBoundingBox"]=yf;yf.__name__=["away3d","bounds","AxisAlignedBoundingBox"];yf.__super__=sc;yf.prototype=t(sc.prototype,{_centerX:null,_centerY:null,_centerZ:null,_halfExtentsX:null,_halfExtentsY:null,_halfExtentsZ:null,
nullify:function(){sc.prototype.nullify.call(this);this._halfExtentsX=this._halfExtentsY=this._halfExtentsZ=this._centerX=this._centerY=this._centerZ=0},isInFrustum:function(a,b){for(var c=0;c<b;){var d=c++,d=a.get(d),e=d.a,f=d.b,p=d.c;if(0>e*(this._centerX+(0>e?-this._halfExtentsX:this._halfExtentsX))+f*(this._centerY+(0>f?-this._halfExtentsY:this._halfExtentsY))+p*(this._centerZ+(0>p?-this._halfExtentsZ:this._halfExtentsZ))-d.d)return!1}return!0},rayIntersection:function(a,b,c){if(this.containsPoint(a))return 0;
var d=a.x-this._centerX,e=a.y-this._centerY;a=a.z-this._centerZ;var f=b.x,p=b.y;b=b.z;var g,m,h,l=0,k=!1;0>f&&(l=(this._halfExtentsX-d)/f,0<l&&(m=e+l*p,h=a+l*b,m>-this._halfExtentsY&&m<this._halfExtentsY&&h>-this._halfExtentsZ&&h<this._halfExtentsZ&&(c.x=1,c.y=0,c.z=0,k=!0)));!k&&0<f&&(l=(-this._halfExtentsX-d)/f,0<l&&(m=e+l*p,h=a+l*b,m>-this._halfExtentsY&&m<this._halfExtentsY&&h>-this._halfExtentsZ&&h<this._halfExtentsZ&&(c.x=-1,c.y=0,c.z=0,k=!0)));!k&&0>p&&(l=(this._halfExtentsY-e)/p,0<l&&(g=d+
l*f,h=a+l*b,g>-this._halfExtentsX&&g<this._halfExtentsX&&h>-this._halfExtentsZ&&h<this._halfExtentsZ&&(c.x=0,c.y=1,c.z=0,k=!0)));!k&&0<p&&(l=(-this._halfExtentsY-e)/p,0<l&&(g=d+l*f,h=a+l*b,g>-this._halfExtentsX&&g<this._halfExtentsX&&h>-this._halfExtentsZ&&h<this._halfExtentsZ&&(c.x=0,c.y=-1,c.z=0,k=!0)));!k&&0>b&&(l=(this._halfExtentsZ-a)/b,0<l&&(g=d+l*f,m=e+l*p,m>-this._halfExtentsY&&m<this._halfExtentsY&&g>-this._halfExtentsX&&g<this._halfExtentsX&&(c.x=0,c.y=0,c.z=1,k=!0)));!k&&0<b&&(l=(-this._halfExtentsZ-
a)/b,0<l&&(g=d+l*f,m=e+l*p,m>-this._halfExtentsY&&m<this._halfExtentsY&&g>-this._halfExtentsX&&g<this._halfExtentsX&&(c.x=0,c.y=0,c.z=-1,k=!0)));return k?l:-1},containsPoint:function(a){var b=a.x-this._centerX,c=a.y-this._centerY;a=a.z-this._centerZ;return b<=this._halfExtentsX&&b>=-this._halfExtentsX&&c<=this._halfExtentsY&&c>=-this._halfExtentsY&&a<=this._halfExtentsZ?a>=-this._halfExtentsZ:!1},fromExtremes:function(a,b,c,d,e,f){this._centerX=.5*(d+a);this._centerY=.5*(e+b);this._centerZ=.5*(f+
c);this._halfExtentsX=.5*(d-a);this._halfExtentsY=.5*(e-b);this._halfExtentsZ=.5*(f-c);sc.prototype.fromExtremes.call(this,a,b,c,d,e,f)},clone:function(){var a=new yf;a.fromExtremes(this._min.x,this._min.y,this._min.z,this._max.x,this._max.y,this._max.z);return a},get_halfExtentsX:function(){return this._halfExtentsX},get_halfExtentsY:function(){return this._halfExtentsY},get_halfExtentsZ:function(){return this._halfExtentsZ},closestPointToPoint:function(a,b){var c;null==b&&(b=new T);c=a.x;c<this._min.x&&
(c=this._min.x);c>this._max.x&&(c=this._max.x);b.x=c;c=a.y;c<this._min.y&&(c=this._min.y);c>this._max.y&&(c=this._max.y);b.y=c;c=a.z;c<this._min.z&&(c=this._min.z);c>this._max.z&&(c=this._max.z);b.z=c;return b},updateBoundingRenderable:function(){this._boundingRenderable.set_scaleX(Math.max(2*this._halfExtentsX,.001));this._boundingRenderable.set_scaleY(Math.max(2*this._halfExtentsY,.001));this._boundingRenderable.set_scaleZ(Math.max(2*this._halfExtentsZ,.001));this._boundingRenderable.set_x(this._centerX);
this._boundingRenderable.set_y(this._centerY);this._boundingRenderable.set_z(this._centerZ)},createBoundingRenderable:function(){return new Mh(1,1,1,16777215,.5)},classifyToPlane:function(a){var b=a.a,c=a.b,d=a.c;a=b*this._centerX+c*this._centerY+d*this._centerZ-a.d;0>b&&(b=-b);0>c&&(c=-c);0>d&&(d=-d);b=b*this._halfExtentsX+c*this._halfExtentsY+d*this._halfExtentsZ;return a>b?1:a<-b?0:2},transformFrom:function(a,b){var c=y.__cast(a,yf),d=c._centerX,e=c._centerY,f=c._centerZ,p=ga.RAW_DATA_CONTAINER;
b.copyRawDataTo(p);var g=p.get(0),m=p.get(4),h=p.get(8),l=p.get(12),k=p.get(1),A=p.get(5),U=p.get(9),v=p.get(13),q=p.get(2),C=p.get(6),n=p.get(10),p=p.get(14);this._centerX=d*g+e*m+f*h+l;this._centerY=d*k+e*A+f*U+v;this._centerZ=d*q+e*C+f*n+p;0>g&&(g=-g);0>m&&(m=-m);0>h&&(h=-h);0>k&&(k=-k);0>A&&(A=-A);0>U&&(U=-U);0>q&&(q=-q);0>C&&(C=-C);0>n&&(n=-n);d=c._halfExtentsX;e=c._halfExtentsY;c=c._halfExtentsZ;this._halfExtentsX=d*g+e*m+c*h;this._halfExtentsY=d*k+e*A+c*U;this._halfExtentsZ=d*q+e*C+c*n;this._min.x=
this._centerX-this._halfExtentsX;this._min.y=this._centerY-this._halfExtentsY;this._min.z=this._centerZ-this._halfExtentsZ;this._max.x=this._centerX+this._halfExtentsX;this._max.y=this._centerY+this._halfExtentsY;this._max.z=this._centerZ+this._halfExtentsZ;this._aabbPointsDirty=!0},__class__:yf,__properties__:t(sc.prototype.__properties__,{get_halfExtentsZ:"get_halfExtentsZ",get_halfExtentsY:"get_halfExtentsY",get_halfExtentsX:"get_halfExtentsX"})});var af=function(){this._radius=this._centerX=this._centerY=
this._centerZ=0;sc.call(this)};k["away3d.bounds.BoundingSphere"]=af;af.__name__=["away3d","bounds","BoundingSphere"];af.__super__=sc;af.prototype=t(sc.prototype,{_radius:null,_centerX:null,_centerY:null,_centerZ:null,get_radius:function(){return this._radius},nullify:function(){sc.prototype.nullify.call(this);this._radius=this._centerX=this._centerY=this._centerZ=0},isInFrustum:function(a,b){for(var c=0;c<b;){var d=c++,d=a.get(d);if(0>d.a*(this._centerX+(0>d.a?-this._radius:this._radius))+d.b*(this._centerY+
(0>d.b?-this._radius:this._radius))+d.c*(this._centerZ+(0>d.c?-this._radius:this._radius))-d.d)return!1}return!0},fromSphere:function(a,b){this._centerX=a.x;this._centerY=a.y;this._centerZ=a.z;this._radius=b;this._max.x=this._centerX+b;this._max.y=this._centerY+b;this._max.z=this._centerZ+b;this._min.x=this._centerX-b;this._min.y=this._centerY-b;this._min.z=this._centerZ-b;this._aabbPointsDirty=!0;null!=this._boundingRenderable&&this.updateBoundingRenderable()},fromExtremes:function(a,b,c,d,e,f){this._centerX=
.5*(d+a);this._centerY=.5*(e+b);this._centerZ=.5*(f+c);var p=d-a,g=e-b,m=f-c;g>p&&(p=g);m>p&&(p=m);this._radius=p*Math.sqrt(.5);sc.prototype.fromExtremes.call(this,a,b,c,d,e,f)},clone:function(){var a=new af;a.fromSphere(new T(this._centerX,this._centerY,this._centerZ),this._radius);return a},rayIntersection:function(a,b,c){if(this.containsPoint(a))return 0;var d=a.x-this._centerX,e=a.y-this._centerY;a=a.z-this._centerZ;var f=b.x,p=b.y;b=b.z;var g;g=f*f+p*p+b*b;var m=2*(d*f+e*p+a*b),h=m*m-4*g*(d*
d+e*e+a*a-this._radius*this._radius);return 0<=h&&(h=Math.sqrt(h),g=(-m-h)/(2*g),0<=g)?(c.x=d+g*f,c.y=e+g*p,c.z=a+g*b,c.normalize(),g):-1},containsPoint:function(a){var b=a.x-this._centerX,c=a.y-this._centerY;a=a.z-this._centerZ;return Math.sqrt(b*b+c*c+a*a)<=this._radius},updateBoundingRenderable:function(){var a=this._radius;0==a&&(a=.001);this._boundingRenderable.set_scaleX(a);this._boundingRenderable.set_scaleY(a);this._boundingRenderable.set_scaleZ(a);this._boundingRenderable.set_x(this._centerX);
this._boundingRenderable.set_y(this._centerY);this._boundingRenderable.set_z(this._centerZ)},createBoundingRenderable:function(){return new wg(1,16,12,16777215,.5)},classifyToPlane:function(a){var b=a.a,c=a.b,d=a.c;a=b*this._centerX+c*this._centerY+d*this._centerZ-a.d;0>b&&(b=-b);0>c&&(c=-c);0>d&&(d=-d);b=(b+c+d)*this._radius;return a>b?1:a<-b?0:2},transformFrom:function(a,b){var c=y.__cast(a,af),d=c._centerX,e=c._centerY,f=c._centerZ,p=ga.RAW_DATA_CONTAINER;b.copyRawDataTo(p);var g=p.get(0),m=p.get(4),
h=p.get(8),l=p.get(12),k=p.get(1),A=p.get(5),U=p.get(9),v=p.get(13),q=p.get(2),C=p.get(6),n=p.get(10),p=p.get(14);this._centerX=d*g+e*m+f*h+l;this._centerY=d*k+e*A+f*U+v;this._centerZ=d*q+e*C+f*n+p;0>g&&(g=-g);0>m&&(m=-m);0>h&&(h=-h);0>k&&(k=-k);0>A&&(A=-A);0>U&&(U=-U);0>q&&(q=-q);0>C&&(C=-C);0>n&&(n=-n);d=g+m+h;k=k+A+U;q=q+C+n;this._radius=c._radius*Math.sqrt(d*d+k*k+q*q);this._min.x=this._centerX-this._radius;this._min.y=this._centerY-this._radius;this._min.z=this._centerZ-this._radius;this._max.x=
this._centerX+this._radius;this._max.y=this._centerY+this._radius;this._max.z=this._centerZ+this._radius},__class__:af,__properties__:t(sc.prototype.__properties__,{get_radius:"get_radius"})});var ge=function(a,b){null==a&&(a=!0);sc.call(this);this._alwaysIn=a;this._renderable=b;this._max.x=this._max.y=this._max.z=Infinity;this._min.x=this._min.y=this._min.z=this._alwaysIn?-Infinity:Infinity};k["away3d.bounds.NullBounds"]=ge;ge.__name__=["away3d","bounds","NullBounds"];ge.__super__=sc;ge.prototype=
t(sc.prototype,{_alwaysIn:null,_renderable:null,clone:function(){return new ge(this._alwaysIn)},createBoundingRenderable:function(){return null!=this._renderable?this._renderable:new wg(100,16,12,16777215,.5)},isInFrustum:function(a,b){return this._alwaysIn},fromGeometry:function(a){},fromSphere:function(a,b){},fromExtremes:function(a,b,c,d,e,f){},classifyToPlane:function(a){return 2},transformFrom:function(a,b){this._alwaysIn=y.__cast(a,ge)._alwaysIn},__class__:ge});var ub=function(){this._sca=new T;
this._rot=new T;this._pos=new T;this._pivotZero=!0;this._pivotPoint=new T;this._x=this._y=this._z=0;this._scaleX=this._scaleY=this._scaleZ=1;this._transform=new Sa;this._zOffset=0;this._flipY=new Sa;this._eulers=new T;this._rotationX=this._rotationY=this._rotationZ=0;this._transformDirty=!0;this._smallestNumber=1E-22;this._transformComponents=D.toObjectVector(null,3,!0);this._transformComponents.set(0,this._pos);this._transformComponents.set(1,this._rot);this._transformComponents.set(2,this._sca);
this._transform.identity();this._flipY.appendScale(1,-1,1);Ia.call(this)};k["away3d.core.base.Object3D"]=ub;ub.__name__=["away3d","core","base","Object3D"];ub.__super__=Ia;ub.prototype=t(Ia.prototype,{_controller:null,_smallestNumber:null,_transformDirty:null,_positionDirty:null,_rotationDirty:null,_scaleDirty:null,_positionChanged:null,_rotationChanged:null,_scaleChanged:null,_rotationX:null,_rotationY:null,_rotationZ:null,_eulers:null,_flipY:null,_listenToPositionChanged:null,_listenToRotationChanged:null,
_listenToScaleChanged:null,_zOffset:null,invalidatePivot:function(){this._pivotZero=0==this._pivotPoint.x&&0==this._pivotPoint.y&&0==this._pivotPoint.z;this.invalidateTransform()},invalidatePosition:function(){this._positionDirty||(this._positionDirty=!0,this.invalidateTransform(),this._listenToPositionChanged&&this.notifyPositionChanged())},notifyPositionChanged:function(){null==this._positionChanged&&(this._positionChanged=new Gc("positionChanged",this));this.dispatchEvent(this._positionChanged)},
addEventListener:function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);Ia.prototype.addEventListener.call(this,a,b,c,d,e);switch(a){case "positionChanged":this._listenToPositionChanged=!0;break;case "rotationChanged":this._listenToRotationChanged=!0;break;case "scaleChanged":this._listenToScaleChanged=!0}},removeEventListener:function(a,b,c){null==c&&(c=!1);Ia.prototype.removeEventListener.call(this,a,b,c);if(!this.hasEventListener(a))switch(a){case "positionChanged":this._listenToPositionChanged=
!1;break;case "rotationChanged":this._listenToRotationChanged=!1;break;case "scaleChanged":this._listenToScaleChanged=!1}},invalidateRotation:function(){this._rotationDirty||(this._rotationDirty=!0,this.invalidateTransform(),this._listenToRotationChanged&&this.notifyRotationChanged())},notifyRotationChanged:function(){null==this._rotationChanged&&(this._rotationChanged=new Gc("rotationChanged",this));this.dispatchEvent(this._rotationChanged)},invalidateScale:function(){this._scaleDirty||(this._scaleDirty=
!0,this.invalidateTransform(),this._listenToScaleChanged&&this.notifyScaleChanged())},notifyScaleChanged:function(){null==this._scaleChanged&&(this._scaleChanged=new Gc("scaleChanged",this));this.dispatchEvent(this._scaleChanged)},_transform:null,_scaleX:null,_scaleY:null,_scaleZ:null,_x:null,_y:null,_z:null,_pivotPoint:null,_pivotZero:null,_pos:null,_rot:null,_sca:null,_transformComponents:null,extra:null,get_x:function(){return this._x},set_x:function(a){if(this._x==a)return a;this._x=a;this.invalidatePosition();
return a},get_y:function(){return this._y},set_y:function(a){if(this._y==a)return a;this._y=a;this.invalidatePosition();return a},get_z:function(){return this._z},set_z:function(a){if(this._z==a)return a;this._z=a;this.invalidatePosition();return a},get_rotationX:function(){return this._rotationX*bc.RADIANS_TO_DEGREES},set_rotationX:function(a){if(this.get_rotationX()==a)return a;this._rotationX=a*bc.DEGREES_TO_RADIANS;this.invalidateRotation();return a},get_rotationY:function(){return this._rotationY*
bc.RADIANS_TO_DEGREES},set_rotationY:function(a){if(this.get_rotationY()==a)return a;this._rotationY=a*bc.DEGREES_TO_RADIANS;this.invalidateRotation();return a},get_rotationZ:function(){return this._rotationZ*bc.RADIANS_TO_DEGREES},set_rotationZ:function(a){if(this.get_rotationZ()==a)return a;this._rotationZ=a*bc.DEGREES_TO_RADIANS;this.invalidateRotation();return a},get_scaleX:function(){return this._scaleX},set_scaleX:function(a){if(this._scaleX==a)return a;this._scaleX=a;this.invalidateScale();
return a},get_scaleY:function(){return this._scaleY},set_scaleY:function(a){if(this._scaleY==a)return a;this._scaleY=a;this.invalidateScale();return a},get_scaleZ:function(){return this._scaleZ},set_scaleZ:function(a){if(this._scaleZ==a)return a;this._scaleZ=a;this.invalidateScale();return a},get_eulers:function(){this._eulers.x=this._rotationX*bc.RADIANS_TO_DEGREES;this._eulers.y=this._rotationY*bc.RADIANS_TO_DEGREES;this._eulers.z=this._rotationZ*bc.RADIANS_TO_DEGREES;return this._eulers},set_eulers:function(a){this._rotationX=
a.x*bc.DEGREES_TO_RADIANS;this._rotationY=a.y*bc.DEGREES_TO_RADIANS;this._rotationZ=a.z*bc.DEGREES_TO_RADIANS;this.invalidateRotation();return a},get_transform:function(){this._transformDirty&&this.updateTransform();return this._transform},set_transform:function(a){if(0==a.rawData.get(0)){var b=ga.RAW_DATA_CONTAINER;a.copyRawDataTo(b);b.set(0,this._smallestNumber);a.copyRawDataFrom(b)}var b=ga.decompose(a),c=b.get(0);if(this._x!=c.x||this._y!=c.y||this._z!=c.z)this._x=c.x,this._y=c.y,this._z=c.z,
this.invalidatePosition();c=b.get(1);if(this._rotationX!=c.x||this._rotationY!=c.y||this._rotationZ!=c.z)this._rotationX=c.x,this._rotationY=c.y,this._rotationZ=c.z,this.invalidateRotation();c=b.get(2);if(this._scaleX!=c.x||this._scaleY!=c.y||this._scaleZ!=c.z)this._scaleX=c.x,this._scaleY=c.y,this._scaleZ=c.z,this.invalidateScale();return a},get_pivotPoint:function(){return this._pivotPoint},set_pivotPoint:function(a){null==this._pivotPoint&&(this._pivotPoint=new T);this._pivotPoint.x=a.x;this._pivotPoint.y=
a.y;this._pivotPoint.z=a.z;this.invalidatePivot();return a},get_position:function(){this.get_transform().copyColumnTo(3,this._pos);return this._pos.clone()},set_position:function(a){this._x=a.x;this._y=a.y;this._z=a.z;this.invalidatePosition();return a},getPosition:function(a){null==a&&(a=new T);this.get_transform().copyColumnTo(3,a);return a},get_forwardVector:function(){return ga.getForward(this.get_transform())},get_rightVector:function(){return ga.getRight(this.get_transform())},get_upVector:function(){return ga.getUp(this.get_transform())},
get_backVector:function(){var a=ga.getForward(this.get_transform());a.negate();return a},get_leftVector:function(){var a=ga.getRight(this.get_transform());a.negate();return a},get_downVector:function(){var a=ga.getUp(this.get_transform());a.negate();return a},scale:function(a){this._scaleX*=a;this._scaleY*=a;this._scaleZ*=a;this.invalidateScale()},moveForward:function(a){this.translateLocal(new T(0,0,1),a)},moveBackward:function(a){this.translateLocal(new T(0,0,1),-a)},moveLeft:function(a){this.translateLocal(new T(1,
0,0),-a)},moveRight:function(a){this.translateLocal(new T(1,0,0),a)},moveUp:function(a){this.translateLocal(new T(0,1,0),a)},moveDown:function(a){this.translateLocal(new T(0,1,0),-a)},moveTo:function(a,b,c){if(this._x!=a||this._y!=b||this._z!=c)this._x=a,this._y=b,this._z=c,this.invalidatePosition()},movePivot:function(a,b,c){null==this._pivotPoint&&(this._pivotPoint=new T);this._pivotPoint.x+=a;this._pivotPoint.y+=b;this._pivotPoint.z+=c;this.invalidatePivot()},translate:function(a,b){var c=a.x,
d=a.y,e=a.z,f=b/Math.sqrt(c*c+d*d+e*e);this._x+=c*f;this._y+=d*f;this._z+=e*f;this.invalidatePosition()},translateLocal:function(a,b){var c=a.x,d=a.y,e=a.z,f=b/Math.sqrt(c*c+d*d+e*e);this.get_transform().prependTranslation(c*f,d*f,e*f);this._transform.copyColumnTo(3,this._pos);this._x=this._pos.x;this._y=this._pos.y;this._z=this._pos.z;this.invalidatePosition()},pitch:function(a){this.rotate(new T(1,0,0),a)},yaw:function(a){this.rotate(new T(0,1,0),a)},roll:function(a){this.rotate(new T(0,0,1),a)},
clone:function(){var a=new ub;a.set_pivotPoint(this.get_pivotPoint());a.set_transform(this.get_transform());a.set_name(this.get_name());return a},rotateTo:function(a,b,c){this._rotationX=a*bc.DEGREES_TO_RADIANS;this._rotationY=b*bc.DEGREES_TO_RADIANS;this._rotationZ=c*bc.DEGREES_TO_RADIANS;this.invalidateRotation()},rotate:function(a,b){var c=new Sa;c.prependRotation(b,a);c=c.decompose().get(1);this._rotationX+=c.x;this._rotationY+=c.y;this._rotationZ+=c.z;this.invalidateRotation()},lookAt:function(a,
b){null==ub.tempAxeX&&(ub.tempAxeX=new T);null==ub.tempAxeY&&(ub.tempAxeY=new T);null==ub.tempAxeZ&&(ub.tempAxeZ=new T);var c=ub.tempAxeX,d=ub.tempAxeY,e=ub.tempAxeZ,f;null==b&&(b=new T(0,1,0));this._transformDirty&&this.updateTransform();e.x=a.x-this._x;e.y=a.y-this._y;e.z=a.z-this._z;e.normalize();c.x=b.y*e.z-b.z*e.y;c.y=b.z*e.x-b.x*e.z;c.z=b.x*e.y-b.y*e.x;c.normalize();.05>c.get_length()&&(c.x=b.y,c.y=b.x,c.z=0,c.normalize());d.x=e.y*c.z-e.z*c.y;d.y=e.z*c.x-e.x*c.z;d.z=e.x*c.y-e.y*c.x;f=ga.RAW_DATA_CONTAINER;
f.set(0,this._scaleX*c.x);f.set(1,this._scaleX*c.y);f.set(2,this._scaleX*c.z);f.set(3,0);f.set(4,this._scaleY*d.x);f.set(5,this._scaleY*d.y);f.set(6,this._scaleY*d.z);f.set(7,0);f.set(8,this._scaleZ*e.x);f.set(9,this._scaleZ*e.y);f.set(10,this._scaleZ*e.z);f.set(11,0);f.set(12,this._x);f.set(13,this._y);f.set(14,this._z);f.set(15,1);this._transform.copyRawDataFrom(f);this.set_transform(this.get_transform());0>e.z&&(this.set_rotationY(180-this.get_rotationY()),this.set_rotationX(this.get_rotationX()-
180),this.set_rotationZ(this.get_rotationZ()-180))},dispose:function(){},disposeAsset:function(){this.dispose()},invalidateTransform:function(){this._transformDirty=!0},updateTransform:function(){this._pos.x=this._x;this._pos.y=this._y;this._pos.z=this._z;this._rot.x=this._rotationX;this._rot.y=this._rotationY;this._rot.z=this._rotationZ;this._pivotZero?(this._sca.x=this._scaleX,this._sca.y=this._scaleY,this._sca.z=this._scaleZ,this._transform.recompose(this._transformComponents)):(this._sca.x=1,
this._sca.y=1,this._sca.z=1,this._transform.recompose(this._transformComponents),this._transform.appendTranslation(this._pivotPoint.x,this._pivotPoint.y,this._pivotPoint.z),this._transform.prependTranslation(-this._pivotPoint.x,-this._pivotPoint.y,-this._pivotPoint.z),this._transform.prependScale(this._scaleX,this._scaleY,this._scaleZ),this._sca.x=this._scaleX,this._sca.y=this._scaleY,this._sca.z=this._scaleZ);this._scaleDirty=this._rotationDirty=this._positionDirty=this._transformDirty=!1},get_zOffset:function(){return this._zOffset},
set_zOffset:function(a){return this._zOffset=a},__class__:ub,__properties__:t(Ia.prototype.__properties__,{set_zOffset:"set_zOffset",get_zOffset:"get_zOffset",get_downVector:"get_downVector",get_leftVector:"get_leftVector",get_backVector:"get_backVector",get_upVector:"get_upVector",get_rightVector:"get_rightVector",get_forwardVector:"get_forwardVector",set_position:"set_position",get_position:"get_position",set_pivotPoint:"set_pivotPoint",get_pivotPoint:"get_pivotPoint",set_transform:"set_transform",
get_transform:"get_transform",set_eulers:"set_eulers",get_eulers:"get_eulers",set_scaleZ:"set_scaleZ",get_scaleZ:"get_scaleZ",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_rotationZ:"set_rotationZ",get_rotationZ:"get_rotationZ",set_rotationY:"set_rotationY",get_rotationY:"get_rotationY",set_rotationX:"set_rotationX",get_rotationX:"get_rotationX",set_z:"set_z",get_z:"get_z",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"})});var fb=function(){this._ignoreTransform=
!1;this._scenePositionDirty=this._explicitVisibility=this._implicitVisibility=!0;this._scenePosition=new T;this._inverseSceneTransformDirty=!0;this._inverseSceneTransform=new Sa;this._mouseChildren=!0;this._children=D.toObjectVector(null);this._sceneTransformDirty=!0;this._sceneTransform=new Sa;ub.call(this)};k["away3d.containers.ObjectContainer3D"]=fb;fb.__name__=["away3d","containers","ObjectContainer3D"];fb.__interfaces__=[Uc];fb.__super__=ub;fb.prototype=t(ub.prototype,{_ancestorsAllowMouseEnabled:null,
_isRoot:null,_scene:null,_parent:null,_sceneTransform:null,_sceneTransformDirty:null,_explicitPartition:null,_implicitPartition:null,_mouseEnabled:null,_sceneTransformChanged:null,_scenechanged:null,_children:null,_mouseChildren:null,_oldScene:null,_inverseSceneTransform:null,_inverseSceneTransformDirty:null,_scenePosition:null,_scenePositionDirty:null,_explicitVisibility:null,_implicitVisibility:null,_listenToSceneTransformChanged:null,_listenToSceneChanged:null,_ignoreTransform:null,get_ignoreTransform:function(){return this._ignoreTransform},
set_ignoreTransform:function(a){this._ignoreTransform=a;this._sceneTransformDirty=!a;this._inverseSceneTransformDirty=!a;this._scenePositionDirty=!a;a||(this._sceneTransform.identity(),this._scenePosition.setTo(0,0,0));return a},get_implicitPartition:function(){return this._implicitPartition},set_implicitPartition:function(a){if(a==this._implicitPartition)return a;var b=0,c=this._children.get_length(),d;for(this._implicitPartition=a;b<c;)d=this._children.get(b++),null==d._explicitPartition&&d.set_implicitPartition(a);
return a},get_isVisible:function(){return this._implicitVisibility?this._explicitVisibility:!1},setParent:function(a){this._parent=a;this.updateMouseChildren();null==a?this.set_scene(null):(this.notifySceneTransformChange(),this.notifySceneChange())},notifySceneTransformChange:function(){if(!this._sceneTransformDirty&&!this._ignoreTransform){this.invalidateSceneTransform();for(var a=0,b=this._children.get_length();a<b;)this._children.get(a++).notifySceneTransformChange();this._listenToSceneTransformChanged&&
(null==this._sceneTransformChanged&&(this._sceneTransformChanged=new Gc("scenetransformChanged",this)),this.dispatchEvent(this._sceneTransformChanged))}},notifySceneChange:function(){this.notifySceneTransformChange();for(var a=0,b=this._children.get_length();a<b;)this._children.get(a++).notifySceneChange();this._listenToSceneChanged&&(null==this._scenechanged&&(this._scenechanged=new Gc("sceneChanged",this)),this.dispatchEvent(this._scenechanged))},updateMouseChildren:function(){this._ancestorsAllowMouseEnabled=
null==this._parent||this._parent._isRoot?this.get_mouseChildren():this.get_parent()._ancestorsAllowMouseEnabled&&this._parent.get_mouseChildren();for(var a=0,b=this._children.get_length();a<b;){var c=a++;this._children.get(c).updateMouseChildren()}},get_mouseEnabled:function(){return this._mouseEnabled},set_mouseEnabled:function(a){this._mouseEnabled=a;this.updateMouseChildren();return a},invalidateTransform:function(){ub.prototype.invalidateTransform.call(this);this.notifySceneTransformChange()},
invalidateSceneTransform:function(){this._sceneTransformDirty=!this._ignoreTransform;this._inverseSceneTransformDirty=!this._ignoreTransform;this._scenePositionDirty=!this._ignoreTransform},updateSceneTransform:function(){null==this._parent||this._parent._isRoot?this._sceneTransform.copyFrom(this.get_transform()):(this._sceneTransform.copyFrom(this._parent.get_sceneTransform()),this._sceneTransform.prepend(this.get_transform()));this._sceneTransformDirty=!1},get_mouseChildren:function(){return this._mouseChildren},
set_mouseChildren:function(a){this._mouseChildren=a;this.updateMouseChildren();return a},get_visible:function(){return this._explicitVisibility},set_visible:function(a){var b=this._children.get_length();this._explicitVisibility=a;for(var c=0;c<b;){var d=c++;this._children.get(d).updateImplicitVisibility()}return a},get_assetType:function(){return"container"},get_scenePosition:function(){this._scenePositionDirty&&(this.get_sceneTransform().copyColumnTo(3,this._scenePosition),this._scenePositionDirty=
!1);return this._scenePosition},get_minX:function(){for(var a=0,b=this._children.get_length(),c=Infinity,d;a<b;)d=this._children.get(a++),d=d.get_minX()+d.get_x(),d<c&&(c=d);return c},get_minY:function(){for(var a=0,b=this._children.get_length(),c=Infinity,d;a<b;)d=this._children.get(a++),d=d.get_minY()+d.get_y(),d<c&&(c=d);return c},get_minZ:function(){for(var a=0,b=this._children.get_length(),c=Infinity,d;a<b;)d=this._children.get(a++),d=d.get_minZ()+d.get_z(),d<c&&(c=d);return c},get_maxX:function(){for(var a=
0,b=this._children.get_length(),c=-Infinity,d;a<b;)d=this._children.get(a++),d=d.get_maxX()+d.get_x(),d>c&&(c=d);return c},get_maxY:function(){for(var a=0,b=this._children.get_length(),c=-Infinity,d;a<b;)d=this._children.get(a++),d=d.get_maxY()+d.get_y(),d>c&&(c=d);return c},get_maxZ:function(){for(var a=0,b=this._children.get_length(),c=-Infinity,d;a<b;)d=this._children.get(a++),d=d.get_maxZ()+d.get_z(),d>c&&(c=d);return c},get_partition:function(){return this._explicitPartition},set_partition:function(a){this._explicitPartition=
a;this.set_implicitPartition(null!=a?a:null!=this._parent?this._parent.get_implicitPartition():null);return a},get_sceneTransform:function(){this._sceneTransformDirty&&this.updateSceneTransform();return this._sceneTransform},get_scene:function(){return this._scene},set_scene:function(a){for(var b=0,c=this._children.get_length();b<c;)this._children.get(b++).set_scene(a);if(this._scene==a)return a;null==a&&(this._oldScene=this._scene);null!=this._explicitPartition&&null!=this._oldScene&&this._oldScene!=
this._scene&&this.set_partition(null);null!=a&&(this._oldScene=null);this._scene=a;null!=this._scene?this._scene.dispatchEvent(new yd("addedToScene",this)):null!=this._oldScene&&this._oldScene.dispatchEvent(new yd("removedFromScene",this));return a},get_inverseSceneTransform:function(){this._inverseSceneTransformDirty&&(this._inverseSceneTransform.copyFrom(this.get_sceneTransform()),this._inverseSceneTransform.invert(),this._inverseSceneTransformDirty=!1);return this._inverseSceneTransform},get_parent:function(){return this._parent},
contains:function(a){return 0<=this._children.indexOf(a,0)},addChild:function(a){if(null==a)throw new F(new ja("Parameter child cannot be null."));null!=a._parent&&a._parent.removeChild(a);null==a._explicitPartition&&a.set_implicitPartition(this._implicitPartition);a.setParent(this);a.set_scene(this._scene);a.notifySceneTransformChange();a.updateMouseChildren();a.updateImplicitVisibility();this._children.push(a);return a},addChildren:function(a){for(var b=0;b<a.get_length();){var c=a.get(b);++b;this.addChild(c)}},
removeChild:function(a){if(null==a)throw new F(new ja("Parameter child cannot be null"));var b=this._children.indexOf(a,0);if(-1==b)throw new F(new ja("Parameter is not a child of the caller"));this.removeChildInternal(b,a)},removeChildAt:function(a){var b=this._children.get(a);this.removeChildInternal(a,b)},removeChildInternal:function(a,b){this._children.splice(a,1);b.setParent(null);null==b._explicitPartition&&b.set_implicitPartition(null)},getChildAt:function(a){return this._children.get(a)},
get_numChildren:function(){return this._children.get_length()},lookAt:function(a,b){ub.prototype.lookAt.call(this,a,b);this.notifySceneTransformChange()},translateLocal:function(a,b){ub.prototype.translateLocal.call(this,a,b);this.notifySceneTransformChange()},dispose:function(){null!=this.get_parent()&&this.get_parent().removeChild(this)},disposeWithChildren:function(){for(this.dispose();0<this.get_numChildren();)this.getChildAt(0).dispose()},clone:function(){var a=new fb;a.set_pivotPoint(this.get_pivotPoint());
a.set_transform(this.get_transform());a.set_partition(this.get_partition());a.set_name(this.get_name());for(var b=0,c=this._children.get_length();b<c;){var d=b++;a.addChild(y.__cast(this._children.get(d).clone(),fb))}return a},rotate:function(a,b){ub.prototype.rotate.call(this,a,b);this.notifySceneTransformChange()},dispatchEvent:function(a){var b=ub.prototype.dispatchEvent.call(this,a);a.bubbles&&(null!=this._parent?this._parent.dispatchEvent(a):null!=this._scene&&this._scene.dispatchEvent(a));return b},
updateImplicitVisibility:function(){var a=this._children.get_length();this._implicitVisibility=this._parent._explicitVisibility&&this._parent._implicitVisibility;for(var b=0;b<a;){var c=b++;this._children.get(c).updateImplicitVisibility()}},addEventListener:function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);ub.prototype.addEventListener.call(this,a,b,c,d,e);switch(a){case "sceneChanged":this._listenToSceneChanged=!0;break;case "scenetransformChanged":this._listenToSceneTransformChanged=
!0}},removeEventListener:function(a,b,c){null==c&&(c=!1);ub.prototype.removeEventListener.call(this,a,b,c);if(!this.hasEventListener(a))switch(a){case "sceneChanged":this._listenToSceneChanged=!1;break;case "scenetransformChanged":this._listenToSceneTransformChanged=!1}},__class__:fb,__properties__:t(ub.prototype.__properties__,{get_numChildren:"get_numChildren",get_parent:"get_parent",get_inverseSceneTransform:"get_inverseSceneTransform",set_scene:"set_scene",get_scene:"get_scene",get_sceneTransform:"get_sceneTransform",
set_partition:"set_partition",get_partition:"get_partition",get_maxZ:"get_maxZ",get_maxY:"get_maxY",get_maxX:"get_maxX",get_minZ:"get_minZ",get_minY:"get_minY",get_minX:"get_minX",get_scenePosition:"get_scenePosition",get_assetType:"get_assetType",set_visible:"set_visible",get_visible:"get_visible",set_mouseChildren:"set_mouseChildren",get_mouseChildren:"get_mouseChildren",set_mouseEnabled:"set_mouseEnabled",get_mouseEnabled:"get_mouseEnabled",get_isVisible:"get_isVisible",set_implicitPartition:"set_implicitPartition",
get_implicitPartition:"get_implicitPartition",set_ignoreTransform:"set_ignoreTransform",get_ignoreTransform:"get_ignoreTransform"})});var ib=function(){this._boundsInvalid=this._worldBoundsInvalid=!0;this._boundsIsShown=!1;fb.call(this);this._bounds=this.getDefaultBoundingVolume();this._worldBounds=this.getDefaultBoundingVolume()};k["away3d.entities.Entity"]=ib;ib.__name__=["away3d","entities","Entity"];ib.__super__=fb;ib.prototype=t(fb.prototype,{_showBounds:null,_partitionNode:null,_boundsIsShown:null,
_shaderPickingDetails:null,_pickingCollisionVO:null,_pickingCollider:null,_staticNode:null,_bounds:null,_boundsInvalid:null,_worldBounds:null,_worldBoundsInvalid:null,set_ignoreTransform:function(a){null!=this._scene&&this._scene.invalidateEntityBounds(this);fb.prototype.set_ignoreTransform.call(this,a);return a},get_shaderPickingDetails:function(){return this._shaderPickingDetails},set_shaderPickingDetails:function(a){return this._shaderPickingDetails=a},get_staticNode:function(){return this._staticNode},
set_staticNode:function(a){return this._staticNode=a},get_pickingCollisionVO:function(){null==this._pickingCollisionVO&&(this._pickingCollisionVO=new fk(this));return this._pickingCollisionVO},collidesBefore:function(a,b){return!0},get_showBounds:function(){return this._showBounds},set_showBounds:function(a){if(a==this._showBounds)return a;(this._showBounds=a)?this.addBounds():this.removeBounds();return a},get_minX:function(){this._boundsInvalid&&this.updateBounds();return this._bounds.get_min().x},
get_minY:function(){this._boundsInvalid&&this.updateBounds();return this._bounds.get_min().y},get_minZ:function(){this._boundsInvalid&&this.updateBounds();return this._bounds.get_min().z},get_maxX:function(){this._boundsInvalid&&this.updateBounds();return this._bounds.get_max().x},get_maxY:function(){this._boundsInvalid&&this.updateBounds();return this._bounds.get_max().y},get_maxZ:function(){this._boundsInvalid&&this.updateBounds();return this._bounds.get_max().z},get_bounds:function(){this._boundsInvalid&&
this.updateBounds();return this._bounds},set_bounds:function(a){this.removeBounds();this._bounds=a;this._worldBounds=a.clone();this.invalidateBounds();this._showBounds&&this.addBounds();return a},get_worldBounds:function(){this._worldBoundsInvalid&&this.updateWorldBounds();return this._worldBounds},updateWorldBounds:function(){this._worldBounds.transformFrom(this.get_bounds(),this.get_sceneTransform());this._worldBoundsInvalid=!1},set_implicitPartition:function(a){if(a==this._implicitPartition)return a;
null!=this._implicitPartition&&this.notifyPartitionUnassigned();fb.prototype.set_implicitPartition.call(this,a);this.notifyPartitionAssigned();return a},set_scene:function(a){if(a==this._scene)return a;null!=this._scene&&this._scene.unregisterEntity(this);null!=a&&a.registerEntity(this);fb.prototype.set_scene.call(this,a);return a},get_assetType:function(){return"entity"},get_pickingCollider:function(){return this._pickingCollider},set_pickingCollider:function(a){return this._pickingCollider=a},getEntityPartitionNode:function(){null==
this._partitionNode&&(this._partitionNode=this.createEntityPartitionNode());return this._partitionNode},isIntersectingRay:function(a,b){null==this.get_pickingCollisionVO().localRayPosition&&(this.get_pickingCollisionVO().localRayPosition=new T);null==this.get_pickingCollisionVO().localRayDirection&&(this.get_pickingCollisionVO().localRayDirection=new T);null==this.get_pickingCollisionVO().localNormal&&(this.get_pickingCollisionVO().localNormal=new T);var c=this.get_pickingCollisionVO().localRayPosition,
d=this.get_pickingCollisionVO().localRayDirection;ga.transformVector(this.get_inverseSceneTransform(),a,c);ga.deltaTransformVector(this.get_inverseSceneTransform(),b,d);c=this.get_bounds().rayIntersection(c,d,this.get_pickingCollisionVO().localNormal);if(0>c)return!1;this.get_pickingCollisionVO().rayEntryDistance=c;this.get_pickingCollisionVO().rayPosition=a;this.get_pickingCollisionVO().rayDirection=b;this.get_pickingCollisionVO().rayOriginIsInsideBounds=0==c;return!0},createEntityPartitionNode:function(){throw new F(new oa);
},getDefaultBoundingVolume:function(){return new yf},updateBounds:function(){throw new F(new oa);},invalidateSceneTransform:function(){this._ignoreTransform||(fb.prototype.invalidateSceneTransform.call(this),this._worldBoundsInvalid=!0,this.notifySceneBoundsInvalid())},invalidateBounds:function(){this._worldBoundsInvalid=this._boundsInvalid=!0;this.notifySceneBoundsInvalid()},updateMouseChildren:function(){if(null==this._parent&&null!=this.get_pickingCollider()&&y.__instanceof(this._parent,ib)){var a=
y.__cast(this._parent,ib).get_pickingCollider();null!=a&&this.set_pickingCollider(a)}fb.prototype.updateMouseChildren.call(this)},notifySceneBoundsInvalid:function(){null!=this._scene&&this._scene.invalidateEntityBounds(this)},notifyPartitionAssigned:function(){null!=this._scene&&this._scene.registerPartition(this)},notifyPartitionUnassigned:function(){null!=this._scene&&this._scene.unregisterPartition(this)},addBounds:function(){this._boundsIsShown||(this._boundsIsShown=!0,this.addChild(this._bounds.get_boundingRenderable()))},
removeBounds:function(){this._boundsIsShown&&(this._boundsIsShown=!1,this.removeChild(this._bounds.get_boundingRenderable()),this._bounds.disposeRenderable())},internalUpdate:function(){null!=this._controller&&this._controller.update()},__class__:ib,__properties__:t(fb.prototype.__properties__,{set_pickingCollider:"set_pickingCollider",get_pickingCollider:"get_pickingCollider",get_worldBounds:"get_worldBounds",set_bounds:"set_bounds",get_bounds:"get_bounds",set_showBounds:"set_showBounds",get_showBounds:"get_showBounds",
get_pickingCollisionVO:"get_pickingCollisionVO",set_staticNode:"set_staticNode",get_staticNode:"get_staticNode",set_shaderPickingDetails:"set_shaderPickingDetails",get_shaderPickingDetails:"get_shaderPickingDetails"})});var zf=function(a){this._viewProjectionDirty=this._frustumPlanesDirty=!0;this._viewProjection=new Sa;ib.call(this);this._lens=a;null==this._lens&&(this._lens=new Ce);this._lens.addEventListener("matrixChanged",n(this,this.onLensMatrixChanged));this._frustumPlanes=D.toObjectVector(null,
6,!0);for(a=0;6>a;){var b=a++;this._frustumPlanes.set(b,new bf)}this.set_z(-1E3)};k["away3d.cameras.Camera3D"]=zf;zf.__name__=["away3d","cameras","Camera3D"];zf.__super__=ib;zf.prototype=t(ib.prototype,{_viewProjection:null,_viewProjectionDirty:null,_lens:null,_frustumPlanes:null,_frustumPlanesDirty:null,getDefaultBoundingVolume:function(){return new ge},get_assetType:function(){return"camera"},onLensMatrixChanged:function(a){this._frustumPlanesDirty=this._viewProjectionDirty=!0;this.dispatchEvent(a)},
get_frustumPlanes:function(){this._frustumPlanesDirty&&this.updateFrustum();return this._frustumPlanes},updateFrustum:function(){var a,b,c,d,e,f,p,g,m,h,l,k,A,U,v,q,C,n,r,t;a=ga.RAW_DATA_CONTAINER;var u;this.get_viewProjection().copyRawDataTo(a);d=a.get(0);e=a.get(4);f=a.get(8);p=a.get(12);g=a.get(1);m=a.get(5);h=a.get(9);l=a.get(13);k=a.get(2);A=a.get(6);U=a.get(10);v=a.get(14);q=a.get(3);C=a.get(7);n=a.get(11);r=a.get(15);t=this._frustumPlanes.get(0);a=q+d;b=C+e;c=n+f;u=1/Math.sqrt(a*a+b*b+c*c);
t.a=a*u;t.b=b*u;t.c=c*u;t.d=-(r+p)*u;t=this._frustumPlanes.get(1);a=q-d;b=C-e;c=n-f;u=1/Math.sqrt(a*a+b*b+c*c);t.a=a*u;t.b=b*u;t.c=c*u;t.d=(p-r)*u;t=this._frustumPlanes.get(2);a=q+g;b=C+m;c=n+h;u=1/Math.sqrt(a*a+b*b+c*c);t.a=a*u;t.b=b*u;t.c=c*u;t.d=-(r+l)*u;t=this._frustumPlanes.get(3);a=q-g;b=C-m;c=n-h;u=1/Math.sqrt(a*a+b*b+c*c);t.a=a*u;t.b=b*u;t.c=c*u;t.d=(l-r)*u;t=this._frustumPlanes.get(4);a=k;b=A;c=U;u=1/Math.sqrt(a*a+b*b+c*c);t.a=a*u;t.b=b*u;t.c=c*u;t.d=-v*u;t=this._frustumPlanes.get(5);a=q-
k;b=C-A;c=n-U;u=1/Math.sqrt(a*a+b*b+c*c);t.a=a*u;t.b=b*u;t.c=c*u;t.d=(v-r)*u;this._frustumPlanesDirty=!1},invalidateSceneTransform:function(){ib.prototype.invalidateSceneTransform.call(this);this._frustumPlanesDirty=this._viewProjectionDirty=!0},updateBounds:function(){this._bounds.nullify();this._boundsInvalid=!1},createEntityPartitionNode:function(){return new Nh(this)},get_lens:function(){return this._lens},set_lens:function(a){if(this._lens==a)return a;if(null==a)throw new F(new ja("Lens cannot be null!"));
this._lens.removeEventListener("matrixChanged",n(this,this.onLensMatrixChanged));this._lens=a;this._lens.addEventListener("matrixChanged",n(this,this.onLensMatrixChanged));this.dispatchEvent(new Af("lensChanged",this));return a},get_viewProjection:function(){this._viewProjectionDirty&&(this._viewProjection.copyFrom(this.get_inverseSceneTransform()),this._viewProjection.append(this._lens.get_matrix()),this._viewProjectionDirty=!1);return this._viewProjection},unproject:function(a,b,c,d){return ga.transformVector(this.get_sceneTransform(),
this.get_lens().unproject(a,b,c,d),d)},getRay:function(a,b,c,d){return ga.deltaTransformVector(this.get_sceneTransform(),this.get_lens().unproject(a,b,c,d),d)},project:function(a,b){return this.get_lens().project(ga.transformVector(this.get_inverseSceneTransform(),a,b),b)},__class__:zf,__properties__:t(ib.prototype.__properties__,{get_viewProjection:"get_viewProjection",set_lens:"set_lens",get_lens:"get_lens",get_frustumPlanes:"get_frustumPlanes"})});var Kl=function(){};k["away3d.cameras.lenses.CoordinateSystem"]=
Kl;Kl.__name__=["away3d","cameras","lenses","CoordinateSystem"];var zd=function(){this._unprojectionInvalid=!0;this._frustumCorners=D.toFloatVector(null,24,!0);this._matrixInvalid=!0;this._aspectRatio=1;this._far=3E3;this._near=20;this._viewPort=new ha;this._scissorRect=new ha;X.call(this);this._matrix=new Sa};k["away3d.cameras.lenses.LensBase"]=zd;zd.__name__=["away3d","cameras","lenses","LensBase"];zd.__super__=X;zd.prototype=t(X.prototype,{_matrix:null,_scissorRect:null,_viewPort:null,_near:null,
_far:null,_aspectRatio:null,_matrixInvalid:null,_frustumCorners:null,_unprojection:null,_unprojectionInvalid:null,get_frustumCorners:function(){return this._frustumCorners},set_frustumCorners:function(a){return this._frustumCorners=a},get_matrix:function(){this._matrixInvalid&&(this.updateMatrix(),this._matrixInvalid=!1);return this._matrix},set_matrix:function(a){this._matrix=a;this.invalidateMatrix();return a},get_near:function(){return this._near},set_near:function(a){if(a==this._near)return a;
this._near=a;this.invalidateMatrix();return a},get_far:function(){return this._far},set_far:function(a){if(a==this._far)return a;this._far=a;this.invalidateMatrix();return a},project:function(a,b){null==b&&(b=new T);ga.transformVector(this.get_matrix(),a,b);b.x/=b.w;b.y=-b.y/b.w;b.z=a.z;return b},get_unprojectionMatrix:function(){this._unprojectionInvalid&&(null==this._unprojection&&(this._unprojection=new Sa),this._unprojection.copyFrom(this.get_matrix()),this._unprojection.invert(),this._unprojectionInvalid=
!1);return this._unprojection},unproject:function(a,b,c,d){throw new F(new oa);},clone:function(){throw new F(new oa);},get_aspectRatio:function(){return this._aspectRatio},set_aspectRatio:function(a){if(this._aspectRatio==a||0!=0*a)return a;this._aspectRatio=a;this.invalidateMatrix();return a},invalidateMatrix:function(){this._unprojectionInvalid=this._matrixInvalid=!0;this.dispatchEvent(new Bf("matrixChanged",this))},updateMatrix:function(){throw new F(new oa);},updateScissorRect:function(a,b,c,
d){this._scissorRect.x=a;this._scissorRect.y=b;this._scissorRect.width=c;this._scissorRect.height=d;this.invalidateMatrix()},updateViewport:function(a,b,c,d){this._viewPort.x=a;this._viewPort.y=b;this._viewPort.width=c;this._viewPort.height=d;this.invalidateMatrix()},__class__:zd,__properties__:{set_aspectRatio:"set_aspectRatio",get_aspectRatio:"get_aspectRatio",get_unprojectionMatrix:"get_unprojectionMatrix",set_far:"set_far",get_far:"get_far",set_near:"set_near",get_near:"get_near",set_matrix:"set_matrix",
get_matrix:"get_matrix",set_frustumCorners:"set_frustumCorners",get_frustumCorners:"get_frustumCorners"}});var xg=function(){zd.call(this);this._matrix.copyFrom((new Ce).get_matrix())};k["away3d.cameras.lenses.FreeMatrixLens"]=xg;xg.__name__=["away3d","cameras","lenses","FreeMatrixLens"];xg.__super__=zd;xg.prototype=t(zd.prototype,{set_near:function(a){return this._near=a},set_far:function(a){return this._far=a},set_aspectRatio:function(a){return this._aspectRatio=a},clone:function(){var a=new xg;
a._matrix.copyFrom(this._matrix);a._near=this._near;a._far=this._far;a._aspectRatio=this._aspectRatio;a.invalidateMatrix();return a},updateMatrix:function(){this._matrixInvalid=!1},__class__:xg});var Ce=function(a,b){null==b&&(b=0);null==a&&(a=60);zd.call(this);this.set_fieldOfView(a);this.set_coordinateSystem(b)};k["away3d.cameras.lenses.PerspectiveLens"]=Ce;Ce.__name__=["away3d","cameras","lenses","PerspectiveLens"];Ce.__super__=zd;Ce.prototype=t(zd.prototype,{_fieldOfView:null,_focalLength:null,
_focalLengthInv:null,_yMax:null,_xMax:null,_coordinateSystem:null,get_fieldOfView:function(){return this._fieldOfView},set_fieldOfView:function(a){if(a==this._fieldOfView)return a;this._fieldOfView=a;this._focalLengthInv=Math.tan(this._fieldOfView*Math.PI/360);this._focalLength=1/this._focalLengthInv;this.invalidateMatrix();return a},get_focalLength:function(){return this._focalLength},set_focalLength:function(a){if(a==this._focalLength)return a;this._focalLength=a;this._focalLengthInv=1/this._focalLength;
this._fieldOfView=360*Math.atan(this._focalLengthInv)/Math.PI;this.invalidateMatrix();return a},unproject:function(a,b,c,d){null==d&&(d=new T);d.x=a;d.y=-b;d.z=c;d.w=1;d.x*=c;d.y*=c;ga.transformVector(this.get_unprojectionMatrix(),d,d);d.z=c;return d},clone:function(){var a=new Ce(this._fieldOfView);a._near=this._near;a._far=this._far;a._aspectRatio=this._aspectRatio;a._coordinateSystem=this._coordinateSystem;return a},get_coordinateSystem:function(){return this._coordinateSystem},set_coordinateSystem:function(a){if(a==
this._coordinateSystem)return a;this._coordinateSystem=a;this.invalidateMatrix();return a},updateMatrix:function(){var a=ga.RAW_DATA_CONTAINER;this._yMax=this._near*this._focalLengthInv;this._xMax=this._yMax*this._aspectRatio;var b,c,d,e;if(0==this._scissorRect.x&&0==this._scissorRect.y&&this._scissorRect.width==this._viewPort.width&&this._scissorRect.height==this._viewPort.height)b=-this._xMax,c=this._xMax,d=-this._yMax,e=this._yMax,a.set(0,this._near/this._xMax),a.set(5,this._near/this._yMax),a.set(10,
this._far/(this._far-this._near)),a.set(11,1),a.set(1,a.set(2,a.set(3,a.set(4,a.set(6,a.set(7,a.set(8,a.set(9,a.set(12,a.set(13,a.set(15,0))))))))))),a.set(14,-this._near*a.get(10));else{c=this._viewPort.width/this._scissorRect.width*this._xMax;e=this._viewPort.height/this._scissorRect.height*this._yMax;d=this._xMax*(2*this._scissorRect.x-this._viewPort.width)/this._scissorRect.width+this._xMax;var f=-this._yMax*(2*this._scissorRect.y-this._viewPort.height)/this._scissorRect.height-this._yMax;b=d-
c;c=d+c;d=f-e;e=f+e;a.set(0,2*this._near/(c-b));a.set(5,2*this._near/(e-d));a.set(8,(c+b)/(c-b));a.set(9,(e+d)/(e-d));a.set(10,(this._far+this._near)/(this._far-this._near));a.set(11,1);a.set(1,a.set(2,a.set(3,a.set(4,a.set(6,a.set(7,a.set(12,a.set(13,a.set(15,0)))))))));a.set(14,-2*this._far*this._near/(this._far-this._near))}1==this._coordinateSystem&&a.set(5,-a.get(5));this._matrix.copyRawDataFrom(a);a=this._far*this._focalLengthInv;f=a*this._aspectRatio;this._frustumCorners.set(0,this._frustumCorners.set(9,
b));this._frustumCorners.set(3,this._frustumCorners.set(6,c));this._frustumCorners.set(1,this._frustumCorners.set(4,d));this._frustumCorners.set(7,this._frustumCorners.set(10,e));this._frustumCorners.set(12,this._frustumCorners.set(21,-f));this._frustumCorners.set(15,this._frustumCorners.set(18,f));this._frustumCorners.set(13,this._frustumCorners.set(16,-a));this._frustumCorners.set(19,this._frustumCorners.set(22,a));this._frustumCorners.set(2,this._frustumCorners.set(5,this._frustumCorners.set(8,
this._frustumCorners.set(11,this._near))));this._frustumCorners.set(14,this._frustumCorners.set(17,this._frustumCorners.set(20,this._frustumCorners.set(23,this._far))));this._matrixInvalid=!1},__class__:Ce,__properties__:t(zd.prototype.__properties__,{set_focalLength:"set_focalLength",get_focalLength:"get_focalLength",set_fieldOfView:"set_fieldOfView",get_fieldOfView:"get_fieldOfView",set_coordinateSystem:"set_coordinateSystem",get_coordinateSystem:"get_coordinateSystem"})});var Oh=function(){this._partitions=
D.toObjectVector(null);this._sceneGraphRoot=new fb;this._sceneGraphRoot.set_scene(this);this._sceneGraphRoot._isRoot=!0;this._sceneGraphRoot.set_partition(new gk(new Ad));X.call(this)};k["away3d.containers.Scene3D"]=Oh;Oh.__name__=["away3d","containers","Scene3D"];Oh.__super__=X;Oh.prototype=t(X.prototype,{_sceneGraphRoot:null,_partitions:null,traversePartitions:function(a){var b=0,c=this._partitions.get_length();for(a.scene=this;b<c;)this._partitions.get(b++).traverse(a)},get_partition:function(){return this._sceneGraphRoot.get_partition()},
set_partition:function(a){this._sceneGraphRoot.set_partition(a);this.dispatchEvent(new yd("partitionChanged",this._sceneGraphRoot));return a},contains:function(a){return this._sceneGraphRoot.contains(a)},addChild:function(a){return this._sceneGraphRoot.addChild(a)},removeChild:function(a){this._sceneGraphRoot.removeChild(a)},removeChildAt:function(a){this._sceneGraphRoot.removeChildAt(a)},getChildAt:function(a){return this._sceneGraphRoot.getChildAt(a)},get_numChildren:function(){return this._sceneGraphRoot.get_numChildren()},
registerEntity:function(a){var b=a.get_implicitPartition();this.addPartitionUnique(b);b.markForUpdate(a)},unregisterEntity:function(a){a.get_implicitPartition().removeEntity(a)},invalidateEntityBounds:function(a){a.get_implicitPartition().markForUpdate(a)},registerPartition:function(a){this.addPartitionUnique(a.get_implicitPartition())},unregisterPartition:function(a){a.get_implicitPartition().removeEntity(a)},addPartitionUnique:function(a){-1==this._partitions.indexOf(a,0)&&this._partitions.push(a)},
__class__:Oh,__properties__:{get_numChildren:"get_numChildren",set_partition:"set_partition",get_partition:"get_partition"}});var cf=function(a,b,c,d,e,f){null==f&&(f=-1);null==e&&(e="baseline");null==d&&(d=!1);this._contextIndex=-1;this._layeredView=!1;this._scissorRectDirty=this._viewportDirty=!0;this._shareContext=!1;this._depthTextureInvalid=this._backBufferInvalid=this._rightClickMenuEnabled=!0;this._backgroundAlpha=1;this._time=this._backgroundColor=0;this._globalPos=new Ka;this._localPos=new Ka;
this._width=this._height=0;wa.call(this);this._profile=e;this._scene=null!=a?a:new Oh;this._scene.addEventListener("partitionChanged",n(this,this.onScenePartitionChanged));this._camera=null!=b?b:new zf;this._renderer=null!=c?c:new id;this._depthRenderer=new Cf;this._forceSoftware=d;this._contextIndex=f;this._entityCollector=this._renderer.createEntityCollector();this._entityCollector.set_camera(this._camera);this._scissorRect=new ha;this.initHitField();this._mouse3DManager=new V;this._mouse3DManager.enableMouseListeners(this);
this._touch3DManager=new Xb;this._touch3DManager.set_view(this);this._touch3DManager.enableTouchListeners(this);this.addEventListener("addedToStage",n(this,this.onAddedToStage),!1,0,!0);this.addEventListener("added",n(this,this.onAdded),!1,0,!0);this._camera.addEventListener("lensChanged",n(this,this.onLensChanged));this._camera.set_partition(this._scene.get_partition())};k["away3d.containers.View3D"]=cf;cf.__name__=["away3d","containers","View3D"];cf.__super__=wa;cf.prototype=t(wa.prototype,{_width:null,
_height:null,_localPos:null,_globalPos:null,_globalPosDirty:null,_scene:null,_camera:null,_entityCollector:null,_aspectRatio:null,_time:null,_deltaTime:null,_backgroundColor:null,_backgroundAlpha:null,_mouse3DManager:null,_touch3DManager:null,_renderer:null,_depthRenderer:null,_addedToStage:null,_forceSoftware:null,_filter3DRenderer:null,_requireDepthRender:null,_depthRender:null,_depthTextureInvalid:null,_hitField:null,_parentIsStage:null,_background:null,_stage3DProxy:null,_backBufferInvalid:null,
_antiAlias:null,_rttBufferManager:null,_rightClickMenuEnabled:null,_sourceURL:null,_shareContext:null,_scissorRect:null,_scissorRectDirty:null,_viewportDirty:null,_depthPrepass:null,_profile:null,_layeredView:null,_contextIndex:null,get_depthPrepass:function(){return this._depthPrepass},set_depthPrepass:function(a){return this._depthPrepass=a},onScenePartitionChanged:function(a){null!=this._camera&&this._camera.set_partition(this.get_scene().get_partition())},get_stage3DProxy:function(){return this._stage3DProxy},
set_stage3DProxy:function(a){null!=this._stage3DProxy&&(this._stage3DProxy.removeEventListener("ViewportUpdated",n(this,this.onViewportUpdated)),this._stage3DProxy.removeEventListener("Context3DRecreated",n(this,this.onContext3DRecreated)));this._stage3DProxy=a;this._stage3DProxy.addEventListener("ViewportUpdated",n(this,this.onViewportUpdated));this._stage3DProxy.addEventListener("Context3DRecreated",n(this,this.onContext3DRecreated));this._renderer.set_stage3DProxy(this._depthRenderer.set_stage3DProxy(this._stage3DProxy));
this._backBufferInvalid=this._globalPosDirty=!0;return this._stage3DProxy},onContext3DRecreated:function(a){this._depthTextureInvalid=!0},get_forceMouseMove:function(){return this._mouse3DManager.get_forceMouseMove()},set_forceMouseMove:function(a){this._mouse3DManager.set_forceMouseMove(a);this._touch3DManager.set_forceTouchMove(a);return a},get_background:function(){return this._background},set_background:function(a){this._background=a;this._renderer.set_background(this._background);return this._background},
get_layeredView:function(){return this._layeredView},set_layeredView:function(a){return this._layeredView=a},initHitField:function(){this._hitField=new wa;this._hitField.set_alpha(0);this._hitField.doubleClickEnabled=!0;this._hitField.get_graphics().beginFill(0);this._hitField.get_graphics().drawRect(0,0,100,100);this.addChild(this._hitField)},get_filters3d:function(){return null!=this._filter3DRenderer?this._filter3DRenderer.get_filters():null},set_filters3d:function(a){null!=a&&0==a.length&&(a=
null);null!=this._filter3DRenderer&&null==a?(this._filter3DRenderer.dispose(),this._filter3DRenderer=null):null==this._filter3DRenderer&&null!=a&&(this._filter3DRenderer=new hk(this.get_stage3DProxy()),this._filter3DRenderer.set_filters(a));null!=this._filter3DRenderer?(this._filter3DRenderer.set_filters(a),this._requireDepthRender=this._filter3DRenderer.get_requireDepthRender()):(this._requireDepthRender=!1,null!=this._depthRender&&(this._depthRender.dispose(),this._depthRender=null));return a},
get_renderer:function(){return this._renderer},set_renderer:function(a){this._renderer.dispose();this._renderer=a;this._entityCollector=this._renderer.createEntityCollector();this._entityCollector.set_camera(this._camera);this._renderer.set_stage3DProxy(this._stage3DProxy);this._renderer.set_antiAlias(this._antiAlias);this._renderer.set_backgroundR(Z.toFloat(this._backgroundColor>>>16&255)/Z.toFloat(255));this._renderer.set_backgroundG(Z.toFloat(this._backgroundColor>>>8&255)/Z.toFloat(255));this._renderer.set_backgroundB(Z.toFloat(this._backgroundColor&
255)/Z.toFloat(255));this._renderer.set_backgroundAlpha(this._backgroundAlpha);this._renderer.set_viewWidth(this._width);this._renderer.set_viewHeight(this._height);this._backBufferInvalid=!0;return this._renderer},get_backgroundColor:function(){return this._backgroundColor},set_backgroundColor:function(a){this._backgroundColor=a;this._renderer.set_backgroundR(Z.toFloat(a>>>16&255)/Z.toFloat(255));this._renderer.set_backgroundG(Z.toFloat(a>>>8&255)/Z.toFloat(255));this._renderer.set_backgroundB(Z.toFloat(a&
255)/Z.toFloat(255));return a},get_backgroundAlpha:function(){return this._backgroundAlpha},set_backgroundAlpha:function(a){1<a?a=1:0>a&&(a=0);this._renderer.set_backgroundAlpha(a);return this._backgroundAlpha=a},get_camera:function(){return this._camera},set_camera:function(a){this._camera.removeEventListener("lensChanged",n(this,this.onLensChanged));this._camera=a;this._entityCollector.set_camera(this._camera);null!=this._scene&&this._camera.set_partition(this._scene.get_partition());this._camera.addEventListener("lensChanged",
n(this,this.onLensChanged));this._viewportDirty=this._scissorRectDirty=!0;return a},get_scene:function(){return this._scene},set_scene:function(a){this._scene.removeEventListener("partitionChanged",n(this,this.onScenePartitionChanged));this._scene=a;this._scene.addEventListener("partitionChanged",n(this,this.onScenePartitionChanged));null!=this._camera&&this._camera.set_partition(this._scene.get_partition());return this._scene},deltaTime:null,get_deltaTime:function(){return this._deltaTime},get_filters:function(){throw new F(new ja("filters is not supported in View3D. Use filters3d instead."));
},set_filters:function(a){throw new F(new ja("filters is not supported in View3D. Use filters3d instead."));},get_width:function(){return this._width},set_width:function(a){null!=this._stage3DProxy&&this._stage3DProxy.get_usesSoftwareRendering()&&2048<a&&(a=2048);if(this._width==a)return a;null!=this._rttBufferManager&&this._rttBufferManager.set_viewWidth(a|0);this._hitField.set_width(a);this._width=a;this._aspectRatio=this._width/this._height;this._camera.get_lens().set_aspectRatio(this._aspectRatio);
this._depthTextureInvalid=!0;this._renderer.set_viewWidth(a);this._scissorRect.width=a;this._scissorRectDirty=this._backBufferInvalid=!0;return a},get_height:function(){return this._height},set_height:function(a){null!=this._stage3DProxy&&this._stage3DProxy.get_usesSoftwareRendering()&&2048<a&&(a=2048);if(this._height==a)return a;null!=this._rttBufferManager&&this._rttBufferManager.set_viewHeight(a|0);this._hitField.set_height(a);this._height=a;this._aspectRatio=this._width/this._height;this._camera.get_lens().set_aspectRatio(this._aspectRatio);
this._depthTextureInvalid=!0;this._renderer.set_viewHeight(a);this._scissorRect.height=a;this._scissorRectDirty=this._backBufferInvalid=!0;return a},set_x:function(a){if(this.get_x()==a)return a;wa.prototype.set_x.call(this,a);this._localPos.x=a;var b=null!=this.parent?this.parent.localToGlobal(this._localPos).x:a;this._globalPos.x=b;this._globalPosDirty=!0;return a},set_y:function(a){if(this.get_y()==a)return a;wa.prototype.set_y.call(this,a);this._localPos.y=a;var b=null!=this.parent?this.parent.localToGlobal(this._localPos).y:
a;this._globalPos.y=b;this._globalPosDirty=!0;return a},set_visible:function(a){wa.prototype.set_visible.call(this,a);null==this._stage3DProxy||this._shareContext||this._stage3DProxy.set_visible(a);return a},get_antiAlias:function(){return this._antiAlias},set_antiAlias:function(a){this._antiAlias=a;this._renderer.set_antiAlias(a);this._backBufferInvalid=!0;return this._antiAlias},renderedFacesCount:null,get_renderedFacesCount:function(){return this._entityCollector.get_numTriangles()},get_shareContext:function(){return this._shareContext},
set_shareContext:function(a){if(this._shareContext==a)return a;this._shareContext=a;this._globalPosDirty=!0;return a},updateBackBuffer:function(){null==this._stage3DProxy.get_context3D()||this._shareContext||(0<this._width&&0<this._height?(this._stage3DProxy.get_usesSoftwareRendering()&&(2048<this._width&&(this._width=2048),2048<this._height&&(this._height=2048)),this._stage3DProxy.configureBackBuffer(this._width|0,this._height|0,this._antiAlias,!0),this._backBufferInvalid=!1):(this.set_width(this.stage.stageWidth),
this.set_height(this.stage.stageHeight)))},render:function(){Da.drawTriangleCount=0;if(null!=this.get_stage3DProxy().get_context3D()&&this.get_stage3DProxy().recoverFromDisposal()){this._backBufferInvalid&&this.updateBackBuffer();this._shareContext&&this._layeredView&&this.get_stage3DProxy().clearDepthBuffer();if(!this._parentIsStage){var a=this.parent.localToGlobal(this._localPos);if(this._globalPos.x!=a.x||this._globalPos.y!=a.y)this._globalPos=a,this._globalPosDirty=!0}this._globalPosDirty&&this.updateGlobalPos();
this.updateTime();this.updateViewSizeData();this._entityCollector.clear();this._scene.traversePartitions(this._entityCollector);this._mouse3DManager.updateCollider(this);this._touch3DManager.updateCollider();this._requireDepthRender&&this.renderSceneDepthToTexture(this._entityCollector);this._depthPrepass&&this.renderDepthPrepass(this._entityCollector);this._renderer.set_clearOnRender(!this._depthPrepass);null!=this._filter3DRenderer&&null!=this._stage3DProxy.get_context3D()?(this._renderer.render(this._entityCollector,
this._filter3DRenderer.getMainInputTexture(this._stage3DProxy),this._rttBufferManager.get_renderToTextureRect()),this._filter3DRenderer.render(this._stage3DProxy,this.get_camera(),this._depthRender)):(this._renderer.set_shareContext(this._shareContext),this._shareContext?this._renderer.render(this._entityCollector,null,this._scissorRect):this._renderer.render(this._entityCollector));this._shareContext||(this.get_stage3DProxy().present(),this._mouse3DManager.fireMouseEvents(),this._touch3DManager.fireTouchEvents());
this._entityCollector.cleanUp();this.get_stage3DProxy().set_bufferClear(!1)}else this._backBufferInvalid=!0},updateGlobalPos:function(){this._globalPosDirty=!1;if(null!=this._stage3DProxy){if(this._shareContext){var a=this._globalPos.x,b=this._stage3DProxy.get_x();this._scissorRect.x=a-b;a=this._globalPos.y;b=this._stage3DProxy.get_y();this._scissorRect.y=a-b}else this._scissorRect.x=0,this._scissorRect.y=0,this._stage3DProxy.set_x(this._globalPos.x),this._stage3DProxy.set_y(this._globalPos.y);this._scissorRectDirty=
!0}},updateTime:function(){var a=ia.getTimer();0==this._time&&(this._time=a);this._deltaTime=a-this._time;this._time=a},updateViewSizeData:function(){this._camera.get_lens().set_aspectRatio(this._aspectRatio);this._scissorRectDirty&&(this._scissorRectDirty=!1,this._camera.get_lens().updateScissorRect(this._scissorRect.x,this._scissorRect.y,this._scissorRect.width,this._scissorRect.height));this._viewportDirty&&(this._viewportDirty=!1,this._camera.get_lens().updateViewport(this._stage3DProxy.get_viewPort().x,
this._stage3DProxy.get_viewPort().y,this._stage3DProxy.get_viewPort().width,this._stage3DProxy.get_viewPort().height));null!=this._filter3DRenderer||this._renderer.get_renderToTexture()?(this._renderer.set_textureRatioX(this._rttBufferManager.get_textureRatioX()),this._renderer.set_textureRatioY(this._rttBufferManager.get_textureRatioY())):(this._renderer.set_textureRatioX(1),this._renderer.set_textureRatioY(1))},renderDepthPrepass:function(a){this._depthRenderer.set_disableColor(!0);null!=this._filter3DRenderer||
this._renderer.get_renderToTexture()?(this._depthRenderer.set_textureRatioX(this._rttBufferManager.get_textureRatioX()),this._depthRenderer.set_textureRatioY(this._rttBufferManager.get_textureRatioY()),this._depthRenderer.render(a,this._filter3DRenderer.getMainInputTexture(this._stage3DProxy),this._rttBufferManager.get_renderToTextureRect())):(this._depthRenderer.set_textureRatioX(1),this._depthRenderer.set_textureRatioY(1),this._depthRenderer.render(a));this._depthRenderer.set_disableColor(!1)},
renderSceneDepthToTexture:function(a){(this._depthTextureInvalid||null==this._depthRender)&&this.initDepthTexture(this._stage3DProxy.get_context3D());this._depthRenderer.set_textureRatioX(this._rttBufferManager.get_textureRatioX());this._depthRenderer.set_textureRatioY(this._rttBufferManager.get_textureRatioY());this._depthRenderer.render(a,this._depthRender)},initDepthTexture:function(a){this._depthTextureInvalid=!1;null!=this._depthRender&&this._depthRender.dispose();this._depthRender=a.createTexture(this._rttBufferManager.get_textureWidth(),
this._rttBufferManager.get_textureHeight(),1,!0)},dispose:function(){this._stage3DProxy.removeEventListener("ViewportUpdated",n(this,this.onViewportUpdated));this._stage3DProxy.removeEventListener("Context3DRecreated",n(this,this.onContext3DRecreated));this.get_shareContext()||this._stage3DProxy.dispose();this._renderer.dispose();null!=this._depthRender&&this._depthRender.dispose();null!=this._rttBufferManager&&this._rttBufferManager.dispose();this._mouse3DManager.disableMouseListeners(this);this._mouse3DManager.dispose();
this._touch3DManager.disableTouchListeners(this);this._touch3DManager.dispose();this._entityCollector=this._renderer=this._stage3DProxy=this._depthRenderer=this._touch3DManager=this._mouse3DManager=this._depthRender=this._rttBufferManager=null},project:function(a){a=this._camera.project(a);a.x=(a.x+1)*this._width/2;a.y=(a.y+1)*this._height/2;return a},unproject:function(a,b,c,d){return this._camera.unproject((2*a-this._width)/this._stage3DProxy.get_width(),(2*b-this._height)/this._stage3DProxy.get_height(),
c,d)},getRay:function(a,b,c){return this._camera.getRay((2*a-this._width)/this._width,(2*b-this._height)/this._height,c)},get_mousePicker:function(){return this._mouse3DManager.get_mousePicker()},set_mousePicker:function(a){this._mouse3DManager.set_mousePicker(a);return a},get_touchPicker:function(){return this._touch3DManager.get_touchPicker()},set_touchPicker:function(a){this._touch3DManager.set_touchPicker(a);return a},entityCollector:null,get_entityCollector:function(){return this._entityCollector},
onLensChanged:function(a){this._viewportDirty=this._scissorRectDirty=!0},onAddedToStage:function(a){this._addedToStage||(this._addedToStage=!0,null==this._stage3DProxy&&(this._stage3DProxy=-1==this._contextIndex?bb.getInstance(this.stage).getFreeStage3DProxy(this._forceSoftware,this._profile):bb.getInstance(this.stage).getStage3DProxy(this._contextIndex,this._forceSoftware,this._profile),this._stage3DProxy.addEventListener("ViewportUpdated",n(this,this.onViewportUpdated)),this._stage3DProxy.addEventListener("Context3DRecreated",
n(this,this.onContext3DRecreated))),this._globalPosDirty=!0,this._rttBufferManager=Vc.getInstance(this._stage3DProxy),this._renderer.set_stage3DProxy(this._depthRenderer.set_stage3DProxy(this._stage3DProxy)),0==this._width?this.set_width(this.stage.stageWidth):this._rttBufferManager.set_viewWidth(this._width|0),0==this._height?this.set_height(this.stage.stageHeight):this._rttBufferManager.set_viewHeight(this._height|0),this._shareContext&&this._mouse3DManager.addViewLayer(this))},onAdded:function(a){this._parentIsStage=
this.parent==this.stage;this._globalPos=this.parent.localToGlobal(this._localPos);this._globalPosDirty=!0},onViewportUpdated:function(a){if(this._shareContext){a=this._globalPos.x;var b=this._stage3DProxy.get_x();this._scissorRect.x=a-b;a=this._globalPos.y;b=this._stage3DProxy.get_y();this._scissorRect.y=a-b;this._scissorRectDirty=!0}this._viewportDirty=!0},__class__:cf,__properties__:t(wa.prototype.__properties__,{get_entityCollector:"get_entityCollector",set_touchPicker:"set_touchPicker",get_touchPicker:"get_touchPicker",
set_mousePicker:"set_mousePicker",get_mousePicker:"get_mousePicker",set_shareContext:"set_shareContext",get_shareContext:"get_shareContext",get_renderedFacesCount:"get_renderedFacesCount",set_antiAlias:"set_antiAlias",get_antiAlias:"get_antiAlias",get_deltaTime:"get_deltaTime",set_scene:"set_scene",get_scene:"get_scene",set_camera:"set_camera",get_camera:"get_camera",set_backgroundAlpha:"set_backgroundAlpha",get_backgroundAlpha:"get_backgroundAlpha",set_backgroundColor:"set_backgroundColor",get_backgroundColor:"get_backgroundColor",
set_renderer:"set_renderer",get_renderer:"get_renderer",set_filters3d:"set_filters3d",get_filters3d:"get_filters3d",set_layeredView:"set_layeredView",get_layeredView:"get_layeredView",set_background:"set_background",get_background:"get_background",set_forceMouseMove:"set_forceMouseMove",get_forceMouseMove:"get_forceMouseMove",set_stage3DProxy:"set_stage3DProxy",get_stage3DProxy:"get_stage3DProxy",set_depthPrepass:"set_depthPrepass",get_depthPrepass:"get_depthPrepass"})});var Df=function(a){this._autoUpdate=
!0;this.set_targetObject(a)};k["away3d.controllers.ControllerBase"]=Df;Df.__name__=["away3d","controllers","ControllerBase"];Df.prototype={_autoUpdate:null,_targetObject:null,notifyUpdate:function(){null!=this._targetObject&&null!=this._targetObject.get_implicitPartition()&&this._autoUpdate&&this._targetObject.get_implicitPartition().markForUpdate(this._targetObject)},get_targetObject:function(){return this._targetObject},set_targetObject:function(a){if(this._targetObject==a)return a;null!=this._targetObject&&
this._autoUpdate&&(this._targetObject._controller=null);this._targetObject=a;null!=this._targetObject&&this._autoUpdate&&(this._targetObject._controller=this);this.notifyUpdate();return a},get_autoUpdate:function(){return this._autoUpdate},set_autoUpdate:function(a){if(this._autoUpdate==a)return a;this._autoUpdate=a;null!=this._targetObject&&(this._targetObject._controller=this._autoUpdate?this:null);return a},update:function(a){throw new F(new oa);},__class__:Df,__properties__:{set_autoUpdate:"set_autoUpdate",
get_autoUpdate:"get_autoUpdate",set_targetObject:"set_targetObject",get_targetObject:"get_targetObject"}};var Ph=function(a,b,c,d,e,f,p){null==p&&(p=!1);null==f&&(f=8);null==e&&(e=90);null==d&&(d=-90);null==c&&(c=90);null==b&&(b=0);this._wrapPanAngle=!1;this._steps=this._walkIncrement=this._strafeIncrement=0;this._maxTiltAngle=90;this._minTiltAngle=-90;this._tiltAngle=90;this._panAngle=0;this._currentTiltAngle=90;this._currentPanAngle=0;Df.call(this,a);this.set_panAngle(b);this.set_tiltAngle(c);this.set_minTiltAngle(d);
this.set_maxTiltAngle(e);this.set_steps(f);this.set_wrapPanAngle(p);this._currentPanAngle=this._panAngle;this._currentTiltAngle=this._tiltAngle};k["away3d.controllers.FirstPersonController"]=Ph;Ph.__name__=["away3d","controllers","FirstPersonController"];Ph.__super__=Df;Ph.prototype=t(Df.prototype,{_currentPanAngle:null,_currentTiltAngle:null,_panAngle:null,_tiltAngle:null,_minTiltAngle:null,_maxTiltAngle:null,_steps:null,_walkIncrement:null,_strafeIncrement:null,_wrapPanAngle:null,fly:null,get_steps:function(){return this._steps},
set_steps:function(a){1>a&&(a=1);if(this._steps==a)return a;this._steps=a;this.notifyUpdate();return a},get_panAngle:function(){return this._panAngle},set_panAngle:function(a){if(this._panAngle==a)return a;this._panAngle=a;this.notifyUpdate();return a},get_tiltAngle:function(){return this._tiltAngle},set_tiltAngle:function(a){a=Math.max(this._minTiltAngle,Math.min(this._maxTiltAngle,a));if(this._tiltAngle==a)return a;this._tiltAngle=a;this.notifyUpdate();return a},get_minTiltAngle:function(){return this._minTiltAngle},
set_minTiltAngle:function(a){if(this._minTiltAngle==a)return a;this._minTiltAngle=a;this.set_tiltAngle(Math.max(this._minTiltAngle,Math.min(this._maxTiltAngle,this._tiltAngle)));return a},get_maxTiltAngle:function(){return this._maxTiltAngle},set_maxTiltAngle:function(a){if(this._maxTiltAngle==a)return a;this._maxTiltAngle=a;this.set_tiltAngle(Math.max(this._minTiltAngle,Math.min(this._maxTiltAngle,this._tiltAngle)));return a},get_wrapPanAngle:function(){return this._wrapPanAngle},set_wrapPanAngle:function(a){if(this._wrapPanAngle==
a)return a;this._wrapPanAngle=a;this.notifyUpdate();return a},update:function(a){null==a&&(a=!0);if(this._tiltAngle!=this._currentTiltAngle||this._panAngle!=this._currentPanAngle){this.notifyUpdate();if(this._wrapPanAngle){0>this._panAngle?(this._currentPanAngle+=this._panAngle%360+360-this._panAngle,this._panAngle=this._panAngle%360+360):(this._currentPanAngle+=this._panAngle%360-this._panAngle,this._panAngle%=360);for(;-180>this._panAngle-this._currentPanAngle;)this._currentPanAngle-=360;for(;180<
this._panAngle-this._currentPanAngle;)this._currentPanAngle+=360}a?(this._currentTiltAngle+=(this._tiltAngle-this._currentTiltAngle)/(this.get_steps()+1),this._currentPanAngle+=(this._panAngle-this._currentPanAngle)/(this.get_steps()+1)):(this._currentTiltAngle=this._tiltAngle,this._currentPanAngle=this._panAngle);.01>Math.abs(this.get_tiltAngle()-this._currentTiltAngle)&&.01>Math.abs(this._panAngle-this._currentPanAngle)&&(this._currentTiltAngle=this._tiltAngle,this._currentPanAngle=this._panAngle)}this.get_targetObject().set_rotationX(this._currentTiltAngle);
this.get_targetObject().set_rotationY(this._currentPanAngle);isNaN(this._walkIncrement)||(this.fly?this.get_targetObject().moveForward(this._walkIncrement):(a=this.get_targetObject(),a.set_x(a.get_x()+this._walkIncrement*Math.sin(this._panAngle*bc.DEGREES_TO_RADIANS)),a=this.get_targetObject(),a.set_z(a.get_z()+this._walkIncrement*Math.cos(this._panAngle*bc.DEGREES_TO_RADIANS))),this._walkIncrement=0);isNaN(this._strafeIncrement)||(this.get_targetObject().moveRight(this._strafeIncrement),this._strafeIncrement=
0)},incrementWalk:function(a){0!=a&&(this._walkIncrement+=a,this.notifyUpdate())},incrementStrafe:function(a){0!=a&&(this._strafeIncrement+=a,this.notifyUpdate())},__class__:Ph,__properties__:t(Df.prototype.__properties__,{set_wrapPanAngle:"set_wrapPanAngle",get_wrapPanAngle:"get_wrapPanAngle",set_maxTiltAngle:"set_maxTiltAngle",get_maxTiltAngle:"get_maxTiltAngle",set_minTiltAngle:"set_minTiltAngle",get_minTiltAngle:"get_minTiltAngle",set_tiltAngle:"set_tiltAngle",get_tiltAngle:"get_tiltAngle",set_panAngle:"set_panAngle",
get_panAngle:"get_panAngle",set_steps:"set_steps",get_steps:"get_steps"})});var qb=function(){this._uvsDirty=!0;this._scaleU=this._scaleV=1;this._vertexNormalsDirty=this._vertexTangentsDirty=!0;this._autoGenerateUVs=this._useFaceWeights=!1;this._autoDeriveVertexNormals=this._autoDeriveVertexTangents=!0;this._indicesInvalid=D.toBoolVector(null,8,!0);this._indexBufferContext=D.toObjectVector(null,8);this._indexBuffer=D.toObjectVector(null,8);this._faceNormalsDirty=this._faceTangentsDirty=!0};k["away3d.core.base.SubGeometryBase"]=
qb;qb.__name__=["away3d","core","base","SubGeometryBase"];qb.prototype={_parentGeometry:null,_vertexData:null,_faceNormalsDirty:null,_faceTangentsDirty:null,_faceTangents:null,_indices:null,_indexBuffer:null,_numIndices:null,_indexBufferContext:null,_indicesInvalid:null,_numTriangles:null,_autoDeriveVertexNormals:null,_autoDeriveVertexTangents:null,_autoGenerateUVs:null,_useFaceWeights:null,_vertexNormalsDirty:null,_vertexTangentsDirty:null,_faceNormals:null,_faceWeights:null,_scaleU:null,_scaleV:null,
_uvsDirty:null,get_autoGenerateDummyUVs:function(){return this._autoGenerateUVs},set_autoGenerateDummyUVs:function(a){return this._uvsDirty=this._autoGenerateUVs=a},get_autoDeriveVertexNormals:function(){return this._autoDeriveVertexNormals},set_autoDeriveVertexNormals:function(a){return this._vertexNormalsDirty=this._autoDeriveVertexNormals=a},get_useFaceWeights:function(){return this._useFaceWeights},set_useFaceWeights:function(a){this._useFaceWeights=a;this._autoDeriveVertexNormals&&(this._vertexNormalsDirty=
!0);this._autoDeriveVertexTangents&&(this._vertexTangentsDirty=!0);this._faceNormalsDirty=!0;return a},get_numTriangles:function(){return this._numTriangles},getIndexBuffer:function(a){var b=a._stage3DIndex,c=a._context3D;if(null==this._indexBuffer.get(b)||this._indexBufferContext.get(b)!=c)this._indexBuffer.set(b,a.createIndexBuffer(this._numIndices)),this._indexBufferContext.set(b,c),this._indicesInvalid.set(b,!0);this._indicesInvalid.get(b)&&(this._indexBuffer.get(b).uploadFromVector(this._indices,
0,this._numIndices),this._indicesInvalid.set(b,!1));return this._indexBuffer.get(b)},updateFaceTangents:function(){var a=0,b,c,d,e=this._indices.get_length(),f,p,g,m,h,l,k,A=this._vertexData,U=this.get_UVData(),v=this.get_vertexStride(),q=this.get_vertexOffset(),C=this.get_UVStride(),n=this.get_UVOffset();null==this._faceTangents&&(this._faceTangents=D.toFloatVector(null,this._indices.get_length(),!0));for(;a<e;)b=this._indices.get(a),c=this._indices.get(a+1),d=this._indices.get(a+2),f=n+b*C+1,p=
U.get(f),f=n+c*C+1,g=U.get(f)-p,f=n+d*C+1,f=U.get(f)-p,p=q+b*v,m=A.get(p),h=A.get(p+1),l=A.get(p+2),p=q+c*v,k=A.get(p)-m,b=A.get(p+1)-h,c=A.get(p+2)-l,p=q+d*v,d=A.get(p)-m,h=A.get(p+1)-h,p=A.get(p+2)-l,d=f*k-g*d,b=f*b-g*h,f=f*c-g*p,g=1/Math.sqrt(d*d+b*b+f*f),this._faceTangents.set(a++,g*d),this._faceTangents.set(a++,g*b),this._faceTangents.set(a++,g*f);this._faceTangentsDirty=!1},updateFaceNormals:function(){var a=0,b=0,c=0,d,e=this._indices.get_length(),f,p,g,m,h,l,k,A,U=this._vertexData,v=this.get_vertexStride(),
q=this.get_vertexOffset();null==this._faceNormals&&(this._faceNormals=D.toFloatVector(null,e,!0));null==this._faceWeights&&(this._faceWeights=D.toFloatVector(null,e/3|0,!0));for(;a<e;)d=q+this._indices.get(a++)*v,f=U.get(d),m=U.get(d+1),k=U.get(d+2),d=q+this._indices.get(a++)*v,p=U.get(d),h=U.get(d+1),A=U.get(d+2),d=q+this._indices.get(a++)*v,g=U.get(d),l=U.get(d+1),d=U.get(d+2),g-=f,l-=m,d-=k,f=p-f,m=h-m,A-=k,k=d*m-l*A,A=g*A-d*f,g=l*f-g*m,l=Math.sqrt(k*k+A*A+g*g),this._useFaceWeights&&(m=1E4*l,1>
m&&(m=1),this._faceWeights.set(c++,m)),l=1/l,this._faceNormals.set(b++,k*l),this._faceNormals.set(b++,A*l),this._faceNormals.set(b++,g*l);this._faceNormalsDirty=!1},updateVertexNormals:function(a){this._faceNormalsDirty&&this.updateFaceNormals();var b,c=0,d=1,e=2,f=this._vertexData.get_length(),p=this.get_vertexNormalStride(),g=this.get_vertexNormalOffset();null==a&&(a=D.toFloatVector(null,f,!0));for(b=g;b<f;)a.set(b,0),a.set(b+1,0),a.set(b+2,0),b+=p;for(var m=b=0,h=this._indices.get_length(),l,k;b<
h;){k=this._useFaceWeights?this._faceWeights.get(m++):1;l=g+this._indices.get(b++)*p;var A=l++,U=a;U.set(A,U.get(A)+this._faceNormals.get(c)*k);A=l++;U=a;U.set(A,U.get(A)+this._faceNormals.get(d)*k);A=a;A.set(l,A.get(l)+this._faceNormals.get(e)*k);l=g+this._indices.get(b++)*p;A=l++;U=a;U.set(A,U.get(A)+this._faceNormals.get(c)*k);A=l++;U=a;U.set(A,U.get(A)+this._faceNormals.get(d)*k);A=a;A.set(l,A.get(l)+this._faceNormals.get(e)*k);l=g+this._indices.get(b++)*p;A=l++;U=a;U.set(A,U.get(A)+this._faceNormals.get(c)*
k);A=l++;U=a;U.set(A,U.get(A)+this._faceNormals.get(d)*k);A=a;A.set(l,A.get(l)+this._faceNormals.get(e)*k);c+=3;d+=3;e+=3}for(b=g;b<f;)c=a.get(b),d=a.get(b+1),e=a.get(b+2),g=1/Math.sqrt(c*c+d*d+e*e),a.set(b,c*g),a.set(b+1,d*g),a.set(b+2,e*g),b+=p;this._vertexNormalsDirty=!1;return a},updateVertexTangents:function(a){this._faceTangentsDirty&&this.updateFaceTangents();var b=0,c=this._vertexData.get_length(),d=this.get_vertexTangentStride(),e=this.get_vertexTangentOffset();null==a&&(a=D.toFloatVector(null,
c,!0));for(b=e;b<c;)a.set(b,0),a.set(b+1,0),a.set(b+2,0),b+=d;for(var f=0,p=this._indices.get_length(),g,m,h=0,l=1,k=2,b=0;b<p;){m=this._useFaceWeights?this._faceWeights.get(f++):1;g=e+this._indices.get(b++)*d;var A=g++,U=a;U.set(A,U.get(A)+this._faceTangents.get(h)*m);A=g++;U=a;U.set(A,U.get(A)+this._faceTangents.get(l)*m);A=a;A.set(g,A.get(g)+this._faceTangents.get(k)*m);g=e+this._indices.get(b++)*d;A=g++;U=a;U.set(A,U.get(A)+this._faceTangents.get(h)*m);A=g++;U=a;U.set(A,U.get(A)+this._faceTangents.get(l)*
m);A=a;A.set(g,A.get(g)+this._faceTangents.get(k)*m);g=e+this._indices.get(b++)*d;A=g++;U=a;U.set(A,U.get(A)+this._faceTangents.get(h)*m);A=g++;U=a;U.set(A,U.get(A)+this._faceTangents.get(l)*m);A=a;A.set(g,A.get(g)+this._faceTangents.get(k)*m);h+=3;l+=3;k+=3}for(b=e;b<c;)e=a.get(b),f=a.get(b+1),p=a.get(b+2),m=1/Math.sqrt(e*e+f*f+p*p),a.set(b,e*m),a.set(b+1,f*m),a.set(b+2,p*m),b+=d;this._vertexTangentsDirty=!1;return a},dispose:function(){this.disposeIndexBuffers(this._indexBuffer);this._vertexData=
this._faceTangents=this._faceWeights=this._faceNormals=this._indexBufferContext=this._indices=null},get_indexData:function(){return this._indices},updateIndexData:function(a){this._indices=a;this._numIndices=a.get_length();a=this._numIndices/3|0;this._numTriangles!=a&&this.disposeIndexBuffers(this._indexBuffer);this._numTriangles=a;this.invalidateBuffers(this._indicesInvalid);this._faceNormalsDirty=!0;this._autoDeriveVertexNormals&&(this._vertexNormalsDirty=!0);this._autoDeriveVertexTangents&&(this._vertexTangentsDirty=
!0)},disposeIndexBuffers:function(a){for(var b=0;8>b;){var c=b++;null!=a.get(c)&&(Da.disposeIndexBuffer(a.get(c)),a.set(c,null))}},disposeVertexBuffers:function(a){for(var b=0;8>b;){var c=b++;null!=a.get(c)&&(Da.disposeVertexBuffer(a.get(c)),a.set(c,null))}},get_autoDeriveVertexTangents:function(){return this._autoDeriveVertexTangents},set_autoDeriveVertexTangents:function(a){return this._vertexTangentsDirty=this._autoDeriveVertexTangents=a},get_faceNormals:function(){this._faceNormalsDirty&&this.updateFaceNormals();
return this._faceNormals},invalidateBuffers:function(a){for(var b=0;8>b;){var c=b++;a.set(c,!0)}},get_UVStride:function(){throw new F(new oa);},get_vertexData:function(){throw new F(new oa);},get_vertexPositionData:function(){throw new F(new oa);},get_vertexNormalData:function(){throw new F(new oa);},get_vertexTangentData:function(){throw new F(new oa);},get_UVData:function(){throw new F(new oa);},get_vertexStride:function(){throw new F(new oa);},get_vertexNormalStride:function(){throw new F(new oa);
},get_vertexTangentStride:function(){throw new F(new oa);},get_vertexOffset:function(){throw new F(new oa);},get_vertexNormalOffset:function(){throw new F(new oa);},get_vertexTangentOffset:function(){throw new F(new oa);},get_UVOffset:function(){throw new F(new oa);},invalidateBounds:function(){null!=this._parentGeometry&&this._parentGeometry.invalidateBounds(y.__cast(this,yg))},get_parentGeometry:function(){return this._parentGeometry},set_parentGeometry:function(a){return this._parentGeometry=a},
get_scaleU:function(){return this._scaleU},get_scaleV:function(){return this._scaleV},scaleUV:function(a,b){null==b&&(b=1);null==a&&(a=1);for(var c=this.get_UVOffset(),d=this.get_UVStride(),e=this.get_UVData(),f=e.get_length(),p=a/this._scaleU,g=b/this._scaleV;c<f;){var m=c,h=e;h.set(m,h.get(m)*p);m=c+1;h=e;h.set(m,h.get(m)*g);c+=d}this._scaleU=a;this._scaleV=b},scale:function(a){for(var b=this.get_UVData(),c=b.get_length(),d=this.get_vertexOffset(),e=this.get_vertexStride();d<c;){var f=d,p=b;p.set(f,
p.get(f)*a);f=d+1;p=b;p.set(f,p.get(f)*a);f=d+2;p=b;p.set(f,p.get(f)*a);d+=e}},applyTransformation:function(a){var b=this._vertexData,c=this.get_vertexNormalData(),d=this.get_vertexTangentData(),e=this.get_vertexStride(),f=this.get_vertexNormalStride(),p=this.get_vertexTangentStride(),g=this.get_vertexOffset(),m=this.get_vertexNormalOffset(),h=this.get_vertexTangentOffset(),l=b.get_length()/e|0,k,A=new T,U=null!=c,v=null!=d,q=null;if(U||v)q=a.clone(),q.invert(),q.transpose();for(var C=h,n=0;n<l;)n++,
h=g+1,k=g+2,A.x=b.get(g),A.y=b.get(h),A.z=b.get(k),A=a.transformVector(A),b.set(g,A.x),b.set(h,A.y),b.set(k,A.z),g+=e,U&&(h=m+1,k=m+2,A.x=c.get(m),A.y=c.get(h),A.z=c.get(k),A=q.deltaTransformVector(A),A.normalize(),c.set(m,A.x),c.set(h,A.y),c.set(k,A.z),m+=f),v&&(h=C+1,k=C+2,A.x=d.get(C),A.y=d.get(h),A.z=d.get(k),A=q.deltaTransformVector(A),A.normalize(),d.set(C,A.x),d.set(h,A.y),d.set(k,A.z),C+=p)},updateDummyUVs:function(a){this._uvsDirty=!1;var b,c;b=this.get_UVStride();var d=b-2,e=this._vertexData.get_length()/
this.get_vertexStride()*b|0;null==a&&(a=D.toFloatVector(null));a.fixed=!1;a.set_length(e);a.fixed=!0;b=this.get_UVOffset();for(c=0;b<e;)a.set(b++,.5*c),a.set(b++,1-(c&1)),b+=d,3==++c&&(c=0);return a},__class__:qb,__properties__:{get_scaleV:"get_scaleV",get_scaleU:"get_scaleU",set_parentGeometry:"set_parentGeometry",get_parentGeometry:"get_parentGeometry",get_UVOffset:"get_UVOffset",get_vertexTangentOffset:"get_vertexTangentOffset",get_vertexNormalOffset:"get_vertexNormalOffset",get_vertexOffset:"get_vertexOffset",
get_vertexTangentStride:"get_vertexTangentStride",get_vertexNormalStride:"get_vertexNormalStride",get_vertexStride:"get_vertexStride",get_UVData:"get_UVData",get_vertexTangentData:"get_vertexTangentData",get_vertexNormalData:"get_vertexNormalData",get_vertexPositionData:"get_vertexPositionData",get_vertexData:"get_vertexData",get_UVStride:"get_UVStride",get_faceNormals:"get_faceNormals",set_autoDeriveVertexTangents:"set_autoDeriveVertexTangents",get_autoDeriveVertexTangents:"get_autoDeriveVertexTangents",
get_indexData:"get_indexData",get_numTriangles:"get_numTriangles",set_useFaceWeights:"set_useFaceWeights",get_useFaceWeights:"get_useFaceWeights",set_autoDeriveVertexNormals:"set_autoDeriveVertexNormals",get_autoDeriveVertexNormals:"get_autoDeriveVertexNormals",set_autoGenerateDummyUVs:"set_autoGenerateDummyUVs",get_autoGenerateDummyUVs:"get_autoGenerateDummyUVs"}};var yg=function(){};k["away3d.core.base.ISubGeometry"]=yg;yg.__name__=["away3d","core","base","ISubGeometry"];yg.prototype={get_numVertices:null,
get_numTriangles:null,get_vertexStride:null,get_vertexNormalStride:null,get_vertexTangentStride:null,get_UVStride:null,get_secondaryUVStride:null,get_vertexData:null,get_vertexNormalData:null,get_vertexTangentData:null,get_vertexOffset:null,get_vertexNormalOffset:null,get_vertexTangentOffset:null,get_UVOffset:null,get_secondaryUVOffset:null,get_indexData:null,get_UVData:null,get_scaleU:null,get_scaleV:null,get_parentGeometry:null,set_parentGeometry:null,get_faceNormals:null,get_autoDeriveVertexNormals:null,
set_autoDeriveVertexNormals:null,get_autoDeriveVertexTangents:null,set_autoDeriveVertexTangents:null,get_vertexPositionData:null,activateVertexBuffer:null,activateUVBuffer:null,activateSecondaryUVBuffer:null,activateVertexNormalBuffer:null,activateVertexTangentBuffer:null,getIndexBuffer:null,applyTransformation:null,scale:null,dispose:null,clone:null,scaleUV:null,cloneWithSeperateBuffers:null,fromVectors:null,__class__:yg,__properties__:{get_vertexPositionData:"get_vertexPositionData",set_autoDeriveVertexTangents:"set_autoDeriveVertexTangents",
get_autoDeriveVertexTangents:"get_autoDeriveVertexTangents",set_autoDeriveVertexNormals:"set_autoDeriveVertexNormals",get_autoDeriveVertexNormals:"get_autoDeriveVertexNormals",get_faceNormals:"get_faceNormals",set_parentGeometry:"set_parentGeometry",get_parentGeometry:"get_parentGeometry",get_scaleV:"get_scaleV",get_scaleU:"get_scaleU",get_UVData:"get_UVData",get_indexData:"get_indexData",get_secondaryUVOffset:"get_secondaryUVOffset",get_UVOffset:"get_UVOffset",get_vertexTangentOffset:"get_vertexTangentOffset",
get_vertexNormalOffset:"get_vertexNormalOffset",get_vertexOffset:"get_vertexOffset",get_vertexTangentData:"get_vertexTangentData",get_vertexNormalData:"get_vertexNormalData",get_vertexData:"get_vertexData",get_secondaryUVStride:"get_secondaryUVStride",get_UVStride:"get_UVStride",get_vertexTangentStride:"get_vertexTangentStride",get_vertexNormalStride:"get_vertexNormalStride",get_vertexStride:"get_vertexStride",get_numTriangles:"get_numTriangles",get_numVertices:"get_numVertices"}};var Wc=function(){this._bufferContext=
D.toObjectVector(null,8);this._vertexBuffer=D.toObjectVector(null,8);this._vertexDataInvalid=D.toBoolVector(null,8,!0);qb.call(this);this._autoDeriveVertexTangents=this._autoDeriveVertexNormals=!1};k["away3d.core.base.CompactSubGeometry"]=Wc;Wc.__name__=["away3d","core","base","CompactSubGeometry"];Wc.__interfaces__=[yg];Wc.__super__=qb;Wc.prototype=t(qb.prototype,{_vertexDataInvalid:null,_vertexBuffer:null,_bufferContext:null,_numVertices:null,_contextIndex:null,_activeBuffer:null,_activeContext:null,
_activeDataInvalid:null,_isolatedVertexPositionData:null,_isolatedVertexPositionDataDirty:null,get_numVertices:function(){return this._numVertices},updateData:function(a){this._autoDeriveVertexNormals&&(this._vertexNormalsDirty=!0);this._autoDeriveVertexTangents&&(this._vertexTangentsDirty=!0);this._isolatedVertexPositionDataDirty=this._faceTangentsDirty=this._faceNormalsDirty=!0;this._vertexData=a;a=this._vertexData.get_length()/13|0;a!=this._numVertices&&this.disposeVertexBuffers(this._vertexBuffer);
this._numVertices=a;if(0==this._numVertices)throw new F(new ja("Bad data: geometry can't have zero triangles"));this.invalidateBuffers(this._vertexDataInvalid);this.invalidateBounds()},activateVertexBuffer:function(a,b){var c=b._stage3DIndex,d=b._context3D;c!=this._contextIndex&&this.updateActiveBuffer(c);null!=this._activeBuffer&&this._activeContext==d||this.createBuffer(c,d,b);this._activeDataInvalid&&this.uploadData(c);d.setVertexBufferAt(a,this._activeBuffer,0,3)},activateUVBuffer:function(a,
b){var c=b._stage3DIndex,d=b._context3D;this._uvsDirty&&this._autoGenerateUVs&&(this._vertexData=this.updateDummyUVs(this._vertexData),this.invalidateBuffers(this._vertexDataInvalid));c!=this._contextIndex&&this.updateActiveBuffer(c);null!=this._activeBuffer&&this._activeContext==d||this.createBuffer(c,d,b);this._activeDataInvalid&&this.uploadData(c);d.setVertexBufferAt(a,this._activeBuffer,9,2)},activateSecondaryUVBuffer:function(a,b){var c=b._stage3DIndex,d=b._context3D;c!=this._contextIndex&&this.updateActiveBuffer(c);
null!=this._activeBuffer&&this._activeContext==d||this.createBuffer(c,d,b);this._activeDataInvalid&&this.uploadData(c);d.setVertexBufferAt(a,this._activeBuffer,11,2)},uploadData:function(a){this._activeBuffer.uploadFromVector(this._vertexData,0,this._numVertices);this._vertexDataInvalid.set(a,this._activeDataInvalid=!1)},activateVertexNormalBuffer:function(a,b){var c=b._stage3DIndex,d=b._context3D;c!=this._contextIndex&&this.updateActiveBuffer(c);null!=this._activeBuffer&&this._activeContext==d||
this.createBuffer(c,d,b);this._activeDataInvalid&&this.uploadData(c);d.setVertexBufferAt(a,this._activeBuffer,3,3)},activateVertexTangentBuffer:function(a,b){var c=b._stage3DIndex,d=b._context3D;c!=this._contextIndex&&this.updateActiveBuffer(c);null!=this._activeBuffer&&this._activeContext==d||this.createBuffer(c,d,b);this._activeDataInvalid&&this.uploadData(c);d.setVertexBufferAt(a,this._activeBuffer,6,3)},createBuffer:function(a,b,c){this._vertexBuffer.set(a,this._activeBuffer=c.createVertexBuffer(this._numVertices,
13));this._bufferContext.set(a,this._activeContext=b);this._vertexDataInvalid.set(a,this._activeDataInvalid=!0)},updateActiveBuffer:function(a){this._contextIndex=a;this._activeDataInvalid=this._vertexDataInvalid.get(a);this._activeBuffer=this._vertexBuffer.get(a);this._activeContext=this._bufferContext.get(a)},get_vertexData:function(){this._autoDeriveVertexNormals&&this._vertexNormalsDirty&&(this._vertexData=this.updateVertexNormals(this._vertexData));this._autoDeriveVertexTangents&&this._vertexTangentsDirty&&
(this._vertexData=this.updateVertexTangents(this._vertexData));this._uvsDirty&&this._autoGenerateUVs&&(this._vertexData=this.updateDummyUVs(this._vertexData));return this._vertexData},updateVertexNormals:function(a){this.invalidateBuffers(this._vertexDataInvalid);return qb.prototype.updateVertexNormals.call(this,a)},updateVertexTangents:function(a){this._vertexNormalsDirty&&(this._vertexData=this.updateVertexNormals(this._vertexData));this.invalidateBuffers(this._vertexDataInvalid);return qb.prototype.updateVertexTangents.call(this,
a)},get_vertexNormalData:function(){this._autoDeriveVertexNormals&&this._vertexNormalsDirty&&(this._vertexData=this.updateVertexNormals(this._vertexData));return this._vertexData},get_vertexTangentData:function(){this._autoDeriveVertexTangents&&this._vertexTangentsDirty&&(this._vertexData=this.updateVertexTangents(this._vertexData));return this._vertexData},get_UVData:function(){this._uvsDirty&&this._autoGenerateUVs&&(this._vertexData=this.updateDummyUVs(this._vertexData),this.invalidateBuffers(this._vertexDataInvalid));
return this._vertexData},applyTransformation:function(a){qb.prototype.applyTransformation.call(this,a);this.invalidateBuffers(this._vertexDataInvalid)},scale:function(a){qb.prototype.scale.call(this,a);this.invalidateBuffers(this._vertexDataInvalid)},clone:function(){var a=new Wc;a._autoDeriveVertexNormals=this._autoDeriveVertexNormals;a._autoDeriveVertexTangents=this._autoDeriveVertexTangents;a.updateData(this._vertexData.concat(null));a.updateIndexData(this._indices.concat(null));return a},scaleUV:function(a,
b){null==b&&(b=1);null==a&&(a=1);qb.prototype.scaleUV.call(this,a,b);this.invalidateBuffers(this._vertexDataInvalid)},get_vertexStride:function(){return 13},get_vertexNormalStride:function(){return 13},get_vertexTangentStride:function(){return 13},get_UVStride:function(){return 13},get_secondaryUVStride:function(){return 13},get_vertexOffset:function(){return 0},get_vertexNormalOffset:function(){return 3},get_vertexTangentOffset:function(){return 6},get_UVOffset:function(){return 9},get_secondaryUVOffset:function(){return 11},
dispose:function(){qb.prototype.dispose.call(this);this.disposeVertexBuffers(this._vertexBuffer);this._vertexBuffer=null},disposeVertexBuffers:function(a){qb.prototype.disposeVertexBuffers.call(this,a);this._activeBuffer=null},invalidateBuffers:function(a){qb.prototype.invalidateBuffers.call(this,a);this._activeDataInvalid=!0},cloneWithSeperateBuffers:function(){var a=new he;a.updateVertexData(null!=this._isolatedVertexPositionData?this._isolatedVertexPositionData:this._isolatedVertexPositionData=
this.stripBuffer(0,3));a.set_autoDeriveVertexNormals(this._autoDeriveVertexNormals);a.set_autoDeriveVertexTangents(this._autoDeriveVertexTangents);this._autoDeriveVertexNormals||a.updateVertexNormalData(this.stripBuffer(3,3));this._autoDeriveVertexTangents||a.updateVertexTangentData(this.stripBuffer(6,3));a.updateUVData(this.stripBuffer(9,2));a.updateSecondaryUVData(this.stripBuffer(11,2));a.updateIndexData(this.get_indexData().concat(null));return a},get_vertexPositionData:function(){if(this._isolatedVertexPositionDataDirty||
null==this._isolatedVertexPositionData)this._isolatedVertexPositionData=this.stripBuffer(0,3),this._isolatedVertexPositionDataDirty=!1;return this._isolatedVertexPositionData},stripBuffer:function(a,b){for(var c=D.toFloatVector(null,this._numVertices*b),d=0,e=a,f=13-b,p=0,g=this._numVertices;p<g;){p++;for(var m=0,h=b;m<h;)m++,c.set(d++,this._vertexData.get(e++));e+=f}return c},fromVectors:function(a,b,c,d){for(var e=a.get_length()/3*13|0,f=0,p=0,g=0,m=0,h=0,l=D.toFloatVector(null,e,!0);f<e;)l.set(f++,
a.get(p++)),l.set(f++,a.get(p++)),l.set(f++,a.get(p++)),null!=c&&0<c.get_length()?(l.set(f++,c.get(g++)),l.set(f++,c.get(g++)),l.set(f++,c.get(g++))):(l.set(f++,0),l.set(f++,0),l.set(f++,0)),null!=d&&0<d.get_length()?(l.set(f++,d.get(m++)),l.set(f++,d.get(m++)),l.set(f++,d.get(m++))):(l.set(f++,0),l.set(f++,0),l.set(f++,0)),null!=b&&0<b.get_length()?(l.set(f++,b.get(h)),l.set(f++,b.get(h+1)),l.set(f++,b.get(h++)),l.set(f++,b.get(h++))):(l.set(f++,0),l.set(f++,0),l.set(f++,0),l.set(f++,0));this.set_autoDeriveVertexNormals(!(null!=
c&&0<c.get_length()));this.set_autoDeriveVertexTangents(!(null!=d&&0<d.get_length()));this.set_autoGenerateDummyUVs(!(null!=b&&0<b.get_length()));this.updateData(l)},__class__:Wc,__properties__:t(qb.prototype.__properties__,{get_secondaryUVOffset:"get_secondaryUVOffset",get_secondaryUVStride:"get_secondaryUVStride",get_numVertices:"get_numVertices"})});var xc=function(){Ia.call(this);this._subGeometries=D.toObjectVector(null)};k["away3d.core.base.Geometry"]=xc;xc.__name__=["away3d","core","base",
"Geometry"];xc.__interfaces__=[Uc];xc.__super__=Ia;xc.prototype=t(Ia.prototype,{_subGeometries:null,get_assetType:function(){return"geometry"},get_subGeometries:function(){return this._subGeometries},applyTransformation:function(a){for(var b=0,c=this._subGeometries.get_length();b<c;){var d=b++;this._subGeometries.get(d).applyTransformation(a)}},addSubGeometry:function(a){this._subGeometries.push(a);a.set_parentGeometry(this);this.hasEventListener("SubGeometryAdded")&&this.dispatchEvent(new Bd("SubGeometryAdded",
a));this.invalidateBounds(a)},removeSubGeometry:function(a){this._subGeometries.splice(this._subGeometries.indexOf(a,0),1);a.set_parentGeometry(null);this.hasEventListener("SubGeometryRemoved")&&this.dispatchEvent(new Bd("SubGeometryRemoved",a));this.invalidateBounds(a)},clone:function(){for(var a=new xc,b=0,c=this._subGeometries.get_length();b<c;){var d=b++;a.addSubGeometry(this._subGeometries.get(d).clone())}return a},scale:function(a){for(var b=0,c=this._subGeometries.get_length();b<c;){var d=
b++;this._subGeometries.get(d).scale(a)}},dispose:function(){for(var a=0,b=this._subGeometries.get_length();a<b;){a++;var c=this._subGeometries.get(0);this.removeSubGeometry(c);c.dispose()}},scaleUV:function(a,b){null==b&&(b=1);null==a&&(a=1);for(var c=0,d=this._subGeometries.get_length();c<d;){var e=c++;this._subGeometries.get(e).scaleUV(a,b)}},convertToSeparateBuffers:function(){for(var a,b=this._subGeometries.get_length(),c=D.toObjectVector(null),d=0;d<b;)a=d++,a=this._subGeometries.get(a),y.__instanceof(a,
he)||(c.push(a),this.addSubGeometry(a.cloneWithSeperateBuffers()));for(b=0;b<c.get_length();)d=c.get(b),++b,this.removeSubGeometry(d),d.dispose()},validate:function(){},invalidateBounds:function(a){this.hasEventListener("BoundsInvalid")&&this.dispatchEvent(new Bd("BoundsInvalid",a))},__class__:xc,__properties__:t(Ia.prototype.__properties__,{get_subGeometries:"get_subGeometries",get_assetType:"get_assetType"})});var Qh=function(){};k["away3d.core.base.IMaterialOwner"]=Qh;Qh.__name__=["away3d","core",
"base","IMaterialOwner"];Qh.prototype={get_material:null,set_material:null,get_animator:null,__class__:Qh,__properties__:{get_animator:"get_animator",set_material:"set_material",get_material:"get_material"}};var Ef=function(){};k["away3d.core.base.IRenderable"]=Ef;Ef.__name__=["away3d","core","base","IRenderable"];Ef.__interfaces__=[Qh];Ef.prototype={get_sceneTransform:null,get_inverseSceneTransform:null,get_mouseEnabled:null,get_sourceEntity:null,get_castsShadows:null,get_uvTransform:null,get_uvTransform2:null,
get_shaderPickingDetails:null,get_numVertices:null,get_numTriangles:null,get_vertexStride:null,get_vertexData:null,get_vertexNormalData:null,get_vertexTangentData:null,get_indexData:null,get_UVData:null,getRenderSceneTransform:null,activateVertexBuffer:null,activateUVBuffer:null,activateSecondaryUVBuffer:null,activateVertexNormalBuffer:null,activateVertexTangentBuffer:null,getIndexBuffer:null,__class__:Ef,__properties__:{get_UVData:"get_UVData",get_indexData:"get_indexData",get_vertexTangentData:"get_vertexTangentData",
get_vertexNormalData:"get_vertexNormalData",get_vertexData:"get_vertexData",get_vertexStride:"get_vertexStride",get_numTriangles:"get_numTriangles",get_numVertices:"get_numVertices",get_shaderPickingDetails:"get_shaderPickingDetails",get_uvTransform2:"get_uvTransform2",get_uvTransform:"get_uvTransform",get_castsShadows:"get_castsShadows",get_sourceEntity:"get_sourceEntity",get_mouseEnabled:"get_mouseEnabled",get_inverseSceneTransform:"get_inverseSceneTransform",get_sceneTransform:"get_sceneTransform"}};
var df=function(a){this._jointIndexContext=D.toObjectVector(null,8);this._jointWeightContext=D.toObjectVector(null,8);this._jointIndicesInvalid=D.toBoolVector(null,8,!0);this._jointWeightsInvalid=D.toBoolVector(null,8,!0);this._jointIndexBuffer=D.toObjectVector(null,8);this._jointWeightsBuffer=D.toObjectVector(null,8);Wc.call(this);this._jointsPerVertex=a;this._bufferFormat=this.getVertexBufferFormat(this._jointsPerVertex)};k["away3d.core.base.SkinnedSubGeometry"]=df;df.__name__=["away3d","core",
"base","SkinnedSubGeometry"];df.__super__=Wc;df.prototype=t(Wc.prototype,{_bufferFormat:null,_jointWeightsData:null,_jointIndexData:null,_animatedData:null,_jointWeightsBuffer:null,_jointIndexBuffer:null,_jointWeightsInvalid:null,_jointIndicesInvalid:null,_jointWeightContext:null,_jointIndexContext:null,_jointsPerVertex:null,_condensedJointIndexData:null,_condensedIndexLookUp:null,_numCondensedJoints:null,getVertexBufferFormat:function(a){switch(a){case 1:return 1;case 2:return 2;case 3:return 3;
case 4:return 3;default:return null}},get_condensedIndexLookUp:function(){return this._condensedIndexLookUp},get_numCondensedJoints:function(){return this._numCondensedJoints},get_animatedData:function(){return null!=this._animatedData?this._animatedData:this._vertexData.concat(null)},updateAnimatedData:function(a){this._animatedData=a;this.invalidateBuffers(this._vertexDataInvalid)},activateJointWeightsBuffer:function(a,b){var c=b._stage3DIndex,d=b._context3D;if(this._jointWeightContext.get(c)!=
d||null==this._jointWeightsBuffer.get(c))this._jointWeightsBuffer.set(c,b.createVertexBuffer(this._numVertices,this._jointsPerVertex)),this._jointWeightContext.set(c,d),this._jointWeightsInvalid.set(c,!0);this._jointWeightsInvalid.get(c)&&(this._jointWeightsBuffer.get(c).uploadFromVector(this._jointWeightsData,0,this._jointWeightsData.get_length()/this._jointsPerVertex|0),this._jointWeightsInvalid.set(c,!1));d.setVertexBufferAt(a,this._jointWeightsBuffer.get(c),0,this._bufferFormat)},activateJointIndexBuffer:function(a,
b){var c=b._stage3DIndex,d=b._context3D;if(this._jointIndexContext.get(c)!=d||null==this._jointIndexBuffer.get(c))this._jointIndexBuffer.set(c,b.createVertexBuffer(this._numVertices,this._jointsPerVertex)),this._jointIndexContext.set(c,d),this._jointIndicesInvalid.set(c,!0);this._jointIndicesInvalid.get(c)&&(this._jointIndexBuffer.get(c).uploadFromVector(0<this._numCondensedJoints?this._condensedJointIndexData:this._jointIndexData,0,this._jointIndexData.get_length()/this._jointsPerVertex|0),this._jointIndicesInvalid.set(c,
!1));d.setVertexBufferAt(a,this._jointIndexBuffer.get(c),0,this._bufferFormat)},uploadData:function(a){null!=this._animatedData?(this._activeBuffer.uploadFromVector(this._animatedData,0,this._numVertices),this._vertexDataInvalid.set(a,this._activeDataInvalid=!1)):Wc.prototype.uploadData.call(this,a)},clone:function(){var a=new df(this._jointsPerVertex);a.updateData(this._vertexData.concat(null));a.updateIndexData(this._indices.concat(null));a.updateJointIndexData(this._jointIndexData.concat(null));
a.updateJointWeightsData(this._jointWeightsData.concat(null));a._autoDeriveVertexNormals=this._autoDeriveVertexNormals;a._autoDeriveVertexTangents=this._autoDeriveVertexTangents;a._numCondensedJoints=this._numCondensedJoints;a._condensedIndexLookUp=this._condensedIndexLookUp;a._condensedJointIndexData=this._condensedJointIndexData;return a},dispose:function(){Wc.prototype.dispose.call(this);this.disposeVertexBuffers(this._jointWeightsBuffer);this.disposeVertexBuffers(this._jointIndexBuffer)},condenseIndexData:function(){var a=
this._jointIndexData.get_length(),b,c=0,d=new Ib;this._condensedJointIndexData=D.toFloatVector(null,a,!0);this._condensedIndexLookUp=D.toIntVector(null);for(var e=0;e<a;){var f=e++;b=this._jointIndexData.get(f)|0;d.h.hasOwnProperty(b)||(d.h[b]=c,this._condensedIndexLookUp.set(c++,b),this._condensedIndexLookUp.set(c++,b+1),this._condensedIndexLookUp.set(c++,b+2));this._condensedJointIndexData.set(f,d.h[b])}this._numCondensedJoints=c/3|0;this.invalidateBuffers(this._jointIndicesInvalid)},get_jointWeightsData:function(){return this._jointWeightsData},
updateJointWeightsData:function(a){this._numCondensedJoints=0;this._condensedJointIndexData=this._condensedIndexLookUp=null;this._jointWeightsData=a;this.invalidateBuffers(this._jointWeightsInvalid)},get_jointIndexData:function(){return this._jointIndexData},updateJointIndexData:function(a){this._jointIndexData=a;this.invalidateBuffers(this._jointIndicesInvalid)},__class__:df,__properties__:t(Wc.prototype.__properties__,{get_jointIndexData:"get_jointIndexData",get_jointWeightsData:"get_jointWeightsData",
get_animatedData:"get_animatedData",get_numCondensedJoints:"get_numCondensedJoints",get_condensedIndexLookUp:"get_condensedIndexLookUp"})});var he=function(){this._vertexTangentBufferContext=D.toObjectVector(null,8);this._vertexNormalBufferContext=D.toObjectVector(null,8);this._secondaryUvBufferContext=D.toObjectVector(null,8);this._uvBufferContext=D.toObjectVector(null,8);this._vertexBufferContext=D.toObjectVector(null,8);this._vertexTangentBuffer=D.toObjectVector(null,8);this._vertexNormalBuffer=
D.toObjectVector(null,8);this._secondaryUvBuffer=D.toObjectVector(null,8);this._uvBuffer=D.toObjectVector(null,8);this._vertexBuffer=D.toObjectVector(null,8);this._tangentsInvalid=D.toBoolVector(null,8,!0);this._normalsInvalid=D.toBoolVector(null,8,!0);this._secondaryUvsInvalid=D.toBoolVector(null,8,!0);this._uvsInvalid=D.toBoolVector(null,8,!0);this._verticesInvalid=D.toBoolVector(null,8,!0);qb.call(this)};k["away3d.core.base.SubGeometry"]=he;he.__name__=["away3d","core","base","SubGeometry"];he.__interfaces__=
[yg];he.__super__=qb;he.prototype=t(qb.prototype,{_uvs:null,_secondaryUvs:null,_vertexNormals:null,_vertexTangents:null,_verticesInvalid:null,_uvsInvalid:null,_secondaryUvsInvalid:null,_normalsInvalid:null,_tangentsInvalid:null,_vertexBuffer:null,_uvBuffer:null,_secondaryUvBuffer:null,_vertexNormalBuffer:null,_vertexTangentBuffer:null,_vertexBufferContext:null,_uvBufferContext:null,_secondaryUvBufferContext:null,_vertexNormalBufferContext:null,_vertexTangentBufferContext:null,_numVertices:null,get_numVertices:function(){return this._numVertices},
activateVertexBuffer:function(a,b){var c=b._stage3DIndex,d=b._context3D;if(null==this._vertexBuffer.get(c)||this._vertexBufferContext.get(c)!=d)this._vertexBuffer.set(c,b.createVertexBuffer(this._numVertices,3)),this._vertexBufferContext.set(c,d),this._verticesInvalid.set(c,!0);this._verticesInvalid.get(c)&&(this._vertexBuffer.get(c).uploadFromVector(this._vertexData,0,this._numVertices),this._verticesInvalid.set(c,!1));d.setVertexBufferAt(a,this._vertexBuffer.get(c),0,3)},activateUVBuffer:function(a,
b){var c=b._stage3DIndex,d=b._context3D;this._autoGenerateUVs&&this._uvsDirty&&(this._uvs=this.updateDummyUVs(this._uvs));if(null==this._uvBuffer.get(c)||this._uvBufferContext.get(c)!=d)this._uvBuffer.set(c,b.createVertexBuffer(this._numVertices,2)),this._uvBufferContext.set(c,d),this._uvsInvalid.set(c,!0);this._uvsInvalid.get(c)&&(this._uvBuffer.get(c).uploadFromVector(this._uvs,0,this._numVertices),this._uvsInvalid.set(c,!1));d.setVertexBufferAt(a,this._uvBuffer.get(c),0,2)},activateSecondaryUVBuffer:function(a,
b){var c=b._stage3DIndex,d=b._context3D;if(null==this._secondaryUvBuffer.get(c)||this._secondaryUvBufferContext.get(c)!=d)this._secondaryUvBuffer.set(c,b.createVertexBuffer(this._numVertices,2)),this._secondaryUvBufferContext.set(c,d),this._secondaryUvsInvalid.set(c,!0);this._secondaryUvsInvalid.get(c)&&(this._secondaryUvBuffer.get(c).uploadFromVector(this._secondaryUvs,0,this._numVertices),this._secondaryUvsInvalid.set(c,!1));d.setVertexBufferAt(a,this._secondaryUvBuffer.get(c),0,2)},activateVertexNormalBuffer:function(a,
b){var c=b._stage3DIndex,d=b._context3D;this._autoDeriveVertexNormals&&this._vertexNormalsDirty&&(this._vertexNormals=this.updateVertexNormals(this._vertexNormals));if(null==this._vertexNormalBuffer.get(c)||this._vertexNormalBufferContext.get(c)!=d)this._vertexNormalBuffer.set(c,b.createVertexBuffer(this._numVertices,3)),this._vertexNormalBufferContext.set(c,d),this._normalsInvalid.set(c,!0);this._normalsInvalid.get(c)&&(this._vertexNormalBuffer.get(c).uploadFromVector(this._vertexNormals,0,this._numVertices),
this._normalsInvalid.set(c,!1));d.setVertexBufferAt(a,this._vertexNormalBuffer.get(c),0,3)},activateVertexTangentBuffer:function(a,b){var c=b._stage3DIndex,d=b._context3D;this._vertexTangentsDirty&&(this._vertexTangents=this.updateVertexTangents(this._vertexTangents));if(null==this._vertexTangentBuffer.get(c)||this._vertexTangentBufferContext.get(c)!=d)this._vertexTangentBuffer.set(c,b.createVertexBuffer(this._numVertices,3)),this._vertexTangentBufferContext.set(c,d),this._tangentsInvalid.set(c,!0);
this._tangentsInvalid.get(c)&&(this._vertexTangentBuffer.get(c).uploadFromVector(this._vertexTangents,0,this._numVertices),this._tangentsInvalid.set(c,!1));d.setVertexBufferAt(a,this._vertexTangentBuffer.get(c),0,3)},applyTransformation:function(a){qb.prototype.applyTransformation.call(this,a);this.invalidateBuffers(this._verticesInvalid);this.invalidateBuffers(this._normalsInvalid);this.invalidateBuffers(this._tangentsInvalid)},clone:function(){var a=new he;a.updateVertexData(this._vertexData.concat(null));
a.updateUVData(this._uvs.concat(null));a.updateIndexData(this._indices.concat(null));null!=this._secondaryUvs&&a.updateSecondaryUVData(this._secondaryUvs.concat(null));this._autoDeriveVertexNormals||a.updateVertexNormalData(this._vertexNormals.concat(null));this._autoDeriveVertexTangents||a.updateVertexTangentData(this._vertexTangents.concat(null));return a},scale:function(a){qb.prototype.scale.call(this,a);this.invalidateBuffers(this._verticesInvalid)},scaleUV:function(a,b){null==b&&(b=1);null==
a&&(a=1);qb.prototype.scaleUV.call(this,a,b);this.invalidateBuffers(this._uvsInvalid)},dispose:function(){qb.prototype.dispose.call(this);this.disposeAllVertexBuffers();this._vertexTangentBufferContext=this._vertexNormalBufferContext=this._secondaryUvBufferContext=this._uvBufferContext=this._vertexBufferContext=this._vertexTangents=this._vertexNormals=this._secondaryUvs=this._uvs=this._indexBuffer=this._vertexTangentBuffer=this._secondaryUvBuffer=this._uvBuffer=this._vertexNormalBuffer=this._vertexBuffer=
null},disposeAllVertexBuffers:function(){this.disposeVertexBuffers(this._vertexBuffer);this.disposeVertexBuffers(this._vertexNormalBuffer);this.disposeVertexBuffers(this._uvBuffer);this.disposeVertexBuffers(this._secondaryUvBuffer);this.disposeVertexBuffers(this._vertexTangentBuffer)},get_vertexData:function(){return this._vertexData},get_vertexPositionData:function(){return this._vertexData},updateVertexData:function(a){this._autoDeriveVertexNormals&&(this._vertexNormalsDirty=!0);this._autoDeriveVertexTangents&&
(this._vertexTangentsDirty=!0);this._faceNormalsDirty=!0;this._vertexData=a;a=a.get_length()/3|0;a!=this._numVertices&&this.disposeAllVertexBuffers();this._numVertices=a;this.invalidateBuffers(this._verticesInvalid);this.invalidateBounds()},get_UVData:function(){this._uvsDirty&&this._autoGenerateUVs&&(this._uvs=this.updateDummyUVs(this._uvs));return this._uvs},get_secondaryUVData:function(){return this._secondaryUvs},updateUVData:function(a){this._autoDeriveVertexTangents&&(this._vertexTangentsDirty=
!0);this._faceTangentsDirty=!0;this._uvs=a;this.invalidateBuffers(this._uvsInvalid)},updateSecondaryUVData:function(a){this._secondaryUvs=a;this.invalidateBuffers(this._secondaryUvsInvalid)},get_vertexNormalData:function(){this._autoDeriveVertexNormals&&this._vertexNormalsDirty&&(this._vertexNormals=this.updateVertexNormals(this._vertexNormals));return this._vertexNormals},updateVertexNormalData:function(a){this._vertexNormalsDirty=!1;this._autoDeriveVertexNormals=null==a;this._vertexNormals=a;this.invalidateBuffers(this._normalsInvalid)},
get_vertexTangentData:function(){this._autoDeriveVertexTangents&&this._vertexTangentsDirty&&(this._vertexTangents=this.updateVertexTangents(this._vertexTangents));return this._vertexTangents},updateVertexTangentData:function(a){this._vertexTangentsDirty=!1;this._autoDeriveVertexTangents=null==a;this._vertexTangents=a;this.invalidateBuffers(this._tangentsInvalid)},fromVectors:function(a,b,c,d){this.updateVertexData(a);this.updateUVData(b);this.updateVertexNormalData(c);this.updateVertexTangentData(d)},
updateVertexNormals:function(a){this.invalidateBuffers(this._normalsInvalid);return qb.prototype.updateVertexNormals.call(this,a)},updateVertexTangents:function(a){this._vertexNormalsDirty&&(this._vertexNormals=this.updateVertexNormals(this._vertexNormals));this.invalidateBuffers(this._tangentsInvalid);return qb.prototype.updateVertexTangents.call(this,a)},updateDummyUVs:function(a){this.invalidateBuffers(this._uvsInvalid);return qb.prototype.updateDummyUVs.call(this,a)},disposeForStage3D:function(a){a=
a._stage3DIndex;null!=this._vertexBuffer.get(a)&&(Da.disposeVertexBuffer(this._vertexBuffer.get(a)),this._vertexBuffer.set(a,null));null!=this._uvBuffer.get(a)&&(Da.disposeVertexBuffer(this._uvBuffer.get(a)),this._uvBuffer.set(a,null));null!=this._secondaryUvBuffer.get(a)&&(Da.disposeVertexBuffer(this._secondaryUvBuffer.get(a)),this._secondaryUvBuffer.set(a,null));null!=this._vertexNormalBuffer.get(a)&&(Da.disposeVertexBuffer(this._vertexNormalBuffer.get(a)),this._vertexNormalBuffer.set(a,null));
null!=this._vertexTangentBuffer.get(a)&&(Da.disposeVertexBuffer(this._vertexTangentBuffer.get(a)),this._vertexTangentBuffer.set(a,null));null!=this._indexBuffer.get(a)&&(Da.disposeIndexBuffer(this._indexBuffer.get(a)),this._indexBuffer.set(a,null))},get_vertexStride:function(){return 3},get_vertexTangentStride:function(){return 3},get_vertexNormalStride:function(){return 3},get_UVStride:function(){return 2},get_secondaryUVStride:function(){return 2},get_vertexOffset:function(){return 0},get_vertexNormalOffset:function(){return 0},
get_vertexTangentOffset:function(){return 0},get_UVOffset:function(){return 0},get_secondaryUVOffset:function(){return 0},cloneWithSeperateBuffers:function(){return y.__cast(this.clone(),he)},__class__:he,__properties__:t(qb.prototype.__properties__,{get_secondaryUVOffset:"get_secondaryUVOffset",get_secondaryUVStride:"get_secondaryUVStride",get_secondaryUVData:"get_secondaryUVData",get_numVertices:"get_numVertices"})});var Ff=function(a,b,c){this._offsetU2=this._offsetV2=0;this._scaleU2=this._scaleV2=
1;this._offsetU=this._offsetV=this._uvRotation2=0;this._scaleU=this._scaleV=1;this._uvRotation=0;this._parentMesh=b;this._subGeometry=a;this.set_material(c)};k["away3d.core.base.SubMesh"]=Ff;Ff.__name__=["away3d","core","base","SubMesh"];Ff.__interfaces__=[Ef];Ff.prototype={_material:null,_parentMesh:null,_subGeometry:null,_index:null,_uvTransform:null,_uvTransformDirty:null,_uvRotation:null,_scaleU:null,_scaleV:null,_offsetU:null,_offsetV:null,_uvTransform2:null,_uvTransformDirty2:null,_uvRotation2:null,
_scaleU2:null,_scaleV2:null,_offsetU2:null,_offsetV2:null,animationSubGeometry:null,animatorSubGeometry:null,get_shaderPickingDetails:function(){return this.get_sourceEntity().get_shaderPickingDetails()},get_offsetU:function(){return this._offsetU},set_offsetU:function(a){if(a==this._offsetU)return a;this._offsetU=a;this._uvTransformDirty=!0;return a},get_offsetV:function(){return this._offsetV},set_offsetV:function(a){if(a==this._offsetV)return a;this._offsetV=a;this._uvTransformDirty=!0;return a},
get_scaleU:function(){return this._scaleU},set_scaleU:function(a){if(a==this._scaleU)return a;this._scaleU=a;this._uvTransformDirty=!0;return a},get_scaleV:function(){return this._scaleV},set_scaleV:function(a){if(a==this._scaleV)return a;this._scaleV=a;this._uvTransformDirty=!0;return a},get_uvRotation:function(){return this._uvRotation},set_uvRotation:function(a){if(a==this._uvRotation)return a;this._uvRotation=a;this._uvTransformDirty=!0;return a},get_offsetU2:function(){return this._offsetU2},
set_offsetU2:function(a){if(a==this._offsetU2)return a;this._offsetU2=a;this._uvTransformDirty2=!0;return a},get_offsetV2:function(){return this._offsetV2},set_offsetV2:function(a){if(a==this._offsetV2)return a;this._offsetV2=a;this._uvTransformDirty2=!0;return a},get_scaleU2:function(){return this._scaleU2},set_scaleU2:function(a){if(a==this._scaleU2)return a;this._scaleU2=a;this._uvTransformDirty2=!0;return a},get_scaleV2:function(){return this._scaleV2},set_scaleV2:function(a){if(a==this._scaleV2)return a;
this._scaleV2=a;this._uvTransformDirty2=!0;return a},get_uvRotation2:function(){return this._uvRotation2},set_uvRotation2:function(a){if(a==this._uvRotation2)return a;this._uvRotation2=a;this._uvTransformDirty2=!0;return a},get_sourceEntity:function(){return this._parentMesh},get_subGeometry:function(){return this._subGeometry},set_subGeometry:function(a){return this._subGeometry=a},get_material:function(){return null!=this._material?this._material:this._parentMesh.get_material()},set_material:function(a){null!=
this._material&&this._material.removeOwner(this);this._material=a;null!=this._material&&this._material.addOwner(this);return a},get_sceneTransform:function(){return this._parentMesh.get_sceneTransform()},get_inverseSceneTransform:function(){return this._parentMesh.get_inverseSceneTransform()},activateVertexBuffer:function(a,b){this._subGeometry.activateVertexBuffer(a,b)},activateVertexNormalBuffer:function(a,b){this._subGeometry.activateVertexNormalBuffer(a,b)},activateVertexTangentBuffer:function(a,
b){this._subGeometry.activateVertexTangentBuffer(a,b)},activateUVBuffer:function(a,b){this._subGeometry.activateUVBuffer(a,b)},activateSecondaryUVBuffer:function(a,b){this._subGeometry.activateSecondaryUVBuffer(a,b)},getIndexBuffer:function(a){return this._subGeometry.getIndexBuffer(a)},get_numTriangles:function(){return this._subGeometry.get_numTriangles()},get_animator:function(){return this._parentMesh.get_animator()},get_mouseEnabled:function(){return this._parentMesh.get_mouseEnabled()?!0:this._parentMesh._ancestorsAllowMouseEnabled},
get_castsShadows:function(){return this._parentMesh.get_castsShadows()},get_parentMesh:function(){return this._parentMesh},set_parentMesh:function(a){return this._parentMesh=a},get_uvTransform:function(){this._uvTransformDirty&&this.updateUVTransform();return this._uvTransform},get_uvTransform2:function(){this._uvTransformDirty2&&this.updateUVTransform2();return this._uvTransform2},updateUVTransform:function(){null==this._uvTransform&&(this._uvTransform=new Ma);this._uvTransform.identity();0!=this._uvRotation&&
this._uvTransform.rotate(this._uvRotation);1==this._scaleU&&1==this._scaleV||this._uvTransform.scale(this._scaleU,this._scaleV);this._uvTransform.translate(this._offsetU,this._offsetV);this._uvTransformDirty=!1},updateUVTransform2:function(){null==this._uvTransform2&&(this._uvTransform2=new Ma);this._uvTransform2.identity();0!=this._uvRotation2&&this._uvTransform2.rotate(this._uvRotation2);1==this._scaleU2&&1==this._scaleV2||this._uvTransform2.scale(this._scaleU2,this._scaleV2);this._uvTransform2.translate(this._offsetU2,
this._offsetV2);this._uvTransformDirty2=!1},dispose:function(){this.set_material(null)},get_vertexData:function(){return this._subGeometry.get_vertexData()},get_indexData:function(){return this._subGeometry.get_indexData()},get_UVData:function(){return this._subGeometry.get_UVData()},get_bounds:function(){return this._parentMesh.get_bounds()},get_visible:function(){return this._parentMesh.get_visible()},get_numVertices:function(){return this._subGeometry.get_numVertices()},get_vertexStride:function(){return this._subGeometry.get_vertexStride()},
get_UVStride:function(){return this._subGeometry.get_UVStride()},get_vertexNormalData:function(){return this._subGeometry.get_vertexNormalData()},get_vertexTangentData:function(){return this._subGeometry.get_vertexTangentData()},get_UVOffset:function(){return this._subGeometry.get_UVOffset()},get_vertexOffset:function(){return this._subGeometry.get_vertexOffset()},get_vertexNormalOffset:function(){return this._subGeometry.get_vertexNormalOffset()},get_vertexTangentOffset:function(){return this._subGeometry.get_vertexTangentOffset()},
getRenderSceneTransform:function(a){return this._parentMesh.get_sceneTransform()},__class__:Ff,__properties__:{get_vertexTangentOffset:"get_vertexTangentOffset",get_vertexNormalOffset:"get_vertexNormalOffset",get_vertexOffset:"get_vertexOffset",get_UVOffset:"get_UVOffset",get_vertexTangentData:"get_vertexTangentData",get_vertexNormalData:"get_vertexNormalData",get_UVStride:"get_UVStride",get_vertexStride:"get_vertexStride",get_numVertices:"get_numVertices",get_visible:"get_visible",get_bounds:"get_bounds",
get_UVData:"get_UVData",get_indexData:"get_indexData",get_vertexData:"get_vertexData",get_uvTransform2:"get_uvTransform2",get_uvTransform:"get_uvTransform",set_parentMesh:"set_parentMesh",get_parentMesh:"get_parentMesh",get_castsShadows:"get_castsShadows",get_mouseEnabled:"get_mouseEnabled",get_animator:"get_animator",get_numTriangles:"get_numTriangles",get_inverseSceneTransform:"get_inverseSceneTransform",get_sceneTransform:"get_sceneTransform",set_material:"set_material",get_material:"get_material",
set_subGeometry:"set_subGeometry",get_subGeometry:"get_subGeometry",get_sourceEntity:"get_sourceEntity",set_uvRotation2:"set_uvRotation2",get_uvRotation2:"get_uvRotation2",set_scaleV2:"set_scaleV2",get_scaleV2:"get_scaleV2",set_scaleU2:"set_scaleU2",get_scaleU2:"get_scaleU2",set_offsetV2:"set_offsetV2",get_offsetV2:"get_offsetV2",set_offsetU2:"set_offsetU2",get_offsetU2:"get_offsetU2",set_uvRotation:"set_uvRotation",get_uvRotation:"get_uvRotation",set_scaleV:"set_scaleV",get_scaleV:"get_scaleV",set_scaleU:"set_scaleU",
get_scaleU:"get_scaleU",set_offsetV:"set_offsetV",get_offsetV:"get_offsetV",set_offsetU:"set_offsetU",get_offsetU:"get_offsetU",get_shaderPickingDetails:"get_shaderPickingDetails"}};var Ll=function(){};k["away3d.core.base.data.ParticleData"]=Ll;Ll.__name__=["away3d","core","base","data","ParticleData"];Ll.prototype={particleIndex:null,numVertices:null,startVertexIndex:null,subGeometry:null,__class__:Ll};var ik=function(){};k["away3d.core.data.EntityListItem"]=ik;ik.__name__=["away3d","core","data",
"EntityListItem"];ik.prototype={entity:null,next:null,__class__:ik};var jk=function(){this._poolSize=this._index=0;this._pool=D.toObjectVector(null)};k["away3d.core.data.EntityListItemPool"]=jk;jk.__name__=["away3d","core","data","EntityListItemPool"];jk.prototype={_pool:null,_index:null,_poolSize:null,getItem:function(){var a;this._index==this._poolSize?(a=new ik,this._pool.set(this._index++,a),++this._poolSize):a=this._pool.get(this._index++);return a},freeAll:function(){this._index=0},dispose:function(){this._pool.set_length(0)},
__class__:jk};var kk=function(){};k["away3d.core.data.RenderableListItem"]=kk;kk.__name__=["away3d","core","data","RenderableListItem"];kk.prototype={next:null,renderable:null,materialId:null,renderOrderId:null,zIndex:null,renderSceneTransform:null,cascaded:null,__class__:kk};var lk=function(){this._poolSize=this._index=0;this._pool=D.toObjectVector(null)};k["away3d.core.data.RenderableListItemPool"]=lk;lk.__name__=["away3d","core","data","RenderableListItemPool"];lk.prototype={_pool:null,_index:null,
_poolSize:null,getItem:function(){if(this._index==this._poolSize){var a=new kk;this._pool.set(this._index++,a);++this._poolSize;return a}return this._pool.get(this._index++)},freeAll:function(){this._index=0},dispose:function(){this._pool.set_length(0)},__class__:lk};var kb=function(a){this._stage3DProxy=a;this._program3Ds=new pa;this._ids=new pa;this._usages=[];this._keys=[]};k["away3d.core.managers.AGALProgram3DCache"]=kb;kb.__name__=["away3d","core","managers","AGALProgram3DCache"];kb.getInstance=
function(a){var b=a.get_stage3DIndex();null==kb._instances&&(kb._instances=D.toObjectVector(null,8,!0));null==kb._instances.get(b)&&(kb._instances.set(b,new kb(a)),a.addEventListener("Context3DDisposed",kb.onContext3DDisposed,!1,0,!0),a.addEventListener("Context3DCreated",kb.onContext3DDisposed,!1,0,!0),a.addEventListener("Context3DRecreated",kb.onContext3DDisposed,!1,0,!0));return kb._instances.get(b)};kb.getInstanceFromIndex=function(a){if(null==kb._instances.get(a))throw new F(new ja("Instance not created yet!"));
return kb._instances.get(a)};kb.onContext3DDisposed=function(a){a=y.__cast(a.target,Da);var b=a._stage3DIndex;kb._instances.get(b).dispose();kb._instances.set(b,null);a.removeEventListener("Context3DDisposed",kb.onContext3DDisposed);a.removeEventListener("Context3DCreated",kb.onContext3DDisposed);a.removeEventListener("Context3DRecreated",kb.onContext3DDisposed)};kb.prototype={_stage3DProxy:null,_program3Ds:null,_ids:null,_usages:null,_keys:null,dispose:function(){for(var a=this._program3Ds.keys();a.hasNext();){var b=
a.next();this.destroyProgram(b)}this._usages=this._program3Ds=this._keys=null},setProgram3D:function(a,b,c){var d=this._stage3DProxy._stage3DIndex,e,f=b+"---"+c;e=this._program3Ds;if(null!=u[f]?!e.existsReserved(f):!e.h.hasOwnProperty(f)){this._keys[kb._currentId]=f;this._usages[kb._currentId]=0;e=kb._currentId;var p=this._ids;null!=u[f]?p.setReserved(f,e):p.h[f]=e;++kb._currentId;e=this._stage3DProxy._context3D.createProgram();b=(new G(yc.active)).assemble(Pc.toString(1),b);c=(new G(yc.active)).assemble(Pc.toString(0),
c);e.upload(b,c);c=this._program3Ds;null!=u[f]?c.setReserved(f,e):c.h[f]=e}c=a._program3Dids.get(d);b=this._ids;b=null!=u[f]?b.getReserved(f):b.h[f];c!=b&&(0<=c&&this.freeProgram3D(c),this._usages[b]++);a._program3Dids.set(d,b);c=this._program3Ds;a._program3Ds.set(d,null!=u[f]?c.getReserved(f):c.h[f])},freeProgram3D:function(a){this._usages[a]--;0==this._usages[a]&&this.destroyProgram(this._keys[a])},destroyProgram:function(a){var b=this._program3Ds;(null!=u[a]?b.getReserved(a):b.h[a]).dispose();
this._program3Ds.remove(a);b=this._ids;null!=u[a]?b.setReserved(a,-1):b.h[a]=-1},getKey:function(a,b){return a+"---"+b},__class__:kb};var J=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);this.type=a;this.bubbles=b;this.cancelable=c;this.eventPhase=2};k["openfl.events.Event"]=J;J.__name__=["openfl","events","Event"];J.prototype={bubbles:null,cancelable:null,currentTarget:null,eventPhase:null,target:null,type:null,__isCanceled:null,__isCanceledNow:null,__preventDefault:null,clone:function(){var a=
new J(this.type,this.bubbles,this.cancelable);a.eventPhase=this.eventPhase;a.target=this.target;a.currentTarget=this.currentTarget;return a},formatToString:function(a,b,c,d,e,f){var p=[];null!=b&&p.push(b);null!=c&&p.push(c);null!=d&&p.push(d);null!=e&&p.push(e);null!=f&&p.push(f);return n(this,this.__formatToString).apply(this,[a,p])},isDefaultPrevented:function(){return this.__preventDefault},preventDefault:function(){this.cancelable&&(this.__preventDefault=!0)},stopImmediatePropagation:function(){this.__isCanceledNow=
this.__isCanceled=!0},stopPropagation:function(){this.__isCanceled=!0},toString:function(){return this.__formatToString("Event",["type","bubbles","cancelable"])},__formatToString:function(a,b){for(var c="["+a,d=null,e=0;e<b.length;){var f=b[e];++e;d=H.field(this,f);c="string"==typeof d?c+(" "+f+'="'+q.string(d)+'"'):c+(" "+f+"="+q.string(d))}return c+"]"},__class__:J};var Yb=function(a){this._allowedToPropagate=!0;J.call(this,a,!0,!0)};k["away3d.events.MouseEvent3D"]=Yb;Yb.__name__=["away3d","events",
"MouseEvent3D"];Yb.__super__=J;Yb.prototype=t(J.prototype,{_allowedToPropagate:null,_parentEvent:null,screenX:null,screenY:null,view:null,object:null,renderable:null,material:null,uv:null,index:null,subGeometryIndex:null,localPosition:null,localNormal:null,ctrlKey:null,altKey:null,shiftKey:null,delta:null,stopPropagation:function(){J.prototype.stopPropagation.call(this);this._allowedToPropagate=!1;null!=this._parentEvent&&this._parentEvent.stopPropagation()},stopImmediatePropagation:function(){J.prototype.stopImmediatePropagation.call(this);
this._allowedToPropagate=!1;null!=this._parentEvent&&this._parentEvent.stopImmediatePropagation()},clone:function(){var a=new Yb(this.type);a.screenX=this.screenX;a.screenY=this.screenY;a.view=this.view;a.object=this.object;a.renderable=this.renderable;a.material=this.material;a.uv=this.uv;a.localPosition=this.localPosition;a.localNormal=this.localNormal;a.index=this.index;a.subGeometryIndex=this.subGeometryIndex;a.delta=this.delta;a.ctrlKey=this.ctrlKey;a.shiftKey=this.shiftKey;a._parentEvent=this;
a._allowedToPropagate=this._allowedToPropagate;return a},get_scenePosition:function(){return y.__instanceof(this.object,fb)?ga.transformVector(y.__cast(this.object,fb).get_sceneTransform(),this.localPosition):this.localPosition},getScenePosition:function(a){null==a&&(a=new T);y.__instanceof(this.object,fb)?ga.transformVector(y.__cast(this.object,fb).get_sceneTransform(),this.localPosition,a):(a.x=this.localPosition.x,a.y=this.localPosition.y,a.z=this.localPosition.z);return a},get_sceneNormal:function(){if(y.__instanceof(this.object,
fb)){var a=ga.deltaTransformVector(y.__cast(this.object,fb).get_sceneTransform(),this.localNormal);a.normalize();return a}return this.localNormal},getSceneNormal:function(a){null==a&&(a=new T);y.__instanceof(this.object,fb)?(ga.deltaTransformVector(y.__cast(this.object,fb).get_sceneTransform(),this.localNormal,a),a.normalize()):(a.x=this.localNormal.x,a.y=this.localNormal.y,a.z=this.localNormal.z);return a},__class__:Yb,__properties__:{get_sceneNormal:"get_sceneNormal",get_scenePosition:"get_scenePosition"}});
var D={};k["openfl._Vector.Vector_Impl_"]=D;D.__name__=["openfl","_Vector","Vector_Impl_"];D.__properties__={set_length:"set_length",get_length:"get_length",set_fixed:"set_fixed",get_fixed:"get_fixed"};D.concat=function(a,b){return a.concat(b)};D.copy=function(a){return a.copy()};D.get=function(a,b){return a.get(b)};D.indexOf=function(a,b,c){null==c&&(c=0);return a.indexOf(b,c)};D.insertAt=function(a,b,c){a.insertAt(b,c)};D.iterator=function(a){return a.iterator()};D.join=function(a,b){return a.join(b)};
D.lastIndexOf=function(a,b,c){null==c&&(c=0);return a.lastIndexOf(b,c)};D.pop=function(a){return a.pop()};D.push=function(a,b){return a.push(b)};D.reverse=function(a){a.reverse()};D.set=function(a,b,c){return a.set(b,c)};D.shift=function(a){return a.shift()};D.slice=function(a,b,c){return a.slice(b,c)};D.sort=function(a,b){a.sort(b)};D.splice=function(a,b,c){return a.splice(b,c)};D.toString=function(a){return a.toString()};D.unshift=function(a,b){a.unshift(b)};D.ofArray=function(a){for(var b=D.toObjectVector(null),
c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b};D.convert=function(a){return a};D.toBoolVector=function(a,b,c){return new Cd(b,c)};D.toIntVector=function(a,b,c){return new Dd(b,c)};D.toFloatVector=function(a,b,c){return new Ed(b,c)};D.toFunctionVector=function(a,b,c){return new Fd(b,c)};D.toObjectVector=function(a,b,c){return new Gd(b,c)};D.fromBoolVector=function(a){return a};D.fromIntVector=function(a){return a};D.fromFloatVector=function(a){return a};D.fromFunctionVector=function(a){return a};
D.fromObjectVector=function(a){return a};D.get_fixed=function(a){return a.fixed};D.set_fixed=function(a,b){return a.fixed=b};D.get_length=function(a){return a.get_length()};D.set_length=function(a,b){return a.set_length(b)};var V=function(){this._childDepth=0;this._mousePicker=zg.RAYCAST_FIRST_ENCOUNTERED;this._mouseMoveEvent=new Ga("mouseMove");this._nullVector=new T;this._updateDirty=!0;null==V._view3Ds&&(V._view3Ds=new ac,V._view3DLookup=D.toObjectVector(null))};k["away3d.core.managers.Mouse3DManager"]=
V;V.__name__=["away3d","core","managers","Mouse3DManager"];V.prototype={_activeView:null,_updateDirty:null,_nullVector:null,_mouseMoveEvent:null,_forceMouseMove:null,_mousePicker:null,_childDepth:null,_collidingDownObject:null,_collidingUpObject:null,updateCollider:function(a){V._previousCollidingView=V._collidingView;null!=a&&((a.get_stage3DProxy().get_bufferClear()&&(V._collidingViewObjects=D.toObjectVector(null,V._viewCount)),a.get_shareContext())?a.getBounds(a.parent).contains(a.get_mouseX()+
a.get_x(),a.get_mouseY()+a.get_y())&&(null==V._collidingViewObjects&&(V._collidingViewObjects=D.toObjectVector(null,V._viewCount)),V._collidingObject=V._collidingViewObjects.set(V._view3Ds.h[a.__id__],this._mousePicker.getViewCollision(a.get_mouseX(),a.get_mouseY(),a))):a==this._activeView&&(this._forceMouseMove||this._updateDirty)&&(V._collidingObject=this._mousePicker.getViewCollision(a.get_mouseX(),a.get_mouseY(),a)))},fireMouseEvents:function(){var a,b;if(null!=V._collidingViewObjects){V._collidingObject=
null;var c=Infinity,d;for(a=V._viewCount-1;0<=a;){d=V._view3DLookup.get(a);if(null!=V._collidingViewObjects.get(a)&&(d.get_layeredView()||V._collidingViewObjects.get(a).rayEntryDistance<c)&&(c=V._collidingViewObjects.get(a).rayEntryDistance,V._collidingObject=V._collidingViewObjects.get(a),d.get_layeredView()))break;--a}}V._collidingObject!=V._previousCollidingObject&&(null!=V._previousCollidingObject&&this.queueDispatch(V._mouseOut,this._mouseMoveEvent,V._previousCollidingObject),null!=V._collidingObject&&
this.queueDispatch(V._mouseOver,this._mouseMoveEvent,V._collidingObject));this._forceMouseMove&&null!=V._collidingObject&&this.queueDispatch(V._mouseMove,this._mouseMoveEvent,V._collidingObject);c=0;for(d=V._queuedEvents.get_length();c<d;){a=c++;a=V._queuedEvents.get(a);for(b=a.object;null!=b&&!b._ancestorsAllowMouseEnabled;)b=b.get_parent();null!=b&&b.dispatchEvent(a)}V._queuedEvents.set_length(0);this._updateDirty=!1;V._previousCollidingObject=V._collidingObject},addViewLayer:function(a){var b=
a.stage;null==a.get_stage3DProxy().get_mouse3DManager()&&a.get_stage3DProxy().set_mouse3DManager(this);this.hasKey(a)||V._view3Ds.set(a,0);this._childDepth=0;this.traverseDisplayObjects(b);V._viewCount=this._childDepth},enableMouseListeners:function(a){a.addEventListener("click",n(this,this.onClick));a.addEventListener("doubleClick",n(this,this.onDoubleClick));a.addEventListener("mouseDown",n(this,this.onMouseDown));a.addEventListener("mouseMove",n(this,this.onMouseMove));a.addEventListener("mouseUp",
n(this,this.onMouseUp));a.addEventListener("mouseWheel",n(this,this.onMouseWheel));a.addEventListener("mouseOver",n(this,this.onMouseOver));a.addEventListener("mouseOut",n(this,this.onMouseOut))},disableMouseListeners:function(a){a.removeEventListener("click",n(this,this.onClick));a.removeEventListener("doubleClick",n(this,this.onDoubleClick));a.removeEventListener("mouseDown",n(this,this.onMouseDown));a.removeEventListener("mouseMove",n(this,this.onMouseMove));a.removeEventListener("mouseUp",n(this,
this.onMouseUp));a.removeEventListener("mouseWheel",n(this,this.onMouseWheel));a.removeEventListener("mouseOver",n(this,this.onMouseOver));a.removeEventListener("mouseOut",n(this,this.onMouseOut))},dispose:function(){this._mousePicker.dispose()},queueDispatch:function(a,b,c){a.ctrlKey=b.ctrlKey;a.altKey=b.altKey;a.shiftKey=b.shiftKey;a.delta=b.delta;a.screenX=b.localX;a.screenY=b.localY;null==c&&(c=V._collidingObject);null!=c?(a.object=c.entity,a.renderable=c.renderable,a.uv=c.uv,a.localPosition=
null!=c.localPosition?c.localPosition.clone():null,a.localNormal=null!=c.localNormal?c.localNormal.clone():null,a.index=c.index,a.subGeometryIndex=c.subGeometryIndex):(a.uv=null,a.object=null,a.localPosition=this._nullVector,a.localNormal=this._nullVector,a.index=0,a.subGeometryIndex=0);V._queuedEvents.push(a)},reThrowEvent:function(a){if(null!=this._activeView&&(null==this._activeView||this._activeView.get_shareContext()))for(var b=V._view3Ds.keys();b.hasNext();){var c=b.next();c!=this._activeView&&
V._view3Ds.h[c.__id__]<V._view3Ds.h[this._activeView.__id__]&&c.dispatchEvent(a)}},hasKey:function(a){return null!=V._view3Ds.h.__keys__[a.__id__]},traverseDisplayObjects:function(a){for(var b,c=0,d=a.get_numChildren();c<d;)b=c++,b=a.getChildAt(b),y.__instanceof(b,cf)&&null!=V._view3Ds.h.__keys__[b.__id__]&&(V._view3Ds.set(b,this._childDepth),V._view3DLookup.set(this._childDepth,b),this._childDepth++),y.__instanceof(b,Nb)&&this.traverseDisplayObjects(y.__cast(b,Nb))},onMouseMove:function(a){null!=
V._collidingObject?this.queueDispatch(V._mouseMove,this._mouseMoveEvent=a):this.reThrowEvent(a);this._updateDirty=!0},onMouseOut:function(a){this._activeView=null;null!=V._collidingObject&&this.queueDispatch(V._mouseOut,a,V._collidingObject);this._updateDirty=!0},onMouseOver:function(a){this._activeView=y.__cast(a.currentTarget,cf);null!=V._collidingObject&&V._previousCollidingObject!=V._collidingObject?this.queueDispatch(V._mouseOver,a,V._collidingObject):this.reThrowEvent(a);this._updateDirty=!0},
onClick:function(a){null!=V._collidingObject?this.queueDispatch(V._mouseClick,a):this.reThrowEvent(a);this._updateDirty=!0},onDoubleClick:function(a){null!=V._collidingObject?this.queueDispatch(V._mouseDoubleClick,a):this.reThrowEvent(a);this._updateDirty=!0},onMouseDown:function(a){this._activeView=y.__cast(a.currentTarget,cf);this.updateCollider(this._activeView);null!=V._collidingObject?(this.queueDispatch(V._mouseDown,a),V._previousCollidingObject=V._collidingObject):this.reThrowEvent(a);this._updateDirty=
!0},onMouseUp:function(a){null!=V._collidingObject?(this.queueDispatch(V._mouseUp,a),V._previousCollidingObject=V._collidingObject):this.reThrowEvent(a);this._updateDirty=!0},onMouseWheel:function(a){null!=V._collidingObject?this.queueDispatch(V._mouseWheel,a):this.reThrowEvent(a);this._updateDirty=!0},get_forceMouseMove:function(){return this._forceMouseMove},set_forceMouseMove:function(a){return this._forceMouseMove=a},get_mousePicker:function(){return this._mousePicker},set_mousePicker:function(a){return this._mousePicker=
a},__class__:V,__properties__:{set_mousePicker:"set_mousePicker",get_mousePicker:"get_mousePicker",set_forceMouseMove:"set_forceMouseMove",get_forceMouseMove:"get_forceMouseMove"}};var Vc=function(a){this._buffersInvalid=!0;this._viewWidth=this._viewHeight=this._textureWidth=this._textureHeight=-1;this._renderToTextureRect=new ha;this._stage3DProxy=a;this._stage3DProxy.addEventListener("Context3DRecreated",n(this,this.onContextRecreated));X.call(this)};k["away3d.core.managers.RTTBufferManager"]=Vc;
Vc.__name__=["away3d","core","managers","RTTBufferManager"];Vc.getInstance=function(a){if(null==a)throw new F(new ja("stage3DProxy key cannot be null!"));null==Vc._instances&&(Vc._instances=new ac);var b=Vc._instances.h[a.__id__];null==b&&(b=new Vc(a),Vc._instances.set(a,b));return b};Vc.__super__=X;Vc.prototype=t(X.prototype,{_renderToTextureVertexBuffer:null,_renderToScreenVertexBuffer:null,_indexBuffer:null,_stage3DProxy:null,_viewWidth:null,_viewHeight:null,_textureWidth:null,_textureHeight:null,
_renderToTextureRect:null,_buffersInvalid:null,_textureRatioX:null,_textureRatioY:null,get_textureRatioX:function(){this._buffersInvalid&&this.updateRTTBuffers();return this._textureRatioX},get_textureRatioY:function(){this._buffersInvalid&&this.updateRTTBuffers();return this._textureRatioY},get_viewWidth:function(){return this._viewWidth},set_viewWidth:function(a){if(a==this._viewWidth)return a;this._viewWidth=a;this._buffersInvalid=!0;this._textureWidth=Hc.getBestPowerOf2(this._viewWidth);this._textureWidth>
this._viewWidth?(this._renderToTextureRect.x=.5*(this._textureWidth-this._viewWidth)|0,this._renderToTextureRect.width=this._viewWidth):(this._renderToTextureRect.x=0,this._renderToTextureRect.width=this._textureWidth);this.dispatchEvent(new J("resize"));return a},get_viewHeight:function(){return this._viewHeight},set_viewHeight:function(a){if(a==this._viewHeight)return a;this._viewHeight=a;this._buffersInvalid=!0;this._textureHeight=Hc.getBestPowerOf2(this._viewHeight);this._textureHeight>this._viewHeight?
(this._renderToTextureRect.y=.5*(this._textureHeight-this._viewHeight)|0,this._renderToTextureRect.height=this._viewHeight):(this._renderToTextureRect.y=0,this._renderToTextureRect.height=this._textureHeight);this.dispatchEvent(new J("resize"));return a},get_renderToTextureVertexBuffer:function(){this._buffersInvalid&&this.updateRTTBuffers();return this._renderToTextureVertexBuffer},get_renderToScreenVertexBuffer:function(){this._buffersInvalid&&this.updateRTTBuffers();return this._renderToScreenVertexBuffer},
get_indexBuffer:function(){return this._indexBuffer},get_renderToTextureRect:function(){this._buffersInvalid&&this.updateRTTBuffers();return this._renderToTextureRect},get_textureWidth:function(){return this._textureWidth},get_textureHeight:function(){return this._textureHeight},dispose:function(){Vc._instances.remove(this._stage3DProxy);this._stage3DProxy.removeEventListener("Context3DRecreated",n(this,this.onContextRecreated));null!=this._indexBuffer&&(Da.disposeIndexBuffer(this._indexBuffer),Da.disposeVertexBuffer(this._renderToScreenVertexBuffer),
Da.disposeVertexBuffer(this._renderToTextureVertexBuffer),this._indexBuffer=this._renderToTextureVertexBuffer=this._renderToScreenVertexBuffer=null)},onContextRecreated:function(a){this._renderToScreenVertexBuffer=this._renderToTextureVertexBuffer=this._indexBuffer=null;this.updateRTTBuffers()},updateRTTBuffers:function(){this._stage3DProxy.get_context3D();var a,b;null==this._renderToTextureVertexBuffer&&(this._renderToTextureVertexBuffer=this._stage3DProxy.createVertexBuffer(4,5));null==this._renderToScreenVertexBuffer&&
(this._renderToScreenVertexBuffer=this._stage3DProxy.createVertexBuffer(4,5));if(null==this._indexBuffer){this._indexBuffer=this._stage3DProxy.createIndexBuffer(6);a=[2,1,0,3,2,0];for(var c=D.toIntVector(null),d=0,e=a.length;d<e;){var f=d++;c.set(f,a[f])}this._indexBuffer.uploadFromVector(c,0,6)}this._textureRatioX=a=Math.min(this._viewWidth/this._textureWidth,1);this._textureRatioY=b=Math.min(this._viewHeight/this._textureHeight,1);c=.5*(1-a);d=.5*(a+1);e=.5*(b+1);f=.5*(1-b);b=[-a,-b,c,e,0,a,-b,
d,e,1,a,b,d,f,2,-a,b,c,f,3];a=D.toFloatVector(null);for(var p=0,g=b.length;p<g;){var m=p++;a.set(m,b[m])}c=[-1,-1,c,e,0,1,-1,d,e,1,1,1,d,f,2,-1,1,c,f,3];d=D.toFloatVector(null);e=0;for(f=c.length;e<f;)b=e++,d.set(b,c[b]);this._renderToTextureVertexBuffer.uploadFromVector(a,0,4);this._renderToScreenVertexBuffer.uploadFromVector(d,0,4);this._buffersInvalid=!1},__class__:Vc,__properties__:{get_textureHeight:"get_textureHeight",get_textureWidth:"get_textureWidth",get_renderToTextureRect:"get_renderToTextureRect",
get_indexBuffer:"get_indexBuffer",get_renderToScreenVertexBuffer:"get_renderToScreenVertexBuffer",get_renderToTextureVertexBuffer:"get_renderToTextureVertexBuffer",set_viewHeight:"set_viewHeight",get_viewHeight:"get_viewHeight",set_viewWidth:"set_viewWidth",get_viewWidth:"get_viewWidth",get_textureRatioY:"get_textureRatioY",get_textureRatioX:"get_textureRatioX"}});var bb=function(a){this._stage=a;null==bb._stageProxies&&(bb._stageProxies=D.toObjectVector(null,this._stage.stage3Ds.get_length(),!0))};
k["away3d.core.managers.Stage3DManager"]=bb;bb.__name__=["away3d","core","managers","Stage3DManager"];bb.getInstance=function(a){null==bb._instances&&(bb._instances=new ac);var b=bb._instances.h[a.__id__];null==b&&(b=new bb(a),bb._instances.set(a,b));return b};bb.prototype={_stage:null,getStage3DProxy:function(a,b,c){null==c&&(c="baseline");null==b&&(b=!1);null==bb._stageProxies.get(a)&&(bb._numStageProxies++,bb._stageProxies.set(a,new Da(a,this._stage.stage3Ds.get(a),this,b,c)));return bb._stageProxies.get(a)},
removeStage3DProxy:function(a){bb._numStageProxies--;bb._stageProxies.set(a.get_stage3DIndex(),null)},getFreeStage3DProxy:function(a,b){null==b&&(b="baseline");null==a&&(a=!1);for(var c=0,d=bb._stageProxies.get_length();c<d;){if(null==bb._stageProxies.get(c))return this.getStage3DProxy(c,a,b),bb._stageProxies.get(c).set_width(this._stage.stageWidth),bb._stageProxies.get(c).set_height(this._stage.stageHeight),bb._stageProxies.get(c);++c}throw new F(new ja("Too many Stage3D instances used!"));},get_hasFreeStage3DProxy:function(){return bb._numStageProxies<
bb._stageProxies.get_length()?!0:!1},get_numProxySlotsFree:function(){return bb._stageProxies.get_length()-bb._numStageProxies},get_numProxySlotsUsed:function(){return bb._numStageProxies},get_numProxySlotsTotal:function(){return bb._stageProxies.get_length()},__class__:bb,__properties__:{get_numProxySlotsTotal:"get_numProxySlotsTotal",get_numProxySlotsUsed:"get_numProxySlotsUsed",get_numProxySlotsFree:"get_numProxySlotsFree",get_hasFreeStage3DProxy:"get_hasFreeStage3DProxy"}};var ob=function(){aa.call(this)};
k["openfl.display.Shape"]=ob;ob.__name__=["openfl","display","Shape"];ob.__super__=aa;ob.prototype=t(aa.prototype,{get_graphics:function(){null==this.__graphics&&(this.__graphics=new vg(this));return this.__graphics},__class__:ob,__properties__:t(aa.prototype.__properties__,{get_graphics:"get_graphics"})});var De=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};k["lime.math.Matrix3"]=
De;De.__name__=["lime","math","Matrix3"];De.prototype={a:null,b:null,c:null,d:null,tx:null,ty:null,clone:function(){return new De(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(a){var b=this.a*a.a+this.b*a.c;this.b=this.a*a.b+this.b*a.d;this.a=b;b=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*a.d;this.c=b;b=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*a.d+a.ty;this.tx=b},copyColumnFrom:function(a,b){if(2<a)throw new F("Column "+a+" out of bounds (2)");0==a?(this.a=b.x,
this.c=b.y):1==a?(this.b=b.x,this.d=b.y):(this.tx=b.x,this.ty=b.y)},copyColumnTo:function(a,b){if(2<a)throw new F("Column "+a+" out of bounds (2)");0==a?(b.x=this.a,b.y=this.c,b.z=0):1==a?(b.x=this.b,b.y=this.d,b.z=0):(b.x=this.tx,b.y=this.ty,b.z=1)},copyFrom:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty},copyRowFrom:function(a,b){if(2<a)throw new F("Row "+a+" out of bounds (2)");0==a?(this.a=b.x,this.c=b.y):1==a?(this.b=b.x,this.d=b.y):(this.tx=b.x,this.ty=b.y)},
copyRowTo:function(a,b){if(2<a)throw new F("Row "+a+" out of bounds (2)");0==a?(b.x=this.a,b.y=this.b,b.z=this.tx):1==a?(b.x=this.c,b.y=this.d,b.z=this.ty):(b.x=0,b.y=0,b.z=1)},createBox:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);this.a=a;this.d=b;this.b=c;this.tx=d;this.ty=e},createGradientBox:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);this.a=a/1638.4;this.d=b/1638.4;if(0!=c){var f=Math.cos(c);c=Math.sin(c);this.b=c*this.d;this.c=-c*this.a;this.a*=f;this.d*=
f}else this.c=this.b=0;this.tx=d+a/2;this.ty=e+b/2},equals:function(a){return null!=a&&this.tx==a.tx&&this.ty==a.ty&&this.a==a.a&&this.b==a.b&&this.c==a.c?this.d==a.d:!1},deltaTransformVector2:function(a){return new vb(a.x*this.a+a.y*this.c,a.x*this.b+a.y*this.d)},identity:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0},invert:function(){var a=this.a*this.d-this.b*this.c;if(0==a)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{var a=1/a,b=this.d*a;this.d=this.a*
a;this.a=b;this.b*=-a;this.c*=-a;a=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty;this.tx=a}return this},mult:function(a){var b=new De(this.a,this.b,this.c,this.d,this.tx,this.ty);b.concat(a);return b},rotate:function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.a*b-this.b*a;this.b=this.a*a+this.b*b;this.a=c;c=this.c*b-this.d*a;this.d=this.c*a+this.d*b;this.c=c;c=this.tx*b-this.ty*a;this.ty=this.tx*a+this.ty*b;this.tx=c},scale:function(a,b){this.a*=a;this.b*=b;this.c*=a;this.d*=
b;this.tx*=a;this.ty*=b},setRotation:function(a,b){null==b&&(b=1);this.a=Math.cos(a)*b;this.c=Math.sin(a)*b;this.b=-this.c;this.d=this.a},setTo:function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f},to3DString:function(a){null==a&&(a=!1);return a?"Matrix33d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(this.tx|0)+", "+(this.ty|0)+", 0, 1)":"Matrix33d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+
", 0, 1)"},toMozString:function(){return"Matrix3("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"Matrix3("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformVector2:function(a){return new vb(a.x*this.a+a.y*this.c+this.tx,a.x*this.b+a.y*this.d+this.ty)},translate:function(a,b){this.tx+=a;this.ty+=b},__cleanValues:function(){this.a=Math.round(1E3*this.a)/1E3;this.b=Math.round(1E3*this.b)/1E3;this.c=Math.round(1E3*
this.c)/1E3;this.d=Math.round(1E3*this.d)/1E3;this.tx=Math.round(10*this.tx)/10;this.ty=Math.round(10*this.ty)/10},__transformX:function(a){return a.x*this.a+a.y*this.c+this.tx},__transformY:function(a){return a.x*this.b+a.y*this.d+this.ty},__translateTransformed:function(a){this.tx=a.x*this.a+a.y*this.c+this.tx;this.ty=a.x*this.b+a.y*this.d+this.ty},__class__:De};var Ma=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=
b;this.c=c;this.d=d;this.tx=e;this.ty=f};k["openfl.geom.Matrix"]=Ma;Ma.__name__=["openfl","geom","Matrix"];Ma.prototype={a:null,b:null,c:null,d:null,tx:null,ty:null,__array:null,clone:function(){return new Ma(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(a){var b=this.a*a.a+this.b*a.c;this.b=this.a*a.b+this.b*a.d;this.a=b;b=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*a.d;this.c=b;b=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*a.d+a.ty;this.tx=b},copyColumnFrom:function(a,
b){if(2<a)throw new F("Column "+a+" out of bounds (2)");0==a?(this.a=b.x,this.c=b.y):1==a?(this.b=b.x,this.d=b.y):(this.tx=b.x,this.ty=b.y)},copyColumnTo:function(a,b){if(2<a)throw new F("Column "+a+" out of bounds (2)");0==a?(b.x=this.a,b.y=this.c,b.z=0):1==a?(b.x=this.b,b.y=this.d,b.z=0):(b.x=this.tx,b.y=this.ty,b.z=1)},copyFrom:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty},copyRowFrom:function(a,b){if(2<a)throw new F("Row "+a+" out of bounds (2)");0==a?(this.a=
b.x,this.c=b.y):1==a?(this.b=b.x,this.d=b.y):(this.tx=b.x,this.ty=b.y)},copyRowTo:function(a,b){if(2<a)throw new F("Row "+a+" out of bounds (2)");0==a?(b.x=this.a,b.y=this.b,b.z=this.tx):1==a?(b.x=this.c,b.y=this.d,b.z=this.ty):b.setTo(0,0,1)},createBox:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);if(0!=c){var f=Math.cos(c);c=Math.sin(c);this.a=f*a;this.b=c*b;this.c=-c*a;this.d=f*b}else this.a=a,this.c=this.b=0,this.d=b;this.tx=d;this.ty=e},createGradientBox:function(a,b,c,d,e){null==
e&&(e=0);null==d&&(d=0);null==c&&(c=0);this.a=a/1638.4;this.d=b/1638.4;if(0!=c){var f=Math.cos(c);c=Math.sin(c);this.b=c*this.d;this.c=-c*this.a;this.a*=f;this.d*=f}else this.c=this.b=0;this.tx=d+a/2;this.ty=e+b/2},deltaTransformPoint:function(a){return new Ka(a.x*this.a+a.y*this.c,a.x*this.b+a.y*this.d)},equals:function(a){return null!=a&&this.tx==a.tx&&this.ty==a.ty&&this.a==a.a&&this.b==a.b&&this.c==a.c?this.d==a.d:!1},identity:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0},invert:function(){var a=
this.a*this.d-this.b*this.c;if(0==a)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{var a=1/a,b=this.d*a;this.d=this.a*a;this.a=b;this.b*=-a;this.c*=-a;a=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty;this.tx=a}return this},rotate:function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.a*b-this.b*a;this.b=this.a*a+this.b*b;this.a=c;c=this.c*b-this.d*a;this.d=this.c*a+this.d*b;this.c=c;c=this.tx*b-this.ty*a;this.ty=this.tx*a+this.ty*b;this.tx=c},scale:function(a,
b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b},setRotation:function(a,b){null==b&&(b=1);this.a=Math.cos(a)*b;this.c=Math.sin(a)*b;this.b=-this.c;this.d=this.a},setTo:function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f},to3DString:function(a){null==a&&(a=!1);return a?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(this.tx|0)+", "+(this.ty|0)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+
this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformPoint:function(a){return new Ka(a.x*this.a+a.y*this.c+this.tx,a.x*this.b+a.y*this.d+this.ty)},translate:function(a,b){this.tx+=a;this.ty+=b},toArray:function(a){null==a&&(a=!1);null==this.__array&&(this.__array=new ra(9));a?(this.__array[0]=
this.a,this.__array[1]=this.b,this.__array[2]=0,this.__array[3]=this.c,this.__array[4]=this.d,this.__array[5]=0,this.__array[6]=this.tx,this.__array[7]=this.ty):(this.__array[0]=this.a,this.__array[1]=this.c,this.__array[2]=this.tx,this.__array[3]=this.b,this.__array[4]=this.d,this.__array[5]=this.ty,this.__array[6]=0,this.__array[7]=0);this.__array[8]=1;return this.__array},__cleanValues:function(){this.a=Math.round(1E3*this.a)/1E3;this.b=Math.round(1E3*this.b)/1E3;this.c=Math.round(1E3*this.c)/
1E3;this.d=Math.round(1E3*this.d)/1E3;this.tx=Math.round(10*this.tx)/10;this.ty=Math.round(10*this.ty)/10},__toMatrix3:function(){Ma.__matrix3.setTo(this.a,this.b,this.c,this.d,this.tx,this.ty);return Ma.__matrix3},__transformInversePoint:function(a){var b=this.a*this.d-this.b*this.c;if(0==b)a.x=-this.tx,a.y=-this.ty;else{var c=1/b*(this.c*(this.ty-a.y)+this.d*(a.x-this.tx));a.y=1/b*(this.a*(a.y-this.ty)+this.b*(this.tx-a.x));a.x=c}},__transformInverseX:function(a,b){var c=this.a*this.d-this.b*this.c;
return 0==c?-this.tx:1/c*(this.c*(this.ty-b)+this.d*(a-this.tx))},__transformInverseY:function(a,b){var c=this.a*this.d-this.b*this.c;return 0==c?-this.ty:1/c*(this.a*(b-this.ty)+this.b*(this.tx-a))},__transformPoint:function(a){var b=a.x,c=a.y;a.x=b*this.a+c*this.c+this.tx;a.y=b*this.b+c*this.d+this.ty},__transformX:function(a,b){return a*this.a+b*this.c+this.tx},__transformY:function(a,b){return a*this.b+b*this.d+this.ty},__translateTransformed:function(a,b){this.tx=a*this.a+b*this.c+this.tx;this.ty=
a*this.b+b*this.d+this.ty},__class__:Ma};var Ob=function(a,b,c,d,e,f,p,g){null==g&&(g=0);null==p&&(p=0);null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this.redMultiplier=a;this.greenMultiplier=b;this.blueMultiplier=c;this.alphaMultiplier=d;this.redOffset=e;this.greenOffset=f;this.blueOffset=p;this.alphaOffset=g};k["openfl.geom.ColorTransform"]=Ob;Ob.__name__=["openfl","geom","ColorTransform"];Ob.prototype={alphaMultiplier:null,alphaOffset:null,blueMultiplier:null,
blueOffset:null,greenMultiplier:null,greenOffset:null,redMultiplier:null,redOffset:null,concat:function(a){this.redMultiplier*=a.redMultiplier;this.greenMultiplier*=a.greenMultiplier;this.blueMultiplier*=a.blueMultiplier;this.alphaMultiplier*=a.alphaMultiplier;this.redOffset=a.redMultiplier*this.redOffset+a.redOffset;this.greenOffset=a.greenMultiplier*this.greenOffset+a.greenOffset;this.blueOffset=a.blueMultiplier*this.blueOffset+a.blueOffset;this.alphaOffset=a.alphaMultiplier*this.alphaOffset+a.alphaOffset},
toString:function(){return"(redMultiplier="+this.redMultiplier+", greenMultiplier="+this.greenMultiplier+", blueMultiplier="+this.blueMultiplier+", alphaMultiplier="+this.alphaMultiplier+", redOffset="+this.redOffset+", greenOffset="+this.greenOffset+", blueOffset="+this.blueOffset+", alphaOffset="+this.alphaOffset+")"},__clone:function(){return new Ob(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},
__combine:function(a){this.redMultiplier*=a.redMultiplier;this.greenMultiplier*=a.greenMultiplier;this.blueMultiplier*=a.blueMultiplier;this.alphaMultiplier*=a.alphaMultiplier;this.redOffset+=a.redOffset;this.greenOffset+=a.greenOffset;this.blueOffset+=a.blueOffset;this.alphaOffset+=a.alphaOffset},__equals:function(a,b){null==b&&(b=!1);return null==a||this.redMultiplier!=a.redMultiplier||this.greenMultiplier!=a.greenMultiplier||this.blueMultiplier!=a.blueMultiplier||!b&&this.alphaMultiplier!=a.alphaMultiplier||
this.redOffset!=a.redOffset||this.greenOffset!=a.greenOffset||this.blueOffset!=a.blueOffset?!1:this.alphaOffset==a.alphaOffset},__isDefault:function(){return 1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&1==this.alphaMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset?0==this.alphaOffset:!1},get_color:function(){return(this.redOffset|0)<<16|(this.greenOffset|0)<<8|this.blueOffset|0},set_color:function(a){this.redOffset=a>>16&255;this.greenOffset=a>>8&255;
this.blueOffset=a&255;this.blueMultiplier=this.greenMultiplier=this.redMultiplier=0;return this.get_color()},__toLimeColorMatrix:function(){if(null==Ob.__limeColorMatrix){var a=new ra(20);Ob.__limeColorMatrix=a}Ob.__limeColorMatrix[0]=this.redMultiplier;Ob.__limeColorMatrix[4]=this.redOffset/255;Ob.__limeColorMatrix[6]=this.greenMultiplier;Ob.__limeColorMatrix[9]=this.greenOffset/255;Ob.__limeColorMatrix[12]=this.blueMultiplier;Ob.__limeColorMatrix[14]=this.blueOffset/255;Ob.__limeColorMatrix[18]=
this.alphaMultiplier;Ob.__limeColorMatrix[19]=this.alphaOffset/255;return Ob.__limeColorMatrix},__class__:Ob,__properties__:{set_color:"set_color",get_color:"get_color"}};var Da=function(a,b,c,d,e){null==e&&(e="baseline");null==d&&(d=!1);this._backBufferEnableDepthAndStencil=!0;this._stage3DIndex=-1;Da.vertexBufferCount=Da.indexBufferCount=Da.drawTriangleCount=0;this._stage3DIndex=a;this._stage3D=b;this._stage3D.set_x(0);this._stage3D.set_y(0);this._stage3D.visible=!0;this._stage3DManager=c;this._viewPort=
new ha;this._enableDepthAndStencil=!0;X.call(this);this._stage3D.addEventListener("context3DCreate",n(this,this.onContext3DUpdate),!1,1E3,!1);this.forceSoftware=d;this._profile=e;if(null!=this._stage3D.context3D)this.onContext3DUpdate(null);else this.requestContext(d,this._profile)};k["away3d.core.managers.Stage3DProxy"]=Da;Da.__name__=["away3d","core","managers","Stage3DProxy"];Da.disposeVertexBuffer=function(a){a.dispose();Da.vertexBufferCount--};Da.disposeIndexBuffer=function(a){a.dispose();Da.indexBufferCount--};
Da.uploadVertexBufferFromVector=function(a,b,c,d){a.uploadFromVector(b,c,d);Da._vbUploadCount++};Da.uploadIndexBufferFromVector=function(a,b,c,d){a.uploadFromVector(b,c,d);Da._ibUploadCount++};Da.__super__=X;Da.prototype=t(X.prototype,{_context3D:null,_stage3DIndex:null,_usesSoftwareRendering:null,_profile:null,_stage3D:null,_activeProgram3D:null,_stage3DManager:null,_backBufferWidth:null,_backBufferHeight:null,_antiAlias:null,_enableDepthAndStencil:null,_backBufferEnableDepthAndStencil:null,_contextRequested:null,
_renderTarget:null,_renderSurfaceSelector:null,_scissorRect:null,_color:null,_backBufferDirty:null,_viewPort:null,_enterFrame:null,_exitFrame:null,_viewportUpdated:null,_viewportDirty:null,_bufferClear:null,_mouse3DManager:null,_touch3DManager:null,notifyViewportUpdated:function(){this._viewportDirty||(this._viewportDirty=!0,this.hasEventListener("ViewportUpdated")&&(this._viewportUpdated=new jd("ViewportUpdated"),this.dispatchEvent(this._viewportUpdated)))},notifyEnterFrame:function(){this.hasEventListener("enterFrame")&&
(null==this._enterFrame&&(this._enterFrame=new J("enterFrame")),this.dispatchEvent(this._enterFrame))},notifyExitFrame:function(){this.hasEventListener("exitFrame")&&(null==this._exitFrame&&(this._exitFrame=new J("exitFrame")),this.dispatchEvent(this._exitFrame))},forceSoftware:null,get_profile:function(){return this._profile},dispose:function(){this._stage3DManager.removeStage3DProxy(this);this._stage3D.removeEventListener("context3DCreate",n(this,this.onContext3DUpdate));this.freeContext3D();this._stage3DManager=
this._stage3D=null;this._stage3DIndex=-1},configureBackBuffer:function(a,b,c,d){50>a&&(a=50);50>b&&(b=50);var e=this._backBufferWidth,f=this._backBufferHeight;this._backBufferWidth=a;this._backBufferHeight=b;this._viewPort.width=a;this._viewPort.height=b;e==this._backBufferWidth&&f==this._backBufferHeight||this.notifyViewportUpdated();this._antiAlias=c;this._enableDepthAndStencil=d;null!=this._context3D&&this._context3D.configureBackBuffer(a,b,c,d)},get_enableDepthAndStencil:function(){return this._enableDepthAndStencil},
set_enableDepthAndStencil:function(a){this._enableDepthAndStencil=a;this._backBufferDirty=!0;return a},get_renderTarget:function(){return this._renderTarget},get_renderSurfaceSelector:function(){return this._renderSurfaceSelector},setRenderTarget:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);if(this._renderTarget!=a||c!=this._renderSurfaceSelector||this._enableDepthAndStencil!=b)this._renderTarget=a,this._renderSurfaceSelector=c,this._enableDepthAndStencil=b,null!=a?this._context3D.setRenderToTexture(a,
b,this._antiAlias,c):this._context3D.setRenderToBackBuffer()},clear:function(){null!=this._context3D&&(this._backBufferDirty&&(this.configureBackBuffer(this._backBufferWidth,this._backBufferHeight,this._antiAlias,this._enableDepthAndStencil),this._backBufferDirty=!1),this._context3D.clear((this._color>>16&255)/255,(this._color>>8&255)/255,(this._color&255)/255,(this._color>>24&255)/255),this._bufferClear=!0)},present:function(){null!=this._context3D&&(this._context3D.present(),this._activeProgram3D=
null,null!=this._mouse3DManager&&this._mouse3DManager.fireMouseEvents())},addEventListener:function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);X.prototype.addEventListener.call(this,a,b,c,d,e);"enterFrame"!=a&&"exitFrame"!=a||Da._frameEventDriver.hasEventListener("enterFrame")||Da._frameEventDriver.addEventListener("enterFrame",n(this,this.onEnterFrame),c,d,e)},removeEventListener:function(a,b,c){null==c&&(c=!1);X.prototype.removeEventListener.call(this,a,b,c);this.hasEventListener("enterFrame")||
this.hasEventListener("exitFrame")||!Da._frameEventDriver.hasEventListener("enterFrame")||Da._frameEventDriver.removeEventListener("enterFrame",n(this,this.onEnterFrame),c)},get_scissorRect:function(){return this._scissorRect},set_scissorRect:function(a){this._scissorRect=a;this._context3D.setScissorRectangle(this._scissorRect);return a},get_stage3DIndex:function(){return this._stage3DIndex},get_stage3D:function(){return this._stage3D},get_context3D:function(){return this._context3D},get_driverInfo:function(){return null!=
this._context3D?this._context3D.driverInfo:null},get_usesSoftwareRendering:function(){return this._usesSoftwareRendering},get_x:function(){return this._stage3D.x},set_x:function(a){if(this._viewPort.x==a)return a;this._stage3D.set_x(this._viewPort.x=a);this.notifyViewportUpdated();return a},get_y:function(){return this._stage3D.y},set_y:function(a){if(this._viewPort.y==a)return a;this._stage3D.set_y(this._viewPort.y=a);this.notifyViewportUpdated();return a},get_width:function(){return this._backBufferWidth},
set_width:function(a){if(this._viewPort.width==a)return a;50>a&&(a=50);this._viewPort.width=this._backBufferWidth=a;this._backBufferDirty=!0;this.notifyViewportUpdated();return a},get_height:function(){return this._backBufferHeight},set_height:function(a){if(this._viewPort.height==a)return a;50>a&&(a=50);this._viewPort.height=this._backBufferHeight=a;this._backBufferDirty=!0;this.notifyViewportUpdated();return a},get_antiAlias:function(){return this._antiAlias},set_antiAlias:function(a){this._antiAlias=
a;this._backBufferDirty=!0;return a},get_viewPort:function(){this._viewportDirty=!1;return this._viewPort},get_color:function(){return this._color},set_color:function(a){return this._color=a},get_visible:function(){return this._stage3D.visible},set_visible:function(a){return this._stage3D.visible=a},get_bufferClear:function(){return this._bufferClear},set_bufferClear:function(a){return this._bufferClear=a},get_mouse3DManager:function(){return this._mouse3DManager},set_mouse3DManager:function(a){return this._mouse3DManager=
a},get_touch3DManager:function(){return this._touch3DManager},set_touch3DManager:function(a){return this._touch3DManager=a},freeContext3D:function(){null!=this._context3D&&(this._context3D.dispose(),this.dispatchEvent(new jd("Context3DDisposed")));this._context3D=null},onContext3DUpdate:function(a){if(null!=this._stage3D.context3D)a=null!=this._context3D,this._context3D=this._stage3D.context3D,this._context3D.set_enableErrorChecking(yc.active),this._usesSoftwareRendering=0==this._context3D.driverInfo.indexOf("Software"),
0<this._backBufferWidth&&0<this._backBufferHeight&&this._context3D.configureBackBuffer(this._backBufferWidth,this._backBufferHeight,this._antiAlias,this._enableDepthAndStencil),this.dispatchEvent(new jd(a?"Context3DRecreated":"Context3DCreated"));else throw new F(new ja("Rendering context lost!"));},requestContext:function(a,b){null==b&&(b="baseline");null==a&&(a=!1);this._usesSoftwareRendering||(this._usesSoftwareRendering=a);this._profile=b;var c=a?1:0;if("baseline"==b)this._stage3D.requestContext3D(c);
else try{this._stage3D.requestContext3D(c,Ee.fromString(b))}catch(d){throw Aa.lastException=d,new F("An error occurred creating a context using the given profile. Profiles are not supported for the SDK this was compiled with.");}this._contextRequested=!0},onEnterFrame:function(a){null!=this._context3D&&(this.clear(),this.notifyEnterFrame(),this.present(),this.notifyExitFrame())},recoverFromDisposal:function(){return null==this._context3D?!1:"Disposed"==this._context3D.driverInfo?(this._context3D=
null,this.dispatchEvent(new jd("Context3DDisposed")),!1):!0},clearDepthBuffer:function(){null!=this._context3D&&this._context3D.clear(0,0,0,1,1,0,2)},createVertexBuffer:function(a,b){Da.vertexBufferCount++;return this._context3D.createVertexBuffer(a,b)},createIndexBuffer:function(a){Da.indexBufferCount++;return this._context3D.createIndexBuffer(a)},drawTriangles:function(a,b,c){null==c&&(c=-1);null==b&&(b=0);Da.drawTriangleCount++;this._context3D.drawTriangles(a,b,c)},__class__:Da,__properties__:{set_touch3DManager:"set_touch3DManager",
get_touch3DManager:"get_touch3DManager",set_mouse3DManager:"set_mouse3DManager",get_mouse3DManager:"get_mouse3DManager",set_bufferClear:"set_bufferClear",get_bufferClear:"get_bufferClear",set_visible:"set_visible",get_visible:"get_visible",set_color:"set_color",get_color:"get_color",get_viewPort:"get_viewPort",set_antiAlias:"set_antiAlias",get_antiAlias:"get_antiAlias",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_y:"set_y",get_y:"get_y",set_x:"set_x",
get_x:"get_x",get_usesSoftwareRendering:"get_usesSoftwareRendering",get_driverInfo:"get_driverInfo",get_context3D:"get_context3D",get_stage3D:"get_stage3D",get_stage3DIndex:"get_stage3DIndex",set_scissorRect:"set_scissorRect",get_scissorRect:"get_scissorRect",get_renderSurfaceSelector:"get_renderSurfaceSelector",get_renderTarget:"get_renderTarget",set_enableDepthAndStencil:"set_enableDepthAndStencil",get_enableDepthAndStencil:"get_enableDepthAndStencil",get_profile:"get_profile"}});var Xb=function(){this._touchPicker=
zg.RAYCAST_FIRST_ENCOUNTERED;this._touchMoveEvent=new hc("touchMove");this._nullVector=new T;this._updateDirty=!0;this._touchPoints=D.toObjectVector(null);this._touchPointFromId=new Ib;Xb._collidingObjectFromTouchId=new Ib;Xb._previousCollidingObjectFromTouchId=new Ib};k["away3d.core.managers.Touch3DManager"]=Xb;Xb.__name__=["away3d","core","managers","Touch3DManager"];Xb.prototype={_updateDirty:null,_nullVector:null,_numTouchPoints:null,_touchPoint:null,_collidingObject:null,_previousCollidingObject:null,
_touchPoints:null,_touchPointFromId:null,_touchMoveEvent:null,_forceTouchMove:null,_touchPicker:null,_view:null,updateCollider:function(){if(this._forceTouchMove||this._updateDirty)for(var a=0,b=this._numTouchPoints;a<b;){var c=a++;this._touchPoint=this._touchPoints.get(c);this._collidingObject=this._touchPicker.getViewCollision(this._touchPoint.x,this._touchPoint.y,this._view);Xb._collidingObjectFromTouchId.h[this._touchPoint.id]=this._collidingObject}},fireTouchEvents:function(){for(var a,b,c=0,
d=this._numTouchPoints;c<d;)a=c++,this._touchPoint=this._touchPoints.get(a),this._collidingObject=Xb._collidingObjectFromTouchId.h[this._touchPoint.id],this._previousCollidingObject=Xb._previousCollidingObjectFromTouchId.h[this._touchPoint.id],this._collidingObject!=this._previousCollidingObject&&(null!=this._previousCollidingObject&&this.queueDispatch("touchOut3d",this._touchMoveEvent,this._previousCollidingObject,this._touchPoint),null!=this._collidingObject&&this.queueDispatch("touchOver3d",this._touchMoveEvent,
this._collidingObject,this._touchPoint)),this._forceTouchMove&&null!=this._collidingObject&&this.queueDispatch("touchMove3d",this._touchMoveEvent,this._collidingObject,this._touchPoint);c=0;for(d=Xb._queuedEvents.get_length();c<d;){a=c++;a=Xb._queuedEvents.get(a);for(b=a.object;null!=b&&!b._ancestorsAllowMouseEnabled;)b=b.get_parent();null!=b&&b.dispatchEvent(a)}Xb._queuedEvents.set_length(0);this._updateDirty=!1;c=0;for(d=this._numTouchPoints;c<d;)a=c++,this._touchPoint=this._touchPoints.get(a),
Xb._previousCollidingObjectFromTouchId.h[this._touchPoint.id]=Xb._collidingObjectFromTouchId.h[this._touchPoint.id]},enableTouchListeners:function(a){a.addEventListener("touchBegin",n(this,this.onTouchBegin));a.addEventListener("touchMove",n(this,this.onTouchMove));a.addEventListener("touchEnd",n(this,this.onTouchEnd))},disableTouchListeners:function(a){a.removeEventListener("touchBegin",n(this,this.onTouchBegin));a.removeEventListener("touchMove",n(this,this.onTouchMove));a.removeEventListener("touchEnd",
n(this,this.onTouchEnd))},dispose:function(){this._touchPicker.dispose();this._touchPointFromId=this._touchPoints=null;Xb._collidingObjectFromTouchId=null;Xb._previousCollidingObjectFromTouchId=null},queueDispatch:function(a,b,c,d){a=new Hd(a);a.ctrlKey=b.ctrlKey;a.altKey=b.altKey;a.shiftKey=b.shiftKey;a.screenX=d.x;a.screenY=d.y;a.touchPointID=d.id;null!=c?(a.object=c.entity,a.renderable=c.renderable,a.uv=c.uv,a.localPosition=null!=c.localPosition?c.localPosition.clone():null,a.localNormal=null!=
c.localNormal?c.localNormal.clone():null,a.index=c.index,a.subGeometryIndex=c.subGeometryIndex):(a.uv=null,a.object=null,a.localPosition=this._nullVector,a.localNormal=this._nullVector,a.index=0,a.subGeometryIndex=0);Xb._queuedEvents.push(a)},onTouchBegin:function(a){var b=new mk;b.id=a.touchPointID;b.x=a.stageX;b.y=a.stageY;this._numTouchPoints++;this._touchPoints.push(b);this._touchPointFromId.h[b.id]=b;this.updateCollider();this._collidingObject=Xb._collidingObjectFromTouchId.h[b.id];null!=this._collidingObject&&
this.queueDispatch("touchBegin3d",a,this._collidingObject,b);this._updateDirty=!0},onTouchMove:function(a){var b=this._touchPointFromId.h[a.touchPointID];null!=b&&(b.x=a.stageX,b.y=a.stageY,this._collidingObject=Xb._collidingObjectFromTouchId.h[b.id],null!=this._collidingObject&&this.queueDispatch("touchMove3d",this._touchMoveEvent=a,this._collidingObject,b),this._updateDirty=!0)},onTouchEnd:function(a){var b=this._touchPointFromId.h[a.touchPointID];null!=b&&(this._collidingObject=Xb._collidingObjectFromTouchId.h[b.id],
null!=this._collidingObject&&this.queueDispatch("touchEnd3d",a,this._collidingObject,b),this._touchPointFromId.remove(b.id),this._numTouchPoints--,this._touchPoints.splice(this._touchPoints.indexOf(b,0),1),this._updateDirty=!0)},get_forceTouchMove:function(){return this._forceTouchMove},set_forceTouchMove:function(a){return this._forceTouchMove=a},get_touchPicker:function(){return this._touchPicker},set_touchPicker:function(a){return this._touchPicker=a},set_view:function(a){return this._view=a},
__class__:Xb,__properties__:{set_view:"set_view",set_touchPicker:"set_touchPicker",get_touchPicker:"get_touchPicker",set_forceTouchMove:"set_forceTouchMove",get_forceTouchMove:"get_forceTouchMove"}};var mk=function(){};k["away3d.core.managers.TouchPoint"]=mk;mk.__name__=["away3d","core","managers","TouchPoint"];mk.prototype={id:null,x:null,y:null,__class__:mk};var bc=function(){};k["away3d.core.math.MathConsts"]=bc;bc.__name__=["away3d","core","math","MathConsts"];var T=function(a,b,c,d){null==d&&
(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.w=d;this.x=a;this.y=b;this.z=c};k["openfl.geom.Vector3D"]=T;T.__name__=["openfl","geom","Vector3D"];T.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"};T.angleBetween=function(a,b){var c=a.get_length(),d=b.get_length(),e=a.dotProduct(b);0!=c&&(e/=c);0!=d&&(e/=d);return Math.acos(e)};T.distance=function(a,b){var c=b.x-a.x,d=b.y-a.y,e=b.z-a.z;return Math.sqrt(c*c+d*d+e*e)};T.get_X_AXIS=function(){return new T(1,
0,0)};T.get_Y_AXIS=function(){return new T(0,1,0)};T.get_Z_AXIS=function(){return new T(0,0,1)};T.prototype={w:null,x:null,y:null,z:null,add:function(a){return new T(this.x+a.x,this.y+a.y,this.z+a.z)},clone:function(){return new T(this.x,this.y,this.z,this.w)},copyFrom:function(a){this.x=a.x;this.y=a.y;this.z=a.z},crossProduct:function(a){return new T(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x,1)},decrementBy:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z},dotProduct:function(a){return this.x*
a.x+this.y*a.y+this.z*a.z},equals:function(a,b){null==b&&(b=!1);return this.x==a.x&&this.y==a.y&&this.z==a.z?b?this.w==a.w:!0:!1},incrementBy:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z},nearEquals:function(a,b,c){null==c&&(c=!1);return Math.abs(this.x-a.x)<b&&Math.abs(this.y-a.y)<b&&Math.abs(this.z-a.z)<b?c?Math.abs(this.w-a.w)<b:!0:!1},negate:function(){this.x*=-1;this.y*=-1;this.z*=-1},normalize:function(){var a=this.get_length();0!=a&&(this.x/=a,this.y/=a,this.z/=a);return a},project:function(){this.x/=
this.w;this.y/=this.w;this.z/=this.w},scaleBy:function(a){this.x*=a;this.y*=a;this.z*=a},setTo:function(a,b,c){this.x=a;this.y=b;this.z=c},subtract:function(a){return new T(this.x-a.x,this.y-a.y,this.z-a.z)},toString:function(){return"Vector3D("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:T,__properties__:{get_lengthSquared:"get_lengthSquared",
get_length:"get_length"}};var Sa=function(a){if(null!=a&&16==a.get_length())this.rawData=a.concat(null);else{a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];for(var b=D.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.rawData=b}};k["openfl.geom.Matrix3D"]=Sa;Sa.__name__=["openfl","geom","Matrix3D"];Sa.create2D=function(a,b,c,d){null==d&&(d=0);null==c&&(c=1);var e=d*Math.PI/180;d=Math.cos(e);e=Math.sin(e);a=[d*c,-e*c,0,0,e*c,d*c,0,0,0,0,1,0,a,b,0,1];b=D.toFloatVector(null);c=0;for(d=a.length;c<
d;)e=c++,b.set(e,a[e]);return new Sa(b)};Sa.createABCD=function(a,b,c,d,e,f){a=[a,b,0,0,c,d,0,0,0,0,1,0,e,f,0,1];b=D.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);return new Sa(b)};Sa.createOrtho=function(a,b,c,d,e,f){var p=1/(b-a),g=1/(d-c),m=1/(f-e);a=[2*p,0,0,0,0,2*g,0,0,0,0,-2*m,0,-(a+b)*p,-(c+d)*g,-(e+f)*m,1];b=D.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);return new Sa(b)};Sa.interpolate=function(a,b,c){for(var d=new Sa,e=0;16>e;){var f=e++;d.rawData.set(f,
a.rawData.get(f)+(b.rawData.get(f)-a.rawData.get(f))*c)}return d};Sa.__getAxisRotation=function(a,b,c,d){var e=new Sa;a=new T(a,b,c);d=Math.PI/180*-d;c=Math.cos(d);d=Math.sin(d);b=1-c;e.rawData.set(0,c+a.x*a.x*b);e.rawData.set(5,c+a.y*a.y*b);e.rawData.set(10,c+a.z*a.z*b);c=a.x*a.y*b;var f=a.z*d;e.rawData.set(4,c+f);e.rawData.set(1,c-f);c=a.x*a.z*b;f=a.y*d;e.rawData.set(8,c-f);e.rawData.set(2,c+f);c=a.y*a.z*b;f=a.x*d;e.rawData.set(9,c+f);e.rawData.set(6,c-f);return e};Sa.prototype={rawData:null,append:function(a){var b=
this.rawData.get(0),c=this.rawData.get(4),d=this.rawData.get(8),e=this.rawData.get(12),f=this.rawData.get(1),p=this.rawData.get(5),g=this.rawData.get(9),m=this.rawData.get(13),h=this.rawData.get(2),l=this.rawData.get(6),k=this.rawData.get(10),A=this.rawData.get(14),U=this.rawData.get(3),v=this.rawData.get(7),q=this.rawData.get(11),C=this.rawData.get(15),n=a.rawData.get(0),r=a.rawData.get(4),t=a.rawData.get(8),u=a.rawData.get(12),y=a.rawData.get(1),z=a.rawData.get(5),D=a.rawData.get(9),w=a.rawData.get(13),
x=a.rawData.get(2),F=a.rawData.get(6),B=a.rawData.get(10),E=a.rawData.get(14),G=a.rawData.get(3),I=a.rawData.get(7),H=a.rawData.get(11);a=a.rawData.get(15);this.rawData.set(0,b*n+f*r+h*t+U*u);this.rawData.set(1,b*y+f*z+h*D+U*w);this.rawData.set(2,b*x+f*F+h*B+U*E);this.rawData.set(3,b*G+f*I+h*H+U*a);this.rawData.set(4,c*n+p*r+l*t+v*u);this.rawData.set(5,c*y+p*z+l*D+v*w);this.rawData.set(6,c*x+p*F+l*B+v*E);this.rawData.set(7,c*G+p*I+l*H+v*a);this.rawData.set(8,d*n+g*r+k*t+q*u);this.rawData.set(9,d*
y+g*z+k*D+q*w);this.rawData.set(10,d*x+g*F+k*B+q*E);this.rawData.set(11,d*G+g*I+k*H+q*a);this.rawData.set(12,e*n+m*r+A*t+C*u);this.rawData.set(13,e*y+m*z+A*D+C*w);this.rawData.set(14,e*x+m*F+A*B+C*E);this.rawData.set(15,e*G+m*I+A*H+C*a)},appendRotation:function(a,b,c){var d,e,f=0;d=e=f;null!=c&&(d=c.x,e=c.y,f=c.z);c=a*Math.PI/180;a=Math.cos(c);c=Math.sin(c);var p=b.x,g=b.y;b=b.z;var m=p*p,h=g*g,l=b*b,k=m+h+l;if(0!=k){var A=Math.sqrt(k),p=p/A,g=g/A;b/=A;m/=k;h/=k;l/=k}var k=1-a,A=new Sa,U=A.rawData;
U.set(0,m+(h+l)*a);U.set(1,p*g*k+b*c);U.set(2,p*b*k-g*c);U.set(4,p*g*k-b*c);U.set(5,h+(m+l)*a);U.set(6,g*b*k+p*c);U.set(8,p*b*k+g*c);U.set(9,g*b*k-p*c);U.set(10,l+(m+h)*a);U.set(12,(d*(h+l)-p*(e*g+f*b))*k+(e*b-f*g)*c);U.set(13,(e*(m+l)-g*(d*p+f*b))*k+(f*p-d*b)*c);U.set(14,(f*(m+h)-b*(d*p+e*g))*k+(d*g-e*p)*c);this.append(A)},appendScale:function(a,b,c){a=[a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1];b=D.toFloatVector(null);c=0;for(var d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.append(new Sa(b))},appendTranslation:function(a,
b,c){var d=this.rawData;d.set(12,d.get(12)+a);a=this.rawData;a.set(13,a.get(13)+b);b=this.rawData;b.set(14,b.get(14)+c)},clone:function(){return new Sa(this.rawData.copy())},copyColumnFrom:function(a,b){switch(a){case 0:this.rawData.set(0,b.x);this.rawData.set(1,b.y);this.rawData.set(2,b.z);this.rawData.set(3,b.w);break;case 1:this.rawData.set(4,b.x);this.rawData.set(5,b.y);this.rawData.set(6,b.z);this.rawData.set(7,b.w);break;case 2:this.rawData.set(8,b.x);this.rawData.set(9,b.y);this.rawData.set(10,
b.z);this.rawData.set(11,b.w);break;case 3:this.rawData.set(12,b.x),this.rawData.set(13,b.y),this.rawData.set(14,b.z),this.rawData.set(15,b.w)}},copyColumnTo:function(a,b){switch(a){case 0:b.x=this.rawData.get(0);b.y=this.rawData.get(1);b.z=this.rawData.get(2);b.w=this.rawData.get(3);break;case 1:b.x=this.rawData.get(4);b.y=this.rawData.get(5);b.z=this.rawData.get(6);b.w=this.rawData.get(7);break;case 2:b.x=this.rawData.get(8);b.y=this.rawData.get(9);b.z=this.rawData.get(10);b.w=this.rawData.get(11);
break;case 3:b.x=this.rawData.get(12),b.y=this.rawData.get(13),b.z=this.rawData.get(14),b.w=this.rawData.get(15)}},copyFrom:function(a){this.rawData=a.rawData.copy()},copyRawDataFrom:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);c&&this.transpose();for(var d=0,e=a.get_length()-b;d<e;){var f=d++;this.rawData.set(f,a.get(f+b))}c&&this.transpose()},copyRawDataTo:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);c&&this.transpose();for(var d=0,e=this.rawData.get_length();d<e;){var f=d++;a.set(f+b,this.rawData.get(f))}c&&
this.transpose()},copyRowFrom:function(a,b){switch(a){case 0:this.rawData.set(0,b.x);this.rawData.set(4,b.y);this.rawData.set(8,b.z);this.rawData.set(12,b.w);break;case 1:this.rawData.set(1,b.x);this.rawData.set(5,b.y);this.rawData.set(9,b.z);this.rawData.set(13,b.w);break;case 2:this.rawData.set(2,b.x);this.rawData.set(6,b.y);this.rawData.set(10,b.z);this.rawData.set(14,b.w);break;case 3:this.rawData.set(3,b.x),this.rawData.set(7,b.y),this.rawData.set(11,b.z),this.rawData.set(15,b.w)}},copyRowTo:function(a,
b){switch(a){case 0:b.x=this.rawData.get(0);b.y=this.rawData.get(4);b.z=this.rawData.get(8);b.w=this.rawData.get(12);break;case 1:b.x=this.rawData.get(1);b.y=this.rawData.get(5);b.z=this.rawData.get(9);b.w=this.rawData.get(13);break;case 2:b.x=this.rawData.get(2);b.y=this.rawData.get(6);b.z=this.rawData.get(10);b.w=this.rawData.get(14);break;case 3:b.x=this.rawData.get(3),b.y=this.rawData.get(7),b.z=this.rawData.get(11),b.w=this.rawData.get(15)}},copyToMatrix3D:function(a){a.rawData=this.rawData.copy()},
decompose:function(a){null==a&&(a=1);var b=D.toObjectVector(null),c=this.clone().rawData.copy(),d=new T(c.get(12),c.get(13),c.get(14));c.set(12,0);c.set(13,0);c.set(14,0);var e=new T;e.x=Math.sqrt(c.get(0)*c.get(0)+c.get(1)*c.get(1)+c.get(2)*c.get(2));e.y=Math.sqrt(c.get(4)*c.get(4)+c.get(5)*c.get(5)+c.get(6)*c.get(6));e.z=Math.sqrt(c.get(8)*c.get(8)+c.get(9)*c.get(9)+c.get(10)*c.get(10));0>c.get(0)*(c.get(5)*c.get(10)-c.get(6)*c.get(9))-c.get(1)*(c.get(4)*c.get(10)-c.get(6)*c.get(8))+c.get(2)*(c.get(4)*
c.get(9)-c.get(5)*c.get(8))&&(e.z=-e.z);c.set(0,c.get(0)/e.x);c.set(1,c.get(1)/e.x);c.set(2,c.get(2)/e.x);c.set(4,c.get(4)/e.y);c.set(5,c.get(5)/e.y);c.set(6,c.get(6)/e.y);c.set(8,c.get(8)/e.z);c.set(9,c.get(9)/e.z);c.set(10,c.get(10)/e.z);var f=new T;switch(a){case 0:f.w=Math.acos((c.get(0)+c.get(5)+c.get(10)-1)/2);a=Math.sqrt((c.get(6)-c.get(9))*(c.get(6)-c.get(9))+(c.get(8)-c.get(2))*(c.get(8)-c.get(2))+(c.get(1)-c.get(4))*(c.get(1)-c.get(4)));0!=a?(f.x=(c.get(6)-c.get(9))/a,f.y=(c.get(8)-c.get(2))/
a,f.z=(c.get(1)-c.get(4))/a):f.x=f.y=f.z=0;break;case 1:f.y=Math.asin(-c.get(2));1!=c.get(2)&&-1!=c.get(2)?(f.x=Math.atan2(c.get(6),c.get(10)),f.z=Math.atan2(c.get(1),c.get(0))):(f.z=0,f.x=Math.atan2(c.get(4),c.get(5)));break;case 2:a=c.get(0)+c.get(5)+c.get(10),0<a?(f.w=Math.sqrt(1+a)/2,f.x=(c.get(6)-c.get(9))/(4*f.w),f.y=(c.get(8)-c.get(2))/(4*f.w),f.z=(c.get(1)-c.get(4))/(4*f.w)):c.get(0)>c.get(5)&&c.get(0)>c.get(10)?(f.x=Math.sqrt(1+c.get(0)-c.get(5)-c.get(10))/2,f.w=(c.get(6)-c.get(9))/(4*f.x),
f.y=(c.get(1)+c.get(4))/(4*f.x),f.z=(c.get(8)+c.get(2))/(4*f.x)):c.get(5)>c.get(10)?(f.y=Math.sqrt(1+c.get(5)-c.get(0)-c.get(10))/2,f.x=(c.get(1)+c.get(4))/(4*f.y),f.w=(c.get(8)-c.get(2))/(4*f.y),f.z=(c.get(6)+c.get(9))/(4*f.y)):(f.z=Math.sqrt(1+c.get(10)-c.get(0)-c.get(5))/2,f.x=(c.get(8)+c.get(2))/(4*f.z),f.y=(c.get(6)+c.get(9))/(4*f.z),f.w=(c.get(1)-c.get(4))/(4*f.z))}b.push(d);b.push(f);b.push(e);return b},deltaTransformVector:function(a){var b=a.x,c=a.y;a=a.z;return new T(b*this.rawData.get(0)+
c*this.rawData.get(4)+a*this.rawData.get(8)+this.rawData.get(3),b*this.rawData.get(1)+c*this.rawData.get(5)+a*this.rawData.get(9)+this.rawData.get(7),b*this.rawData.get(2)+c*this.rawData.get(6)+a*this.rawData.get(10)+this.rawData.get(11),0)},identity:function(){for(var a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],b=D.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.rawData=b},interpolateTo:function(a,b){for(var c=0;16>c;){var d=c++;this.rawData.set(d,this.rawData.get(d)+(a.rawData.get(d)-
this.rawData.get(d))*b)}},invert:function(){var a=this.get_determinant(),b=1E-11<Math.abs(a);if(b){var a=1/a,c=this.rawData.get(0),d=this.rawData.get(4),e=this.rawData.get(8),f=this.rawData.get(12),p=this.rawData.get(1),g=this.rawData.get(5),m=this.rawData.get(9),h=this.rawData.get(13),l=this.rawData.get(2),k=this.rawData.get(6),A=this.rawData.get(10),U=this.rawData.get(14),v=this.rawData.get(3),q=this.rawData.get(7),C=this.rawData.get(11),n=this.rawData.get(15);this.rawData.set(0,a*(g*(A*n-U*C)-
m*(k*n-U*q)+h*(k*C-A*q)));this.rawData.set(1,-a*(p*(A*n-U*C)-m*(l*n-U*v)+h*(l*C-A*v)));this.rawData.set(2,a*(p*(k*n-U*q)-g*(l*n-U*v)+h*(l*q-k*v)));this.rawData.set(3,-a*(p*(k*C-A*q)-g*(l*C-A*v)+m*(l*q-k*v)));this.rawData.set(4,-a*(d*(A*n-U*C)-e*(k*n-U*q)+f*(k*C-A*q)));this.rawData.set(5,a*(c*(A*n-U*C)-e*(l*n-U*v)+f*(l*C-A*v)));this.rawData.set(6,-a*(c*(k*n-U*q)-d*(l*n-U*v)+f*(l*q-k*v)));this.rawData.set(7,a*(c*(k*C-A*q)-d*(l*C-A*v)+e*(l*q-k*v)));this.rawData.set(8,a*(d*(m*n-h*C)-e*(g*n-h*q)+f*(g*
C-m*q)));this.rawData.set(9,-a*(c*(m*n-h*C)-e*(p*n-h*v)+f*(p*C-m*v)));this.rawData.set(10,a*(c*(g*n-h*q)-d*(p*n-h*v)+f*(p*q-g*v)));this.rawData.set(11,-a*(c*(g*C-m*q)-d*(p*C-m*v)+e*(p*q-g*v)));this.rawData.set(12,-a*(d*(m*U-h*A)-e*(g*U-h*k)+f*(g*A-m*k)));this.rawData.set(13,a*(c*(m*U-h*A)-e*(p*U-h*l)+f*(p*A-m*l)));this.rawData.set(14,-a*(c*(g*U-h*k)-d*(p*U-h*l)+f*(p*k-g*l)));this.rawData.set(15,a*(c*(g*A-m*k)-d*(p*A-m*l)+e*(p*k-g*l)))}return b},pointAt:function(a,b,c){null==b&&(b=new T(0,0,-1));null==
c&&(c=new T(0,-1,0));b=b.subtract(a);c=c.clone();var d;b.normalize();c.normalize();d=b.clone();d.scaleBy(c.dotProduct(b));c=c.subtract(d);0<c.get_length()?c.normalize():c=0!=b.x?new T(-b.y,b.x,0):new T(1,0,0);d=c.crossProduct(b);d.normalize();this.rawData.set(0,d.x);this.rawData.set(4,d.y);this.rawData.set(8,d.z);this.rawData.set(12,0);this.rawData.set(1,c.x);this.rawData.set(5,c.y);this.rawData.set(9,c.z);this.rawData.set(13,0);this.rawData.set(2,b.x);this.rawData.set(6,b.y);this.rawData.set(10,
b.z);this.rawData.set(14,0);this.rawData.set(3,a.x);this.rawData.set(7,a.y);this.rawData.set(11,a.z);this.rawData.set(15,1)},prepend:function(a){var b=a.rawData.get(0),c=a.rawData.get(4),d=a.rawData.get(8),e=a.rawData.get(12),f=a.rawData.get(1),p=a.rawData.get(5),g=a.rawData.get(9),m=a.rawData.get(13),h=a.rawData.get(2),l=a.rawData.get(6),k=a.rawData.get(10),A=a.rawData.get(14),U=a.rawData.get(3),v=a.rawData.get(7),q=a.rawData.get(11);a=a.rawData.get(15);var C=this.rawData.get(0),n=this.rawData.get(4),
r=this.rawData.get(8),t=this.rawData.get(12),u=this.rawData.get(1),y=this.rawData.get(5),z=this.rawData.get(9),D=this.rawData.get(13),w=this.rawData.get(2),x=this.rawData.get(6),F=this.rawData.get(10),B=this.rawData.get(14),E=this.rawData.get(3),G=this.rawData.get(7),I=this.rawData.get(11),H=this.rawData.get(15);this.rawData.set(0,b*C+f*n+h*r+U*t);this.rawData.set(1,b*u+f*y+h*z+U*D);this.rawData.set(2,b*w+f*x+h*F+U*B);this.rawData.set(3,b*E+f*G+h*I+U*H);this.rawData.set(4,c*C+p*n+l*r+v*t);this.rawData.set(5,
c*u+p*y+l*z+v*D);this.rawData.set(6,c*w+p*x+l*F+v*B);this.rawData.set(7,c*E+p*G+l*I+v*H);this.rawData.set(8,d*C+g*n+k*r+q*t);this.rawData.set(9,d*u+g*y+k*z+q*D);this.rawData.set(10,d*w+g*x+k*F+q*B);this.rawData.set(11,d*E+g*G+k*I+q*H);this.rawData.set(12,e*C+m*n+A*r+a*t);this.rawData.set(13,e*u+m*y+A*z+a*D);this.rawData.set(14,e*w+m*x+A*F+a*B);this.rawData.set(15,e*E+m*G+A*I+a*H)},prependRotation:function(a,b,c){var d,e,f=0;d=e=f;null!=c&&(d=c.x,e=c.y,f=c.z);c=a*Math.PI/180;a=Math.cos(c);c=Math.sin(c);
var p=b.x,g=b.y;b=b.z;var m=p*p,h=g*g,l=b*b,k=m+h+l;if(0!=k){var A=Math.sqrt(k),p=p/A,g=g/A;b/=A;m/=k;h/=k;l/=k}var k=1-a,A=new Sa,q=A.rawData;q.set(0,m+(h+l)*a);q.set(1,p*g*k+b*c);q.set(2,p*b*k-g*c);q.set(4,p*g*k-b*c);q.set(5,h+(m+l)*a);q.set(6,g*b*k+p*c);q.set(8,p*b*k+g*c);q.set(9,g*b*k-p*c);q.set(10,l+(m+h)*a);q.set(12,(d*(h+l)-p*(e*g+f*b))*k+(e*b-f*g)*c);q.set(13,(e*(m+l)-g*(d*p+f*b))*k+(f*p-d*b)*c);q.set(14,(f*(m+h)-b*(d*p+e*g))*k+(d*g-e*p)*c);this.prepend(A)},prependScale:function(a,b,c){a=
[a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1];b=D.toFloatVector(null);c=0;for(var d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.prepend(new Sa(b))},prependTranslation:function(a,b,c){var d=new Sa;d.set_position(new T(a,b,c));this.prepend(d)},recompose:function(a,b){if(3>a.get_length()||0==a.get(2).x||0==a.get(2).y||0==a.get(2).z)return!1;null==b&&(b=1);this.identity();var c=[];c[0]=c[1]=c[2]=a.get(2).x;c[4]=c[5]=c[6]=a.get(2).y;c[8]=c[9]=c[10]=a.get(2).z;if(null==b){var d=a.get(1).x,e=a.get(1).y,f=a.get(1).z,
p=a.get(1).w;0==b&&(d*=Math.sin(p/2),e*=Math.sin(p/2),f*=Math.sin(p/2),p=Math.cos(p/2));this.rawData.set(0,(1-2*e*e-2*f*f)*c[0]);this.rawData.set(1,(2*d*e+2*p*f)*c[1]);this.rawData.set(2,(2*d*f-2*p*e)*c[2]);this.rawData.set(3,0);this.rawData.set(4,(2*d*e-2*p*f)*c[4]);this.rawData.set(5,(1-2*d*d-2*f*f)*c[5]);this.rawData.set(6,(2*e*f+2*p*d)*c[6]);this.rawData.set(7,0);this.rawData.set(8,(2*d*f+2*p*e)*c[8]);this.rawData.set(9,(2*e*f-2*p*d)*c[9]);this.rawData.set(10,(1-2*d*d-2*e*e)*c[10])}else if(1==
b){var d=Math.cos(a.get(1).x),e=Math.cos(a.get(1).y),f=Math.cos(a.get(1).z),p=Math.sin(a.get(1).x),g=Math.sin(a.get(1).y),m=Math.sin(a.get(1).z);this.rawData.set(0,e*f*c[0]);this.rawData.set(1,e*m*c[1]);this.rawData.set(2,-g*c[2]);this.rawData.set(3,0);this.rawData.set(4,(p*g*f-d*m)*c[4]);this.rawData.set(5,(p*g*m+d*f)*c[5]);this.rawData.set(6,p*e*c[6]);this.rawData.set(7,0);this.rawData.set(8,(d*g*f+p*m)*c[8]);this.rawData.set(9,(d*g*m-p*f)*c[9]);this.rawData.set(10,d*e*c[10])}else d=a.get(1).x,
e=a.get(1).y,f=a.get(1).z,p=a.get(1).w,0==b&&(d*=Math.sin(p/2),e*=Math.sin(p/2),f*=Math.sin(p/2),p=Math.cos(p/2)),this.rawData.set(0,(1-2*e*e-2*f*f)*c[0]),this.rawData.set(1,(2*d*e+2*p*f)*c[1]),this.rawData.set(2,(2*d*f-2*p*e)*c[2]),this.rawData.set(3,0),this.rawData.set(4,(2*d*e-2*p*f)*c[4]),this.rawData.set(5,(1-2*d*d-2*f*f)*c[5]),this.rawData.set(6,(2*e*f+2*p*d)*c[6]),this.rawData.set(7,0),this.rawData.set(8,(2*d*f+2*p*e)*c[8]),this.rawData.set(9,(2*e*f-2*p*d)*c[9]),this.rawData.set(10,(1-2*d*
d-2*e*e)*c[10]);this.rawData.set(11,0);this.rawData.set(12,a.get(0).x);this.rawData.set(13,a.get(0).y);this.rawData.set(14,a.get(0).z);this.rawData.set(15,1);0==a.get(2).x&&this.rawData.set(0,1E-15);0==a.get(2).y&&this.rawData.set(5,1E-15);0==a.get(2).z&&this.rawData.set(10,1E-15);return!(0==a.get(2).x||0==a.get(2).y||0==a.get(2).y)},transformVector:function(a){var b=a.x,c=a.y;a=a.z;return new T(b*this.rawData.get(0)+c*this.rawData.get(4)+a*this.rawData.get(8)+this.rawData.get(12),b*this.rawData.get(1)+
c*this.rawData.get(5)+a*this.rawData.get(9)+this.rawData.get(13),b*this.rawData.get(2)+c*this.rawData.get(6)+a*this.rawData.get(10)+this.rawData.get(14),b*this.rawData.get(3)+c*this.rawData.get(7)+a*this.rawData.get(11)+this.rawData.get(15))},transformVectors:function(a,b){for(var c=0,d,e,f;c+3<=a.get_length();)d=a.get(c),e=a.get(c+1),f=a.get(c+2),b.set(c,d*this.rawData.get(0)+e*this.rawData.get(4)+f*this.rawData.get(8)+this.rawData.get(12)),b.set(c+1,d*this.rawData.get(1)+e*this.rawData.get(5)+f*
this.rawData.get(9)+this.rawData.get(13)),b.set(c+2,d*this.rawData.get(2)+e*this.rawData.get(6)+f*this.rawData.get(10)+this.rawData.get(14)),c+=3},transpose:function(){var a=this.rawData.copy();this.rawData.set(1,a.get(4));this.rawData.set(2,a.get(8));this.rawData.set(3,a.get(12));this.rawData.set(4,a.get(1));this.rawData.set(6,a.get(9));this.rawData.set(7,a.get(13));this.rawData.set(8,a.get(2));this.rawData.set(9,a.get(6));this.rawData.set(11,a.get(14));this.rawData.set(12,a.get(3));this.rawData.set(13,
a.get(7));this.rawData.set(14,a.get(11))},get_determinant:function(){return(this.rawData.get(0)*this.rawData.get(5)-this.rawData.get(4)*this.rawData.get(1))*(this.rawData.get(10)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(11))-(this.rawData.get(0)*this.rawData.get(9)-this.rawData.get(8)*this.rawData.get(1))*(this.rawData.get(6)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(7))+(this.rawData.get(0)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(1))*(this.rawData.get(6)*
this.rawData.get(11)-this.rawData.get(10)*this.rawData.get(7))+(this.rawData.get(4)*this.rawData.get(9)-this.rawData.get(8)*this.rawData.get(5))*(this.rawData.get(2)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(3))-(this.rawData.get(4)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(5))*(this.rawData.get(2)*this.rawData.get(11)-this.rawData.get(10)*this.rawData.get(3))+(this.rawData.get(8)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(9))*(this.rawData.get(2)*
this.rawData.get(7)-this.rawData.get(6)*this.rawData.get(3))},get_position:function(){return new T(this.rawData.get(12),this.rawData.get(13),this.rawData.get(14))},set_position:function(a){this.rawData.set(12,a.x);this.rawData.set(13,a.y);this.rawData.set(14,a.z);return a},__class__:Sa,__properties__:{set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"}};var ga=function(){};k["away3d.core.math.Matrix3DUtils"]=ga;ga.__name__=["away3d","core","math","Matrix3DUtils"];
ga.quaternion2matrix=function(a,b){var c=a.x,d=a.y,e=a.z,f=a.w,p=c*c,g=c*d,m=c*e,c=c*f,h=d*d,l=d*e,d=d*f,k=e*e,e=e*f,f=ga.RAW_DATA_CONTAINER;f.set(0,1-2*(h+k));f.set(1,2*(g+e));f.set(2,2*(m-d));f.set(4,2*(g-e));f.set(5,1-2*(p+k));f.set(6,2*(l+c));f.set(8,2*(m+d));f.set(9,2*(l-c));f.set(10,1-2*(p+h));f.set(3,f.set(7,f.set(11,f.set(12,f.set(13,f.set(14,0))))));f.set(15,1);return null!=b?(b.copyRawDataFrom(f),b):new Sa(f)};ga.getForward=function(a,b){null==b&&(b=new T(0,0,0));a.copyColumnTo(2,b);b.normalize();
return b};ga.getUp=function(a,b){null==b&&(b=new T(0,0,0));a.copyColumnTo(1,b);b.normalize();return b};ga.getRight=function(a,b){null==b&&(b=new T(0,0,0));a.copyColumnTo(0,b);b.normalize();return b};ga.compare=function(a,b){var c=ga.RAW_DATA_CONTAINER,d=b.rawData;a.copyRawDataTo(c);for(var e=0;16>e;){var f=e++;if(c.get(f)!=d.get(f))return!1}return!0};ga.lookAt=function(a,b,c,d){var e,f=ga.RAW_DATA_CONTAINER;e=c.crossProduct(d);e.normalize();d=e.crossProduct(c);d.normalize();c=c.clone();c.normalize();
f.set(0,e.x);f.set(1,d.x);f.set(2,-c.x);f.set(3,0);f.set(4,e.y);f.set(5,d.y);f.set(6,-c.y);f.set(7,0);f.set(8,e.z);f.set(9,d.z);f.set(10,-c.z);f.set(11,0);f.set(12,-e.dotProduct(b));f.set(13,-d.dotProduct(b));f.set(14,c.dotProduct(b));f.set(15,1);a.copyRawDataFrom(f)};ga.reflection=function(a,b){null==b&&(b=new Sa);var c=a.a,d=a.b,e=a.c,f=a.d,p=ga.RAW_DATA_CONTAINER,g=-2*c*d,m=-2*c*e,h=-2*d*e;p.set(0,1-2*c*c);p.set(4,g);p.set(8,m);p.set(12,-2*c*f);p.set(1,g);p.set(5,1-2*d*d);p.set(9,h);p.set(13,-2*
d*f);p.set(2,m);p.set(6,h);p.set(10,1-2*e*e);p.set(14,-2*e*f);p.set(3,0);p.set(7,0);p.set(11,0);p.set(15,1);b.copyRawDataFrom(p);return b};ga.decompose=function(a,b){null==b&&(b=1);var c=ga.RAW_DATA_CONTAINER;a.copyRawDataTo(c);var d=c.get(0),e=c.get(1),f=c.get(2),p=c.get(4),g=c.get(5),m=c.get(6),h=c.get(8),l=c.get(9),k=c.get(10),A=c.get(12),q=c.get(13),c=c.get(14),v=Math.sqrt(d*d+e*e+f*f),n=Math.sqrt(p*p+g*g+m*m),C=Math.sqrt(h*h+l*l+k*k),r=0,t=v,u=n,y=C;0>d*(g*k-m*l)-e*(p*k-m*h)+f*(p*l-g*h)&&(y=
-y);d/=t;e/=t;f/=t;p/=u;g/=u;m/=u;h/=y;l/=y;k/=y;1==b?(v=Math.atan2(m,k),n=Math.atan2(-f,Math.sqrt(d*d+e*e)),e=Math.sin(v),f=Math.cos(v),C=Math.atan2(e*h-f*p,f*g-e*l)):0==b?(r=Math.acos((d+g+k-1)/2),g=Math.sqrt((m-l)*(m-l)+(h-f)*(h-f)+(e-p)*(e-p)),v=(m-l)/g,n=(h-f)/g,C=(e-p)/g):(v=d+g+k,0<v?(r=Math.sqrt(1+v)/2,v=(m-l)/(4*r),n=(h-f)/(4*r),C=(e-p)/(4*r)):d>g&&d>k?(v=Math.sqrt(1+d-g-k)/2,r=(m-l)/(4*v),n=(e+p)/(4*v),C=(h+f)/(4*v)):g>k?(n=Math.sqrt(1+g-d-k)/2,v=(e+p)/(4*n),r=(h-f)/(4*n),C=(m+l)/(4*n)):
(C=Math.sqrt(1+k-d-g)/2,v=(h+f)/(4*C),n=(m+l)/(4*C),r=(e-p)/(4*C)));p=ga.CALCULATION_DECOMPOSE;p.get(0).x=A;p.get(0).y=q;p.get(0).z=c;p.get(1).x=v;p.get(1).y=n;p.get(1).z=C;p.get(1).w=r;p.get(2).x=t;p.get(2).y=u;p.get(2).z=y;return p};ga.transformVector=function(a,b,c){null==c&&(c=new T);var d=ga.RAW_DATA_CONTAINER;a.copyRawDataTo(d);a=d.get(0);var e=d.get(1),f=d.get(2),p=d.get(3),g=d.get(4),m=d.get(5),h=d.get(6),l=d.get(7),k=d.get(8),A=d.get(9),q=d.get(10),v=d.get(11),n=d.get(12),C=d.get(13),r=d.get(14),
d=d.get(15),t=b.x,u=b.y;b=b.z;c.x=a*t+g*u+k*b+n;c.y=e*t+m*u+A*b+C;c.z=f*t+h*u+q*b+r;c.w=p*t+l*u+v*b+d;return c};ga.deltaTransformVector=function(a,b,c){null==c&&(c=new T);var d=ga.RAW_DATA_CONTAINER;a.copyRawDataTo(d);a=d.get(0);var e=d.get(1),f=d.get(2),p=d.get(3),g=d.get(4),m=d.get(5),h=d.get(6),l=d.get(7),k=d.get(8),A=d.get(9),q=d.get(10),d=d.get(11),v=b.x,n=b.y;b=b.z;c.x=a*v+g*n+k*b;c.y=e*v+m*n+A*b;c.z=f*v+h*n+q*b;c.w=p*v+l*n+d*b;return c};ga.getTranslation=function(a,b){null==b&&(b=new T);a.copyColumnTo(3,
b);return b};ga.deltaTransformVectors=function(a,b,c){var d=ga.RAW_DATA_CONTAINER;a.copyRawDataTo(d);a=d.get(0);var e=d.get(1),f=d.get(2);d.get(3);var p=d.get(4),g=d.get(5),m=d.get(6);d.get(7);var h=d.get(8),l=d.get(9),k=d.get(10);d.get(11);for(var d=0,A=b.get_length(),q=0;q<A;){var v=b.get(q),n=b.get(q+1),C=b.get(q+2);c.set(d++,a*v+p*n+h*C);c.set(d++,e*v+g*n+l*C);c.set(d++,f*v+m*n+k*C);q+=3}};var bf=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.a=a;this.b=b;this.c=
c;this.d=d;this._alignment=0==a&&0==b?1:0==b&&0==c?2:0==a&&0==c?3:0};k["away3d.core.math.Plane3D"]=bf;bf.__name__=["away3d","core","math","Plane3D"];bf.prototype={a:null,b:null,c:null,d:null,_alignment:null,fromPoints:function(a,b,c){var d=b.x-a.x,e=b.y-a.y;b=b.z-a.z;var f=c.x-a.x,p=c.y-a.y;c=c.z-a.z;this.a=e*c-b*p;this.b=b*f-d*c;this.c=d*p-e*f;this.d=this.a*a.x+this.b*a.y+this.c*a.z;this._alignment=0==this.a&&0==this.b?1:0==this.b&&0==this.c?2:0==this.a&&0==this.c?3:0},fromNormalAndPoint:function(a,
b){this.a=a.x;this.b=a.y;this.c=a.z;this.d=this.a*b.x+this.b*b.y+this.c*b.z;this._alignment=0==this.a&&0==this.b?1:0==this.b&&0==this.c?2:0==this.a&&0==this.c?3:0},normalize:function(){var a=1/Math.sqrt(this.a*this.a+this.b*this.b+this.c*this.c);this.a*=a;this.b*=a;this.c*=a;this.d*=a;return this},distance:function(a){return 2==this._alignment?this.a*a.x-this.d:3==this._alignment?this.b*a.y-this.d:1==this._alignment?this.c*a.z-this.d:this.a*a.x+this.b*a.y+this.c*a.z-this.d},classifyPoint:function(a,
b){null==b&&(b=.01);if(this.d!=this.d)return 1;var c;c=2==this._alignment?this.a*a.x-this.d:3==this._alignment?this.b*a.y-this.d:1==this._alignment?this.c*a.z-this.d:this.a*a.x+this.b*a.y+this.c*a.z-this.d;return c<-b?0:c>b?1:2},toString:function(){return"Plane3D [a:"+this.a+", b:"+this.b+", c:"+this.c+", d:"+this.d+"]."},__class__:bf};var Ag=function(){};k["away3d.core.math.PlaneClassification"]=Ag;Ag.__name__=["away3d","core","math","PlaneClassification"];var Rh=function(a,b,c,d){null==d&&(d=1);
null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.z=c;this.w=d};k["away3d.core.math.Quaternion"]=Rh;Rh.__name__=["away3d","core","math","Quaternion"];Rh.prototype={x:null,y:null,z:null,w:null,get_magnitude:function(){return Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z)},multiply:function(a,b){var c=a.w,d=a.x,e=a.y,f=a.z,p=b.w,g=b.x,m=b.y,h=b.z;this.w=c*p-d*g-e*m-f*h;this.x=c*g+d*p+e*h-f*m;this.y=c*m-d*h+e*p+f*g;this.z=c*h+d*m-e*g+f*p},multiplyVector:function(a,
b){null==b&&(b=new Rh);var c=a.x,d=a.y,e=a.z;b.w=-this.x*c-this.y*d-this.z*e;b.x=this.w*c+this.y*e-this.z*d;b.y=this.w*d-this.x*e+this.z*c;b.z=this.w*e+this.x*d-this.y*c;return b},fromAxisAngle:function(a,b){var c=Math.sin(b/2),d=Math.cos(b/2);this.x=a.x*c;this.y=a.y*c;this.z=a.z*c;this.w=d;this.normalize()},slerp:function(a,b,c){var d=a.w,e=a.x,f=a.y;a=a.z;var p=b.w,g=b.x,m=b.y;b=b.z;var h=d*p+e*g+f*m+a*b;0>h&&(h=-h,p=-p,g=-g,m=-m,b=-b);if(.95>h){var l=Math.acos(h),k=1/Math.sin(l),h=Math.sin(l*(1-
c))*k;c=Math.sin(l*c)*k;this.w=d*h+p*c;this.x=e*h+g*c;this.y=f*h+m*c;this.z=a*h+b*c}else this.w=d+c*(p-d),this.x=e+c*(g-e),this.y=f+c*(m-f),this.z=a+c*(b-a),d=1/Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z),this.w*=d,this.x*=d,this.y*=d,this.z*=d},lerp:function(a,b,c){var d=a.w,e=a.x,f=a.y;a=a.z;var p=b.w,g=b.x,m=b.y;b=b.z;0>d*p+e*g+f*m+a*b&&(p=-p,g=-g,m=-m,b=-b);this.w=d+c*(p-d);this.x=e+c*(g-e);this.y=f+c*(m-f);this.z=a+c*(b-a);c=1/Math.sqrt(this.w*this.w+this.x*this.x+this.y*
this.y+this.z*this.z);this.w*=c;this.x*=c;this.y*=c;this.z*=c},fromEulerAngles:function(a,b,c){a*=.5;var d=.5*b;b=.5*c;c=Math.cos(a);a=Math.sin(a);var e=Math.cos(d),d=Math.sin(d),f=Math.cos(b);b=Math.sin(b);this.w=c*e*f+a*d*b;this.x=a*e*f-c*d*b;this.y=c*d*f+a*e*b;this.z=c*e*b-a*d*f},toEulerAngles:function(a){null==a&&(a=new T);a.x=Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y));a.y=Math.asin(2*(this.w*this.y-this.z*this.x));a.z=Math.atan2(2*(this.w*this.z+this.x*this.y),
1-2*(this.y*this.y+this.z*this.z));return a},normalize:function(a){null==a&&(a=1);a/=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);this.x*=a;this.y*=a;this.z*=a;this.w*=a},toString:function(){return"{x:"+this.x+" y:"+this.y+" z:"+this.z+" w:"+this.w+"}"},toMatrix3D:function(a){var b=ga.RAW_DATA_CONTAINER,c=2*this.x*this.y,d=2*this.x*this.z,e=2*this.x*this.w,f=2*this.y*this.z,p=2*this.y*this.w,g=2*this.z*this.w,m=this.x*this.x,h=this.y*this.y,l=this.z*this.z,k=this.w*this.w;b.set(0,
m-h-l+k);b.set(4,c-g);b.set(8,d+p);b.set(12,0);b.set(1,c+g);b.set(5,-m+h-l+k);b.set(9,f-e);b.set(13,0);b.set(2,d-p);b.set(6,f+e);b.set(10,-m-h+l+k);b.set(14,0);b.set(3,0);b.set(7,0);b.set(11,0);b.set(15,1);if(null==a)return new Sa(b);a.copyRawDataFrom(b);return a},fromMatrix:function(a){a=a.decompose(2).get(1);this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w},toRawData:function(a,b){null==b&&(b=!1);var c=2*this.x*this.y,d=2*this.x*this.z,e=2*this.x*this.w,f=2*this.y*this.z,p=2*this.y*this.w,g=2*this.z*
this.w,m=this.x*this.x,h=this.y*this.y,l=this.z*this.z,k=this.w*this.w;a.set(0,m-h-l+k);a.set(1,c-g);a.set(2,d+p);a.set(4,c+g);a.set(5,-m+h-l+k);a.set(6,f-e);a.set(8,d-p);a.set(9,f+e);a.set(10,-m-h+l+k);a.set(3,a.set(7,a.set(11,0)));b||(a.set(12,a.set(13,a.set(14,0))),a.set(15,1))},clone:function(){return new Rh(this.x,this.y,this.z,this.w)},rotatePoint:function(a,b){var c,d,e,f;e=a.x;var p=a.y,g=a.z;null==b&&(b=new T);f=-this.x*e-this.y*p-this.z*g;c=this.w*e+this.y*g-this.z*p;d=this.w*p-this.x*g+
this.z*e;e=this.w*g+this.x*p-this.y*e;b.x=-f*this.x+c*this.w-d*this.z+e*this.y;b.y=-f*this.y+c*this.z+d*this.w-e*this.x;b.z=-f*this.z-c*this.y+d*this.x+e*this.w;return b},copyFrom:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w},__class__:Rh,__properties__:{get_magnitude:"get_magnitude"}};var Ad=function(){this._childNodes=D.toObjectVector(null);this._numChildNodes=this._collectionMark=this._numEntities=0};k["away3d.core.partition.NodeBase"]=Ad;Ad.__name__=["away3d","core","partition","NodeBase"];
Ad.prototype={_parent:null,_childNodes:null,_numChildNodes:null,_debugPrimitive:null,_numEntities:null,_collectionMark:null,get_showDebugBounds:function(){return null!=this._debugPrimitive},set_showDebugBounds:function(a){if(null!=this._debugPrimitive==a)return a;a?this._debugPrimitive=this.createDebugBounds():(this._debugPrimitive.dispose(),this._debugPrimitive=null);for(var b=0,c=this._numChildNodes;b<c;){var d=b++;this._childNodes.get(d).set_showDebugBounds(a)}return a},get_parent:function(){return this._parent},
addNode:function(a){a._parent=this;this._numEntities+=a._numEntities;this._childNodes.set(this._numChildNodes++,a);a.set_showDebugBounds(null!=this._debugPrimitive);var b=a._numEntities;for(a=this;a._numEntities+=b,a=a._parent,null!=a;);},removeNode:function(a){var b=this._childNodes.indexOf(a,0);this._childNodes.set(b,this._childNodes.get(--this._numChildNodes));this._childNodes.pop();b=a._numEntities;for(a=this;a._numEntities-=b,a=a._parent,null!=a;);},isInFrustum:function(a,b){return!0},isIntersectingRay:function(a,
b){return!0},findPartitionForEntity:function(a){return this},acceptTraverser:function(a){if((0!=this._numEntities||null!=this._debugPrimitive)&&a.enterNode(this)){for(var b=0;b<this._numChildNodes;)this._childNodes.get(b++).acceptTraverser(a);null!=this._debugPrimitive&&a.applyRenderable(this._debugPrimitive)}},createDebugBounds:function(){return null},get_numEntities:function(){return this._numEntities},updateNumEntities:function(a){a-=this._numEntities;for(var b=this;b._numEntities+=a,b=b._parent,
null!=b;);},__class__:Ad,__properties__:{get_numEntities:"get_numEntities",get_parent:"get_parent",set_showDebugBounds:"set_showDebugBounds",get_showDebugBounds:"get_showDebugBounds"}};var Na=function(a){Ad.call(this);this._entity=a;this._numEntities=1};k["away3d.core.partition.EntityNode"]=Na;Na.__name__=["away3d","core","partition","EntityNode"];Na.__super__=Ad;Na.prototype=t(Ad.prototype,{_entity:null,_updateQueueNext:null,get_entity:function(){return this._entity},acceptTraverser:function(a){a.applyEntity(this._entity)},
removeFromParent:function(){null!=this._parent&&this._parent.removeNode(this);this._parent=null},isInFrustum:function(a,b){return this._entity.get_isVisible()?this._entity.get_worldBounds().isInFrustum(a,b):!1},isIntersectingRay:function(a,b){return this._entity.get_isVisible()?this._entity.isIntersectingRay(a,b):!1},__class__:Na,__properties__:t(Ad.prototype.__properties__,{get_entity:"get_entity"})});var Nh=function(a){Na.call(this,a)};k["away3d.core.partition.CameraNode"]=Nh;Nh.__name__=["away3d",
"core","partition","CameraNode"];Nh.__super__=Na;Nh.prototype=t(Na.prototype,{acceptTraverser:function(a){},__class__:Nh});var Sh=function(a){Na.call(this,a);this._light=a};k["away3d.core.partition.DirectionalLightNode"]=Sh;Sh.__name__=["away3d","core","partition","DirectionalLightNode"];Sh.__super__=Na;Sh.prototype=t(Na.prototype,{_light:null,get_light:function(){return this._light},acceptTraverser:function(a){a.enterNode(this)&&(Na.prototype.acceptTraverser.call(this,a),a.applyDirectionalLight(this._light))},
__class__:Sh,__properties__:t(Na.prototype.__properties__,{get_light:"get_light"})});var Th=function(a){Na.call(this,a);this._light=a};k["away3d.core.partition.LightNode"]=Th;Th.__name__=["away3d","core","partition","LightNode"];Th.__super__=Na;Th.prototype=t(Na.prototype,{_light:null,get_light:function(){return this._light},acceptTraverser:function(a){a.enterNode(this)&&(Na.prototype.acceptTraverser.call(this,a),a.applyUnknownLight(this._light))},__class__:Th,__properties__:t(Na.prototype.__properties__,
{get_light:"get_light"})});var Uh=function(a){Na.call(this,a);this._light=a};k["away3d.core.partition.LightProbeNode"]=Uh;Uh.__name__=["away3d","core","partition","LightProbeNode"];Uh.__super__=Na;Uh.prototype=t(Na.prototype,{_light:null,get_light:function(){return this._light},acceptTraverser:function(a){a.enterNode(this)&&(Na.prototype.acceptTraverser.call(this,a),a.applyLightProbe(this._light))},__class__:Uh,__properties__:t(Na.prototype.__properties__,{get_light:"get_light"})});var Vh=function(a){Na.call(this,
a);this._mesh=a};k["away3d.core.partition.MeshNode"]=Vh;Vh.__name__=["away3d","core","partition","MeshNode"];Vh.__super__=Na;Vh.prototype=t(Na.prototype,{_mesh:null,get_mesh:function(){return this._mesh},acceptTraverser:function(a){if(a.enterNode(this)){Na.prototype.acceptTraverser.call(this,a);for(var b=this._mesh.get_subMeshes(),c=0,d=b.get_length();c<d;)a.applyRenderable(b.get(c++))}},__class__:Vh,__properties__:t(Na.prototype.__properties__,{get_mesh:"get_mesh"})});var Wh=function(){Ad.call(this)};
k["away3d.core.partition.NullNode"]=Wh;Wh.__name__=["away3d","core","partition","NullNode"];Wh.__super__=Ad;Wh.prototype=t(Ad.prototype,{__class__:Wh});var gk=function(a){this._rootNode=a;null==a&&(this._rootNode=new Wh)};k["away3d.core.partition.Partition3D"]=gk;gk.__name__=["away3d","core","partition","Partition3D"];gk.prototype={_rootNode:null,_updatesMade:null,_updateQueue:null,get_showDebugBounds:function(){return this._rootNode.get_showDebugBounds()},set_showDebugBounds:function(a){this._rootNode.set_showDebugBounds(a);
return a},traverse:function(a){this._updatesMade&&this.updateEntities();++ie._collectionMark;this._rootNode.acceptTraverser(a)},markForUpdate:function(a){a=a.getEntityPartitionNode();for(var b=this._updateQueue;null!=b;){if(a==b)return;b=b._updateQueueNext}a._updateQueueNext=this._updateQueue;this._updateQueue=a;this._updatesMade=!0},removeEntity:function(a){a=a.getEntityPartitionNode();var b;a.removeFromParent();if(a==this._updateQueue)this._updateQueue=a._updateQueueNext;else{for(b=this._updateQueue;null!=
b&&b._updateQueueNext!=a;)b=b._updateQueueNext;null!=b&&(b._updateQueueNext=a._updateQueueNext)}a._updateQueueNext=null;null==this._updateQueue&&(this._updatesMade=!1)},updateEntities:function(){var a=this._updateQueue,b;this._updateQueue=null;for(this._updatesMade=!1;b=this._rootNode.findPartitionForEntity(a.get_entity()),a.get_parent()!=b&&(null!=a&&a.removeFromParent(),b.addNode(a)),b=a._updateQueueNext,a._updateQueueNext=null,a.get_entity().internalUpdate(),a=b,null!=a;);},__class__:gk,__properties__:{set_showDebugBounds:"set_showDebugBounds",
get_showDebugBounds:"get_showDebugBounds"}};var Xh=function(a){Na.call(this,a);this._light=a};k["away3d.core.partition.PointLightNode"]=Xh;Xh.__name__=["away3d","core","partition","PointLightNode"];Xh.__super__=Na;Xh.prototype=t(Na.prototype,{_light:null,get_light:function(){return this._light},acceptTraverser:function(a){a.enterNode(this)&&(Na.prototype.acceptTraverser.call(this,a),a.applyPointLight(this._light))},__class__:Xh,__properties__:t(Na.prototype.__properties__,{get_light:"get_light"})});
var Yh=function(a){Na.call(this,y.__cast(a,ib));this._renderable=a};k["away3d.core.partition.RenderableNode"]=Yh;Yh.__name__=["away3d","core","partition","RenderableNode"];Yh.__super__=Na;Yh.prototype=t(Na.prototype,{_renderable:null,acceptTraverser:function(a){a.enterNode(this)&&(Na.prototype.acceptTraverser.call(this,a),a.applyRenderable(this._renderable))},__class__:Yh});var Zh=function(a){Na.call(this,a);this._skyBox=a};k["away3d.core.partition.SkyBoxNode"]=Zh;Zh.__name__=["away3d","core","partition",
"SkyBoxNode"];Zh.__super__=Na;Zh.prototype=t(Na.prototype,{_skyBox:null,acceptTraverser:function(a){a.enterNode(this)&&(Na.prototype.acceptTraverser.call(this,a),a.applySkyBox(this._skyBox))},isInFrustum:function(a,b){return!0},__class__:Zh});var $h=function(){};k["away3d.core.pick.IPicker"]=$h;$h.__name__=["away3d","core","pick","IPicker"];$h.prototype={get_onlyMouseEnabled:null,set_onlyMouseEnabled:null,getViewCollision:null,getSceneCollision:null,dispose:null,__class__:$h,__properties__:{set_onlyMouseEnabled:"set_onlyMouseEnabled",
get_onlyMouseEnabled:"get_onlyMouseEnabled"}};var Ml=function(){};k["away3d.core.pick.IPickingCollider"]=Ml;Ml.__name__=["away3d","core","pick","IPickingCollider"];Ml.prototype={setLocalRay:null,testSubMeshCollision:null,__class__:Ml};var fk=function(a){this.entity=a};k["away3d.core.pick.PickingCollisionVO"]=fk;fk.__name__=["away3d","core","pick","PickingCollisionVO"];fk.prototype={entity:null,localPosition:null,localNormal:null,uv:null,index:null,subGeometryIndex:null,localRayPosition:null,localRayDirection:null,
rayPosition:null,rayDirection:null,rayOriginIsInsideBounds:null,rayEntryDistance:null,renderable:null,__class__:fk};var je=function(a){this._onlyMouseEnabled=!0;this._ignoredEntities=[];this._raycastCollector=new ai;this._findClosestCollision=a;this._entities=D.toObjectVector(null)};k["away3d.core.pick.RaycastPicker"]=je;je.__name__=["away3d","core","pick","RaycastPicker"];je.__interfaces__=[$h];je.prototype={_findClosestCollision:null,_raycastCollector:null,_ignoredEntities:null,_onlyMouseEnabled:null,
_entities:null,_numEntities:null,_hasCollisions:null,get_onlyMouseEnabled:function(){return this._onlyMouseEnabled},set_onlyMouseEnabled:function(a){return this._onlyMouseEnabled=a},getViewCollision:function(a,b,c){var d=c.get_entityCollector();if(0==d.get_numMouseEnableds())return null;var e=c.unproject(a,b,0,je.tempRayPosition);a=c.unproject(a,b,1,je.tempRayDirection);a.x-=e.x;a.y-=e.y;a.z-=e.z;this._numEntities=0;for(d=d.get_entityHead();null!=d;)b=d.entity,this.isIgnored(b)||b.get_isVisible()&&
b.isIntersectingRay(e,a)&&this._entities.set(this._numEntities++,b),d=d.next;return 0==this._numEntities?null:this.getPickingCollisionVO()},getSceneCollision:function(a,b,c){this._raycastCollector.clear();this._raycastCollector.set_rayPosition(a);this._raycastCollector.set_rayDirection(b);c.traversePartitions(this._raycastCollector);this._numEntities=0;for(a=this._raycastCollector.get_entityHead();null!=a;)b=a.entity,this.isIgnored(b)||this._entities.set(this._numEntities++,b),a=a.next;return 0==
this._numEntities?null:this.getPickingCollisionVO()},getEntityCollision:function(a,b,c){for(var d=this._numEntities=0;d<c.length;){var e=c[d];++d;e.isIntersectingRay(a,b)&&this._entities.set(this._numEntities++,e)}return this.getPickingCollisionVO()},setIgnoreList:function(a){this._ignoredEntities=a},isIgnored:function(a){if(this._onlyMouseEnabled&&(!a._ancestorsAllowMouseEnabled||!a.get_mouseEnabled()))return!0;for(var b=0,c=this._ignoredEntities;b<c.length;){var d=c[b];++b;if(d==a)return!0}return!1},
sortOnNearT:function(a,b){return a.get_pickingCollisionVO().rayEntryDistance>b.get_pickingCollisionVO().rayEntryDistance?1:-1},getPickingCollisionVO:function(){this._entities.set_length(this._numEntities);this._entities.sort(n(this,this.sortOnNearT));for(var a=Infinity,b=null,c,d,e=0,f=this._numEntities;e<f;)if(c=e++,d=this._entities.get(c),c=d._pickingCollisionVO,null!=d.get_pickingCollider()){if((null==b||c.rayEntryDistance<b.rayEntryDistance)&&d.collidesBefore(a,this._findClosestCollision)&&(a=
c.rayEntryDistance,b=c,!this._findClosestCollision))return this.updateLocalPosition(c),c}else if((null==b||c.rayEntryDistance<b.rayEntryDistance)&&!c.rayOriginIsInsideBounds)return this.updateLocalPosition(c),c;return b},updateLocalPosition:function(a){null==a.localPosition&&(a.localPosition=new T);var b=a.localPosition,c=a.localRayDirection,d=a.localRayPosition;a=a.rayEntryDistance;b.x=d.x+a*c.x;b.y=d.y+a*c.y;b.z=d.z+a*c.z},dispose:function(){},__class__:je,__properties__:{set_onlyMouseEnabled:"set_onlyMouseEnabled",
get_onlyMouseEnabled:"get_onlyMouseEnabled"}};var ha=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};k["openfl.geom.Rectangle"]=ha;ha.__name__=["openfl","geom","Rectangle"];ha.prototype={height:null,width:null,x:null,y:null,clone:function(){return new ha(this.x,this.y,this.width,this.height)},contains:function(a,b){return a>=this.x&&b>=this.y&&a<this.get_right()?b<this.get_bottom():!1},containsPoint:function(a){return this.contains(a.x,
a.y)},containsRect:function(a){return 0>=a.width||0>=a.height?a.x>this.x&&a.y>this.y&&a.get_right()<this.get_right()?a.get_bottom()<this.get_bottom():!1:a.x>=this.x&&a.y>=this.y&&a.get_right()<=this.get_right()?a.get_bottom()<=this.get_bottom():!1},copyFrom:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},equals:function(a){return a==this?!0:null!=a&&this.x==a.x&&this.y==a.y&&this.width==a.width?this.height==a.height:!1},inflate:function(a,b){this.x-=a;this.width+=2*a;this.y-=
b;this.height+=2*b},inflatePoint:function(a){this.inflate(a.x,a.y)},intersection:function(a){var b=this.x<a.x?a.x:this.x,c=this.get_right()>a.get_right()?a.get_right():this.get_right();if(c<=b)return new ha;var d=this.y<a.y?a.y:this.y;a=this.get_bottom()>a.get_bottom()?a.get_bottom():this.get_bottom();return a<=d?new ha:new ha(b,d,c-b,a-d)},intersects:function(a){var b=this.x<a.x?a.x:this.x;if((this.get_right()>a.get_right()?a.get_right():this.get_right())<=b)return!1;b=this.y<a.y?a.y:this.y;return(this.get_bottom()>
a.get_bottom()?a.get_bottom():this.get_bottom())>b},isEmpty:function(){return 0>=this.width?!0:0>=this.height},offset:function(a,b){this.x+=a;this.y+=b},offsetPoint:function(a){this.x+=a.x;this.y+=a.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},toString:function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"},union:function(a){if(0==this.width||0==this.height)return a.clone();
if(0==a.width||0==a.height)return this.clone();var b=this.x>a.x?a.x:this.x,c=this.get_right()<a.get_right()?a.get_right():this.get_right(),d=this.y>a.y?a.y:this.y;a=this.get_bottom()<a.get_bottom()?a.get_bottom():this.get_bottom();return new ha(b,d,c-b,a-d)},__contract:function(a,b,c,d){if(0!=this.width||0!=this.height){var e=0,f=0,p=0,g=0;this.x<a&&(e=a-this.x);this.y<b&&(f=b-this.y);this.get_right()>a+c&&(p=a+c-this.get_right());this.get_bottom()>b+d&&(g=b+d-this.get_bottom());this.x+=e;this.y+=
f;this.width+=p-e;this.height+=g-f}},__expand:function(a,b,c,d){if(0==this.width&&0==this.height)this.x=a,this.y=b,this.width=c,this.height=d;else{var e=this.get_right(),f=this.get_bottom();this.x>a&&(this.x=a,this.width=e-a);this.y>b&&(this.y=b,this.height=f-b);e<a+c&&(this.width=a+c-this.x);f<b+d&&(this.height=b+d-this.y)}},__toLimeRectangle:function(){null==ha.__limeRectangle&&(ha.__limeRectangle=new Bb);ha.__limeRectangle.setTo(this.x,this.y,this.width,this.height);return ha.__limeRectangle},
__transform:function(a,b){var c=b.a*this.x+b.c*this.y,d=c,e=b.b*this.x+b.d*this.y,f=e,p=b.a*(this.x+this.width)+b.c*this.y,g=b.b*(this.x+this.width)+b.d*this.y;p<c&&(c=p);g<e&&(e=g);p>d&&(d=p);g>f&&(f=g);p=b.a*(this.x+this.width)+b.c*(this.y+this.height);g=b.b*(this.x+this.width)+b.d*(this.y+this.height);p<c&&(c=p);g<e&&(e=g);p>d&&(d=p);g>f&&(f=g);p=b.a*this.x+b.c*(this.y+this.height);g=b.b*this.x+b.d*(this.y+this.height);p<c&&(c=p);g<e&&(e=g);p>d&&(d=p);g>f&&(f=g);a.setTo(c+b.tx,e+b.ty,d-c,f-e)},
get_bottom:function(){return this.y+this.height},set_bottom:function(a){this.height=a-this.y;return a},get_bottomRight:function(){return new Ka(this.x+this.width,this.y+this.height)},set_bottomRight:function(a){this.width=a.x-this.x;this.height=a.y-this.y;return a.clone()},get_left:function(){return this.x},set_left:function(a){this.width-=a-this.x;return this.x=a},get_right:function(){return this.x+this.width},set_right:function(a){this.width=a-this.x;return a},get_size:function(){return new Ka(this.width,
this.height)},set_size:function(a){this.width=a.x;this.height=a.y;return a.clone()},get_top:function(){return this.y},set_top:function(a){this.height-=a-this.y;return this.y=a},get_topLeft:function(){return new Ka(this.x,this.y)},set_topLeft:function(a){this.x=a.x;this.y=a.y;return a.clone()},__class__:ha,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",
get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var ef=function(){this._rayDir=new T;this._rayPos=new T;this._localHitNormal=new T;this._hitUV=new Ka;this._localHitPosition=new T;this._interactives=D.toObjectVector(null);this._onlyMouseEnabled=!0;this._id=D.toFloatVector(null,4,!0);this._viewportData=D.toFloatVector(null,4,!0);this._boundOffsetScale=D.toFloatVector(null,8,!0);this._boundOffsetScale.set(3,0);
this._boundOffsetScale.set(7,1)};k["away3d.core.pick.ShaderPicker"]=ef;ef.__name__=["away3d","core","pick","ShaderPicker"];ef.__interfaces__=[$h];ef.prototype={_stage3DProxy:null,_context:null,_onlyMouseEnabled:null,_objectProgram3D:null,_triangleProgram3D:null,_bitmapData:null,_viewportData:null,_boundOffsetScale:null,_id:null,_interactives:null,_interactiveId:null,_hitColor:null,_projX:null,_projY:null,_hitRenderable:null,_hitEntity:null,_localHitPosition:null,_hitUV:null,_faceIndex:null,_subGeometryIndex:null,
_localHitNormal:null,_rayPos:null,_rayDir:null,_potentialFound:null,get_onlyMouseEnabled:function(){return this._onlyMouseEnabled},set_onlyMouseEnabled:function(a){return this._onlyMouseEnabled=a},getViewCollision:function(a,b,c){var d=c.get_entityCollector();this._stage3DProxy=c.get_stage3DProxy();if(null==this._stage3DProxy)return null;this._context=this._stage3DProxy._context3D;this._viewportData.set(0,c.get_width());this._viewportData.set(1,c.get_height());this._viewportData.set(2,-(this._projX=
2*a/c.get_width()-1));this._viewportData.set(3,this._projY=2*b/c.get_height()-1);this._potentialFound=!1;this.draw(d,null);this._context.setVertexBufferAt(0,null);if(null==this._context||!this._potentialFound)return null;null==this._bitmapData&&(this._bitmapData=new ma(1,1,!1,0));this._context.drawToBitmapData(this._bitmapData);this._hitColor=this._bitmapData.getPixel(0,0);if(0==this._hitColor)return this._context.present(),null;this._hitRenderable=this._interactives.get(this._hitColor-1);this._hitEntity=
this._hitRenderable.get_sourceEntity();if(this._onlyMouseEnabled&&(!this._hitEntity._ancestorsAllowMouseEnabled||!this._hitEntity.get_mouseEnabled()))return null;a=this._hitEntity.get_pickingCollisionVO();this._hitRenderable.get_shaderPickingDetails()?(this.getHitDetails(c.get_camera()),a.localPosition=this._localHitPosition,a.localNormal=this._localHitNormal,a.uv=this._hitUV,a.index=this._faceIndex,a.subGeometryIndex=this._subGeometryIndex):(a.localPosition=null,a.localNormal=null,a.uv=null,a.index=
0,a.subGeometryIndex=0);return a},getSceneCollision:function(a,b,c){return null},draw:function(a,b){var c=a.get_camera();this._context.clear(0,0,0,1);this._stage3DProxy.set_scissorRect(ef.MOUSE_SCISSOR_RECT);this._interactives.set_length(this._interactiveId=0);null==this._objectProgram3D&&this.initObjectProgram3D();this._context.setBlendFactors(2,9);this._context.setDepthTest(!0,4);this._context.setProgram(this._objectProgram3D);this._context.setProgramConstantsFromVector(1,4,this._viewportData,1);
this.drawRenderables(a.get_opaqueRenderableHead(),c);this.drawRenderables(a.get_blendedRenderableHead(),c)},drawRenderables:function(a,b){for(var c=ga.CALCULATION_MATRIX,d,e=b.get_viewProjection();null!=a;)d=a.renderable,null==d.get_sourceEntity().get_scene()||!d.get_mouseEnabled()&&this._onlyMouseEnabled||(this._potentialFound=!0,this._context.setCulling(null!=d.get_material()&&d.get_material().get_bothSides()?3:0),this._interactives.set(this._interactiveId++,d),this._id.set(1,(this._interactiveId>>
8)/255),this._id.set(2,(this._interactiveId&255)/255),c.copyFrom(d.getRenderSceneTransform(b)),c.append(e),this._context.setProgramConstantsFromMatrix(1,0,c,!0),this._context.setProgramConstantsFromVector(0,0,this._id,1),d.activateVertexBuffer(0,this._stage3DProxy),this._stage3DProxy.drawTriangles(d.getIndexBuffer(this._stage3DProxy),0,d.get_numTriangles())),a=a.next},updateRay:function(a){this._rayPos=a.get_scenePosition();this._rayDir=a.getRay(this._projX,this._projY,1);this._rayDir.normalize()},
initObjectProgram3D:function(){this._objectProgram3D=this._context.createProgram();this._objectProgram3D.upload((new G).assemble(Pc.toString(1),"m44 vt0, va0, vc0\t\t\t\nmul vt1.xy, vt0.w, vc4.zw\t\nadd vt0.xy, vt0.xy, vt1.xy\t\nmul vt0.xy, vt0.xy, vc4.xy\t\nmov op, vt0\t\n"),(new G).assemble(Pc.toString(0),"mov oc, fc0"))},initTriangleProgram3D:function(){this._triangleProgram3D=this._context.createProgram();this._triangleProgram3D.upload((new G).assemble(Pc.toString(1),"add vt0, va0, vc5 \t\t\t\nmul vt0, vt0, vc6 \t\t\t\nmov v0, vt0\t\t\t\t\nm44 vt0, va0, vc0\t\t\t\nmul vt1.xy, vt0.w, vc4.zw\t\nadd vt0.xy, vt0.xy, vt1.xy\t\nmul vt0.xy, vt0.xy, vc4.xy\t\nmov op, vt0\t\n"),
(new G).assemble(Pc.toString(0),"mov oc, v0"))},getHitDetails:function(a){this.getApproximatePosition(a);this.getPreciseDetails(a)},getApproximatePosition:function(a){var b=this._hitRenderable.get_sourceEntity(),c,d,e,f,p;c=ga.CALCULATION_MATRIX;c.copyFrom(this._hitRenderable.getRenderSceneTransform(a));c.append(a.get_viewProjection());null==this._triangleProgram3D&&this.initTriangleProgram3D();d=this._boundOffsetScale;a=b.get_maxX()-b.get_minX();d.set(4,1/a);e=this._boundOffsetScale;d=b.get_maxY()-
b.get_minY();e.set(5,1/d);f=this._boundOffsetScale;e=b.get_maxZ()-b.get_minZ();f.set(6,1/e);p=this._boundOffsetScale;f=-b.get_minX();p.set(0,f);var g=this._boundOffsetScale;p=-b.get_minY();g.set(1,p);g=this._boundOffsetScale;b=-b.get_minZ();g.set(2,b);this._context.setProgram(this._triangleProgram3D);this._context.clear(0,0,0,0,1,0,2);this._context.setScissorRectangle(ef.MOUSE_SCISSOR_RECT);this._context.setProgramConstantsFromMatrix(1,0,c,!0);this._context.setProgramConstantsFromVector(1,5,this._boundOffsetScale,
2);this._hitRenderable.activateVertexBuffer(0,this._stage3DProxy);this._stage3DProxy.drawTriangles(this._hitRenderable.getIndexBuffer(this._stage3DProxy),0,this._hitRenderable.get_numTriangles());this._context.drawToBitmapData(this._bitmapData);c=this._bitmapData.getPixel(0,0);this._localHitPosition.x=(c>>16&255)*a/255-f;this._localHitPosition.y=(c>>8&255)*d/255-p;this._localHitPosition.z=(c&255)*e/255-b},getPreciseDetails:function(a){var b=y.__cast(this._hitRenderable,Ff).get_subGeometry(),c=b.get_indexData(),
d=b.get_vertexData(),e=c.get_length(),f,p,g,m,h,l,k,A=0,q=1,v=2,n,C,r,t,u,z,D,w,x,F,B,E,G,I,H=b.get_UVData(),J=b.get_faceNormals(),L=this._localHitPosition.x,N=this._localHitPosition.y,O=this._localHitPosition.z,M=b.get_vertexStride(),P=b.get_vertexOffset();for(this.updateRay(a);A<e;){b=P+c.get(A)*M;n=P+c.get(q)*M;C=P+c.get(v)*M;f=d.get(b);a=d.get(b+1);b=d.get(b+2);p=d.get(n);g=d.get(n+1);m=d.get(n+2);h=d.get(C);l=d.get(C+1);k=d.get(C+2);if(!(L<f&&L<p&&L<h||N<a&&N<g&&N<l||O<b&&O<m&&O<k||L>f&&L>p&&
L>h||N>a&&N>g&&N>l||O>b&&O>m&&O>k)&&(C=h-f,n=l-a,r=k-b,t=p-f,u=g-a,z=m-b,D=L-f,w=N-a,x=O-b,F=C*C+n*n+r*r,B=C*t+n*u+r*z,E=C*D+n*w+r*x,G=t*t+u*u+z*z,w=t*D+u*w+z*x,I=1/(F*G-B*B),D=(G*E-B*w)*I,w=(F*w-B*E)*I,0<=D&&0<=w&&1>=D+w)){this.getPrecisePosition(this._hitRenderable.get_inverseSceneTransform(),J.get(A),J.get(A+1),J.get(A+2),f,a,b);D=this._localHitPosition.x-f;w=this._localHitPosition.y-a;x=this._localHitPosition.z-b;d=p-f;e=g-a;J=m-b;f=h-f;a=l-a;b=k-b;this._localHitNormal.x=e*b-J*a;this._localHitNormal.y=
J*f-d*b;this._localHitNormal.z=d*a-e*f;a=1/Math.sqrt(this._localHitNormal.x*this._localHitNormal.x+this._localHitNormal.y*this._localHitNormal.y+this._localHitNormal.z*this._localHitNormal.z);this._localHitNormal.x*=a;this._localHitNormal.y*=a;this._localHitNormal.z*=a;E=C*D+n*w+r*x;w=t*D+u*w+z*x;D=(G*E-B*w)*I;w=(F*w-B*E)*I;a=c.get(A)<<1;q=c.get(q)<<1;c=c.get(v)<<1;b=H.get(a);v=H.get(a+1);a=b+w*(H.get(q)-b);b=D*(H.get(c)-b);this._hitUV.x=a+b;q=v+w*(H.get(q+1)-v);H=D*(H.get(c+1)-v);this._hitUV.y=q+
H;this._faceIndex=A;this._subGeometryIndex=ad.getMeshSubMeshIndex(y.__cast(this._hitRenderable,Ff));break}A+=3;q+=3;v+=3}},getPrecisePosition:function(a,b,c,d,e,f,p){var g,m,h,l,k,A=ga.RAW_DATA_CONTAINER,q=this._rayPos.x,v=this._rayPos.y,n=this._rayPos.z;h=this._rayDir.x;l=this._rayDir.y;k=this._rayDir.z;a.copyRawDataTo(A);a=A.get(0)*h+A.get(4)*l+A.get(8)*k;g=A.get(1)*h+A.get(5)*l+A.get(9)*k;m=A.get(2)*h+A.get(6)*l+A.get(10)*k;h=A.get(0)*q+A.get(4)*v+A.get(8)*n+A.get(12);l=A.get(1)*q+A.get(5)*v+A.get(9)*
n+A.get(13);k=A.get(2)*q+A.get(6)*v+A.get(10)*n+A.get(14);b=((e-h)*b+(f-l)*c+(p-k)*d)/(a*b+g*c+m*d);this._localHitPosition.x=h+a*b;this._localHitPosition.y=l+g*b;this._localHitPosition.z=k+m*b},dispose:function(){this._bitmapData.dispose();null!=this._triangleProgram3D&&this._triangleProgram3D.dispose();null!=this._objectProgram3D&&this._objectProgram3D.dispose();this._hitEntity=this._hitRenderable=this._bitmapData=this._objectProgram3D=this._triangleProgram3D=null},__class__:ef,__properties__:{set_onlyMouseEnabled:"set_onlyMouseEnabled",
get_onlyMouseEnabled:"get_onlyMouseEnabled"}};var zg=function(){};k["away3d.core.pick.PickingType"]=zg;zg.__name__=["away3d","core","pick","PickingType"];var nk=function(a){this.set_stage3DProxy(a)};k["away3d.core.render.BackgroundImageRenderer"]=nk;nk.__name__=["away3d","core","render","BackgroundImageRenderer"];nk.prototype={_program3d:null,_texture:null,_indexBuffer:null,_vertexBuffer:null,_stage3DProxy:null,_context:null,get_stage3DProxy:function(){return this._stage3DProxy},set_stage3DProxy:function(a){if(a==
this._stage3DProxy)return a;this._stage3DProxy=a;this.removeBuffers();return a},removeBuffers:function(){null!=this._vertexBuffer&&(Da.disposeVertexBuffer(this._vertexBuffer),this._vertexBuffer=null,this._program3d.dispose(),this._program3d=null,Da.disposeIndexBuffer(this._indexBuffer),this._indexBuffer=null)},getVertexCode:function(){return"mov op, va0\nmov v0, va1"},getFragmentCode:function(){var a;switch(this._texture.get_format()){case 3:a="dxt1,";break;case 4:a="dxt5,";break;default:a=""}return"tex ft0, v0, fs0 <2d, "+
a+"linear>\t\nmov oc, ft0"},dispose:function(){this.removeBuffers()},render:function(){var a=this._stage3DProxy.get_context3D();a!=this._context&&(this.removeBuffers(),this._context=a);null!=a&&(null==this._vertexBuffer&&this.initBuffers(a),a.setBlendFactors(2,9),a.setProgram(this._program3d),a.setTextureAt(0,this._texture.getTextureForStage3D(this._stage3DProxy)),a.setVertexBufferAt(0,this._vertexBuffer,0,2),a.setVertexBufferAt(1,this._vertexBuffer,2,2),a.drawTriangles(this._indexBuffer,0,2),a.setVertexBufferAt(0,
null),a.setVertexBufferAt(1,null),a.setTextureAt(0,null))},initBuffers:function(a){this._vertexBuffer=this._stage3DProxy.createVertexBuffer(4,4);this._program3d=a.createProgram();this._indexBuffer=this._stage3DProxy.createIndexBuffer(6);a=[2,1,0,3,2,0];for(var b=D.toIntVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this._indexBuffer.uploadFromVector(b,0,6);this._program3d.upload((new G(yc.active)).assemble(Pc.toString(1),this.getVertexCode()),(new G(yc.active)).assemble(Pc.toString(0),
this.getFragmentCode()));c=b=2;d=-1;e=1;null!=this._stage3DProxy.get_scissorRect()&&(d=(2*this._stage3DProxy.get_scissorRect().x-this._stage3DProxy.get_viewPort().width)/this._stage3DProxy.get_viewPort().width,e=(2*this._stage3DProxy.get_scissorRect().y-this._stage3DProxy.get_viewPort().height)/this._stage3DProxy.get_viewPort().height*-1,b=2/(this._stage3DProxy.get_viewPort().width/this._stage3DProxy.get_scissorRect().width),c=2/(this._stage3DProxy.get_viewPort().height/this._stage3DProxy.get_scissorRect().height));
a=this._vertexBuffer;b=[d,e-c,0,1,d+b,e-c,1,1,d+b,e,1,0,d,e,0,0];c=D.toFloatVector(null);d=0;for(e=b.length;d<e;){var f=d++;c.set(f,b[f])}a.uploadFromVector(c,0,4)},get_texture:function(){return this._texture},set_texture:function(a){return this._texture=a},__class__:nk,__properties__:{set_texture:"set_texture",get_texture:"get_texture",set_stage3DProxy:"set_stage3DProxy",get_stage3DProxy:"get_stage3DProxy"}};var bd=function(a){null==a&&(a=!1);this._rttViewProjectionMatrix=new Sa;this._clearOnRender=
!0;this._textureRatioX=this._textureRatioY=1;this._shareContext=!1;this._backgroundAlpha=1;this._backgroundR=this._backgroundG=this._backgroundB=0;this._renderableSorter=new bi;this._renderToTexture=a};k["away3d.core.render.RendererBase"]=bd;bd.__name__=["away3d","core","render","RendererBase"];bd.prototype={_context:null,_stage3DProxy:null,_backgroundR:null,_backgroundG:null,_backgroundB:null,_backgroundAlpha:null,_shareContext:null,_renderTarget:null,_renderTargetSurface:null,_viewWidth:null,_viewHeight:null,
_renderableSorter:null,_backgroundImageRenderer:null,_background:null,_renderToTexture:null,_antiAlias:null,_textureRatioX:null,_textureRatioY:null,_snapshotBitmapData:null,_snapshotRequired:null,_clearOnRender:null,_rttViewProjectionMatrix:null,createEntityCollector:function(){return new ke},get_viewWidth:function(){return this._viewWidth},set_viewWidth:function(a){return this._viewWidth=a},get_viewHeight:function(){return this._viewHeight},set_viewHeight:function(a){return this._viewHeight=a},get_renderToTexture:function(){return this._renderToTexture},
get_renderableSorter:function(){return this._renderableSorter},set_renderableSorter:function(a){return this._renderableSorter=a},get_clearOnRender:function(){return this._clearOnRender},set_clearOnRender:function(a){return this._clearOnRender=a},get_backgroundR:function(){return this._backgroundR},set_backgroundR:function(a){return this._backgroundR=a},get_backgroundG:function(){return this._backgroundG},set_backgroundG:function(a){return this._backgroundG=a},get_backgroundB:function(){return this._backgroundB},
set_backgroundB:function(a){return this._backgroundB=a},get_stage3DProxy:function(){return this._stage3DProxy},set_stage3DProxy:function(a){if(a==this._stage3DProxy)return a;if(null==a)return null!=this._stage3DProxy&&(this._stage3DProxy.removeEventListener("Context3DCreated",n(this,this.onContextUpdate)),this._stage3DProxy.removeEventListener("Context3DRecreated",n(this,this.onContextUpdate))),this._context=this._stage3DProxy=null;this._stage3DProxy=a;this._stage3DProxy.addEventListener("Context3DCreated",
n(this,this.onContextUpdate));this._stage3DProxy.addEventListener("Context3DRecreated",n(this,this.onContextUpdate));null!=this._backgroundImageRenderer&&this._backgroundImageRenderer.set_stage3DProxy(a);null!=a.get_context3D()&&(this._context=a.get_context3D());return a},get_shareContext:function(){return this._shareContext},set_shareContext:function(a){return this._shareContext=a},dispose:function(){this.set_stage3DProxy(null);null!=this._backgroundImageRenderer&&(this._backgroundImageRenderer.dispose(),
this._backgroundImageRenderer=null)},render:function(a,b,c,d){null==d&&(d=0);if(null!=this._stage3DProxy&&null!=this._context)for(this._rttViewProjectionMatrix.copyFrom(a.get_camera().get_viewProjection()),this._rttViewProjectionMatrix.appendScale(this._textureRatioX,this._textureRatioY,1),this.executeRender(a,b,c,d),a=0;8>a;)b=a++,this._context.setVertexBufferAt(b,null),this._context.setTextureAt(b,null)},executeRender:function(a,b,c,d){null==d&&(d=0);this._renderTarget=b;this._renderTargetSurface=
d;null!=this._renderableSorter&&this._renderableSorter.sort(a);this._renderToTexture&&this.executeRenderToTexturePass(a);this._stage3DProxy.setRenderTarget(b,!0,d);null==b&&this._shareContext||!this._clearOnRender||this._context.clear(this._backgroundR,this._backgroundG,this._backgroundB,this._backgroundAlpha,1,0);this._context.setDepthTest(!1,0);this._stage3DProxy.set_scissorRect(c);null!=this._backgroundImageRenderer&&this._backgroundImageRenderer.render();this.draw(a,b);this._context.setDepthTest(!1,
5);!this._shareContext&&this._snapshotRequired&&null!=this._snapshotBitmapData&&(this._context.drawToBitmapData(this._snapshotBitmapData),this._snapshotRequired=!1);this._stage3DProxy.set_scissorRect(null)},queueSnapshot:function(a){this._snapshotRequired=!0;this._snapshotBitmapData=a},executeRenderToTexturePass:function(a){throw new F(new oa);},draw:function(a,b){throw new F(new oa);},onContextUpdate:function(a){this._context=this._stage3DProxy.get_context3D()},get_backgroundAlpha:function(){return this._backgroundAlpha},
set_backgroundAlpha:function(a){return this._backgroundAlpha=a},get_background:function(){return this._background},set_background:function(a){null!=this._backgroundImageRenderer&&null==a&&(this._backgroundImageRenderer.dispose(),this._backgroundImageRenderer=null);null==this._backgroundImageRenderer&&null!=a&&(this._backgroundImageRenderer=new nk(this._stage3DProxy));this._background=a;null!=this._backgroundImageRenderer&&this._backgroundImageRenderer.set_texture(a);return a},get_backgroundImageRenderer:function(){return this._backgroundImageRenderer},
get_antiAlias:function(){return this._antiAlias},set_antiAlias:function(a){return this._antiAlias=a},get_textureRatioX:function(){return this._textureRatioX},set_textureRatioX:function(a){return this._textureRatioX=a},get_textureRatioY:function(){return this._textureRatioY},set_textureRatioY:function(a){return this._textureRatioY=a},__class__:bd,__properties__:{set_textureRatioY:"set_textureRatioY",get_textureRatioY:"get_textureRatioY",set_textureRatioX:"set_textureRatioX",get_textureRatioX:"get_textureRatioX",
set_antiAlias:"set_antiAlias",get_antiAlias:"get_antiAlias",get_backgroundImageRenderer:"get_backgroundImageRenderer",set_background:"set_background",get_background:"get_background",set_backgroundAlpha:"set_backgroundAlpha",get_backgroundAlpha:"get_backgroundAlpha",set_shareContext:"set_shareContext",get_shareContext:"get_shareContext",set_stage3DProxy:"set_stage3DProxy",get_stage3DProxy:"get_stage3DProxy",set_backgroundB:"set_backgroundB",get_backgroundB:"get_backgroundB",set_backgroundG:"set_backgroundG",
get_backgroundG:"get_backgroundG",set_backgroundR:"set_backgroundR",get_backgroundR:"get_backgroundR",set_clearOnRender:"set_clearOnRender",get_clearOnRender:"get_clearOnRender",set_renderableSorter:"set_renderableSorter",get_renderableSorter:"get_renderableSorter",get_renderToTexture:"get_renderToTexture",set_viewHeight:"set_viewHeight",get_viewHeight:"get_viewHeight",set_viewWidth:"set_viewWidth",get_viewWidth:"get_viewWidth"}};var id=function(){this._skyboxTempVector=new T;this._tempSkyboxMatrix=
new Sa;this._skyboxProjection=new Sa;bd.call(this);this._depthRenderer=new Cf;this._distanceRenderer=new Cf(!1,!0)};k["away3d.core.render.DefaultRenderer"]=id;id.__name__=["away3d","core","render","DefaultRenderer"];id.__super__=bd;id.prototype=t(bd.prototype,{_activeMaterial:null,_distanceRenderer:null,_depthRenderer:null,_skyboxProjection:null,_tempSkyboxMatrix:null,_skyboxTempVector:null,set_stage3DProxy:function(a){bd.prototype.set_stage3DProxy.call(this,a);this._distanceRenderer.set_stage3DProxy(this._depthRenderer.set_stage3DProxy(a));
return a},executeRender:function(a,b,c,d){null==d&&(d=0);this.updateLights(a);null!=b&&(this.drawRenderables(a.get_opaqueRenderableHead(),a,id.RTT_PASSES),this.drawRenderables(a.get_blendedRenderableHead(),a,id.RTT_PASSES));bd.prototype.executeRender.call(this,a,b,c,d)},updateLights:function(a){var b=a.get_directionalLights(),c=a.get_pointLights(),d,e;d=b.get_length();for(var f=0,p=d;f<p;)d=f++,d=b.get(d),e=d.get_shadowMapper(),d.get_castsShadows()&&(e.get_autoUpdateShadows()||e._shadowsInvalid)&&
e.renderDepthMap(this._stage3DProxy,a,this._depthRenderer);d=c.get_length();b=0;for(f=d;b<f;)d=b++,d=c.get(d),e=d.get_shadowMapper(),d.get_castsShadows()&&(e.get_autoUpdateShadows()||e._shadowsInvalid)&&e.renderDepthMap(this._stage3DProxy,a,this._distanceRenderer)},draw:function(a,b){this._context.setBlendFactors(2,9);null!=a.get_skyBox()&&(null!=this._activeMaterial&&this._activeMaterial.deactivate(this._stage3DProxy),this._activeMaterial=null,this._context.setDepthTest(!1,0),this.drawSkyBox(a));
this._context.setDepthTest(!0,5);var c=null!=b?id.SCREEN_PASSES:id.ALL_PASSES;this.drawRenderables(a.get_opaqueRenderableHead(),a,c);this.drawRenderables(a.get_blendedRenderableHead(),a,c);this._context.setDepthTest(!1,5);null!=this._activeMaterial&&this._activeMaterial.deactivate(this._stage3DProxy);this._activeMaterial=null},drawSkyBox:function(a){var b=a.get_skyBox(),c=b.get_material(),d=a.get_camera();this.updateSkyBoxProjection(d);c.activatePass(0,this._stage3DProxy,d);c.renderPass(0,b,this._stage3DProxy,
a,this._skyboxProjection);c.deactivatePass(0,this._stage3DProxy)},updateSkyBoxProjection:function(a){this._skyboxProjection.copyFrom(this._rttViewProjectionMatrix);this._skyboxProjection.copyRowTo(2,this._skyboxTempVector);var b=a.get_scenePosition(),c=this._skyboxTempVector.x,d=this._skyboxTempVector.y,e=this._skyboxTempVector.z,f=Math.sqrt(c*c+d*d+e*e);this._skyboxTempVector.x=0;this._skyboxTempVector.y=0;this._skyboxTempVector.z=0;this._skyboxTempVector.w=1;this._tempSkyboxMatrix.copyFrom(a.get_sceneTransform());
this._tempSkyboxMatrix.copyColumnFrom(3,this._skyboxTempVector);this._skyboxTempVector.x=0;this._skyboxTempVector.y=0;this._skyboxTempVector.z=1;this._skyboxTempVector.w=0;ga.transformVector(this._tempSkyboxMatrix,this._skyboxTempVector,this._skyboxTempVector);this._skyboxTempVector.normalize();a=Math.acos(c/f*this._skyboxTempVector.x+d/f*this._skyboxTempVector.y+e/f*this._skyboxTempVector.z);1E-6<Math.abs(a)||(b=-(c*b.x+d*b.y+e*b.z+f),f=this._skyboxTempVector,f.x=0<=c?1:-1,f.y=0<=d?1:-1,f.z=1,f.w=
1,this._tempSkyboxMatrix.copyFrom(this._skyboxProjection),this._tempSkyboxMatrix.invert(),a=ga.transformVector(this._tempSkyboxMatrix,f,ga.CALCULATION_VECTOR3D),this._skyboxProjection.copyRowTo(3,f),f=(a.x*f.x+a.y*f.y+a.z*f.z+a.w*f.w)/(c*a.x+d*a.y+e*a.z+b*a.w),this._skyboxTempVector.x=c*f,this._skyboxTempVector.y=d*f,this._skyboxTempVector.z=e*f,this._skyboxTempVector.w=b*f,this._skyboxProjection.copyRowFrom(2,this._skyboxTempVector))},drawRenderables:function(a,b,c){for(var d,e,f=b.get_camera(),
p;null!=a;){this._activeMaterial=a.renderable.get_material();this._activeMaterial.updateMaterial(this._context);d=this._activeMaterial.get_numPasses();for(e=0;;){p=a;if(0!=((this._activeMaterial.passRendersToTexture(e)?1:2)&c)){for(this._activeMaterial.activatePass(e,this._stage3DProxy,f);this._activeMaterial.renderPass(e,p.renderable,this._stage3DProxy,b,this._rttViewProjectionMatrix),p=p.next,null!=p&&p.renderable.get_material()==this._activeMaterial;);this._activeMaterial.deactivatePass(e,this._stage3DProxy)}else for(;p=
p.next,null!=p&&p.renderable.get_material()==this._activeMaterial;);if(!(++e<d))break}a=p}},dispose:function(){bd.prototype.dispose.call(this);this._depthRenderer.dispose();this._distanceRenderer.dispose();this._distanceRenderer=this._depthRenderer=null},__class__:id});var Cf=function(a,b){null==b&&(b=!1);null==a&&(a=!1);bd.call(this);this._renderBlended=a;this._distanceBased=b;this._backgroundB=this._backgroundG=this._backgroundR=1};k["away3d.core.render.DepthRenderer"]=Cf;Cf.__name__=["away3d",
"core","render","DepthRenderer"];Cf.__super__=bd;Cf.prototype=t(bd.prototype,{_activeMaterial:null,_renderBlended:null,_distanceBased:null,_disableColor:null,get_disableColor:function(){return this._disableColor},set_disableColor:function(a){return this._disableColor=a},set_backgroundR:function(a){return a},set_backgroundG:function(a){return a},set_backgroundB:function(a){return a},renderCascades:function(a,b,c,d,e){this._renderTarget=b;this._renderTargetSurface=0;this._renderableSorter.sort(a);this._stage3DProxy.setRenderTarget(b,
!0,0);this._context.clear(1,1,1,1,1,0);this._context.setBlendFactors(2,9);this._context.setDepthTest(!0,4);a=a.get_opaqueRenderableHead();b=!0;for(--c;0<=c;)this._stage3DProxy.set_scissorRect(d.get(c)),this.drawCascadeRenderables(a,e.get(c),b?null:e.get(c).get_frustumPlanes()),b=!1,--c;null!=this._activeMaterial&&this._activeMaterial.deactivateForDepth(this._stage3DProxy);this._activeMaterial=null;this._context.setDepthTest(!1,5);this._stage3DProxy.set_scissorRect(null)},drawCascadeRenderables:function(a,
b,c){for(var d;null!=a;){if(!a.cascaded){var e=a.renderable;d=e.get_sourceEntity();null==c||d.get_worldBounds().isInFrustum(c,4)?(d=e.get_material(),this._activeMaterial!=d&&(null!=this._activeMaterial&&this._activeMaterial.deactivateForDepth(this._stage3DProxy),this._activeMaterial=d,this._activeMaterial.activateForDepth(this._stage3DProxy,b,!1)),this._activeMaterial.renderDepth(e,this._stage3DProxy,b,b.get_viewProjection())):a.cascaded=!0}a=a.next}},draw:function(a,b){this._context.setBlendFactors(2,
9);this._context.setDepthTest(!0,4);this.drawRenderables(a.get_opaqueRenderableHead(),a);this._disableColor&&this._context.setColorMask(!1,!1,!1,!1);this._renderBlended&&this.drawRenderables(a.get_blendedRenderableHead(),a);null!=this._activeMaterial&&this._activeMaterial.deactivateForDepth(this._stage3DProxy);this._disableColor&&this._context.setColorMask(!0,!0,!0,!0);this._activeMaterial=null},drawRenderables:function(a,b){for(var c=b.get_camera(),d;null!=a;){this._activeMaterial=a.renderable.get_material();
if(this._disableColor&&this._activeMaterial.hasDepthAlphaThreshold())for(d=a;d=d.next,null!=d&&d.renderable.get_material()==this._activeMaterial;);else{this._activeMaterial.activateForDepth(this._stage3DProxy,c,this._distanceBased);for(d=a;this._activeMaterial.renderDepth(d.renderable,this._stage3DProxy,c,this._rttViewProjectionMatrix),d=d.next,null!=d&&d.renderable.get_material()==this._activeMaterial;);this._activeMaterial.deactivateForDepth(this._stage3DProxy)}a=d}},__class__:Cf,__properties__:t(bd.prototype.__properties__,
{set_disableColor:"set_disableColor",get_disableColor:"get_disableColor"})});var hk=function(a){this._filterSizesInvalid=!0;this._stage3DProxy=a;this._stage3DProxy.addEventListener("Context3DRecreated",n(this,this.onContext3DRecreated));this._rttManager=Vc.getInstance(a);this._rttManager.addEventListener("resize",n(this,this.onRTTResize))};k["away3d.core.render.Filter3DRenderer"]=hk;hk.__name__=["away3d","core","render","Filter3DRenderer"];hk.prototype={_filters:null,_tasks:null,_filterTasksInvalid:null,
_mainInputTexture:null,_requireDepthRender:null,_rttManager:null,_stage3DProxy:null,_filterSizesInvalid:null,onContext3DRecreated:function(a){this._filterSizesInvalid=!0},onRTTResize:function(a){this._filterSizesInvalid=!0},get_requireDepthRender:function(){return this._requireDepthRender},getMainInputTexture:function(a){this._filterTasksInvalid&&this.updateFilterTasks(a);return this._mainInputTexture},get_filters:function(){return this._filters},set_filters:function(a){this._filters=a;this._filterTasksInvalid=
!0;this._requireDepthRender=!1;if(null==this._filters)return null;for(var b=0,c=this.get_filters().length;b<c;){var d=b++;this._requireDepthRender||(this._requireDepthRender=this._filters[d].get_requireDepthRender())}this._filterSizesInvalid=!0;return a},updateFilterTasks:function(a){var b;this._filterSizesInvalid&&this.updateFilterSizes();if(null==this._filters)this._tasks=null;else{this._tasks=D.toObjectVector(null);b=this._filters.length-1;for(var c,d=0,e=b+1;d<e;){var f=d++;c=this._filters[f];
c.setRenderTargets(f==b?null:this._filters[f+1].getMainInputTexture(a),a);this._tasks=this._tasks.concat(c.get_tasks())}this._mainInputTexture=this._filters[0].getMainInputTexture(a)}},render:function(a,b,c){var d,e,f=a.get_context3D(),p=this._rttManager.get_indexBuffer(),g=this._rttManager.get_renderToTextureVertexBuffer();if(null!=this._filters){this._filterSizesInvalid&&this.updateFilterSizes();this._filterTasksInvalid&&this.updateFilterTasks(a);d=this._filters.length;for(var m=0;m<d;)e=m++,this._filters[e].update(a,
b);d=this._tasks.get_length();1<d&&(f.setVertexBufferAt(0,g,0,2),f.setVertexBufferAt(1,g,2,2));for(m=0;m<d;)g=m++,e=this._tasks.get(g),a.setRenderTarget(e.get_target()),null==e.get_target()&&(a.set_scissorRect(null),g=this._rttManager.get_renderToScreenVertexBuffer(),f.setVertexBufferAt(0,g,0,2),f.setVertexBufferAt(1,g,2,2)),f.setTextureAt(0,e.getMainInputTexture(a)),f.setProgram(e.getProgram3D(a)),f.clear(0,0,0,0),e.activate(a,b,c),f.setBlendFactors(2,9),a.drawTriangles(p,0,2),e.deactivate(a);f.setTextureAt(0,
null);f.setVertexBufferAt(0,null);f.setVertexBufferAt(1,null)}},updateFilterSizes:function(){for(var a=0,b=this._filters.length;a<b;){var c=a++;this._filters[c].set_textureWidth(this._rttManager.get_textureWidth());this._filters[c].set_textureHeight(this._rttManager.get_textureHeight())}this._filterSizesInvalid=!0},dispose:function(){this._rttManager.removeEventListener("resize",n(this,this.onRTTResize));this._rttManager=null;this._stage3DProxy.removeEventListener("Context3DRecreated",n(this,this.onContext3DRecreated));
this._stage3DProxy=null},__class__:hk,__properties__:{set_filters:"set_filters",get_filters:"get_filters",get_requireDepthRender:"get_requireDepthRender"}};var ok=function(){};k["away3d.core.sort.IEntitySorter"]=ok;ok.__name__=["away3d","core","sort","IEntitySorter"];ok.prototype={sort:null,__class__:ok};var bi=function(){};k["away3d.core.sort.RenderableMergeSort"]=bi;bi.__name__=["away3d","core","sort","RenderableMergeSort"];bi.__interfaces__=[ok];bi.prototype={sort:function(a){a.set_opaqueRenderableHead(this.mergeSortByMaterial(a.get_opaqueRenderableHead()));
a.set_blendedRenderableHead(this.mergeSortByDepth(a.get_blendedRenderableHead()))},mergeSortByDepth:function(a){var b,c;if(null==a||null==a.next)return a;c=a;for(b=a.next;null!=b;)b=b.next,null!=b&&(c=c.next,b=b.next);b=c.next;c.next=null;a=this.mergeSortByDepth(a);b=this.mergeSortByDepth(b);var d=c=null,e=null;if(null==a)return b;if(null==b)return a;for(;null!=a&&null!=b;)a.zIndex<b.zIndex?(e=a,a=a.next):(e=b,b=b.next),null==c?c=e:d.next=e,d=e;null!=a?d.next=a:null!=b&&(d.next=b);return c},mergeSortByMaterial:function(a){var b,
c;if(null==a||null==a.next)return a;c=a;for(b=a.next;null!=b;)b=b.next,null!=b&&(c=c.next,b=b.next);b=c.next;c.next=null;a=this.mergeSortByMaterial(a);b=this.mergeSortByMaterial(b);var d=c=null,e=null;if(null==a)return b;if(null==b)return a;for(;null!=a&&null!=b&&null!=a&&null!=b;){var e=a.renderOrderId,f=b.renderOrderId;e==f?(e=a.materialId,f=b.materialId,e=e==f?a.zIndex<b.zIndex?1:-1:e>f?1:-1):e=e>f?1:-1;0>e?(e=a,a=a.next):(e=b,b=b.next);null==c?c=e:d.next=e;d=e}null!=a?d.next=a:null!=b&&(d.next=
b);return c},__class__:bi};var ie=function(){};k["away3d.core.traverse.PartitionTraverser"]=ie;ie.__name__=["away3d","core","traverse","PartitionTraverser"];ie.prototype={scene:null,_entryPoint:null,enterNode:function(a){return!0},applySkyBox:function(a){throw new F(new oa);},applyRenderable:function(a){throw new F(new oa);},applyUnknownLight:function(a){throw new F(new oa);},applyDirectionalLight:function(a){throw new F(new oa);},applyPointLight:function(a){throw new F(new oa);},applyLightProbe:function(a){throw new F(new oa);
},applyEntity:function(a){throw new F(new oa);},get_entryPoint:function(){return this._entryPoint},__class__:ie,__properties__:{get_entryPoint:"get_entryPoint"}};var ke=function(){this.init()};k["away3d.core.traverse.EntityCollector"]=ke;ke.__name__=["away3d","core","traverse","EntityCollector"];ke.__super__=ie;ke.prototype=t(ie.prototype,{_skyBox:null,_opaqueRenderableHead:null,_blendedRenderableHead:null,_entityHead:null,_renderableListItemPool:null,_entityListItemPool:null,_lights:null,_directionalLights:null,
_pointLights:null,_lightProbes:null,_numEntities:null,_numLights:null,_numTriangles:null,_numMouseEnableds:null,_camera:null,_numDirectionalLights:null,_numPointLights:null,_numLightProbes:null,_cameraForward:null,_customCullPlanes:null,_cullPlanes:null,_numCullPlanes:null,init:function(){this._lights=D.toObjectVector(null);this._directionalLights=D.toObjectVector(null);this._pointLights=D.toObjectVector(null);this._lightProbes=D.toObjectVector(null);this._renderableListItemPool=new lk;this._entityListItemPool=
new jk;this._numCullPlanes=this._numLightProbes=this._numPointLights=this._numDirectionalLights=this._numMouseEnableds=this._numTriangles=this._numLights=this._numEntities=0},get_camera:function(){return this._camera},set_camera:function(a){this._camera=a;this._entryPoint=this._camera.get_scenePosition();this._cameraForward=ga.getForward(this._camera.get_transform(),this._cameraForward);this._cullPlanes=this._camera.get_frustumPlanes();return a},get_cullPlanes:function(){return this._customCullPlanes},
set_cullPlanes:function(a){return this._customCullPlanes=a},get_numMouseEnableds:function(){return this._numMouseEnableds},get_skyBox:function(){return this._skyBox},get_opaqueRenderableHead:function(){return this._opaqueRenderableHead},set_opaqueRenderableHead:function(a){return this._opaqueRenderableHead=a},get_blendedRenderableHead:function(){return this._blendedRenderableHead},set_blendedRenderableHead:function(a){return this._blendedRenderableHead=a},get_entityHead:function(){return this._entityHead},
get_lights:function(){return this._lights},get_directionalLights:function(){return this._directionalLights},get_pointLights:function(){return this._pointLights},get_lightProbes:function(){return this._lightProbes},clear:function(){null!=this._camera&&(this._entryPoint=this._camera.get_scenePosition(),this._cameraForward=ga.getForward(this._camera.get_transform(),this._cameraForward));this._cullPlanes=null!=this._customCullPlanes?this._customCullPlanes:null!=this._camera?this._camera.get_frustumPlanes():
null;this._numCullPlanes=null!=this._cullPlanes?this._cullPlanes.get_length():0;this._numTriangles=this._numMouseEnableds=0;this._entityHead=this._opaqueRenderableHead=this._blendedRenderableHead=null;this._renderableListItemPool.freeAll();this._entityListItemPool.freeAll();this._skyBox=null;0<this._numLights&&this._lights.set_length(this._numLights=0);0<this._numDirectionalLights&&this._directionalLights.set_length(this._numDirectionalLights=0);0<this._numPointLights&&this._pointLights.set_length(this._numPointLights=
0);0<this._numLightProbes&&this._lightProbes.set_length(this._numLightProbes=0)},enterNode:function(a){var b=ie._collectionMark!=a._collectionMark&&a.isInFrustum(this._cullPlanes,this._numCullPlanes);a._collectionMark=ie._collectionMark;return b},applySkyBox:function(a){this._skyBox=a},applyRenderable:function(a){var b,c=a.get_sourceEntity();a.get_mouseEnabled()&&++this._numMouseEnableds;this._numTriangles+=a.get_numTriangles();b=a.get_material();if(null!=b){var d=this._renderableListItemPool.getItem();
d.renderable=a;d.materialId=b._uniqueId;d.renderOrderId=b._renderOrderId;d.cascaded=!1;var e=c.get_scenePosition();d.zIndex=(this._entryPoint.x-e.x)*this._cameraForward.x+(this._entryPoint.y-e.y)*this._cameraForward.y+(this._entryPoint.z-e.z)*this._cameraForward.z+c.get_zOffset();d.renderSceneTransform=a.getRenderSceneTransform(this._camera);b.get_requiresBlending()?(d.next=this._blendedRenderableHead,this._blendedRenderableHead=d):(d.next=this._opaqueRenderableHead,this._opaqueRenderableHead=d)}},
applyEntity:function(a){++this._numEntities;var b=this._entityListItemPool.getItem();b.entity=a;b.next=this._entityHead;this._entityHead=b},applyUnknownLight:function(a){this._lights.set(this._numLights++,a)},applyDirectionalLight:function(a){this._lights.set(this._numLights++,a);this._directionalLights.set(this._numDirectionalLights++,a)},applyPointLight:function(a){this._lights.set(this._numLights++,a);this._pointLights.set(this._numPointLights++,a)},applyLightProbe:function(a){this._lights.set(this._numLights++,
a);this._lightProbes.set(this._numLightProbes++,a)},get_numTriangles:function(){return this._numTriangles},cleanUp:function(){},__class__:ke,__properties__:t(ie.prototype.__properties__,{get_numTriangles:"get_numTriangles",get_lightProbes:"get_lightProbes",get_pointLights:"get_pointLights",get_directionalLights:"get_directionalLights",get_lights:"get_lights",get_entityHead:"get_entityHead",set_blendedRenderableHead:"set_blendedRenderableHead",get_blendedRenderableHead:"get_blendedRenderableHead",
set_opaqueRenderableHead:"set_opaqueRenderableHead",get_opaqueRenderableHead:"get_opaqueRenderableHead",get_skyBox:"get_skyBox",get_numMouseEnableds:"get_numMouseEnableds",set_cullPlanes:"set_cullPlanes",get_cullPlanes:"get_cullPlanes",set_camera:"set_camera",get_camera:"get_camera"})});var ai=function(){this._rayDirection=new T;this._rayPosition=new T;this.init()};k["away3d.core.traverse.RaycastCollector"]=ai;ai.__name__=["away3d","core","traverse","RaycastCollector"];ai.__super__=ke;ai.prototype=
t(ke.prototype,{_rayPosition:null,_rayDirection:null,get_rayPosition:function(){return this._rayPosition},set_rayPosition:function(a){return this._rayPosition=a},get_rayDirection:function(){return this._rayDirection},set_rayDirection:function(a){return this._rayDirection=a},enterNode:function(a){return a.isIntersectingRay(this._rayPosition,this._rayDirection)},applySkyBox:function(a){},applyRenderable:function(a){},applyUnknownLight:function(a){},__class__:ai,__properties__:t(ke.prototype.__properties__,
{set_rayDirection:"set_rayDirection",get_rayDirection:"get_rayDirection",set_rayPosition:"set_rayPosition",get_rayPosition:"get_rayPosition"})});var ci=function(){this.init()};k["away3d.core.traverse.ShadowCasterCollector"]=ci;ci.__name__=["away3d","core","traverse","ShadowCasterCollector"];ci.__super__=ke;ci.prototype=t(ke.prototype,{applyRenderable:function(a){var b=a.get_material(),c=a.get_sourceEntity();if(a.get_castsShadows()&&null!=b){var d=this._renderableListItemPool.getItem();d.renderable=
a;d.next=this._opaqueRenderableHead;d.cascaded=!1;c=c.get_scenePosition();d.zIndex=(this._entryPoint.x-c.x)*this._cameraForward.x+(this._entryPoint.y-c.y)*this._cameraForward.y+(this._entryPoint.z-c.z)*this._cameraForward.z;d.renderSceneTransform=a.getRenderSceneTransform(this._camera);d.renderOrderId=b._depthPassId;this._opaqueRenderableHead=d}},applyUnknownLight:function(a){},applyDirectionalLight:function(a){},applyPointLight:function(a){},applyLightProbe:function(a){},applySkyBox:function(a){},
__class__:ci});var Pb=function(a,b,c,d,e,f){null==f&&(f=!0);null==e&&(e=!0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);wa.call(this);this._minimized=b;this._transparent=c;this._enable_reset=e;this._enable_mod_fr=f;this._mean_data_length=d;this._views=D.toObjectVector(null);null!=a&&this._views.push(a);Pb._INSTANCE=this;this._last_frame_timestamp=this._rfaces=this._tfaces=this._max_ram=this._ram=this._avg_fps=this._num_frames=this._fps=0;this._init()};k["away3d.debug.AwayStats"]=Pb;Pb.__name__=
["away3d","debug","AwayStats"];Pb.__properties__={get_instance:"get_instance"};Pb.get_instance=function(){return null!=Pb._INSTANCE?Pb._INSTANCE:Pb._INSTANCE=new Pb};Pb.__super__=wa;Pb.prototype=t(wa.prototype,{_views:null,_timer:null,_last_frame_timestamp:null,_fps:null,_ram:null,_max_ram:null,_min_fps:null,_avg_fps:null,_max_fps:null,_tfaces:null,_rfaces:null,_num_frames:null,_fps_sum:null,_top_bar:null,_btm_bar:null,_btm_bar_hit:null,_data_format:null,_label_format:null,_fps_bar:null,_afps_bar:null,
_lfps_bar:null,_hfps_bar:null,_diagram:null,_dia_bmp:null,_mem_points:null,_mem_graph:null,_updates:null,_min_max_btn:null,_fps_tf:null,_afps_tf:null,_ram_tf:null,_poly_tf:null,_swhw_tf:null,_drag_dx:null,_drag_dy:null,_dragging:null,_mean_data:null,_mean_data_length:null,_enable_reset:null,_enable_mod_fr:null,_transparent:null,_minimized:null,_showing_driv_info:null,get_max_ram:function(){return this._max_ram},get_ram:function(){return this._ram},get_avg_fps:function(){return this._avg_fps},get_max_fps:function(){return this._max_fps},
get_fps:function(){return this._fps},_init:function(){this._initMisc();this._initTopBar();this._initBottomBar();this._initDiagrams();this._initInteraction();this.reset();this._redrawWindow();this.addEventListener("addedToStage",n(this,this._onAddedToStage));this.addEventListener("removedFromStage",n(this,this._onRemovedFromStage))},registerView:function(a){null!=a&&0>this._views.indexOf(a,0)&&this._views.push(a)},unregisterView:function(a){null!=a&&(a=this._views.indexOf(a,0),0<=a&&this._views.splice(a,
1))},_initMisc:function(){this._timer=new di(200,0);this._timer.addEventListener("timer",n(this,this._onTimer));this._label_format=new Fe("_sans",9,16777215,!0);this._data_format=new Fe("_sans",9,16777215,!1);if(0<this._mean_data_length){this._mean_data=[];for(var a=0,b=this._mean_data_length;a<b;){var c=a++;this._mean_data[c]=0}}},_initTopBar:function(){var a;this._top_bar=new wa;this._top_bar.get_graphics().beginFill(0,0);this._top_bar.get_graphics().drawRect(0,0,125,20);this.addChild(this._top_bar);
a=new ob;a.set_x(9);a.set_y(7.5);a.set_scaleX(.6);a.set_scaleY(.6);a.get_graphics().beginFill(16777215,1);a.get_graphics().moveTo(-.5,-7);a.get_graphics().curveTo(-.5,-7.7,-1,-7);a.get_graphics().lineTo(-9,5);a.get_graphics().curveTo(-9.3,5.5,-8,5);a.get_graphics().curveTo(-1,1,-.5,-7);a.get_graphics().moveTo(.5,-7);a.get_graphics().curveTo(.5,-7.7,1,-7);a.get_graphics().lineTo(9,5);a.get_graphics().curveTo(9.3,5.5,8,5);a.get_graphics().curveTo(1,1,.5,-7);a.get_graphics().moveTo(-8,7);a.get_graphics().curveTo(-8.3,
6.7,-7.5,6.3);a.get_graphics().curveTo(0,2,7.5,6.3);a.get_graphics().curveTo(8.3,6.7,8,7);a.get_graphics().lineTo(-8,7);this._top_bar.addChild(a);a=new ob;a.get_graphics().beginFill(16777215);a.get_graphics().drawRect(20,7,4,4);a.get_graphics().beginFill(3377373);a.get_graphics().drawRect(77,7,4,4);this._top_bar.addChild(a);a=new ea;a.set_defaultTextFormat(this._label_format);a.set_autoSize(1);a.set_text("FR:");a.set_x(24);a.set_y(2);a.set_selectable(!1);this._top_bar.addChild(a);this._fps_tf=new ea;
this._fps_tf.set_defaultTextFormat(this._data_format);this._fps_tf.set_autoSize(1);this._fps_tf.set_x(a.get_x()+16);this._fps_tf.set_y(a.get_y());this._fps_tf.set_selectable(!1);this._top_bar.addChild(this._fps_tf);a=new ea;a.set_defaultTextFormat(this._label_format);a.set_autoSize(1);a.set_text("A:");a.set_x(81);a.set_y(2);a.set_selectable(!1);this._top_bar.addChild(a);this._afps_tf=new ea;this._afps_tf.set_defaultTextFormat(this._data_format);this._afps_tf.set_autoSize(1);this._afps_tf.set_x(a.get_x()+
12);this._afps_tf.set_y(a.get_y());this._afps_tf.set_selectable(!1);this._top_bar.addChild(this._afps_tf);this._min_max_btn=new wa;this._min_max_btn.set_x(117);this._min_max_btn.set_y(7);this._min_max_btn.get_graphics().beginFill(0,0);this._min_max_btn.get_graphics().lineStyle(1,15724527,1,!0);this._min_max_btn.get_graphics().drawRect(-4,-4,8,8);this._min_max_btn.get_graphics().moveTo(-3,2);this._min_max_btn.get_graphics().lineTo(3,2);this._min_max_btn.buttonMode=!0;this._min_max_btn.addEventListener("click",
n(this,this._onMinMaxBtnClick));this._top_bar.addChild(this._min_max_btn)},_initBottomBar:function(){var a;this._btm_bar=new wa;this._btm_bar.get_graphics().beginFill(0,.2);this._btm_bar.get_graphics().drawRect(0,0,125,31);this.addChild(this._btm_bar);this._btm_bar_hit=new wa;this._btm_bar_hit.get_graphics().beginFill(16763904,0);this._btm_bar_hit.get_graphics().drawRect(0,1,125,30);this.addChild(this._btm_bar_hit);a=new ob;a.get_graphics().beginFill(16711884);a.get_graphics().drawRect(5,4,4,4);a.get_graphics().beginFill(16763904);
a.get_graphics().drawRect(5,14,4,4);this._btm_bar.addChild(a);a=new ea;a.set_defaultTextFormat(this._label_format);a.set_autoSize(1);a.set_text("RAM:");a.set_x(10);a.set_y(-1);a.set_selectable(!1);a.mouseEnabled=!1;this._btm_bar.addChild(a);this._ram_tf=new ea;this._ram_tf.set_defaultTextFormat(this._data_format);this._ram_tf.set_autoSize(1);this._ram_tf.set_x(a.get_x()+31);this._ram_tf.set_y(a.get_y());this._ram_tf.set_selectable(!1);this._ram_tf.mouseEnabled=!1;this._btm_bar.addChild(this._ram_tf);
a=new ea;a.set_defaultTextFormat(this._label_format);a.set_autoSize(1);a.set_text("POLY:");a.set_x(10);a.set_y(9);a.set_selectable(!1);a.mouseEnabled=!1;this._btm_bar.addChild(a);this._poly_tf=new ea;this._poly_tf.set_defaultTextFormat(this._data_format);this._poly_tf.set_autoSize(1);this._poly_tf.set_x(a.get_x()+31);this._poly_tf.set_y(a.get_y());this._poly_tf.set_selectable(!1);this._poly_tf.mouseEnabled=!1;this._btm_bar.addChild(this._poly_tf);a=new ea;a.set_defaultTextFormat(this._label_format);
a.set_autoSize(1);a.set_text("DRIV:");a.set_x(10);a.set_y(19);a.set_selectable(!1);a.mouseEnabled=!1;this._btm_bar.addChild(a);this._swhw_tf=new ea;this._swhw_tf.set_defaultTextFormat(this._data_format);this._swhw_tf.set_autoSize(1);this._swhw_tf.set_x(a.get_x()+31);this._swhw_tf.set_y(a.get_y());this._swhw_tf.set_selectable(!1);this._swhw_tf.mouseEnabled=!1;this._btm_bar.addChild(this._swhw_tf)},_initDiagrams:function(){this._dia_bmp=new ma(125,35,!0,0);this._diagram=new wa;this._diagram.get_graphics().beginBitmapFill(this._dia_bmp);
this._diagram.get_graphics().drawRect(0,0,this._dia_bmp.width,this._dia_bmp.height);this._diagram.get_graphics().endFill();this._diagram.set_y(17);this.addChild(this._diagram);this._diagram.get_graphics().lineStyle(1,16777215,.03);this._diagram.get_graphics().moveTo(0,0);this._diagram.get_graphics().lineTo(125,0);this._diagram.get_graphics().moveTo(0,Math.floor(this._dia_bmp.height/2));this._diagram.get_graphics().lineTo(125,Math.floor(this._dia_bmp.height/2));this._fps_bar=new ob;this._fps_bar.get_graphics().beginFill(16777215);
this._fps_bar.get_graphics().drawRect(0,0,125,4);this._fps_bar.set_x(0);this._fps_bar.set_y(16);this.addChild(this._fps_bar);this._afps_bar=new ob;this._afps_bar.get_graphics().lineStyle(1,3377373,1,!1,2,2);this._afps_bar.get_graphics().lineTo(0,4);this._afps_bar.set_y(this._fps_bar.get_y());this.addChild(this._afps_bar);this._lfps_bar=new ob;this._lfps_bar.get_graphics().lineStyle(1,16711680,1,!1,2,2);this._lfps_bar.get_graphics().lineTo(0,4);this._lfps_bar.set_y(this._fps_bar.get_y());this.addChild(this._lfps_bar);
this._hfps_bar=new ob;this._hfps_bar.get_graphics().lineStyle(1,65280,1,!1,2,2);this._hfps_bar.get_graphics().lineTo(0,4);this._hfps_bar.set_y(this._fps_bar.get_y());this.addChild(this._hfps_bar);this._mem_points=[];this._mem_graph=new ob;this._mem_graph.set_y(this._diagram.get_y()+this._diagram.get_height());this.addChildAt(this._mem_graph,0)},_initInteraction:function(){this._top_bar.addEventListener("mouseDown",n(this,this._onTopBarMouseDown));this._enable_reset&&(this._btm_bar.mouseEnabled=!1,
this._btm_bar_hit.addEventListener("click",n(this,this._onCountersClick_reset)),this._afps_tf.addEventListener("mouseUp",n(this,this._onAverageFpsClick_reset),!1,1));this._enable_mod_fr&&this._diagram.addEventListener("click",n(this,this._onDiagramClick))},_redrawWindow:function(){var a=0,a=this._minimized?51:85;this._transparent||(this.get_graphics().clear(),this.get_graphics().beginFill(0,.6),this.get_graphics().drawRect(0,0,125,a));this._min_max_btn.set_rotation(this._minimized?180:0);this._btm_bar.set_y(a-
31);this._btm_bar_hit.set_y(this._btm_bar.get_y());this._diagram.set_visible(!this._minimized);this._mem_graph.set_visible(!this._minimized);this._fps_bar.set_visible(this._minimized);this._afps_bar.set_visible(this._minimized);this._lfps_bar.set_visible(this._minimized);this._hfps_bar.set_visible(this._minimized);this._minimized||this._redrawMemGraph()},_redrawStats:function(){var a;this._fps_tf.set_text(this._fps+"/"+this.stage.get_frameRate());this._afps_tf.set_text(q.string(Math.round(this._avg_fps)));
this._ram_tf.set_text(this._getRamString(this._ram)+" / "+this._getRamString(this._max_ram));this._dia_bmp.scroll(1,0);0<this._views.get_length()?(this._poly_tf.set_text(this._rfaces+""),a=this._dia_bmp.height-Math.floor(this._rfaces/this._tfaces*this._dia_bmp.height),this._dia_bmp.setPixel32(1,a,-13312)):this._poly_tf.set_text("n/a (no view)");this._showing_driv_info||(null!=this._views&&0<this._views.get_length()&&null!=this._views.get(0).get_renderer().get_stage3DProxy()&&null!=this._views.get(0).get_renderer().get_stage3DProxy().get_context3D()?
(a=this._views.get(0).get_renderer().get_stage3DProxy().get_context3D().driverInfo,this._swhw_tf.set_text(W.substr(a,0,a.indexOf(" "))),this._showing_driv_info=!0):this._swhw_tf.set_text("n/a (no view)"));a=this._dia_bmp.height-Math.floor(this._fps/this.stage.get_frameRate()*this._dia_bmp.height);this._dia_bmp.setPixel32(1,a,-1);a=this._dia_bmp.height-Math.floor(this._avg_fps/this.stage.get_frameRate()*this._dia_bmp.height);this._dia_bmp.setPixel32(1,a,-13386753);this._minimized?(this._fps_bar.set_scaleX(Math.min(1,
this._fps/this.stage.get_frameRate())),this._afps_bar.set_x(125*Math.min(1,this._avg_fps/this.stage.get_frameRate())),this._lfps_bar.set_x(125*Math.min(1,this._min_fps/this.stage.get_frameRate())),this._hfps_bar.set_x(125*Math.min(1,this._max_fps/this.stage.get_frameRate()))):0==this._updates%5&&this._redrawMemGraph();this._mem_graph.set_x(this._updates%5);this._updates++},_redrawMemGraph:function(){var a,b,c=0;this._mem_graph.set_scaleY(1);b=this._mem_graph.get_graphics();b.clear();b.lineStyle(.5,
16711884,1,!0,1);b.moveTo(5*(this._mem_points.length-1),-this._mem_points[this._mem_points.length-1]);for(a=this._mem_points.length-1;0<=a;)0==this._mem_points[a+1]||0==this._mem_points[a]?b.moveTo(5*a,-this._mem_points[a]):(b.lineTo(5*a,-this._mem_points[a]),this._mem_points[a]>c&&(c=this._mem_points[a])),--a;this._mem_graph.set_scaleY(this._dia_bmp.height/c)},_getRamString:function(a){var b="B";1048576<a?(a/=1048576,b="M"):1024<a&&(a/=1024,b="K");return Math.round(10*a)/10+b},reset:function(){this._num_frames=
this._updates=0;this._min_fps=Infinity;for(var a=this._max_ram=this._fps_sum=this._avg_fps=this._max_fps=0;25>a;){var b=a++;this._mem_points[b]=0}if(null!=this._mean_data)for(a=0,b=this._mean_data.length;a<b;){var c=a++;this._mean_data[c]=0}this._mem_graph.get_graphics().clear();this._dia_bmp.fillRect(this._dia_bmp.rect,0)},_endDrag:function(){-125>this.get_x()?this.set_x(-105):this.get_x()>this.stage.stageWidth&&this.set_x(this.stage.stageWidth-20);0>this.get_y()?this.set_y(0):this.get_y()>this.stage.stageHeight&&
this.set_y(this.stage.stageHeight-15);this.set_x(Math.round(this.get_x()));this.set_y(Math.round(this.get_y()));this._dragging=!1;this.stage.removeEventListener("mouseLeave",n(this,this._onMouseUpOrLeave));this.stage.removeEventListener("mouseUp",n(this,this._onMouseUpOrLeave));this.stage.removeEventListener("mouseMove",n(this,this._onMouseMove))},_onAddedToStage:function(a){this._timer.start();this.addEventListener("enterFrame",n(this,this._onEnterFrame))},_onRemovedFromStage:function(a){this._timer.stop();
this.removeEventListener("enterFrame",n(this,this._onTimer))},_onTimer:function(a){this._ram=Id.get_totalMemory();this._ram>this._max_ram&&(this._max_ram=this._ram);0==this._updates%5&&(this._mem_points.unshift(this._ram/1024),this._mem_points.pop());this._tfaces=this._rfaces=0;if(0<this._views.get_length()){a=0;for(var b=this._views.get_length();a<b;){var c=a++;this._rfaces+=this._views.get(c).get_renderedFacesCount()}}this._redrawStats()},_onEnterFrame:function(a){a=ia.getTimer()-this._last_frame_timestamp;
this._fps=Math.floor(1E3/a);this._fps_sum+=this._fps;this._fps>this._max_fps?this._max_fps=this._fps:0!=this._fps&&this._fps<this._min_fps&&(this._min_fps=this._fps);null!=this._mean_data?(this._mean_data.push(this._fps),this._fps_sum-=parseFloat(this._mean_data.shift()),this._avg_fps=this._fps_sum/this._mean_data_length):(this._num_frames++,this._avg_fps=this._fps_sum/this._num_frames);this._last_frame_timestamp=ia.getTimer()},_onDiagramClick:function(a){a=this.stage;a.set_frameRate(a.get_frameRate()-
Math.floor((this._diagram.get_mouseY()-this._dia_bmp.height/2)/5))},_onAverageFpsClick_reset:function(a){if(!this._dragging&&(this._fps_sum=this._num_frames=0,null!=this._mean_data)){a=0;for(var b=this._mean_data.length;a<b;){var c=a++;this._mean_data[c]=0}}},_onCountersClick_reset:function(a){this.reset()},_onMinMaxBtnClick:function(a){this._minimized=!this._minimized;this._redrawWindow()},_onTopBarMouseDown:function(a){this._drag_dx=this.get_mouseX();this._drag_dy=this.get_mouseY();this.stage.addEventListener("mouseMove",
n(this,this._onMouseMove));this.stage.addEventListener("mouseUp",n(this,this._onMouseUpOrLeave));this.stage.addEventListener("mouseLeave",n(this,this._onMouseUpOrLeave))},_onMouseMove:function(a){this._dragging=!0;this.set_x(this.stage.get_mouseX()-this._drag_dx);this.set_y(this.stage.get_mouseY()-this._drag_dy)},_onMouseUpOrLeave:function(a){this._endDrag()},__class__:Pb,__properties__:t(wa.prototype.__properties__,{get_fps:"get_fps",get_max_fps:"get_max_fps",get_avg_fps:"get_avg_fps",get_ram:"get_ram",
get_max_ram:"get_max_ram"})});var yc=function(){};k["away3d.debug.Debug"]=yc;yc.__name__=["away3d","debug","Debug"];yc.clear=function(){};yc.delimiter=function(){};yc.trace=function(a){};yc.warning=function(a){yc.warningsAsErrors&&yc.error(a)};yc.error=function(a){throw new F(new ja(a));};var cd=function(a,b){this._castsShadows=this._shareAnimationGeometry=!0;ib.call(this);this._subMeshes=D.toObjectVector(null);this.set_geometry(null!=a?a:new xc);this.set_material(null!=b?b:Cb.getDefaultMaterial(this))};
k["away3d.entities.Mesh"]=cd;cd.__name__=["away3d","entities","Mesh"];cd.__interfaces__=[Uc,Qh];cd.__super__=ib;cd.prototype=t(ib.prototype,{_subMeshes:null,_geometry:null,_material:null,_animator:null,_castsShadows:null,_shareAnimationGeometry:null,bakeTransformations:function(){this.get_geometry().applyTransformation(this.get_transform());this.get_transform().identity()},get_assetType:function(){return"mesh"},onGeometryBoundsInvalid:function(a){this.invalidateBounds()},get_castsShadows:function(){return this._castsShadows},
set_castsShadows:function(a){return this._castsShadows=a},get_animator:function(){return this._animator},set_animator:function(a){null!=this._animator&&this._animator.removeOwner(this);this._animator=a;var b=this.get_material();this.set_material(null);this.set_material(b);for(var c,d=0,e=this._subMeshes.get_length();d<e;)b=d++,c=this._subMeshes.get(b),b=c._material,null!=b&&(c.set_material(null),c.set_material(b));null!=this._animator&&this._animator.addOwner(this);return a},get_geometry:function(){return this._geometry},
set_geometry:function(a){if(null!=this._geometry){this._geometry.removeEventListener("BoundsInvalid",n(this,this.onGeometryBoundsInvalid));this._geometry.removeEventListener("SubGeometryAdded",n(this,this.onSubGeometryAdded));this._geometry.removeEventListener("SubGeometryRemoved",n(this,this.onSubGeometryRemoved));for(var b=0,c=this._subMeshes.get_length();b<c;){var d=b++;this._subMeshes.get(d).dispose()}this._subMeshes.set_length(0)}this._geometry=a;if(null!=this._geometry)for(this._geometry.addEventListener("BoundsInvalid",
n(this,this.onGeometryBoundsInvalid)),this._geometry.addEventListener("SubGeometryAdded",n(this,this.onSubGeometryAdded)),this._geometry.addEventListener("SubGeometryRemoved",n(this,this.onSubGeometryRemoved)),b=this._geometry.get_subGeometries(),c=0,d=b.get_length();c<d;){var e=c++;this.addSubMesh(b.get(e))}null!=this._material&&(this._material.removeOwner(this),this._material.addOwner(this));return a},get_material:function(){return this._material},set_material:function(a){if(a==this._material)return a;
null!=this._material&&this._material.removeOwner(this);this._material=a;null!=this._material&&this._material.addOwner(this);return a},get_subMeshes:function(){this._geometry.validate();return this._subMeshes},get_shareAnimationGeometry:function(){return this._shareAnimationGeometry},set_shareAnimationGeometry:function(a){return this._shareAnimationGeometry=a},clearAnimationGeometry:function(){for(var a=0,b=this._subMeshes.get_length();a<b;){var c=a++;this._subMeshes.get(c).animationSubGeometry=null}},
dispose:function(){ib.prototype.dispose.call(this);this.set_material(null);this.set_geometry(null)},disposeWithAnimatorAndChildren:function(){this.disposeWithChildren();null!=this._animator&&this._animator.dispose()},clone:function(){var a=new cd(this._geometry,this._material);a.set_transform(this.get_transform());a.set_pivotPoint(this.get_pivotPoint());a.set_partition(this.get_partition());a.set_bounds(this._bounds.clone());a.set_name(this.get_name());a.set_castsShadows(this.get_castsShadows());
a.set_shareAnimationGeometry(this.get_shareAnimationGeometry());a.set_mouseEnabled(this.get_mouseEnabled());a.set_mouseChildren(this.get_mouseChildren());a.extra=this.extra;for(var b=this._subMeshes.get_length(),c=0;c<b;){var d=c++;a._subMeshes.get(d)._material=this._subMeshes.get(d)._material}b=this.get_numChildren();for(c=0;c<b;)d=c++,a.addChild(y.__cast(this.getChildAt(d).clone(),fb));null!=this._animator&&a.set_animator(this._animator.clone());return a},updateBounds:function(){this._bounds.fromGeometry(this._geometry);
this._boundsInvalid=!1},createEntityPartitionNode:function(){return new Vh(this)},onSubGeometryAdded:function(a){this.addSubMesh(a.get_subGeometry())},onSubGeometryRemoved:function(a){for(var b=a.get_subGeometry(),c=this._subMeshes.get_length(),d=0;d<c;){a=this._subMeshes.get(d);if(a.get_subGeometry()==b){a.dispose();this._subMeshes.splice(d,1);break}++d}for(--c;d<c;)this._subMeshes.get(d)._index=d,++d},addSubMesh:function(a){a=new Ff(a,this,null);var b=this._subMeshes.get_length();a._index=b;this._subMeshes.set(b,
a);this.invalidateBounds()},getSubMeshForSubGeometry:function(a){return this._subMeshes.get(this._geometry.get_subGeometries().indexOf(a,0))},collidesBefore:function(a,b){this._pickingCollider.setLocalRay(this._pickingCollisionVO.localRayPosition,this._pickingCollisionVO.localRayDirection);this._pickingCollisionVO.renderable=null;for(var c=0,d=this._subMeshes.get_length();c<d;){var e=c++,e=this._subMeshes.get(e);if(this._pickingCollider.testSubMeshCollision(e,this._pickingCollisionVO,a)&&(a=this._pickingCollisionVO.rayEntryDistance,
this._pickingCollisionVO.renderable=e,!b))return!0}return null!=this._pickingCollisionVO.renderable},__class__:cd,__properties__:t(ib.prototype.__properties__,{set_shareAnimationGeometry:"set_shareAnimationGeometry",get_shareAnimationGeometry:"get_shareAnimationGeometry",get_subMeshes:"get_subMeshes",set_material:"set_material",get_material:"get_material",set_geometry:"set_geometry",get_geometry:"get_geometry",set_animator:"set_animator",get_animator:"get_animator",set_castsShadows:"set_castsShadows",
get_castsShadows:"get_castsShadows"})});var Qc=function(){this._subSetCount=this._numIndices=this._indexSegments=0;ib.call(this);this._subSetCount=0;this._subSets=D.toObjectVector(null);this.addSubSet();this._segments=new Ib;this.set_material(new ei)};k["away3d.entities.SegmentSet"]=Qc;Qc.__name__=["away3d","entities","SegmentSet"];Qc.__interfaces__=[Ef];Qc.__super__=ib;Qc.prototype=t(ib.prototype,{_activeSubSet:null,_subSets:null,_subSetCount:null,_numIndices:null,_material:null,_animator:null,_hasData:null,
_segments:null,_indexSegments:null,addSegment:function(a){a.set_segmentsBase(this);this._hasData=!0;var b=this._subSets.get_length()-1,c=this._subSets.get(b);c.vertices.get_length()+44>Qc.LIMIT&&(c=this.addSubSet(),++b);a.set_index(c.vertices.get_length());a.set_subSetIndex(b);this.updateSegment(a);var d=c.lineCount<<2;c.indices.push(d);c.indices.push(d+1);c.indices.push(d+2);c.indices.push(d+3);c.indices.push(d+2);c.indices.push(d+1);c.numVertices=c.vertices.get_length()/11|0;c.numIndices=c.indices.get_length();
c.lineCount++;c.indexBufferDirty=!0;c=new pk;c.index=d;c.subSetIndex=b;c.segment=a;this._segments.h[this._indexSegments]=c;this._indexSegments++},removeSegmentByIndex:function(a,b){null==b&&(b=!1);var c;if(!(a>=this._indexSegments)&&this._segments.h.hasOwnProperty(a)){c=this._segments.h[a];var d;if(null!=this._subSets.get(c.subSetIndex)){var e=c.subSetIndex;d=this._subSets.get(c.subSetIndex);c=c.segment;for(var f=d.indices,p=6*a,g=f.get_length();p<g;){var m=p++,h=f;h.set(m,h.get(m)-4)}d.indices.splice(6*
a,6);d.vertices.splice(44*a,44);d.numVertices=d.vertices.get_length()/11|0;d.numIndices=f.get_length();d.vertexBufferDirty=!0;d.indexBufferDirty=!0;d.lineCount--;b?c.dispose():(c.set_index(-1),c.set_segmentsBase(null));0==d.lineCount&&(0==e?this._hasData=!1:(d.dispose(),this._subSets.set(e,null),this._subSets.splice(e,1)));this.reOrderIndices(e,a);this._segments.remove(this._indexSegments);this._indexSegments--}}},removeSegment:function(a,b){-1!=a.get_index()&&this.removeSegmentByIndex(a.get_index()/
44|0)},removeAllSegments:function(){for(var a,b=0,c=this._subSetCount;b<c;)a=b++,a=this._subSets.get(a),a.vertices=null,a.indices=null,null!=a.vertexBuffer&&Da.disposeVertexBuffer(a.vertexBuffer),null!=a.indexBuffer&&Da.disposeIndexBuffer(a.indexBuffer);for(b=this._segments.iterator();b.hasNext();)b.next();this._segments=null;this._subSetCount=0;this._activeSubSet=null;this._indexSegments=0;this._subSets=D.toObjectVector(null);this._segments=new Ib;this.addSubSet();this._hasData=!1},getSegment:function(a){return a>
this._indexSegments-1?null:this._segments.h[a].segment},get_segmentCount:function(){return this._indexSegments},get_subSetCount:function(){return this._subSetCount},updateSegment:function(a){var b=a._start,c=a._end,d=b.x,e=b.y,b=b.z,f=c.x,p=c.y,c=c.z,g=a._startR,m=a._startG,h=a._startB,l=a._endR,k=a._endG,A=a._endB,q=a.get_index(),v=a.get_thickness();a=this._subSets.get(a.get_subSetIndex());var n=a.vertices;n.set(q++,d);n.set(q++,e);n.set(q++,b);n.set(q++,f);n.set(q++,p);n.set(q++,c);n.set(q++,v);
n.set(q++,g);n.set(q++,m);n.set(q++,h);n.set(q++,1);n.set(q++,f);n.set(q++,p);n.set(q++,c);n.set(q++,d);n.set(q++,e);n.set(q++,b);n.set(q++,-v);n.set(q++,l);n.set(q++,k);n.set(q++,A);n.set(q++,1);n.set(q++,d);n.set(q++,e);n.set(q++,b);n.set(q++,f);n.set(q++,p);n.set(q++,c);n.set(q++,-v);n.set(q++,g);n.set(q++,m);n.set(q++,h);n.set(q++,1);n.set(q++,f);n.set(q++,p);n.set(q++,c);n.set(q++,d);n.set(q++,e);n.set(q++,b);n.set(q++,v);n.set(q++,l);n.set(q++,k);n.set(q++,A);n.set(q++,1);a.vertexBufferDirty=
!0;this.invalidateBounds()},get_hasData:function(){return this._hasData},getIndexBuffer:function(a){if(this._activeSubSet.indexContext3D!=a.get_context3D()||this._activeSubSet.indexBufferDirty)this._activeSubSet.indexBuffer=a.createIndexBuffer(this._activeSubSet.numIndices),this._activeSubSet.indexBuffer.uploadFromVector(this._activeSubSet.indices,0,this._activeSubSet.numIndices),this._activeSubSet.indexBufferDirty=!1,this._activeSubSet.indexContext3D=a.get_context3D();return this._activeSubSet.indexBuffer},
activateVertexBuffer:function(a,b){var c=this._subSets.get(a);this._activeSubSet=c;this._numIndices=c.numIndices;if(c.vertexContext3D!=b.get_context3D()||c.vertexBufferDirty)null!=c.vertexBuffer&&Da.disposeVertexBuffer(c.vertexBuffer),c.vertexBuffer=b.createVertexBuffer(c.numVertices,11),c.vertexBuffer.uploadFromVector(c.vertices,0,c.numVertices),c.vertexBufferDirty=!1,c.vertexContext3D=b.get_context3D();var c=c.vertexBuffer,d=b._context3D;d.setVertexBufferAt(0,c,0,3);d.setVertexBufferAt(1,c,3,3);
d.setVertexBufferAt(2,c,6,1);d.setVertexBufferAt(3,c,7,4)},activateUVBuffer:function(a,b){},activateVertexNormalBuffer:function(a,b){},activateVertexTangentBuffer:function(a,b){},activateSecondaryUVBuffer:function(a,b){},reOrderIndices:function(a,b){for(var c,d=b,e=this._indexSegments-1;d<e;){var f=d++;c=this._segments.h[f+1];c.index=f;if(c.subSetIndex==a){var p=c.segment;p.set_index(p.get_index()-44)}this._segments.h[f]=c}},addSubSet:function(){var a=new qk;this._subSets.push(a);a.vertices=D.toFloatVector(null);
a.numVertices=0;a.indices=D.toIntVector(null);a.numIndices=0;a.vertexBufferDirty=!0;a.indexBufferDirty=!0;a.lineCount=0;this._subSetCount++;return a},dispose:function(){ib.prototype.dispose.call(this);this.removeAllSegments();this._material=this._segments=null;var a=this._subSets.get(0);a.vertices=null;this._subSets=a.indices=null},get_mouseEnabled:function(){return!1},getDefaultBoundingVolume:function(){return new af},updateBounds:function(){for(var a,b,c,d=Infinity,e=Infinity,f=Infinity,p=-Infinity,
g=-Infinity,m=-Infinity,h,l=0;l<this._subSetCount;){a=this._subSets.get(l);c=0;h=a.vertices;a=h.get_length();if(0!=a)for(;c<a;)b=h.get(c++),b<d?d=b:b>p&&(p=b),b=h.get(c++),b<e?e=b:b>g&&(g=b),b=h.get(c++),b<f?f=b:b>m&&(m=b),c+=8;++l}Infinity!=d?this._bounds.fromExtremes(d,e,f,p,g,m):this._bounds.fromExtremes(-.5,-.5,-.5,.5,.5,.5);this._boundsInvalid=!1},createEntityPartitionNode:function(){return new Yh(this)},get_numTriangles:function(){return this._numIndices/3|0},get_sourceEntity:function(){return this},
get_castsShadows:function(){return!1},get_material:function(){return this._material},get_animator:function(){return this._animator},set_material:function(a){if(a==this._material)return a;null!=this._material&&this._material.removeOwner(this);this._material=a;null!=this._material&&this._material.addOwner(this);return a},get_uvTransform:function(){return null},get_uvTransform2:function(){return null},get_vertexData:function(){return null},get_indexData:function(){return null},get_UVData:function(){return null},
get_numVertices:function(){return 0},get_vertexStride:function(){return 11},get_vertexNormalData:function(){return null},get_vertexTangentData:function(){return null},get_vertexOffset:function(){return 0},get_vertexNormalOffset:function(){return 0},get_vertexTangentOffset:function(){return 0},get_assetType:function(){return"segmentSet"},getRenderSceneTransform:function(a){return this._sceneTransform},__class__:Qc,__properties__:t(ib.prototype.__properties__,{get_vertexTangentOffset:"get_vertexTangentOffset",
get_vertexNormalOffset:"get_vertexNormalOffset",get_vertexOffset:"get_vertexOffset",get_vertexTangentData:"get_vertexTangentData",get_vertexNormalData:"get_vertexNormalData",get_vertexStride:"get_vertexStride",get_numVertices:"get_numVertices",get_UVData:"get_UVData",get_indexData:"get_indexData",get_vertexData:"get_vertexData",get_uvTransform2:"get_uvTransform2",get_uvTransform:"get_uvTransform",get_animator:"get_animator",set_material:"set_material",get_material:"get_material",get_castsShadows:"get_castsShadows",
get_sourceEntity:"get_sourceEntity",get_numTriangles:"get_numTriangles",get_hasData:"get_hasData",get_subSetCount:"get_subSetCount",get_segmentCount:"get_segmentCount"})});var pk=function(){};k["away3d.entities.SegRef"]=pk;pk.__name__=["away3d","entities","SegRef"];pk.prototype={index:null,subSetIndex:null,segment:null,__class__:pk};var qk=function(){};k["away3d.entities.SubSet"]=qk;qk.__name__=["away3d","entities","SubSet"];qk.prototype={vertices:null,numVertices:null,indices:null,numIndices:null,
vertexBufferDirty:null,indexBufferDirty:null,vertexContext3D:null,indexContext3D:null,vertexBuffer:null,indexBuffer:null,lineCount:null,dispose:function(){this.vertices=null;null!=this.vertexBuffer&&Da.disposeVertexBuffer(this.vertexBuffer);null!=this.indexBuffer&&Da.disposeIndexBuffer(this.indexBuffer)},__class__:qk};var ja=function(a,b){null==b&&(b=0);null==a&&(a="");this.message=a;this.errorID=b;this.name="Error"};k["openfl.errors.Error"]=ja;ja.__name__=["openfl","errors","Error"];ja.prototype=
{errorID:null,message:null,name:null,getStackTrace:function(){return Aa.toString(Aa.exceptionStack())},toString:function(){return null!=this.message?this.message:"Error"},__class__:ja};var oa=function(a,b){null==b&&(b=0);null==a&&(a="An abstract method was called! Either an instance of an abstract class was created, or an abstract method was not overridden by the subclass.");ja.call(this,a,b)};k["away3d.errors.AbstractMethodError"]=oa;oa.__name__=["away3d","errors","AbstractMethodError"];oa.__super__=
ja;oa.prototype=t(ja.prototype,{__class__:oa});var eb=function(a,b,c){J.call(this,a);this._asset=b;this._prevName=null!=c?c:null!=this._asset?this._asset.get_name():null};k["away3d.events.Asset3DEvent"]=eb;eb.__name__=["away3d","events","Asset3DEvent"];eb.__super__=J;eb.prototype=t(J.prototype,{_asset:null,_prevName:null,get_asset:function(){return this._asset},get_assetPrevName:function(){return this._prevName},clone:function(){return new eb(this.type,this.get_asset(),this.get_assetPrevName())},
__class__:eb,__properties__:{get_assetPrevName:"get_assetPrevName",get_asset:"get_asset"}});var Af=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!1);J.call(this,a,c,d);this._camera=b};k["away3d.events.CameraEvent"]=Af;Af.__name__=["away3d","events","CameraEvent"];Af.__super__=J;Af.prototype=t(J.prototype,{_camera:null,get_camera:function(){return this._camera},clone:function(){return new Af(this.type,this._camera,this.bubbles,this.cancelable)},__class__:Af,__properties__:{get_camera:"get_camera"}});
var Bd=function(a,b){J.call(this,a,!1,!1);this._subGeometry=b};k["away3d.events.GeometryEvent"]=Bd;Bd.__name__=["away3d","events","GeometryEvent"];Bd.__super__=J;Bd.prototype=t(J.prototype,{_subGeometry:null,get_subGeometry:function(){return this._subGeometry},clone:function(){return new Bd(this.type,this._subGeometry)},__class__:Bd,__properties__:{get_subGeometry:"get_subGeometry"}});var Bf=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!1);J.call(this,a,c,d);this._lens=b};k["away3d.events.LensEvent"]=
Bf;Bf.__name__=["away3d","events","LensEvent"];Bf.__super__=J;Bf.prototype=t(J.prototype,{_lens:null,get_lens:function(){return this._lens},clone:function(){return new Bf(this.type,this._lens,this.bubbles,this.cancelable)},__class__:Bf,__properties__:{get_lens:"get_lens"}});var Gf=function(a){J.call(this,a)};k["away3d.events.LightEvent"]=Gf;Gf.__name__=["away3d","events","LightEvent"];Gf.__super__=J;Gf.prototype=t(J.prototype,{clone:function(){return new Gf(this.type)},__class__:Gf});var Gc=function(a,
b){J.call(this,a);this.object=b};k["away3d.events.Object3DEvent"]=Gc;Gc.__name__=["away3d","events","Object3DEvent"];Gc.__super__=J;Gc.prototype=t(J.prototype,{object:null,clone:function(){return new Gc(this.type,this.object)},__class__:Gc});var yd=function(a,b){this.objectContainer3D=b;J.call(this,a)};k["away3d.events.Scene3DEvent"]=yd;yd.__name__=["away3d","events","Scene3DEvent"];yd.__super__=J;yd.prototype=t(J.prototype,{objectContainer3D:null,clone:function(){return new yd(this.type,this.objectContainer3D)},
__class__:yd});var Hf=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);J.call(this,a,b,c)};k["away3d.events.ShadingMethodEvent"]=Hf;Hf.__name__=["away3d","events","ShadingMethodEvent"];Hf.__super__=J;Hf.prototype=t(J.prototype,{__class__:Hf});var jd=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);J.call(this,a,b,c)};k["away3d.events.Stage3DEvent"]=jd;jd.__name__=["away3d","events","Stage3DEvent"];jd.__super__=J;jd.prototype=t(J.prototype,{__class__:jd});var Hd=function(a){this._allowedToPropagate=
!0;J.call(this,a,!0,!0)};k["away3d.events.TouchEvent3D"]=Hd;Hd.__name__=["away3d","events","TouchEvent3D"];Hd.__super__=J;Hd.prototype=t(J.prototype,{_allowedToPropagate:null,_parentEvent:null,screenX:null,screenY:null,view:null,object:null,renderable:null,material:null,uv:null,index:null,subGeometryIndex:null,localPosition:null,localNormal:null,ctrlKey:null,altKey:null,shiftKey:null,touchPointID:null,stopPropagation:function(){J.prototype.stopPropagation.call(this);this._allowedToPropagate=!1;null!=
this._parentEvent&&(this._parentEvent._allowedToPropagate=!1)},stopImmediatePropagation:function(){J.prototype.stopImmediatePropagation.call(this);this._allowedToPropagate=!1;null!=this._parentEvent&&(this._parentEvent._allowedToPropagate=!1)},clone:function(){var a=new Hd(this.type);a.screenX=this.screenX;a.screenY=this.screenY;a.view=this.view;a.object=this.object;a.renderable=this.renderable;a.material=this.material;a.uv=this.uv;a.localPosition=this.localPosition;a.localNormal=this.localNormal;
a.index=this.index;a.subGeometryIndex=this.subGeometryIndex;a.ctrlKey=this.ctrlKey;a.shiftKey=this.shiftKey;a._parentEvent=this;return a},get_scenePosition:function(){return y.__instanceof(this.object,fb)?y.__cast(this.object,fb).get_sceneTransform().transformVector(this.localPosition):this.localPosition},get_sceneNormal:function(){if(y.__instanceof(this.object,fb)){var a=y.__cast(this.object,fb).get_sceneTransform().deltaTransformVector(this.localNormal);a.normalize();return a}return this.localNormal},
__class__:Hd,__properties__:{get_sceneNormal:"get_sceneNormal",get_scenePosition:"get_scenePosition"}});var Nl=function(){this._tasks=D.toObjectVector(null)};k["away3d.filters.Filter3DBase"]=Nl;Nl.__name__=["away3d","filters","Filter3DBase"];Nl.prototype={_tasks:null,_requireDepthRender:null,_textureWidth:null,_textureHeight:null,get_requireDepthRender:function(){return this._requireDepthRender},addTask:function(a){this._tasks.push(a);this._requireDepthRender||(this._requireDepthRender=a.get_requireDepthRender())},
get_tasks:function(){return this._tasks},getMainInputTexture:function(a){return this._tasks.get(0).getMainInputTexture(a)},get_textureWidth:function(){return this._textureWidth},set_textureWidth:function(a){this._textureWidth=a;for(var b=0,c=this._tasks.get_length();b<c;){var d=b++;this._tasks.get(d).set_textureWidth(a)}return a},get_textureHeight:function(){return this._textureHeight},set_textureHeight:function(a){this._textureHeight=a;for(var b=0,c=this._tasks.get_length();b<c;){var d=b++;this._tasks.get(d).set_textureHeight(a)}return a},
setRenderTargets:function(a,b){this._tasks.get(this._tasks.get_length()-1).set_target(a)},dispose:function(){for(var a=0,b=this._tasks.get_length();a<b;){var c=a++;this._tasks.get(c).dispose()}},update:function(a,b){},__class__:Nl,__properties__:{set_textureHeight:"set_textureHeight",get_textureHeight:"get_textureHeight",set_textureWidth:"set_textureWidth",get_textureWidth:"get_textureWidth",get_tasks:"get_tasks",get_requireDepthRender:"get_requireDepthRender"}};var Ol=function(a){null==a&&(a=!1);
this._textureScale=0;this._textureDimensionsInvalid=this._program3DInvalid=!0;this._scaledTextureWidth=this._scaledTextureHeight=this._textureWidth=this._textureHeight=-1;this._requireDepthRender=a};k["away3d.filters.tasks.Filter3DTaskBase"]=Ol;Ol.__name__=["away3d","filters","tasks","Filter3DTaskBase"];Ol.prototype={_mainInputTexture:null,_mainInputTextureContext:null,_scaledTextureWidth:null,_scaledTextureHeight:null,_textureWidth:null,_textureHeight:null,_textureDimensionsInvalid:null,_program3DInvalid:null,
_program3D:null,_program3DContext:null,_target:null,_requireDepthRender:null,_textureScale:null,get_textureScale:function(){return this._textureScale},set_textureScale:function(a){if(this._textureScale==a)return a;this._textureScale=a;this._scaledTextureWidth=this._textureWidth>>this._textureScale;this._scaledTextureHeight=this._textureHeight>>this._textureScale;this._textureDimensionsInvalid=!0;return a},get_target:function(){return this._target},set_target:function(a){return this._target=a},get_textureWidth:function(){return this._textureWidth},
set_textureWidth:function(a){if(this._textureWidth==a)return a;this._textureWidth=a;this._scaledTextureWidth=this._textureWidth>>this._textureScale;1>this._scaledTextureWidth&&(this._scaledTextureWidth=1);this._textureDimensionsInvalid=!0;return a},get_textureHeight:function(){return this._textureHeight},set_textureHeight:function(a){if(this._textureHeight==a)return a;this._textureHeight=a;this._scaledTextureHeight=this._textureHeight>>this._textureScale;1>this._scaledTextureHeight&&(this._scaledTextureHeight=
1);this._textureDimensionsInvalid=!0;return a},getMainInputTexture:function(a){a.get_context3D()!=this._mainInputTextureContext&&(this._textureDimensionsInvalid=!0);this._textureDimensionsInvalid&&this.updateTextures(a);return this._mainInputTexture},dispose:function(){null!=this._mainInputTexture&&this._mainInputTexture.dispose();null!=this._program3D&&this._program3D.dispose();this._program3DContext=null},invalidateProgram3D:function(){this._program3DInvalid=!0},updateProgram3D:function(a){null!=
this._program3D&&this._program3D.dispose();this._program3DContext=a.get_context3D();this._program3D=this._program3DContext.createProgram();this._program3D.upload((new G(yc.active)).assemble(Pc.toString(1),this.getVertexCode()),(new G(yc.active)).assemble(Pc.toString(0),this.getFragmentCode()));this._program3DInvalid=!1},getVertexCode:function(){return"mov op, va0\nmov v0, va1\n"},getFragmentCode:function(){throw new F(new oa);},updateTextures:function(a){null!=this._mainInputTexture&&this._mainInputTexture.dispose();
this._mainInputTextureContext=a.get_context3D();this._mainInputTexture=this._mainInputTextureContext.createTexture(this._scaledTextureWidth,this._scaledTextureHeight,1,!0);this._textureDimensionsInvalid=!1},getProgram3D:function(a){this._program3DContext!=a.get_context3D()&&(this._program3DInvalid=!0);this._program3DInvalid&&this.updateProgram3D(a);return this._program3D},activate:function(a,b,c){},deactivate:function(a){},get_requireDepthRender:function(){return this._requireDepthRender},__class__:Ol,
__properties__:{get_requireDepthRender:"get_requireDepthRender",set_textureHeight:"set_textureHeight",get_textureHeight:"get_textureHeight",set_textureWidth:"set_textureWidth",get_textureWidth:"get_textureWidth",set_target:"set_target",get_target:"get_target",set_textureScale:"set_textureScale",get_textureScale:"get_textureScale"}};var Qb=function(){};k["away3d.library.assets.Asset3DType"]=Qb;Qb.__name__=["away3d","library","assets","Asset3DType"];var tc=function(){this._specular=this._specularR=
this._specularG=this._specularB=this._diffuse=this._diffuseR=this._diffuseG=this._diffuseB=1;this._ambient=this._ambientR=this._ambientG=this._ambientB=0;this._ambientColor=16777215;this._colorR=this._colorG=this._colorB=1;this._color=16777215;ib.call(this)};k["away3d.lights.LightBase"]=tc;tc.__name__=["away3d","lights","LightBase"];tc.__super__=ib;tc.prototype=t(ib.prototype,{_color:null,_colorR:null,_colorG:null,_colorB:null,_ambientColor:null,_ambient:null,_ambientR:null,_ambientG:null,_ambientB:null,
_specular:null,_specularR:null,_specularG:null,_specularB:null,_diffuse:null,_diffuseR:null,_diffuseG:null,_diffuseB:null,_castsShadows:null,_shadowMapper:null,get_castsShadows:function(){return this._castsShadows},set_castsShadows:function(a){if(this._castsShadows==a)return a;(this._castsShadows=a)?(null==this._shadowMapper&&(this._shadowMapper=this.createShadowMapper()),this._shadowMapper.set_light(this)):(null!=this._shadowMapper&&this._shadowMapper.dispose(),this._shadowMapper=null);this.dispatchEvent(new Gf("castsShadowChange"));
return a},createShadowMapper:function(){throw new F(new oa);},get_specular:function(){return this._specular},set_specular:function(a){0>a&&(a=0);this._specular=a;this.updateSpecular();return a},get_diffuse:function(){return this._diffuse},set_diffuse:function(a){0>a&&(a=0);this._diffuse=a;this.updateDiffuse();return a},get_color:function(){return this._color},set_color:function(a){this._color=a;this._colorR=(this._color>>16&255)/255;this._colorG=(this._color>>8&255)/255;this._colorB=(this._color&
255)/255;this.updateDiffuse();this.updateSpecular();return a},get_ambient:function(){return this._ambient},set_ambient:function(a){0>a?a=0:1<a&&(a=1);this._ambient=a;this.updateAmbient();return a},get_ambientColor:function(){return this._ambientColor},set_ambientColor:function(a){this._ambientColor=a;this.updateAmbient();return a},updateAmbient:function(){this._ambientR=(this._ambientColor>>16&255)/255*this._ambient;this._ambientG=(this._ambientColor>>8&255)/255*this._ambient;this._ambientB=(this._ambientColor&
255)/255*this._ambient},getObjectProjectionMatrix:function(a,b,c){throw new F(new oa);},createEntityPartitionNode:function(){return new Th(this)},get_assetType:function(){return"light"},updateSpecular:function(){this._specularR=this._colorR*this._specular;this._specularG=this._colorG*this._specular;this._specularB=this._colorB*this._specular},updateDiffuse:function(){this._diffuseR=this._colorR*this._diffuse;this._diffuseG=this._colorG*this._diffuse;this._diffuseB=this._colorB*this._diffuse},get_shadowMapper:function(){return this._shadowMapper},
set_shadowMapper:function(a){this._shadowMapper=a;this._shadowMapper.set_light(this);return a},__class__:tc,__properties__:t(ib.prototype.__properties__,{set_shadowMapper:"set_shadowMapper",get_shadowMapper:"get_shadowMapper",set_ambientColor:"set_ambientColor",get_ambientColor:"get_ambientColor",set_ambient:"set_ambient",get_ambient:"get_ambient",set_color:"set_color",get_color:"get_color",set_diffuse:"set_diffuse",get_diffuse:"get_diffuse",set_specular:"set_specular",get_specular:"get_specular",
set_castsShadows:"set_castsShadows",get_castsShadows:"get_castsShadows"})});var Rc=function(a,b,c){null==c&&(c=1);null==b&&(b=-1);null==a&&(a=0);tc.call(this);this.set_direction(new T(a,b,c));this._sceneDirection=new T};k["away3d.lights.DirectionalLight"]=Rc;Rc.__name__=["away3d","lights","DirectionalLight"];Rc.__super__=tc;Rc.prototype=t(tc.prototype,{_direction:null,_tmpLookAt:null,_sceneDirection:null,_projAABBPoints:null,createEntityPartitionNode:function(){return new Sh(this)},get_sceneDirection:function(){this._sceneTransformDirty&&
this.updateSceneTransform();return this._sceneDirection},get_direction:function(){return this._direction},set_direction:function(a){this._direction=a;null==this._tmpLookAt&&(this._tmpLookAt=new T);var b=this.get_x();this._tmpLookAt.x=b+this._direction.x;b=this.get_y();this._tmpLookAt.y=b+this._direction.y;b=this.get_z();this._tmpLookAt.z=b+this._direction.z;this.lookAt(this._tmpLookAt);return a},getDefaultBoundingVolume:function(){return new ge},updateBounds:function(){},updateSceneTransform:function(){tc.prototype.updateSceneTransform.call(this);
this.get_sceneTransform().copyColumnTo(2,this._sceneDirection);this._sceneDirection.normalize()},createShadowMapper:function(){return new If},getObjectProjectionMatrix:function(a,b,c){var d=ga.RAW_DATA_CONTAINER,e=a.get_sourceEntity().get_bounds(),f=new Sa;f.copyFrom(a.getRenderSceneTransform(b));f.append(this.get_inverseSceneTransform());null==this._projAABBPoints&&(this._projAABBPoints=D.toFloatVector(null));f.transformVectors(e.get_aabbPoints(),this._projAABBPoints);a=Infinity;b=-Infinity;for(var e=
Infinity,p=-Infinity,g=Infinity,m=-Infinity,h,l=0;24>l;)h=this._projAABBPoints.get(l++),h<a&&(a=h),h>b&&(b=h),h=this._projAABBPoints.get(l++),h<e&&(e=h),h>p&&(p=h),h=this._projAABBPoints.get(l++),h<g&&(g=h),h>m&&(m=h);h=1/(b-a);l=1/(p-e);m=1/(m-g);d.set(0,2*h);d.set(5,2*l);d.set(10,m);d.set(12,-(b+a)*h);d.set(13,-(p+e)*l);d.set(14,-g*m);d.set(1,d.set(2,d.set(3,d.set(4,d.set(6,d.set(7,d.set(8,d.set(9,d.set(11,0)))))))));d.set(15,1);null==c&&(c=new Sa);c.copyRawDataFrom(d);c.prepend(f);return c},__class__:Rc,
__properties__:t(tc.prototype.__properties__,{set_direction:"set_direction",get_direction:"get_direction",get_sceneDirection:"get_sceneDirection"})});var Bg=function(a,b){tc.call(this);this._diffuseMap=a;this._specularMap=b};k["away3d.lights.LightProbe"]=Bg;Bg.__name__=["away3d","lights","LightProbe"];Bg.__super__=tc;Bg.prototype=t(tc.prototype,{_diffuseMap:null,_specularMap:null,createEntityPartitionNode:function(){return new Uh(this)},get_diffuseMap:function(){return this._diffuseMap},set_diffuseMap:function(a){return this._diffuseMap=
a},get_specularMap:function(){return this._specularMap},set_specularMap:function(a){return this._specularMap=a},updateBounds:function(){this._boundsInvalid=!1},getDefaultBoundingVolume:function(){return new ge},getObjectProjectionMatrix:function(a,b,c){throw new F(new ja("Object projection matrices are not supported for LightProbe objects!"));},__class__:Bg,__properties__:t(tc.prototype.__properties__,{set_specularMap:"set_specularMap",get_specularMap:"get_specularMap",set_diffuseMap:"set_diffuseMap",
get_diffuseMap:"get_diffuseMap"})});var Sc=function(){this._fallOff=1E5;this._radius=9E4;tc.call(this);this._fallOffFactor=1/(this._fallOff*this._fallOff-this._radius*this._radius)};k["away3d.lights.PointLight"]=Sc;Sc.__name__=["away3d","lights","PointLight"];Sc.__super__=tc;Sc.prototype=t(tc.prototype,{_radius:null,_fallOff:null,_fallOffFactor:null,createShadowMapper:function(){return new fi},createEntityPartitionNode:function(){return new Xh(this)},get_radius:function(){return this._radius},set_radius:function(a){this._radius=
a;0>this._radius?this._radius=0:this._radius>this._fallOff&&(this._fallOff=this._radius,this.invalidateBounds());this._fallOffFactor=1/(this._fallOff*this._fallOff-this._radius*this._radius);return a},fallOffFactor:function(){return this._fallOffFactor},get_fallOff:function(){return this._fallOff},set_fallOff:function(a){this._fallOff=a;0>this._fallOff&&(this._fallOff=0);this._fallOff<this._radius&&(this._radius=this._fallOff);this._fallOffFactor=1/(this._fallOff*this._fallOff-this._radius*this._radius);
this.invalidateBounds();return a},updateBounds:function(){this._bounds.fromSphere(new T,this._fallOff);this._boundsInvalid=!1},getDefaultBoundingVolume:function(){return new af},getObjectProjectionMatrix:function(a,b,c){var d=ga.RAW_DATA_CONTAINER,e=a.get_sourceEntity().get_bounds(),f=new Sa;f.copyFrom(a.getRenderSceneTransform(b));f.append(this._parent.get_inverseSceneTransform());this.lookAt(f.get_position());f.copyFrom(a.getRenderSceneTransform(b));f.append(this.get_inverseSceneTransform());f.copyColumnTo(3,
this._pos);a=f.deltaTransformVector(e.get_min());b=f.deltaTransformVector(e.get_max());e=this._pos.z;a=a.x*a.x+a.y*a.y+a.z*a.z;b=b.x*b.x+b.y*b.y+b.z*b.z;a=Math.sqrt(a>b?a:b);b=e-a;e+=a;d.set(5,d.set(0,b/a));d.set(10,e/(e-b));d.set(11,1);d.set(1,d.set(2,d.set(3,d.set(4,d.set(6,d.set(7,d.set(8,d.set(9,d.set(12,d.set(13,d.set(15,0)))))))))));d.set(14,-b*d.get(10));null==c&&(c=new Sa);c.copyRawDataFrom(d);c.prepend(f);return c},__class__:Sc,__properties__:t(tc.prototype.__properties__,{set_fallOff:"set_fallOff",
get_fallOff:"get_fallOff",set_radius:"set_radius",get_radius:"get_radius"})});var le=function(){this._autoUpdateShadows=!0;this._depthMapSize=2048;this._casterCollector=this.createCasterCollector()};k["away3d.lights.shadowmaps.ShadowMapperBase"]=le;le.__name__=["away3d","lights","shadowmaps","ShadowMapperBase"];le.prototype={_casterCollector:null,_depthMap:null,_depthMapSize:null,_light:null,_explicitDepthMap:null,_autoUpdateShadows:null,_shadowsInvalid:null,createCasterCollector:function(){return new ci},
get_autoUpdateShadows:function(){return this._autoUpdateShadows},set_autoUpdateShadows:function(a){return this._autoUpdateShadows=a},updateShadows:function(){this._shadowsInvalid=!0},setDepthMap:function(a){this._depthMap!=a&&(null==this._depthMap||this._explicitDepthMap||this._depthMap.dispose(),this._depthMap=a,null!=this._depthMap?(this._explicitDepthMap=!0,this._depthMapSize=this._depthMap.get_width()):this._explicitDepthMap=!1)},get_light:function(){return this._light},set_light:function(a){return this._light=
a},get_depthMap:function(){null==this._depthMap&&(this._depthMap=this.createDepthTexture());return this._depthMap},get_depthMapSize:function(){return this._depthMapSize},set_depthMapSize:function(a){if(a==this._depthMapSize)return a;this._depthMapSize=a;if(this._explicitDepthMap)throw new F(new ja("Cannot set depth map size for the current renderer."));null!=this._depthMap&&(this._depthMap.dispose(),this._depthMap=null);return a},dispose:function(){this._casterCollector=null;null==this._depthMap||
this._explicitDepthMap||this._depthMap.dispose();this._depthMap=null},createDepthTexture:function(){return new gi(this._depthMapSize,this._depthMapSize)},renderDepthMap:function(a,b,c){this._shadowsInvalid=!1;this.updateDepthProjection(b.get_camera());null==this._depthMap&&(this._depthMap=this.createDepthTexture());this.drawDepthMap(this._depthMap.getTextureForStage3D(a),b.scene,c)},updateDepthProjection:function(a){throw new F(new oa);},drawDepthMap:function(a,b,c){throw new F(new oa);},__class__:le,
__properties__:{set_depthMapSize:"set_depthMapSize",get_depthMapSize:"get_depthMapSize",get_depthMap:"get_depthMap",set_light:"set_light",get_light:"get_light",set_autoUpdateShadows:"set_autoUpdateShadows",get_autoUpdateShadows:"get_autoUpdateShadows"}};var fi=function(){le.call(this);this._depthMapSize=512;this._needsRender=D.toBoolVector(null,6,!0);this.initCameras()};k["away3d.lights.shadowmaps.CubeMapShadowMapper"]=fi;fi.__name__=["away3d","lights","shadowmaps","CubeMapShadowMapper"];fi.__super__=
le;fi.prototype=t(le.prototype,{_depthCameras:null,_lenses:null,_needsRender:null,initCameras:function(){this._depthCameras=D.toObjectVector(null);this._lenses=D.toObjectVector(null);this.addCamera(0,90,0);this.addCamera(0,-90,0);this.addCamera(-90,0,0);this.addCamera(90,0,0);this.addCamera(0,0,0);this.addCamera(0,180,0)},addCamera:function(a,b,c){var d=new zf;d.set_rotationX(a);d.set_rotationY(b);d.set_rotationZ(c);d.get_lens().set_near(.01);y.__cast(d.get_lens(),Ce).set_fieldOfView(90);this._lenses.push(y.__cast(d.get_lens(),
Ce));d.get_lens().set_aspectRatio(1);this._depthCameras.push(d)},createDepthTexture:function(){return new hi(this._depthMapSize)},updateDepthProjection:function(a){a=y.__cast(this._light,Sc)._fallOff;for(var b=this._light.get_scenePosition(),c=0;6>c;){var d=c++;this._lenses.get(d).set_far(a);this._depthCameras.get(d).set_position(b);this._needsRender.set(d,!0)}},drawDepthMap:function(a,b,c){for(var d=0;6>d;){var e=d++;this._needsRender.get(e)&&(this._casterCollector.set_camera(this._depthCameras.get(e)),
this._casterCollector.clear(),b.traversePartitions(this._casterCollector),c.render(this._casterCollector,a,null,e),this._casterCollector.cleanUp())}},__class__:fi});var If=function(){this._snap=64;this._lightOffset=1E4;le.call(this);this._cullPlanes=D.toObjectVector(null);this._overallDepthLens=new xg;this._overallDepthCamera=new zf(this._overallDepthLens);this._localFrustum=D.toFloatVector(null,24);this._matrix=new Sa};k["away3d.lights.shadowmaps.DirectionalShadowMapper"]=If;If.__name__=["away3d",
"lights","shadowmaps","DirectionalShadowMapper"];If.__super__=le;If.prototype=t(le.prototype,{_overallDepthCamera:null,_localFrustum:null,_lightOffset:null,_matrix:null,_overallDepthLens:null,_snap:null,_cullPlanes:null,_minZ:null,_maxZ:null,get_snap:function(){return this._snap},set_snap:function(a){return this._snap=a},get_lightOffset:function(){return this._lightOffset},set_lightOffset:function(a){return this._lightOffset=a},get_depthProjection:function(){return this._overallDepthCamera.get_viewProjection()},
get_depth:function(){return this._maxZ-this._minZ},drawDepthMap:function(a,b,c){this._casterCollector.set_camera(this._overallDepthCamera);this._casterCollector.set_cullPlanes(this._cullPlanes);this._casterCollector.clear();b.traversePartitions(this._casterCollector);c.render(this._casterCollector,a);this._casterCollector.cleanUp()},updateCullPlanes:function(a){var b=this._overallDepthCamera.get_frustumPlanes();a=a.get_frustumPlanes();this._cullPlanes.set_length(4);this._cullPlanes.set(0,b.get(0));
this._cullPlanes.set(1,b.get(1));this._cullPlanes.set(2,b.get(2));this._cullPlanes.set(3,b.get(3));for(var c=y.__cast(this._light,Rc).get_sceneDirection(),b=c.x,d=c.y,c=c.z,e=4,f=0;6>f;){var p=f++,p=a.get(p);0>p.a*b+p.b*d+p.c*c&&this._cullPlanes.set(e++,p)}},updateDepthProjection:function(a){this.updateProjectionFromFrustumCorners(a,a.get_lens().get_frustumCorners(),this._matrix);this._overallDepthLens.set_matrix(this._matrix);this.updateCullPlanes(a)},updateProjectionFromFrustumCorners:function(a,
b,c){var d=ga.RAW_DATA_CONTAINER,e,f,p,g,m,h;e=y.__cast(this._light,Rc).get_sceneDirection();this._overallDepthCamera.set_transform(this._light.get_sceneTransform());f=((a.get_x()-e.x*this._lightOffset)/this._snap|0)*this._snap;p=((a.get_y()-e.y*this._lightOffset)/this._snap|0)*this._snap;g=((a.get_z()-e.z*this._lightOffset)/this._snap|0)*this._snap;this._overallDepthCamera.set_x(f);this._overallDepthCamera.set_y(p);this._overallDepthCamera.set_z(g);this._matrix.copyFrom(this._overallDepthCamera.get_inverseSceneTransform());
this._matrix.prepend(a.get_sceneTransform());this._matrix.transformVectors(b,this._localFrustum);a=e=this._localFrustum.get(0);b=m=this._localFrustum.get(1);this._maxZ=this._localFrustum.get(2);for(h=3;24>h;)f=this._localFrustum.get(h),p=this._localFrustum.get(h+1),g=this._localFrustum.get(h+2),f<a&&(a=f),f>e&&(e=f),p<b&&(b=p),p>m&&(m=p),g>this._maxZ&&(this._maxZ=g),h+=3;this._minZ=1;f=e-a;p=m-b;g=1/(this._maxZ-this._minZ);0>a&&(a-=this._snap);0>b&&(b-=this._snap);a=(a/this._snap|0)*this._snap;b=
(b/this._snap|0)*this._snap;e=2*this._snap;f=(f/e+2|0)*e;p=(p/e+2|0)*e;e=a+f;m=b+p;f=1/f;p=1/p;d.set(0,2*f);d.set(5,2*p);d.set(10,g);d.set(12,-(e+a)*f);d.set(13,-(m+b)*p);d.set(14,-this._minZ*g);d.set(15,1);d.set(1,d.set(2,d.set(3,d.set(4,d.set(6,d.set(7,d.set(8,d.set(9,d.set(11,0)))))))));c.copyRawDataFrom(d)},__class__:If,__properties__:t(le.prototype.__properties__,{get_depth:"get_depth",get_depthProjection:"get_depthProjection",set_lightOffset:"set_lightOffset",get_lightOffset:"get_lightOffset",
set_snap:"set_snap",get_snap:"get_snap"})});var Db=function(){this._depthCompareMode=5;this._anisotropy=1;this._mipmap=this._smooth=!0;this._numPasses=0;this._blendMode=10;this._owners=D.toObjectVector(null);this._passes=D.toObjectVector(null);this._depthPass=new ii;this._distancePass=new ji;this._depthPass.addEventListener("change",n(this,this.onDepthPassChange));this._distancePass.addEventListener("change",n(this,this.onDistancePassChange));this.set_alphaPremultiplied(!0);this._uniqueId=Db.MATERIAL_ID_COUNT++;
Ia.call(this)};k["away3d.materials.MaterialBase"]=Db;Db.__name__=["away3d","materials","MaterialBase"];Db.__interfaces__=[Uc];Db.__super__=Ia;Db.prototype=t(Ia.prototype,{extra:null,_classification:null,_uniqueId:null,_renderOrderId:null,_depthPassId:null,_bothSides:null,_animationSet:null,_owners:null,_alphaPremultiplied:null,_blendMode:null,_numPasses:null,_passes:null,_mipmap:null,_smooth:null,_repeat:null,_anisotropy:null,_depthPass:null,_distancePass:null,_lightPicker:null,_distanceBasedDepthRender:null,
_depthCompareMode:null,get_assetType:function(){return"material"},get_lightPicker:function(){return this._lightPicker},set_lightPicker:function(a){if(a!=this._lightPicker){this._lightPicker=a;for(var b=0,c=this._passes.get_length();b<c;){var d=b++;this._passes.get(d).set_lightPicker(this._lightPicker)}}return a},get_mipmap:function(){return this._mipmap},set_mipmap:function(a){this._mipmap=a;for(var b=0,c=this._numPasses;b<c;){var d=b++;this._passes.get(d).set_mipmap(a)}return a},get_smooth:function(){return this._smooth},
set_smooth:function(a){this._smooth=a;for(var b=0,c=this._numPasses;b<c;){var d=b++;this._passes.get(d).set_smooth(a)}return a},get_depthCompareMode:function(){return this._depthCompareMode},set_depthCompareMode:function(a){return this._depthCompareMode=a},get_repeat:function(){return this._repeat},set_repeat:function(a){this._repeat=a;for(var b=0,c=this._numPasses;b<c;){var d=b++;this._passes.get(d).set_repeat(a)}return a},get_anisotropy:function(){return this._anisotropy},set_anisotropy:function(a){this._anisotropy=
a;for(var b=0,c=this._numPasses;b<c;){var d=b++;this._passes.get(d).set_anisotropy(this._anisotropy)}return a},dispose:function(){for(var a=0,b=this._numPasses;a<b;){var c=a++;this._passes.get(c).dispose()}this._depthPass.dispose();this._distancePass.dispose();this._depthPass.removeEventListener("change",n(this,this.onDepthPassChange));this._distancePass.removeEventListener("change",n(this,this.onDistancePassChange))},get_bothSides:function(){return this._bothSides},set_bothSides:function(a){this._bothSides=
a;for(var b=0,c=this._numPasses;b<c;){var d=b++;this._passes.get(d).set_bothSides(a)}this._depthPass.set_bothSides(a);this._distancePass.set_bothSides(a);return a},get_blendMode:function(){return this._blendMode},set_blendMode:function(a){return this._blendMode=a},get_alphaPremultiplied:function(){return this._alphaPremultiplied},set_alphaPremultiplied:function(a){this._alphaPremultiplied=a;for(var b=0,c=this._numPasses;b<c;){var d=b++;this._passes.get(d).set_alphaPremultiplied(a)}return a},get_requiresBlending:function(){return 10!=
this._blendMode},get_uniqueId:function(){return this._uniqueId},get_numPasses:function(){return this._numPasses},hasDepthAlphaThreshold:function(){return 0<this._depthPass.get_alphaThreshold()},activateForDepth:function(a,b,c){null==c&&(c=!1);(this._distanceBasedDepthRender=c)?this._distancePass.activate(a,b):this._depthPass.activate(a,b)},deactivateForDepth:function(a){this._distanceBasedDepthRender?this._distancePass.deactivate(a):this._depthPass.deactivate(a)},renderDepth:function(a,b,c,d){this._distanceBasedDepthRender?
(null!=a.get_animator()&&this._distancePass.updateAnimationState(a,b,c),this._distancePass.render(a,b,c,d)):(null!=a.get_animator()&&this._depthPass.updateAnimationState(a,b,c),this._depthPass.render(a,b,c,d))},passRendersToTexture:function(a){return this._passes.get(a).get_renderToTexture()},activatePass:function(a,b,c){this._passes.get(a).activate(b,c)},deactivatePass:function(a,b){this._passes.get(a).deactivate(b)},renderPass:function(a,b,c,d,e){null!=this._lightPicker&&this._lightPicker.collectLights(b,
d);a=this._passes.get(a);null!=b.get_animator()&&a.updateAnimationState(b,c,d.get_camera());a.render(b,c,d.get_camera(),e)},addOwner:function(a){this._owners.push(a);if(null!=a.get_animator()){if(null!=this._animationSet&&a.get_animator().get_animationSet()!=this._animationSet)throw new F(new ja("A Material instance cannot be shared across renderables with different animator libraries"));if(this._animationSet!=a.get_animator().get_animationSet()){this._animationSet=a.get_animator().get_animationSet();
a=0;for(var b=this._numPasses;a<b;){var c=a++;this._passes.get(c).set_animationSet(this._animationSet)}this._depthPass.set_animationSet(this._animationSet);this._distancePass.set_animationSet(this._animationSet);this.invalidatePasses(null)}}},removeOwner:function(a){this._owners.splice(this._owners.indexOf(a,0),1);if(0==this._owners.get_length()){this._animationSet=null;a=0;for(var b=this._numPasses;a<b;){var c=a++;this._passes.get(c).set_animationSet(this._animationSet)}this._depthPass.set_animationSet(this._animationSet);
this._distancePass.set_animationSet(this._animationSet);this.invalidatePasses(null)}},get_owners:function(){return this._owners},updateMaterial:function(a){},deactivate:function(a){this._passes.get(this._numPasses-1).deactivate(a)},invalidatePasses:function(a){this._depthPass.invalidateShaderProgram();this._distancePass.invalidateShaderProgram();if(null!=this._animationSet){this._animationSet.resetGPUCompatibility();for(var b=0,c=this._owners;b<c.get_length();){var d=c.get(b);++b;null!=d.get_animator()&&
(d.get_animator().testGPUCompatibility(this._depthPass),d.get_animator().testGPUCompatibility(this._distancePass))}}b=0;for(c=this._numPasses;b<c;)if(d=b++,this._passes.get(d)!=a&&this._passes.get(d).invalidateShaderProgram(!1),null!=this._animationSet)for(var e=0,f=this._owners;e<f.get_length();){var p=f.get(e);++e;null!=p.get_animator()&&p.get_animator().testGPUCompatibility(this._passes.get(d))}},removePass:function(a){this._passes.splice(this._passes.indexOf(a,0),1);--this._numPasses},clearPasses:function(){for(var a=
0,b=this._numPasses;a<b;){var c=a++;this._passes.get(c).removeEventListener("change",n(this,this.onPassChange))}this._passes.set_length(0);this._numPasses=0},addPass:function(a){this._passes.set(this._numPasses++,a);a.set_animationSet(this._animationSet);a.set_alphaPremultiplied(this._alphaPremultiplied);a.set_mipmap(this._mipmap);a.set_smooth(this._smooth);a.set_repeat(this._repeat);a.set_anisotropy(this._anisotropy);a.set_lightPicker(this._lightPicker);a.set_bothSides(this._bothSides);a.addEventListener("change",
n(this,this.onPassChange));this.invalidatePasses(null)},onPassChange:function(a){a=1;for(var b,c,d=this._renderOrderId=0,e=this._numPasses;d<e;){b=d++;b=this._passes.get(b)._program3Dids;c=b.get_length();for(var f=0;f<c;){var p=f++;if(-1!=b.get(p)){this._renderOrderId+=a*b.get(p)|0;break}}a*=1E3}},onDistancePassChange:function(a){a=this._distancePass._program3Dids;for(var b=a.get_length(),c=this._depthPassId=0;c<b;){var d=c++;if(-1!=a.get(d)){this._depthPassId+=a.get(d);break}}},onDepthPassChange:function(a){a=
this._depthPass._program3Dids;for(var b=a.get_length(),c=this._depthPassId=0;c<b;){var d=c++;if(-1!=a.get(d)){this._depthPassId+=a.get(d);break}}},__class__:Db,__properties__:t(Ia.prototype.__properties__,{get_owners:"get_owners",get_numPasses:"get_numPasses",get_uniqueId:"get_uniqueId",get_requiresBlending:"get_requiresBlending",set_alphaPremultiplied:"set_alphaPremultiplied",get_alphaPremultiplied:"get_alphaPremultiplied",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode",set_bothSides:"set_bothSides",
get_bothSides:"get_bothSides",set_anisotropy:"set_anisotropy",get_anisotropy:"get_anisotropy",set_repeat:"set_repeat",get_repeat:"get_repeat",set_depthCompareMode:"set_depthCompareMode",get_depthCompareMode:"get_depthCompareMode",set_smooth:"set_smooth",get_smooth:"get_smooth",set_mipmap:"set_mipmap",get_mipmap:"get_mipmap",set_lightPicker:"set_lightPicker",get_lightPicker:"get_lightPicker",get_assetType:"get_assetType"})});var dd=function(){Db.call(this);this.addPass(this._screenPass=new ki(this))};
k["away3d.materials.SinglePassMaterialBase"]=dd;dd.__name__=["away3d","materials","SinglePassMaterialBase"];dd.__super__=Db;dd.prototype=t(Db.prototype,{_screenPass:null,_alphaBlending:null,get_enableLightFallOff:function(){return this._screenPass.get_enableLightFallOff()},set_enableLightFallOff:function(a){this._screenPass.set_enableLightFallOff(a);return a},get_alphaThreshold:function(){return this._screenPass.get_diffuseMethod().get_alphaThreshold()},set_alphaThreshold:function(a){this._screenPass.get_diffuseMethod().set_alphaThreshold(a);
this._depthPass.set_alphaThreshold(a);this._distancePass.set_alphaThreshold(a);return a},set_blendMode:function(a){Db.prototype.set_blendMode.call(this,a);this._screenPass.setBlendMode(10==this.get_blendMode()&&this.get_requiresBlending()?7:this.get_blendMode());return a},set_depthCompareMode:function(a){Db.prototype.set_depthCompareMode.call(this,a);this._screenPass.set_depthCompareMode(a);return a},activateForDepth:function(a,b,c){null==c&&(c=!1);c?this._distancePass.set_alphaMask(this._screenPass.get_diffuseMethod().get_texture()):
this._depthPass.set_alphaMask(this._screenPass.get_diffuseMethod().get_texture());Db.prototype.activateForDepth.call(this,a,b,c)},get_specularLightSources:function(){return this._screenPass.get_specularLightSources()},set_specularLightSources:function(a){this._screenPass.set_specularLightSources(a);return a},get_diffuseLightSources:function(){return this._screenPass.get_diffuseLightSources()},set_diffuseLightSources:function(a){this._screenPass.set_diffuseLightSources(a);return a},get_requiresBlending:function(){return Db.prototype.get_requiresBlending.call(this)||
this._alphaBlending?!0:null!=this._screenPass.get_colorTransform()?1>this._screenPass.get_colorTransform().alphaMultiplier:!1},get_colorTransform:function(){return this._screenPass.get_colorTransform()},set_colorTransform:function(a){this._screenPass.set_colorTransform(a);return a},get_ambientMethod:function(){return this._screenPass.get_ambientMethod()},set_ambientMethod:function(a){this._screenPass.set_ambientMethod(a);return a},get_shadowMethod:function(){return this._screenPass.get_shadowMethod()},
set_shadowMethod:function(a){this._screenPass.set_shadowMethod(a);return a},get_diffuseMethod:function(){return this._screenPass.get_diffuseMethod()},set_diffuseMethod:function(a){this._screenPass.set_diffuseMethod(a);return a},get_normalMethod:function(){return this._screenPass.get_normalMethod()},set_normalMethod:function(a){this._screenPass.set_normalMethod(a);return a},get_specularMethod:function(){return this._screenPass.get_specularMethod()},set_specularMethod:function(a){this._screenPass.set_specularMethod(a);
return a},addMethod:function(a){this._screenPass.addMethod(a)},get_numMethods:function(){return this._screenPass.get_numMethods()},hasMethod:function(a){return this._screenPass.hasMethod(a)},getMethodAt:function(a){return this._screenPass.getMethodAt(a)},addMethodAt:function(a,b){this._screenPass.addMethodAt(a,b)},removeMethod:function(a){this._screenPass.removeMethod(a)},set_mipmap:function(a){if(this._mipmap==a)return a;Db.prototype.set_mipmap.call(this,a);return a},get_normalMap:function(){return this._screenPass.get_normalMap()},
set_normalMap:function(a){this._screenPass.set_normalMap(a);return a},get_specularMap:function(){return this._screenPass.get_specularMethod().get_texture()},set_specularMap:function(a){if(null!=this._screenPass.get_specularMethod())this._screenPass.get_specularMethod().set_texture(a);else throw new F(new ja("No specular method was set to assign the specularGlossMap to"));return a},get_gloss:function(){return null!=this._screenPass.get_specularMethod()?this._screenPass.get_specularMethod().get_gloss():
0},set_gloss:function(a){null!=this._screenPass.get_specularMethod()&&this._screenPass.get_specularMethod().set_gloss(a);return a},get_ambient:function(){return this._screenPass.get_ambientMethod().get_ambient()},set_ambient:function(a){this._screenPass.get_ambientMethod().set_ambient(a);return a},get_specular:function(){return null!=this._screenPass.get_specularMethod()?this._screenPass.get_specularMethod().get_specular():0},set_specular:function(a){null!=this._screenPass.get_specularMethod()&&this._screenPass.get_specularMethod().set_specular(a);
return a},get_ambientColor:function(){return this._screenPass.get_ambientMethod().get_ambientColor()},set_ambientColor:function(a){this._screenPass.get_ambientMethod().set_ambientColor(a);return a},get_specularColor:function(){return this._screenPass.get_specularMethod().get_specularColor()},set_specularColor:function(a){this._screenPass.get_specularMethod().set_specularColor(a);return a},get_alphaBlending:function(){return this._alphaBlending},set_alphaBlending:function(a){this._alphaBlending=a;
this._screenPass.setBlendMode(10==this.get_blendMode()&&this.get_requiresBlending()?7:this.get_blendMode());this._screenPass.set_preserveAlpha(this.get_requiresBlending());return a},updateMaterial:function(a){if(this._screenPass._passesDirty){this.clearPasses();if(null!=this._screenPass._passes){a=0;for(var b=this._screenPass._passes.get_length();a<b;){var c=a++;this.addPass(this._screenPass._passes.get(c))}}this.addPass(this._screenPass);this._screenPass._passesDirty=!1}},set_lightPicker:function(a){Db.prototype.set_lightPicker.call(this,
a);this._screenPass.set_lightPicker(a);return a},__class__:dd,__properties__:t(Db.prototype.__properties__,{set_alphaBlending:"set_alphaBlending",get_alphaBlending:"get_alphaBlending",set_specularColor:"set_specularColor",get_specularColor:"get_specularColor",set_ambientColor:"set_ambientColor",get_ambientColor:"get_ambientColor",set_specular:"set_specular",get_specular:"get_specular",set_ambient:"set_ambient",get_ambient:"get_ambient",set_gloss:"set_gloss",get_gloss:"get_gloss",set_specularMap:"set_specularMap",
get_specularMap:"get_specularMap",set_normalMap:"set_normalMap",get_normalMap:"get_normalMap",get_numMethods:"get_numMethods",set_specularMethod:"set_specularMethod",get_specularMethod:"get_specularMethod",set_normalMethod:"set_normalMethod",get_normalMethod:"get_normalMethod",set_diffuseMethod:"set_diffuseMethod",get_diffuseMethod:"get_diffuseMethod",set_shadowMethod:"set_shadowMethod",get_shadowMethod:"get_shadowMethod",set_ambientMethod:"set_ambientMethod",get_ambientMethod:"get_ambientMethod",
set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform",set_diffuseLightSources:"set_diffuseLightSources",get_diffuseLightSources:"get_diffuseLightSources",set_specularLightSources:"set_specularLightSources",get_specularLightSources:"get_specularLightSources",set_alphaThreshold:"set_alphaThreshold",get_alphaThreshold:"get_alphaThreshold",set_enableLightFallOff:"set_enableLightFallOff",get_enableLightFallOff:"get_enableLightFallOff"})});var Cg=function(a,b){null==b&&(b=1);null==
a&&(a=13421772);this._diffuseAlpha=1;dd.call(this);this.set_color(a);this.set_alpha(b)};k["away3d.materials.ColorMaterial"]=Cg;Cg.__name__=["away3d","materials","ColorMaterial"];Cg.__super__=dd;Cg.prototype=t(dd.prototype,{_diffuseAlpha:null,get_alpha:function(){return this._screenPass.get_diffuseMethod().get_diffuseAlpha()},set_alpha:function(a){1<a?a=1:0>a&&(a=0);this._screenPass.get_diffuseMethod().set_diffuseAlpha(this._diffuseAlpha=a);this._screenPass.set_preserveAlpha(this.get_requiresBlending());
this._screenPass.setBlendMode(10==this.get_blendMode()&&this.get_requiresBlending()?7:this.get_blendMode());return a},get_color:function(){return this._screenPass.get_diffuseMethod().get_diffuseColor()},set_color:function(a){this._screenPass.get_diffuseMethod().set_diffuseColor(a);return a},get_requiresBlending:function(){return dd.prototype.get_requiresBlending.call(this)?!0:1>this._diffuseAlpha},__class__:Cg,__properties__:t(dd.prototype.__properties__,{set_color:"set_color",get_color:"get_color",
set_alpha:"set_alpha",get_alpha:"get_alpha"})});var rk=function(){};k["away3d.materials.LightSources"]=rk;rk.__name__=["away3d","materials","LightSources"];var ei=function(a){null==a&&(a=1.25);Db.call(this);this.set_bothSides(!0);this.addPass(this._screenPass=new Ge(a));this._screenPass.set_material(this)};k["away3d.materials.SegmentMaterial"]=ei;ei.__name__=["away3d","materials","SegmentMaterial"];ei.__super__=Db;ei.prototype=t(Db.prototype,{_screenPass:null,__class__:ei});var mi=function(a){Db.call(this);
this._cubeMap=a;this.addPass(this._skyboxPass=new li);this._skyboxPass.set_cubeTexture(this._cubeMap)};k["away3d.materials.SkyBoxMaterial"]=mi;mi.__name__=["away3d","materials","SkyBoxMaterial"];mi.__super__=Db;mi.prototype=t(Db.prototype,{_cubeMap:null,_skyboxPass:null,get_cubeMap:function(){return this._cubeMap},set_cubeMap:function(a){null==a||null==this._cubeMap||a.get_hasMipMaps()==this._cubeMap.get_hasMipMaps()&&a.get_format()==this._cubeMap.get_format()||this.invalidatePasses(null);this._cubeMap=
a;this._skyboxPass.set_cubeTexture(this._cubeMap);return a},__class__:mi,__properties__:t(Db.prototype.__properties__,{set_cubeMap:"set_cubeMap",get_cubeMap:"get_cubeMap"})});var ni=function(a,b,c,d,e){null==e&&(e=1);null==d&&(d=!0);null==c&&(c=!1);null==b&&(b=!0);dd.call(this);this.set_texture(a);this.set_smooth(b);this.set_repeat(c);this.set_mipmap(d);this.set_anisotropy(e)};k["away3d.materials.TextureMaterial"]=ni;ni.__name__=["away3d","materials","TextureMaterial"];ni.__super__=dd;ni.prototype=
t(dd.prototype,{get_animateUVs:function(){return this._screenPass.get_animateUVs()},set_animateUVs:function(a){this._screenPass.set_animateUVs(a);return a},get_animateUVs2:function(){return this._screenPass.get_animateUVs2()},set_animateUVs2:function(a){this._screenPass.set_animateUVs2(a);return a},get_alpha:function(){return null!=this._screenPass.get_colorTransform()?this._screenPass.get_colorTransform().alphaMultiplier:1},set_alpha:function(a){1<a?a=1:0>a&&(a=0);null==this.get_colorTransform()&&
this.set_colorTransform(new Ob);this.get_colorTransform().alphaMultiplier=a;this._screenPass.set_preserveAlpha(this.get_requiresBlending());this._screenPass.setBlendMode(10==this.get_blendMode()&&this.get_requiresBlending()?7:this.get_blendMode());return a},get_texture:function(){return this._screenPass.get_diffuseMethod().get_texture()},set_texture:function(a){this._screenPass.get_diffuseMethod().set_texture(a);return a},get_ambientTexture:function(){return this._screenPass.get_ambientMethod().get_texture()},
set_ambientTexture:function(a){this._screenPass.get_ambientMethod().set_texture(a);this._screenPass.get_diffuseMethod().set_useAmbientTexture(null!=a);return a},__class__:ni,__properties__:t(dd.prototype.__properties__,{set_ambientTexture:"set_ambientTexture",get_ambientTexture:"get_ambientTexture",set_texture:"set_texture",get_texture:"get_texture",set_alpha:"set_alpha",get_alpha:"get_alpha",set_animateUVs2:"set_animateUVs2",get_animateUVs2:"get_animateUVs2",set_animateUVs:"set_animateUVs",get_animateUVs:"get_animateUVs"})});
var sk=function(){this._usesGlobalPosFragment=!1};k["away3d.materials.compilation.MethodDependencyCounter"]=sk;sk.__name__=["away3d","materials","compilation","MethodDependencyCounter"];sk.prototype={_projectionDependencies:null,_normalDependencies:null,_viewDirDependencies:null,_uvDependencies:null,_secondaryUVDependencies:null,_globalPosDependencies:null,_tangentDependencies:null,_usesGlobalPosFragment:null,_numPointLights:null,_lightSourceMask:null,reset:function(){this._tangentDependencies=this._globalPosDependencies=
this._secondaryUVDependencies=this._uvDependencies=this._viewDirDependencies=this._normalDependencies=this._projectionDependencies=0;this._usesGlobalPosFragment=!1},setPositionedLights:function(a,b){this._numPointLights=a;this._lightSourceMask=b},includeMethodVO:function(a){a.needsProjection&&++this._projectionDependencies;a.needsGlobalVertexPos?(++this._globalPosDependencies,a.needsGlobalFragmentPos&&(this._usesGlobalPosFragment=!0)):a.needsGlobalFragmentPos&&(++this._globalPosDependencies,this._usesGlobalPosFragment=
!0);a.needsNormals&&++this._normalDependencies;a.needsTangents&&++this._tangentDependencies;a.needsView&&++this._viewDirDependencies;a.needsUV&&++this._uvDependencies;a.needsSecondaryUV&&++this._secondaryUVDependencies},get_tangentDependencies:function(){return this._tangentDependencies},get_usesGlobalPosFragment:function(){return this._usesGlobalPosFragment},get_projectionDependencies:function(){return this._projectionDependencies},get_normalDependencies:function(){return this._normalDependencies},
get_viewDirDependencies:function(){return this._viewDirDependencies},get_uvDependencies:function(){return this._uvDependencies},get_secondaryUVDependencies:function(){return this._secondaryUVDependencies},get_globalPosDependencies:function(){return this._globalPosDependencies},addWorldSpaceDependencies:function(a){0<this._viewDirDependencies&&++this._globalPosDependencies;0<this._numPointLights&&0!=(this._lightSourceMask&1)&&(++this._globalPosDependencies,a&&(this._usesGlobalPosFragment=!0))},__class__:sk,
__properties__:{get_globalPosDependencies:"get_globalPosDependencies",get_secondaryUVDependencies:"get_secondaryUVDependencies",get_uvDependencies:"get_uvDependencies",get_viewDirDependencies:"get_viewDirDependencies",get_normalDependencies:"get_normalDependencies",get_projectionDependencies:"get_projectionDependencies",get_usesGlobalPosFragment:"get_usesGlobalPosFragment",get_tangentDependencies:"get_tangentDependencies"}};var ic=function(a,b,c){null==c&&(c=!0);this._regName=a;this._regCount=b;this._persistent=
c;this.initRegisters(a,b)};k["away3d.materials.compilation.RegisterPool"]=ic;ic.__name__=["away3d","materials","compilation","RegisterPool"];ic._initPool=function(a,b){var c=a+b,d=ic._regPool;if(null!=u[c]?d.existsReserved(c):d.h.hasOwnProperty(c))return c;var d=D.toObjectVector(null,b,!0),e=ic._regPool;null!=u[c]?e.setReserved(c,d):e.h[c]=d;var e=[[],[],[],[]],f=ic._regCompsPool;null!=u[c]?f.setReserved(c,e):f.h[c]=e;for(f=0;f<b;){var p=f++;d.set(p,new Wb(a,p));for(var g=0;4>g;){var m=g++;e[m][p]=
new Wb(a,p,m)}}return c};ic.prototype={_vectorRegisters:null,_registerComponents:null,_regName:null,_usedSingleCount:null,_usedVectorCount:null,_regCount:null,_persistent:null,requestFreeVectorReg:function(){for(var a=0,b=this._regCount;a<b;){var c=a++;if(!this.isRegisterUsed(c))return this._persistent&&(a=c,b=this._usedVectorCount,b.set(a,b.get(a)+1)),this._vectorRegisters.get(c)}throw new F(new ja("Register overflow!"));},requestFreeRegComponent:function(){for(var a=0,b=this._regCount;a<b;){var c=
a++;if(!Z.gt(this._usedVectorCount.get(c),0))for(var d=0;4>d;){var e=d++;if(0==this._usedSingleCount.get(e).get(c))return this._persistent&&(a=c,b=this._usedSingleCount.get(e),b.set(a,b.get(a)+1)),this._registerComponents[e][c]}}throw new F(new ja("Register overflow!"));},addUsage:function(a,b){if(-1<a._component)var c=a.get_index(),d=this._usedSingleCount.get(a._component);else c=a.get_index(),d=this._usedVectorCount;d.set(c,d.get(c)+b)},removeUsage:function(a){if(-1<a._component){var b=a.get_index();
a=this._usedSingleCount.get(a._component)}else b=a.get_index(),a=this._usedVectorCount;b=a.set(b,a.get(b)-1);if(Z.gt(0,b))throw new F(new ja("More usages removed than exist!"));},dispose:function(){this._usedVectorCount=this._usedSingleCount=this._registerComponents=this._vectorRegisters=null},hasRegisteredRegs:function(){for(var a=0,b=this._regCount;a<b;){var c=a++;if(this.isRegisterUsed(c))return!0}return!1},initRegisters:function(a,b){var c=ic._initPool(a,b),d=ic._regPool;this._vectorRegisters=
null!=u[c]?d.getReserved(c):d.h[c];d=ic._regCompsPool;this._registerComponents=null!=u[c]?d.getReserved(c):d.h[c];this._usedVectorCount=D.toIntVector(null,b,!0);this._usedSingleCount=D.toObjectVector(null,4,!0);this._usedSingleCount.set(0,D.toIntVector(null,b,!0));this._usedSingleCount.set(1,D.toIntVector(null,b,!0));this._usedSingleCount.set(2,D.toIntVector(null,b,!0));this._usedSingleCount.set(3,D.toIntVector(null,b,!0))},isRegisterUsed:function(a){if(Z.gt(this._usedVectorCount.get(a),0))return!0;
for(var b=0;4>b;){var c=b++;if(Z.gt(this._usedSingleCount.get(c).get(a),0))return!0}return!1},__class__:ic};var ff=function(a){this._commonsDataIndex=this._uvBufferIndex=this._uvTransformIndex=this._uvTransformIndex2=this._secondaryUVBufferIndex=this._normalBufferIndex=this._tangentBufferIndex=this._lightFragmentConstantIndex=this._sceneMatrixIndex=this._sceneNormalMatrixIndex=this._cameraPositionIndex=this._probeWeightsIndex=-1;this._preserveAlpha=!0;this._sharedRegisters=new tk;this._dependencyCounter=
new sk;this._profile=a;this.initRegisterCache(a)};k["away3d.materials.compilation.ShaderCompiler"]=ff;ff.__name__=["away3d","materials","compilation","ShaderCompiler"];ff.prototype={_sharedRegisters:null,_registerCache:null,_dependencyCounter:null,_methodSetup:null,_smooth:null,_repeat:null,_mipmap:null,_anisotropy:null,_enableLightFallOff:null,_preserveAlpha:null,_animateUVs:null,_animateUVs2:null,_alphaPremultiplied:null,_vertexConstantData:null,_fragmentConstantData:null,_vertexCode:null,_fragmentCode:null,
_fragmentLightCode:null,_fragmentPostLightCode:null,_commonsDataIndex:null,_animatableAttributes:null,_animationTargetRegisters:null,_lightProbeDiffuseIndices:null,_lightProbeSpecularIndices:null,_uvBufferIndex:null,_uvTransformIndex:null,_uvTransformIndex2:null,_secondaryUVBufferIndex:null,_normalBufferIndex:null,_tangentBufferIndex:null,_lightFragmentConstantIndex:null,_sceneMatrixIndex:null,_sceneNormalMatrixIndex:null,_cameraPositionIndex:null,_probeWeightsIndex:null,_specularLightSources:null,
_diffuseLightSources:null,_numLights:null,_numLightProbes:null,_numPointLights:null,_numDirectionalLights:null,_numProbeRegisters:null,_combinedLightSources:null,_usingSpecularMethod:null,_needUVAnimation:null,_UVTarget:null,_UVSource:null,_profile:null,_forceSeperateMVP:null,get_enableLightFallOff:function(){return this._enableLightFallOff},set_enableLightFallOff:function(a){return this._enableLightFallOff=a},get_needUVAnimation:function(){return this._needUVAnimation},get_UVTarget:function(){return this._UVTarget},
get_UVSource:function(){return this._UVSource},get_forceSeperateMVP:function(){return this._forceSeperateMVP},set_forceSeperateMVP:function(a){return this._forceSeperateMVP=a},initRegisterCache:function(a){this._registerCache=new $e(a);this._registerCache.set_vertexAttributesOffset(1);this._registerCache.reset()},get_animateUVs:function(){return this._animateUVs},set_animateUVs:function(a){return this._animateUVs=a},get_animateUVs2:function(){return this._animateUVs2},set_animateUVs2:function(a){return this._animateUVs2=
a},get_alphaPremultiplied:function(){return this._alphaPremultiplied},set_alphaPremultiplied:function(a){return this._alphaPremultiplied=a},get_preserveAlpha:function(){return this._preserveAlpha},set_preserveAlpha:function(a){return this._preserveAlpha=a},setTextureSampling:function(a,b,c,d){this._smooth=a;this._repeat=b;this._mipmap=c;this._anisotropy=d},setConstantDataBuffers:function(a,b){this._vertexConstantData=a;this._fragmentConstantData=b},get_methodSetup:function(){return this._methodSetup},
set_methodSetup:function(a){return this._methodSetup=a},compile:function(){this.initRegisterIndices();this.initLightData();for(var a=["va0"],b=D.toObjectVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this._animatableAttributes=b;a=["vt0"];b=D.toObjectVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this._animationTargetRegisters=b;this._fragmentCode=this._vertexCode="";this._sharedRegisters.localPosition=this._registerCache.getFreeVertexVectorTemp();this._registerCache.addVertexTempUsages(this._sharedRegisters.localPosition,
1);this.createCommons();this.calculateDependencies();this.updateMethodRegisters();for(a=0;4>a;)a++,this._registerCache.getFreeVertexConstant();this.createNormalRegisters();(0<this._dependencyCounter.get_globalPosDependencies()||this._forceSeperateMVP)&&this.compileGlobalPositionCode();this.compileProjectionCode();this.compileMethodsCode();this.compileFragmentOutput();this._fragmentPostLightCode=this.get_fragmentCode()},createNormalRegisters:function(){},compileMethodsCode:function(){0<this._dependencyCounter.get_uvDependencies()&&
this.compileUVCode();0<this._dependencyCounter.get_secondaryUVDependencies()&&this.compileSecondaryUVCode();0<this._dependencyCounter.get_normalDependencies()&&this.compileNormalCode();0<this._dependencyCounter.get_viewDirDependencies()&&this.compileViewDirCode();this.compileLightingCode();this._fragmentLightCode=this._fragmentCode;this._fragmentCode="";this.compileMethods()},compileLightingCode:function(){},compileViewDirCode:function(){},compileNormalCode:function(){},compileUVCode:function(){var a=
this._registerCache.getFreeVertexAttribute();this._uvBufferIndex=a.get_index();var b=this._registerCache.getFreeVarying();this._sharedRegisters.uvVarying=b;if(this.get_animateUVs()){var c=this._registerCache.getFreeVertexConstant(),d=this._registerCache.getFreeVertexConstant();this._uvTransformIndex=4*c.get_index();this._vertexCode+="dp4 "+q.string(b)+".x, "+q.string(a)+", "+q.string(c)+"\ndp4 "+q.string(b)+".y, "+q.string(a)+", "+q.string(d)+"\nmov "+q.string(b)+".zw, "+q.string(a)+".zw \n"}else this._uvTransformIndex=
-1,this._needUVAnimation=!0,this._UVTarget=b.toString(),this._UVSource=a.toString()},compileSecondaryUVCode:function(){var a=this._registerCache.getFreeVertexAttribute();this._secondaryUVBufferIndex=a.get_index();var b=this._registerCache.getFreeVarying();this._sharedRegisters.secondaryUVVarying=b;if(this.get_animateUVs2()){var c=this._registerCache.getFreeVertexConstant(),d=this._registerCache.getFreeVertexConstant();this._uvTransformIndex2=4*c.get_index();this._vertexCode+="dp4 "+q.string(b)+".x, "+
q.string(a)+", "+q.string(c)+"\n";this._vertexCode+="dp4 "+q.string(b)+".y, "+q.string(a)+", "+q.string(d)+"\n";this._vertexCode+="mov "+q.string(b)+".zw, "+q.string(a)+".zw\n"}else this._uvTransformIndex2=-1,this._vertexCode+="mov "+q.string(b)+", "+q.string(a)+"\n"},compileGlobalPositionCode:function(){this._sharedRegisters.globalPositionVertex=this._registerCache.getFreeVertexVectorTemp();this._registerCache.addVertexTempUsages(this._sharedRegisters.globalPositionVertex,this._dependencyCounter.get_globalPosDependencies());
var a=this._registerCache.getFreeVertexConstant();this._registerCache.getFreeVertexConstant();this._registerCache.getFreeVertexConstant();this._registerCache.getFreeVertexConstant();this._sceneMatrixIndex=4*a.get_index();this._vertexCode+="m44 "+q.string(this._sharedRegisters.globalPositionVertex)+", "+q.string(this._sharedRegisters.localPosition)+", "+q.string(a)+"\n";this._dependencyCounter.get_usesGlobalPosFragment()&&(this._sharedRegisters.globalPositionVarying=this._registerCache.getFreeVarying(),
this._vertexCode+="mov "+q.string(this._sharedRegisters.globalPositionVarying)+", "+q.string(this._sharedRegisters.globalPositionVertex)+"\n")},compileProjectionCode:function(){var a=0<this._dependencyCounter.get_globalPosDependencies()||this._forceSeperateMVP?this._sharedRegisters.globalPositionVertex.toString():this._animationTargetRegisters.get(0);0<this._dependencyCounter.get_projectionDependencies()?(this._sharedRegisters.projectionFragment=this._registerCache.getFreeVarying(),a="m44 vt5, "+
a+", vc0\t\t\nmov "+q.string(this._sharedRegisters.projectionFragment)+", vt5\nmov op, vt5\n"):a="m44 op, "+a+", vc0\t\t\n";this._vertexCode+=a},compileFragmentOutput:function(){this._fragmentCode+="mov "+q.string(this._registerCache.get_fragmentOutputRegister())+", "+q.string(this._sharedRegisters.shadedTarget)+"\n";this._registerCache.removeFragmentTempUsage(this._sharedRegisters.shadedTarget)},initRegisterIndices:function(){this._probeWeightsIndex=this._sceneNormalMatrixIndex=this._sceneMatrixIndex=
this._lightFragmentConstantIndex=this._tangentBufferIndex=this._normalBufferIndex=this._secondaryUVBufferIndex=this._uvTransformIndex2=this._uvTransformIndex=this._uvBufferIndex=this._cameraPositionIndex=this._commonsDataIndex=-1},initLightData:function(){this._numLights=this._numPointLights+this._numDirectionalLights;this._numProbeRegisters=Math.ceil(this._numLightProbes/4);this._combinedLightSources=null!=this._methodSetup._specularMethod?this._specularLightSources|this._diffuseLightSources:this._diffuseLightSources;
this._usingSpecularMethod=null!=this._methodSetup._specularMethod&&(this.usesLightsForSpecular()||this.usesProbesForSpecular())},createCommons:function(){this._sharedRegisters.commons=this._registerCache.getFreeFragmentConstant();this._commonsDataIndex=4*this._sharedRegisters.commons.get_index()},calculateDependencies:function(){this._dependencyCounter.reset();var a=this._methodSetup._methods;this.setupAndCountMethodDependencies(this._methodSetup._diffuseMethod,this._methodSetup._diffuseMethodVO);
null!=this._methodSetup._shadowMethod&&this.setupAndCountMethodDependencies(this._methodSetup._shadowMethod,this._methodSetup._shadowMethodVO);this.setupAndCountMethodDependencies(this._methodSetup._ambientMethod,this._methodSetup._ambientMethodVO);this._usingSpecularMethod&&this.setupAndCountMethodDependencies(this._methodSetup._specularMethod,this._methodSetup._specularMethodVO);null!=this._methodSetup._colorTransformMethod&&this.setupAndCountMethodDependencies(this._methodSetup._colorTransformMethod,
this._methodSetup._colorTransformMethodVO);for(var b=0,c=a.get_length();b<c;){var d=b++;this.setupAndCountMethodDependencies(a.get(d).method,a.get(d).data)}this.get_usesNormals()&&this.setupAndCountMethodDependencies(this._methodSetup._normalMethod,this._methodSetup._normalMethodVO);this._dependencyCounter.setPositionedLights(this._numPointLights,this._combinedLightSources)},setupAndCountMethodDependencies:function(a,b){this.setupMethod(a,b);this._dependencyCounter.includeMethodVO(b)},setupMethod:function(a,
b){a.reset();b.reset();b.vertexData=this._vertexConstantData;b.fragmentData=this._fragmentConstantData;b.useSmoothTextures=this._smooth;b.repeatTextures=this._repeat;b.useMipmapping=this._mipmap;b.anisotropy=this._anisotropy;b.useLightFallOff=this._enableLightFallOff&&"baselineConstrained"!=this._profile;b.numLights=this._numLights+this._numLightProbes;a.initVO(b)},get_commonsDataIndex:function(){return this._commonsDataIndex},updateMethodRegisters:function(){this._methodSetup._normalMethod.set_sharedRegisters(this._sharedRegisters);
this._methodSetup._diffuseMethod.set_sharedRegisters(this._sharedRegisters);null!=this._methodSetup._shadowMethod&&this._methodSetup._shadowMethod.set_sharedRegisters(this._sharedRegisters);this._methodSetup._ambientMethod.set_sharedRegisters(this._sharedRegisters);null!=this._methodSetup._specularMethod&&this._methodSetup._specularMethod.set_sharedRegisters(this._sharedRegisters);null!=this._methodSetup._colorTransformMethod&&this._methodSetup._colorTransformMethod.set_sharedRegisters(this._sharedRegisters);
for(var a=this._methodSetup._methods,b=0,c=a.get_length();b<c;){var d=b++;a.get(d).method.set_sharedRegisters(this._sharedRegisters)}},get_numUsedVertexConstants:function(){return this._registerCache.get_numUsedVertexConstants()},get_numUsedFragmentConstants:function(){return this._registerCache.get_numUsedFragmentConstants()},get_numUsedStreams:function(){return this._registerCache.get_numUsedStreams()},get_numUsedTextures:function(){return this._registerCache.get_numUsedTextures()},get_numUsedVaryings:function(){return this._registerCache.get_numUsedVaryings()},
usesLightsForSpecular:function(){return 0<this._numLights?0!=(this._specularLightSources&1):!1},usesLightsForDiffuse:function(){return 0<this._numLights?0!=(this._diffuseLightSources&1):!1},dispose:function(){this.cleanUpMethods();this._registerCache.dispose();this._sharedRegisters=this._registerCache=null},cleanUpMethods:function(){null!=this._methodSetup._normalMethod&&this._methodSetup._normalMethod.cleanCompilationData();null!=this._methodSetup._diffuseMethod&&this._methodSetup._diffuseMethod.cleanCompilationData();
null!=this._methodSetup._ambientMethod&&this._methodSetup._ambientMethod.cleanCompilationData();null!=this._methodSetup._specularMethod&&this._methodSetup._specularMethod.cleanCompilationData();null!=this._methodSetup._shadowMethod&&this._methodSetup._shadowMethod.cleanCompilationData();null!=this._methodSetup._colorTransformMethod&&this._methodSetup._colorTransformMethod.cleanCompilationData();for(var a=this._methodSetup._methods,b=0,c=a.get_length();b<c;){var d=b++;a.get(d).method.cleanCompilationData()}},
get_specularLightSources:function(){return this._specularLightSources},set_specularLightSources:function(a){return this._specularLightSources=a},get_diffuseLightSources:function(){return this._diffuseLightSources},set_diffuseLightSources:function(a){return this._diffuseLightSources=a},usesProbesForSpecular:function(){return 0<this._numLightProbes?0!=(this._specularLightSources&2):!1},usesProbesForDiffuse:function(){return 0<this._numLightProbes?0!=(this._diffuseLightSources&2):!1},usesProbes:function(){return 0<
this._numLightProbes?0!=((this._diffuseLightSources|this._specularLightSources)&2):!1},get_uvBufferIndex:function(){return this._uvBufferIndex},get_uvTransformIndex:function(){return this._uvTransformIndex},get_uvTransformIndex2:function(){return this._uvTransformIndex2},get_secondaryUVBufferIndex:function(){return this._secondaryUVBufferIndex},get_normalBufferIndex:function(){return this._normalBufferIndex},get_tangentBufferIndex:function(){return this._tangentBufferIndex},get_lightFragmentConstantIndex:function(){return this._lightFragmentConstantIndex},
get_cameraPositionIndex:function(){return this._cameraPositionIndex},get_sceneMatrixIndex:function(){return this._sceneMatrixIndex},get_sceneNormalMatrixIndex:function(){return this._sceneNormalMatrixIndex},get_probeWeightsIndex:function(){return this._probeWeightsIndex},get_vertexCode:function(){return this._vertexCode},get_fragmentCode:function(){return this._fragmentCode},get_fragmentLightCode:function(){return this._fragmentLightCode},get_fragmentPostLightCode:function(){return this._fragmentPostLightCode},
get_shadedTarget:function(){return this._sharedRegisters.shadedTarget.toString()},get_numPointLights:function(){return this._numPointLights},set_numPointLights:function(a){return this._numPointLights=a},get_numDirectionalLights:function(){return this._numDirectionalLights},set_numDirectionalLights:function(a){return this._numDirectionalLights=a},get_numLightProbes:function(){return this._numLightProbes},set_numLightProbes:function(a){return this._numLightProbes=a},get_usingSpecularMethod:function(){return this._usingSpecularMethod},
get_animatableAttributes:function(){return this._animatableAttributes},get_animationTargetRegisters:function(){return this._animationTargetRegisters},get_usesNormals:function(){return 0<this._dependencyCounter.get_normalDependencies()?this._methodSetup._normalMethod.get_hasOutput():!1},usesLights:function(){return 0<this._numLights?0!=(this._combinedLightSources&1):!1},compileMethods:function(){var a=this._methodSetup._methods,b=a.get_length(),c,d,e=null;this._preserveAlpha&&(e=this._registerCache.getFreeFragmentSingleTemp(),
this._registerCache.addFragmentTempUsages(e,1),this._fragmentCode+="mov "+q.string(e)+", "+q.string(this._sharedRegisters.shadedTarget)+".w\n");for(var f=0;f<b;)d=f++,c=a.get(d).method,d=a.get(d).data,this._vertexCode+=c.getVertexCode(d,this._registerCache),(d.needsGlobalVertexPos||d.needsGlobalFragmentPos)&&this._registerCache.removeVertexTempUsage(this._sharedRegisters.globalPositionVertex),this._fragmentCode+=c.getFragmentCode(d,this._registerCache,this._sharedRegisters.shadedTarget),d.needsNormals&&
this._registerCache.removeFragmentTempUsage(this._sharedRegisters.normalFragment),d.needsView&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.viewDirFragment);this._preserveAlpha&&(this._fragmentCode+="mov "+q.string(this._sharedRegisters.shadedTarget)+".w, "+q.string(e)+"\n",this._registerCache.removeFragmentTempUsage(e));null!=this._methodSetup._colorTransformMethod&&(this._vertexCode+=this._methodSetup._colorTransformMethod.getVertexCode(this._methodSetup._colorTransformMethodVO,
this._registerCache),this._fragmentCode+=this._methodSetup._colorTransformMethod.getFragmentCode(this._methodSetup._colorTransformMethodVO,this._registerCache,this._sharedRegisters.shadedTarget))},get_lightProbeDiffuseIndices:function(){return this._lightProbeDiffuseIndices},get_lightProbeSpecularIndices:function(){return this._lightProbeSpecularIndices},__class__:ff,__properties__:{get_lightProbeSpecularIndices:"get_lightProbeSpecularIndices",get_lightProbeDiffuseIndices:"get_lightProbeDiffuseIndices",
get_usesNormals:"get_usesNormals",get_animationTargetRegisters:"get_animationTargetRegisters",get_animatableAttributes:"get_animatableAttributes",get_usingSpecularMethod:"get_usingSpecularMethod",set_numLightProbes:"set_numLightProbes",get_numLightProbes:"get_numLightProbes",set_numDirectionalLights:"set_numDirectionalLights",get_numDirectionalLights:"get_numDirectionalLights",set_numPointLights:"set_numPointLights",get_numPointLights:"get_numPointLights",get_shadedTarget:"get_shadedTarget",get_fragmentPostLightCode:"get_fragmentPostLightCode",
get_fragmentLightCode:"get_fragmentLightCode",get_fragmentCode:"get_fragmentCode",get_vertexCode:"get_vertexCode",get_probeWeightsIndex:"get_probeWeightsIndex",get_sceneNormalMatrixIndex:"get_sceneNormalMatrixIndex",get_sceneMatrixIndex:"get_sceneMatrixIndex",get_cameraPositionIndex:"get_cameraPositionIndex",get_lightFragmentConstantIndex:"get_lightFragmentConstantIndex",get_tangentBufferIndex:"get_tangentBufferIndex",get_normalBufferIndex:"get_normalBufferIndex",get_secondaryUVBufferIndex:"get_secondaryUVBufferIndex",
get_uvTransformIndex2:"get_uvTransformIndex2",get_uvTransformIndex:"get_uvTransformIndex",get_uvBufferIndex:"get_uvBufferIndex",set_diffuseLightSources:"set_diffuseLightSources",get_diffuseLightSources:"get_diffuseLightSources",set_specularLightSources:"set_specularLightSources",get_specularLightSources:"get_specularLightSources",get_numUsedVaryings:"get_numUsedVaryings",get_numUsedTextures:"get_numUsedTextures",get_numUsedStreams:"get_numUsedStreams",get_numUsedFragmentConstants:"get_numUsedFragmentConstants",
get_numUsedVertexConstants:"get_numUsedVertexConstants",get_commonsDataIndex:"get_commonsDataIndex",set_methodSetup:"set_methodSetup",get_methodSetup:"get_methodSetup",set_preserveAlpha:"set_preserveAlpha",get_preserveAlpha:"get_preserveAlpha",set_alphaPremultiplied:"set_alphaPremultiplied",get_alphaPremultiplied:"get_alphaPremultiplied",set_animateUVs2:"set_animateUVs2",get_animateUVs2:"get_animateUVs2",set_animateUVs:"set_animateUVs",get_animateUVs:"get_animateUVs",set_forceSeperateMVP:"set_forceSeperateMVP",
get_forceSeperateMVP:"get_forceSeperateMVP",get_UVSource:"get_UVSource",get_UVTarget:"get_UVTarget",get_needUVAnimation:"get_needUVAnimation",set_enableLightFallOff:"set_enableLightFallOff",get_enableLightFallOff:"get_enableLightFallOff"}};var tk=function(){};k["away3d.materials.compilation.ShaderRegisterData"]=tk;tk.__name__=["away3d","materials","compilation","ShaderRegisterData"];tk.prototype={normalVarying:null,tangentVarying:null,bitangentVarying:null,uvVarying:null,secondaryUVVarying:null,viewDirVarying:null,
shadedTarget:null,globalPositionVertex:null,globalPositionVarying:null,localPosition:null,normalInput:null,tangentInput:null,animatedNormal:null,animatedTangent:null,commons:null,projectionFragment:null,normalFragment:null,viewDirFragment:null,bitangent:null,__class__:tk};var Wb=function(a,b,c){null==c&&(c=-1);this._component=c;this._regName=a;this._index=b;this._toStr=this._regName;0<=this._index&&(this._toStr+=this._index);-1<c&&(this._toStr+="."+Wb.COMPONENTS[c])};k["away3d.materials.compilation.ShaderRegisterElement"]=
Wb;Wb.__name__=["away3d","materials","compilation","ShaderRegisterElement"];Wb.prototype={_regName:null,_index:null,_toStr:null,_component:null,toString:function(){return this._toStr},get_regName:function(){return this._regName},get_index:function(){return this._index},__class__:Wb,__properties__:{get_index:"get_index",get_regName:"get_regName"}};var oi=function(a){ff.call(this,a)};k["away3d.materials.compilation.SuperShaderCompiler"]=oi;oi.__name__=["away3d","materials","compilation","SuperShaderCompiler"];
oi.__super__=ff;oi.prototype=t(ff.prototype,{_pointLightRegisters:null,_dirLightRegisters:null,initLightData:function(){ff.prototype.initLightData.call(this);this._pointLightRegisters=D.toObjectVector(null,3*this._numPointLights,!0);this._dirLightRegisters=D.toObjectVector(null,3*this._numDirectionalLights,!0)},calculateDependencies:function(){ff.prototype.calculateDependencies.call(this);this._dependencyCounter.addWorldSpaceDependencies(!0)},compileNormalCode:function(){var a=D.toObjectVector(null,
3,!0);this._sharedRegisters.normalFragment=this._registerCache.getFreeFragmentVectorTemp();this._registerCache.addFragmentTempUsages(this._sharedRegisters.normalFragment,this._dependencyCounter.get_normalDependencies());this._methodSetup._normalMethod.get_hasOutput()&&!this._methodSetup._normalMethod.get_tangentSpace()?(this._vertexCode+=this._methodSetup._normalMethod.getVertexCode(this._methodSetup._normalMethodVO,this._registerCache),this._fragmentCode+=this._methodSetup._normalMethod.getFragmentCode(this._methodSetup._normalMethodVO,
this._registerCache,this._sharedRegisters.normalFragment)):(this._sharedRegisters.normalVarying=this._registerCache.getFreeVarying(),a.set(0,this._registerCache.getFreeVertexConstant()),a.set(1,this._registerCache.getFreeVertexConstant()),a.set(2,this._registerCache.getFreeVertexConstant()),this._registerCache.getFreeVertexConstant(),this._sceneNormalMatrixIndex=4*a.get(0).get_index(),this._methodSetup._normalMethod.get_hasOutput()?(this.compileTangentVertexCode(a),this.compileTangentNormalMapFragmentCode()):
(this._vertexCode+="m33 "+q.string(this._sharedRegisters.normalVarying)+".xyz, "+q.string(this._sharedRegisters.animatedNormal)+", "+q.string(a.get(0))+"\nmov "+q.string(this._sharedRegisters.normalVarying)+".w, "+q.string(this._sharedRegisters.animatedNormal)+".w\t\n",this._fragmentCode+="nrm "+q.string(this._sharedRegisters.normalFragment)+".xyz, "+q.string(this._sharedRegisters.normalVarying)+"\nmov "+q.string(this._sharedRegisters.normalFragment)+".w, "+q.string(this._sharedRegisters.normalVarying)+
".w\t\t\n",0<this._dependencyCounter.get_tangentDependencies()&&(this._sharedRegisters.tangentInput=this._registerCache.getFreeVertexAttribute(),this._tangentBufferIndex=this._sharedRegisters.tangentInput.get_index(),this._sharedRegisters.tangentVarying=this._registerCache.getFreeVarying(),this._vertexCode+="mov "+q.string(this._sharedRegisters.tangentVarying)+", "+q.string(this._sharedRegisters.tangentInput)+"\n")),this._registerCache.removeVertexTempUsage(this._sharedRegisters.animatedNormal))},
createNormalRegisters:function(){0<this._dependencyCounter.get_normalDependencies()&&(this._sharedRegisters.normalInput=this._registerCache.getFreeVertexAttribute(),this._normalBufferIndex=this._sharedRegisters.normalInput.get_index(),this._sharedRegisters.animatedNormal=this._registerCache.getFreeVertexVectorTemp(),this._registerCache.addVertexTempUsages(this._sharedRegisters.animatedNormal,1),this._animatableAttributes.push(this._sharedRegisters.normalInput.toString()),this._animationTargetRegisters.push(this._sharedRegisters.animatedNormal.toString()));
this._methodSetup._normalMethod.get_hasOutput()&&(this._sharedRegisters.tangentInput=this._registerCache.getFreeVertexAttribute(),this._tangentBufferIndex=this._sharedRegisters.tangentInput.get_index(),this._sharedRegisters.animatedTangent=this._registerCache.getFreeVertexVectorTemp(),this._registerCache.addVertexTempUsages(this._sharedRegisters.animatedTangent,1),this._animatableAttributes.push(this._sharedRegisters.tangentInput.toString()),this._animationTargetRegisters.push(this._sharedRegisters.animatedTangent.toString()))},
compileTangentVertexCode:function(a){this._sharedRegisters.tangentVarying=this._registerCache.getFreeVarying();this._sharedRegisters.bitangentVarying=this._registerCache.getFreeVarying();this._vertexCode+="m33 "+q.string(this._sharedRegisters.animatedNormal)+".xyz, "+q.string(this._sharedRegisters.animatedNormal)+", "+q.string(a.get(0))+"\nnrm "+q.string(this._sharedRegisters.animatedNormal)+".xyz, "+q.string(this._sharedRegisters.animatedNormal)+"\n";this._vertexCode+="m33 "+q.string(this._sharedRegisters.animatedTangent)+
".xyz, "+q.string(this._sharedRegisters.animatedTangent)+", "+q.string(a.get(0))+"\nnrm "+q.string(this._sharedRegisters.animatedTangent)+".xyz, "+q.string(this._sharedRegisters.animatedTangent)+"\n";a=this._registerCache.getFreeVertexVectorTemp();this._vertexCode+="mov "+q.string(this._sharedRegisters.tangentVarying)+".x, "+q.string(this._sharedRegisters.animatedTangent)+".x  \nmov "+q.string(this._sharedRegisters.tangentVarying)+".z, "+q.string(this._sharedRegisters.animatedNormal)+".x  \nmov "+
q.string(this._sharedRegisters.tangentVarying)+".w, "+q.string(this._sharedRegisters.normalInput)+".w  \nmov "+q.string(this._sharedRegisters.bitangentVarying)+".x, "+q.string(this._sharedRegisters.animatedTangent)+".y  \nmov "+q.string(this._sharedRegisters.bitangentVarying)+".z, "+q.string(this._sharedRegisters.animatedNormal)+".y  \nmov "+q.string(this._sharedRegisters.bitangentVarying)+".w, "+q.string(this._sharedRegisters.normalInput)+".w  \nmov "+q.string(this._sharedRegisters.normalVarying)+
".x, "+q.string(this._sharedRegisters.animatedTangent)+".z  \nmov "+q.string(this._sharedRegisters.normalVarying)+".z, "+q.string(this._sharedRegisters.animatedNormal)+".z  \nmov "+q.string(this._sharedRegisters.normalVarying)+".w, "+q.string(this._sharedRegisters.normalInput)+".w  \ncrs "+q.string(a)+".xyz, "+q.string(this._sharedRegisters.animatedNormal)+", "+q.string(this._sharedRegisters.animatedTangent)+"\nmov "+q.string(this._sharedRegisters.tangentVarying)+".y, "+q.string(a)+".x    \nmov "+
q.string(this._sharedRegisters.bitangentVarying)+".y, "+q.string(a)+".y  \nmov "+q.string(this._sharedRegisters.normalVarying)+".y, "+q.string(a)+".z    \n";this._registerCache.removeVertexTempUsage(this._sharedRegisters.animatedTangent)},compileTangentNormalMapFragmentCode:function(){var a,b,c;a=this._registerCache.getFreeFragmentVectorTemp();this._registerCache.addFragmentTempUsages(a,1);b=this._registerCache.getFreeFragmentVectorTemp();this._registerCache.addFragmentTempUsages(b,1);c=this._registerCache.getFreeFragmentVectorTemp();
this._registerCache.addFragmentTempUsages(c,1);this._fragmentCode+="nrm "+q.string(a)+".xyz, "+q.string(this._sharedRegisters.tangentVarying)+"\nmov "+q.string(a)+".w, "+q.string(this._sharedRegisters.tangentVarying)+".w\t\nnrm "+q.string(b)+".xyz, "+q.string(this._sharedRegisters.bitangentVarying)+"\nnrm "+q.string(c)+".xyz, "+q.string(this._sharedRegisters.normalVarying)+"\n";var d=this._registerCache.getFreeFragmentVectorTemp();this._registerCache.addFragmentTempUsages(d,1);this._fragmentCode+=
this._methodSetup._normalMethod.getFragmentCode(this._methodSetup._normalMethodVO,this._registerCache,d)+"m33 "+q.string(this._sharedRegisters.normalFragment)+".xyz, "+q.string(d)+", "+q.string(a)+"\t\nmov "+q.string(this._sharedRegisters.normalFragment)+".w,   "+q.string(this._sharedRegisters.normalVarying)+".w\t\t\t\n";this._registerCache.removeFragmentTempUsage(d);this._methodSetup._normalMethodVO.needsView&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.viewDirFragment);(this._methodSetup._normalMethodVO.needsGlobalVertexPos||
this._methodSetup._normalMethodVO.needsGlobalFragmentPos)&&this._registerCache.removeVertexTempUsage(this._sharedRegisters.globalPositionVertex);this._registerCache.removeFragmentTempUsage(b);this._registerCache.removeFragmentTempUsage(a);this._registerCache.removeFragmentTempUsage(c)},compileViewDirCode:function(){var a=this._registerCache.getFreeVertexConstant();this._sharedRegisters.viewDirVarying=this._registerCache.getFreeVarying();this._sharedRegisters.viewDirFragment=this._registerCache.getFreeFragmentVectorTemp();
this._registerCache.addFragmentTempUsages(this._sharedRegisters.viewDirFragment,this._dependencyCounter.get_viewDirDependencies());this._cameraPositionIndex=4*a.get_index();this._vertexCode+="sub "+q.string(this._sharedRegisters.viewDirVarying)+", "+q.string(a)+", "+q.string(this._sharedRegisters.globalPositionVertex)+"\n";this._fragmentCode+="nrm "+q.string(this._sharedRegisters.viewDirFragment)+".xyz, "+q.string(this._sharedRegisters.viewDirVarying)+"\nmov "+q.string(this._sharedRegisters.viewDirFragment)+
".w,   "+q.string(this._sharedRegisters.viewDirVarying)+".w \t\t\n";this._registerCache.removeVertexTempUsage(this._sharedRegisters.globalPositionVertex)},compileLightingCode:function(){var a=null;this._sharedRegisters.shadedTarget=this._registerCache.getFreeFragmentVectorTemp();this._registerCache.addFragmentTempUsages(this._sharedRegisters.shadedTarget,1);this._vertexCode+=this._methodSetup._diffuseMethod.getVertexCode(this._methodSetup._diffuseMethodVO,this._registerCache);this._fragmentCode+=
this._methodSetup._diffuseMethod.getFragmentPreLightingCode(this._methodSetup._diffuseMethodVO,this._registerCache);this._usingSpecularMethod&&(this._vertexCode+=this._methodSetup._specularMethod.getVertexCode(this._methodSetup._specularMethodVO,this._registerCache),this._fragmentCode+=this._methodSetup._specularMethod.getFragmentPreLightingCode(this._methodSetup._specularMethodVO,this._registerCache));this.usesLights()&&(this.initLightRegisters(),this.compileDirectionalLightCode(),this.compilePointLightCode());
this.usesProbes()&&this.compileLightProbeCode();this._vertexCode+=this._methodSetup._ambientMethod.getVertexCode(this._methodSetup._ambientMethodVO,this._registerCache);this._fragmentCode+=this._methodSetup._ambientMethod.getFragmentCode(this._methodSetup._ambientMethodVO,this._registerCache,this._sharedRegisters.shadedTarget);this._methodSetup._ambientMethodVO.needsNormals&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.normalFragment);this._methodSetup._ambientMethodVO.needsView&&
this._registerCache.removeFragmentTempUsage(this._sharedRegisters.viewDirFragment);null!=this._methodSetup._shadowMethod&&(this._vertexCode+=this._methodSetup._shadowMethod.getVertexCode(this._methodSetup._shadowMethodVO,this._registerCache),0==this._dependencyCounter.get_normalDependencies()?(a=this._registerCache.getFreeFragmentVectorTemp(),this._registerCache.addFragmentTempUsages(a,1)):a=this._sharedRegisters.normalFragment,this._methodSetup._diffuseMethod.set_shadowRegister(a),this._fragmentCode+=
this._methodSetup._shadowMethod.getFragmentCode(this._methodSetup._shadowMethodVO,this._registerCache,a));this._fragmentCode+=this._methodSetup._diffuseMethod.getFragmentPostLightingCode(this._methodSetup._diffuseMethodVO,this._registerCache,this._sharedRegisters.shadedTarget);this._alphaPremultiplied&&(this._fragmentCode+="add "+q.string(this._sharedRegisters.shadedTarget)+".w, "+q.string(this._sharedRegisters.shadedTarget)+".w, "+q.string(this._sharedRegisters.commons)+".z\ndiv "+q.string(this._sharedRegisters.shadedTarget)+
".xyz, "+q.string(this._sharedRegisters.shadedTarget)+", "+q.string(this._sharedRegisters.shadedTarget)+".w\nsub "+q.string(this._sharedRegisters.shadedTarget)+".w, "+q.string(this._sharedRegisters.shadedTarget)+".w, "+q.string(this._sharedRegisters.commons)+".z\nsat "+q.string(this._sharedRegisters.shadedTarget)+".xyz, "+q.string(this._sharedRegisters.shadedTarget)+"\n");this._methodSetup._diffuseMethodVO.needsNormals&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.normalFragment);
this._methodSetup._diffuseMethodVO.needsView&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.viewDirFragment);this._usingSpecularMethod&&(this._methodSetup._specularMethod.set_shadowRegister(a),this._fragmentCode+=this._methodSetup._specularMethod.getFragmentPostLightingCode(this._methodSetup._specularMethodVO,this._registerCache,this._sharedRegisters.shadedTarget),this._methodSetup._specularMethodVO.needsNormals&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.normalFragment),
this._methodSetup._specularMethodVO.needsView&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.viewDirFragment))},initLightRegisters:function(){for(var a=this._dirLightRegisters.get_length(),b=0;b<a;){var c=b++;this._dirLightRegisters.set(c,this._registerCache.getFreeFragmentConstant());-1==this._lightFragmentConstantIndex&&(this._lightFragmentConstantIndex=4*this._dirLightRegisters.get(c).get_index())}a=this._pointLightRegisters.get_length();for(b=0;b<a;)c=b++,this._pointLightRegisters.set(c,
this._registerCache.getFreeFragmentConstant()),-1==this._lightFragmentConstantIndex&&(this._lightFragmentConstantIndex=4*this._pointLightRegisters.get(c).get_index())},compileDirectionalLightCode:function(){var a,b,c,d=0,e=this._usingSpecularMethod&&this.usesLightsForSpecular(),f=this.usesLightsForDiffuse();if(e||f)for(var p=0,g=this._numDirectionalLights;p<g;)p++,c=this._dirLightRegisters.get(d++),a=this._dirLightRegisters.get(d++),b=this._dirLightRegisters.get(d++),f&&(this._fragmentCode+=this._methodSetup._diffuseMethod.getFragmentCodePerLight(this._methodSetup._diffuseMethodVO,
c,a,this._registerCache)),e&&(this._fragmentCode+=this._methodSetup._specularMethod.getFragmentCodePerLight(this._methodSetup._specularMethodVO,c,b,this._registerCache))},compilePointLightCode:function(){var a,b,c,d,e=0,f=this._usingSpecularMethod&&this.usesLightsForSpecular(),p=this.usesLightsForDiffuse();if(f||p)for(var g=0,m=this._numPointLights;g<m;)g++,c=this._pointLightRegisters.get(e++),a=this._pointLightRegisters.get(e++),b=this._pointLightRegisters.get(e++),d=this._registerCache.getFreeFragmentVectorTemp(),
this._registerCache.addFragmentTempUsages(d,1),this._fragmentCode+="sub "+q.string(d)+", "+q.string(c)+", "+q.string(this._sharedRegisters.globalPositionVarying)+"\ndp3 "+q.string(d)+".w, "+q.string(d)+", "+q.string(d)+"\nsub "+q.string(d)+".w, "+q.string(d)+".w, "+q.string(a)+".w\nmul "+q.string(d)+".w, "+q.string(d)+".w, "+q.string(b)+".w\nsat "+q.string(d)+".w, "+q.string(d)+".w\nsub "+q.string(d)+".w, "+q.string(c)+".w, "+q.string(d)+".w\nnrm "+q.string(d)+".xyz, "+q.string(d)+"\n",-1==this._lightFragmentConstantIndex&&
(this._lightFragmentConstantIndex=4*c.get_index()),p&&(this._fragmentCode+=this._methodSetup._diffuseMethod.getFragmentCodePerLight(this._methodSetup._diffuseMethodVO,d,a,this._registerCache)),f&&(this._fragmentCode+=this._methodSetup._specularMethod.getFragmentCodePerLight(this._methodSetup._specularMethodVO,d,b,this._registerCache)),this._registerCache.removeFragmentTempUsage(d)},compileLightProbeCode:function(){var a,b=[".x",".y",".z",".w"],c=D.toObjectVector(null),d,e=this._usingSpecularMethod&&
this.usesProbesForSpecular(),f=this.usesProbesForDiffuse();if(e||f){f&&(this._lightProbeDiffuseIndices=D.toIntVector(null));e&&(this._lightProbeSpecularIndices=D.toIntVector(null));a=0;for(d=this._numProbeRegisters;a<d;){var p=a++;c.set(p,this._registerCache.getFreeFragmentConstant());0==p&&(this._probeWeightsIndex=4*c.get(p).get_index())}for(var p=0,g=this._numLightProbes;p<g;){var m=p++;a=c.get(Math.floor(m/4)).toString()+b[m%4];f&&(d=this._registerCache.getFreeTextureReg(),this._lightProbeDiffuseIndices.set(m,
d.get_index()),this._fragmentCode+=this._methodSetup._diffuseMethod.getFragmentCodePerProbe(this._methodSetup._diffuseMethodVO,d,a,this._registerCache));e&&(d=this._registerCache.getFreeTextureReg(),this._lightProbeSpecularIndices.set(m,d.get_index()),this._fragmentCode+=this._methodSetup._specularMethod.getFragmentCodePerProbe(this._methodSetup._specularMethodVO,d,a,this._registerCache))}}},__class__:oi});var gf=function(){Ia.call(this)};k["away3d.materials.lightpickers.LightPickerBase"]=gf;gf.__name__=
["away3d","materials","lightpickers","LightPickerBase"];gf.__interfaces__=[Uc];gf.__super__=Ia;gf.prototype=t(Ia.prototype,{_numPointLights:null,_numDirectionalLights:null,_numCastingPointLights:null,_numCastingDirectionalLights:null,_numLightProbes:null,_allPickedLights:null,_pointLights:null,_castingPointLights:null,_directionalLights:null,_castingDirectionalLights:null,_lightProbes:null,_lightProbeWeights:null,dispose:function(){},get_assetType:function(){return"lightPicker"},get_numDirectionalLights:function(){return this._numDirectionalLights},
get_numPointLights:function(){return this._numPointLights},get_numCastingDirectionalLights:function(){return this._numCastingDirectionalLights},get_numCastingPointLights:function(){return this._numCastingPointLights},get_numLightProbes:function(){return this._numLightProbes},get_pointLights:function(){return this._pointLights},get_directionalLights:function(){return this._directionalLights},get_castingPointLights:function(){return this._castingPointLights},get_castingDirectionalLights:function(){return this._castingDirectionalLights},
get_lightProbes:function(){return this._lightProbes},get_lightProbeWeights:function(){return this._lightProbeWeights},get_allPickedLights:function(){return this._allPickedLights},collectLights:function(a,b){this.updateProbeWeights(a)},updateProbeWeights:function(a){a=a.get_sourceEntity().get_scenePosition();for(var b,c=a.x,d=a.y,e=a.z,f,p,g=a=0,m=this._numLightProbes;g<m;){var h=g++;b=this._lightProbes.get(h).get_scenePosition();f=c-b.x;p=d-b.y;b=e-b.z;f=f*f+p*p+b*b;f=1E-5<f?1/f:5E7;this._lightProbeWeights.set(h,
f);a+=f}a=1/a;c=0;for(d=this._numLightProbes;c<d;)e=c++,g=this._lightProbeWeights,g.set(e,g.get(e)*a)},__class__:gf,__properties__:t(Ia.prototype.__properties__,{get_allPickedLights:"get_allPickedLights",get_lightProbeWeights:"get_lightProbeWeights",get_lightProbes:"get_lightProbes",get_castingDirectionalLights:"get_castingDirectionalLights",get_castingPointLights:"get_castingPointLights",get_directionalLights:"get_directionalLights",get_pointLights:"get_pointLights",get_numLightProbes:"get_numLightProbes",
get_numCastingPointLights:"get_numCastingPointLights",get_numCastingDirectionalLights:"get_numCastingDirectionalLights",get_numPointLights:"get_numPointLights",get_numDirectionalLights:"get_numDirectionalLights",get_assetType:"get_assetType"})});var pi=function(a){this.set_lights(a);Ia.call(this)};k["away3d.materials.lightpickers.StaticLightPicker"]=pi;pi.__name__=["away3d","materials","lightpickers","StaticLightPicker"];pi.__super__=gf;pi.prototype=t(gf.prototype,{_lights:null,get_lights:function(){return this._lights},
set_lights:function(a){var b=0,c=0,d=0,e=0,f=0,p;null!=this._lights&&this.clearListeners();this._lights=a;var g=D.toObjectVector(null),m=0;for(p=a.length;m<p;){var h=m++;g.set(h,a[h])}this._allPickedLights=g;this._pointLights=D.toObjectVector(null);this._castingPointLights=D.toObjectVector(null);this._directionalLights=D.toObjectVector(null);this._castingDirectionalLights=D.toObjectVector(null);this._lightProbes=D.toObjectVector(null);g=0;for(m=a.length;g<m;)p=g++,p=a[p],p.addEventListener("castsShadowChange",
n(this,this.onCastShadowChange)),y.__instanceof(p,Sc)?p.get_castsShadows()?this._castingPointLights.set(d++,y.__cast(p,Sc)):this._pointLights.set(b++,y.__cast(p,Sc)):y.__instanceof(p,Rc)?p.get_castsShadows()?this._castingDirectionalLights.set(e++,y.__cast(p,Rc)):this._directionalLights.set(c++,y.__cast(p,Rc)):y.__instanceof(p,Bg)&&this._lightProbes.set(f++,y.__cast(p,Bg));if(this._numDirectionalLights==c&&this._numPointLights==b&&this._numLightProbes==f&&this._numCastingPointLights==d&&this._numCastingDirectionalLights==
e)return a;this._numDirectionalLights=c;this._numCastingDirectionalLights=e;this._numPointLights=b;this._numCastingPointLights=d;this._numLightProbes=f;this._lightProbeWeights=D.toFloatVector(null,4*Math.ceil(f/4),!0);this.dispatchEvent(new J("change"));return a},clearListeners:function(){for(var a=0,b=this._lights.length;a<b;){var c=a++;this._lights[c].removeEventListener("castsShadowChange",n(this,this.onCastShadowChange))}},onCastShadowChange:function(a){a=y.__cast(a.target,tc);y.__instanceof(a,
Sc)?this.updatePointCasting(y.__cast(a,Sc)):y.__instanceof(a,Rc)&&this.updateDirectionalCasting(y.__cast(a,Rc));this.dispatchEvent(new J("change"))},updateDirectionalCasting:function(a){a.get_castsShadows()?(--this._numDirectionalLights,++this._numCastingDirectionalLights,this._directionalLights.splice(this._directionalLights.indexOf(y.__cast(a,Rc),0),1),this._castingDirectionalLights.push(a)):(++this._numDirectionalLights,--this._numCastingDirectionalLights,this._castingDirectionalLights.splice(this._castingDirectionalLights.indexOf(y.__cast(a,
Rc),0),1),this._directionalLights.push(a))},updatePointCasting:function(a){a.get_castsShadows()?(--this._numPointLights,++this._numCastingPointLights,this._pointLights.splice(this._pointLights.indexOf(y.__cast(a,Sc),0),1),this._castingPointLights.push(a)):(++this._numPointLights,--this._numCastingPointLights,this._castingPointLights.splice(this._castingPointLights.indexOf(y.__cast(a,Sc),0),1),this._pointLights.push(a))},__class__:pi,__properties__:t(gf.prototype.__properties__,{set_lights:"set_lights",
get_lights:"get_lights"})});var cc=function(){Ia.call(this)};k["away3d.materials.methods.ShadingMethodBase"]=cc;cc.__name__=["away3d","materials","methods","ShadingMethodBase"];cc.__super__=Ia;cc.prototype=t(Ia.prototype,{_sharedRegisters:null,_passes:null,initVO:function(a){},initConstants:function(a){},get_sharedRegisters:function(){return this._sharedRegisters},set_sharedRegisters:function(a){return this._sharedRegisters=a},get_passes:function(){return this._passes},dispose:function(){},createMethodVO:function(){return new uk},
reset:function(){this.cleanCompilationData()},cleanCompilationData:function(){},getVertexCode:function(a,b){return""},activate:function(a,b){},setRenderState:function(a,b,c,d){},deactivate:function(a,b){},getTex2DSampleCode:function(a,b,c,d,e,f){var p=a.repeatTextures?"wrap":"clamp";null!=f&&(p=f);f=this.getFormatStringForTexture(d);d=a.useMipmapping&&d.get_hasMipMaps();a=a.useSmoothTextures?d?"linear,miplinear":"linear":d?"nearest,mipnearest":"nearest";null==e&&(e=this._sharedRegisters.uvVarying);
return"tex "+q.string(b)+", "+q.string(e)+", "+q.string(c)+" <2d,"+a+","+f+p+">\n"},getTexCubeSampleCode:function(a,b,c,d,e){var f=this.getFormatStringForTexture(d);d=a.useMipmapping&&d.get_hasMipMaps();a=a.useSmoothTextures?d?"linear,miplinear":"linear":d?"nearest,mipnearest":"nearest";return"tex "+q.string(b)+", "+q.string(e)+", "+q.string(c)+" <cube,"+f+a+">\n"},getFormatStringForTexture:function(a){switch(a.get_format()){case 3:return"dxt1,";case 4:return"dxt5,";default:return""}},invalidateShaderProgram:function(){this.dispatchEvent(new Hf("ShaderInvalidated"))},
copyFrom:function(a){},getSmoothingFilter:function(a,b){if(a)switch(b){case 0:return 4;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 0}else return 5},__class__:cc,__properties__:t(Ia.prototype.__properties__,{get_passes:"get_passes",set_sharedRegisters:"set_sharedRegisters",get_sharedRegisters:"get_sharedRegisters"})});var Dg=function(){this._lightAmbientR=this._lightAmbientG=this._lightAmbientB=0;this._ambient=1;this._ambientR=this._ambientG=this._ambientB=0;this._ambientColor=16777215;
Ia.call(this)};k["away3d.materials.methods.BasicAmbientMethod"]=Dg;Dg.__name__=["away3d","materials","methods","BasicAmbientMethod"];Dg.__super__=cc;Dg.prototype=t(cc.prototype,{_useTexture:null,_texture:null,_ambientInputRegister:null,_ambientColor:null,_ambientR:null,_ambientG:null,_ambientB:null,_ambient:null,_lightAmbientR:null,_lightAmbientG:null,_lightAmbientB:null,initVO:function(a){a.needsUV=this._useTexture},initConstants:function(a){a.fragmentData.set(a.fragmentConstantsIndex+3,1)},get_ambient:function(){return this._ambient},
set_ambient:function(a){return this._ambient=a},get_ambientColor:function(){return this._ambientColor},set_ambientColor:function(a){return this._ambientColor=a},get_texture:function(){return this._texture},set_texture:function(a){null!=a==this._useTexture&&(null==a||null==this._texture||a.get_hasMipMaps()==this._texture.get_hasMipMaps()&&a.get_format()==this._texture.get_format())||this.invalidateShaderProgram();this._useTexture=null!=a;return this._texture=a},copyFrom:function(a){a=y.__cast(a,Dg);
this.set_ambient(a.get_ambient());this.set_ambientColor(a.get_ambientColor())},cleanCompilationData:function(){cc.prototype.cleanCompilationData.call(this);this._ambientInputRegister=null},getFragmentCode:function(a,b,c){var d="";this._useTexture?(this._ambientInputRegister=b.getFreeTextureReg(),a.texturesIndex=this._ambientInputRegister.get_index(),d+=this.getTex2DSampleCode(a,c,this._ambientInputRegister,this._texture)+"div "+q.string(c)+".xyz, "+q.string(c)+".xyz, "+q.string(c)+".w\n"):(this._ambientInputRegister=
b.getFreeFragmentConstant(),a.fragmentConstantsIndex=4*this._ambientInputRegister.get_index(),d+="mov "+q.string(c)+", "+q.string(this._ambientInputRegister)+"\n");return d},activate:function(a,b){this._useTexture&&(b.get_context3D().setSamplerStateAt(a.texturesIndex,a.repeatTextures?2:0,this.getSmoothingFilter(a.useSmoothTextures,a.anisotropy),a.useMipmapping?0:2),b._context3D.setTextureAt(a.texturesIndex,this._texture.getTextureForStage3D(b)))},updateAmbient:function(){this._ambientR=(this._ambientColor>>
16&255)/255*this._ambient*this._lightAmbientR;this._ambientG=(this._ambientColor>>8&255)/255*this._ambient*this._lightAmbientG;this._ambientB=(this._ambientColor&255)/255*this._ambient*this._lightAmbientB},setRenderState:function(a,b,c,d){this.updateAmbient();this._useTexture||(b=a.fragmentConstantsIndex,a=a.fragmentData,a.set(b,this._ambientR),a.set(b+1,this._ambientG),a.set(b+2,this._ambientB))},__class__:Dg,__properties__:t(cc.prototype.__properties__,{set_texture:"set_texture",get_texture:"get_texture",
set_ambientColor:"set_ambientColor",get_ambientColor:"get_ambientColor",set_ambient:"set_ambient",get_ambient:"get_ambient"})});var kd=function(){Ia.call(this)};k["away3d.materials.methods.LightingMethodBase"]=kd;kd.__name__=["away3d","materials","methods","LightingMethodBase"];kd.__super__=cc;kd.prototype=t(cc.prototype,{_modulateMethod:null,getFragmentPreLightingCode:function(a,b){return""},getFragmentCodePerLight:function(a,b,c,d){return""},getFragmentCodePerProbe:function(a,b,c,d){return""},getFragmentPostLightingCode:function(a,
b,c){return""},__class__:kd});var Eg=function(){this._alphaThreshold=0;this._diffuseR=this._diffuseG=this._diffuseB=this._diffuseA=1;this._diffuseColor=16777215;Ia.call(this)};k["away3d.materials.methods.BasicDiffuseMethod"]=Eg;Eg.__name__=["away3d","materials","methods","BasicDiffuseMethod"];Eg.__super__=kd;Eg.prototype=t(kd.prototype,{_useAmbientTexture:null,_useTexture:null,_totalLightColorReg:null,_diffuseInputRegister:null,_texture:null,_diffuseColor:null,_diffuseR:null,_diffuseG:null,_diffuseB:null,
_diffuseA:null,_shadowRegister:null,_alphaThreshold:null,_isFirstLight:null,get_useAmbientTexture:function(){return this._useAmbientTexture},set_useAmbientTexture:function(a){if(this._useAmbientTexture==a)return a;this._useAmbientTexture=a;this.invalidateShaderProgram();return a},initVO:function(a){a.needsUV=this._useTexture;a.needsNormals=0<a.numLights},generateMip:function(a){this._useTexture&&this._texture.getTextureForStage3D(a)},get_diffuseAlpha:function(){return this._diffuseA},set_diffuseAlpha:function(a){return this._diffuseA=
a},get_diffuseColor:function(){return this._diffuseColor},set_diffuseColor:function(a){this._diffuseColor=a;this.updateDiffuse();return a},get_texture:function(){return this._texture},set_texture:function(a){null!=a==this._useTexture&&(null==a||null==this._texture||a.get_hasMipMaps()==this._texture.get_hasMipMaps()&&a.get_format()==this._texture.get_format())||this.invalidateShaderProgram();this._useTexture=null!=a;return this._texture=a},get_alphaThreshold:function(){return this._alphaThreshold},
set_alphaThreshold:function(a){0>a?a=0:1<a&&(a=1);if(a==this._alphaThreshold)return a;0!=a&&0!=this._alphaThreshold||this.invalidateShaderProgram();return this._alphaThreshold=a},dispose:function(){this._texture=null},copyFrom:function(a){a=y.__cast(a,Eg);this.set_alphaThreshold(a.get_alphaThreshold());this.set_texture(a.get_texture());this.set_useAmbientTexture(a.get_useAmbientTexture());this.set_diffuseAlpha(a.get_diffuseAlpha());this.set_diffuseColor(a.get_diffuseColor())},cleanCompilationData:function(){kd.prototype.cleanCompilationData.call(this);
this._diffuseInputRegister=this._totalLightColorReg=this._shadowRegister=null},getFragmentPreLightingCode:function(a,b){this._isFirstLight=!0;0<a.numLights&&(this._totalLightColorReg=b.getFreeFragmentVectorTemp(),b.addFragmentTempUsages(this._totalLightColorReg,1));return""},getFragmentCodePerLight:function(a,b,c,d){var e="",f;this._isFirstLight?f=this._totalLightColorReg:(f=d.getFreeFragmentVectorTemp(),d.addFragmentTempUsages(f,1));e+="dp3 "+q.string(f)+".x, "+q.string(b)+", "+q.string(this._sharedRegisters.normalFragment)+
"\nmax "+q.string(f)+".w, "+q.string(f)+".x, "+q.string(this._sharedRegisters.commons)+".y\n";a.useLightFallOff&&(e+="mul "+q.string(f)+".w, "+q.string(f)+".w, "+q.string(b)+".w\n");null!=this._modulateMethod&&(e+=q.string(this._modulateMethod(a,f,d,this._sharedRegisters)));e+="mul "+q.string(f)+", "+q.string(f)+".w, "+q.string(c)+"\n";this._isFirstLight||(e+="add "+q.string(this._totalLightColorReg)+".xyz, "+q.string(this._totalLightColorReg)+", "+q.string(f)+"\n",d.removeFragmentTempUsage(f));this._isFirstLight=
!1;return e},getFragmentCodePerProbe:function(a,b,c,d){var e="",f;this._isFirstLight?f=this._totalLightColorReg:(f=d.getFreeFragmentVectorTemp(),d.addFragmentTempUsages(f,1));e+="tex "+q.string(f)+", "+q.string(this._sharedRegisters.normalFragment)+", "+q.string(b)+" <cube,linear,miplinear>\nmul "+q.string(f)+".xyz, "+q.string(f)+".xyz, "+c+"\n";null!=this._modulateMethod&&(e+=q.string(this._modulateMethod(a,f,d,this._sharedRegisters)));this._isFirstLight||(e+="add "+q.string(this._totalLightColorReg)+
".xyz, "+q.string(this._totalLightColorReg)+", "+q.string(f)+"\n",d.removeFragmentTempUsage(f));this._isFirstLight=!1;return e},getFragmentPostLightingCode:function(a,b,c){var d="",e,f;0<a.numLights?(null!=this._shadowRegister&&(d+=this.applyShadow(a,b)),e=b.getFreeFragmentVectorTemp(),b.addFragmentTempUsages(e,1)):e=c;this._useTexture?(this._diffuseInputRegister=b.getFreeTextureReg(),a.texturesIndex=this._diffuseInputRegister.get_index(),d+=this.getTex2DSampleCode(a,e,this._diffuseInputRegister,
this._texture),0<this._alphaThreshold&&(f=b.getFreeFragmentConstant(),a.fragmentConstantsIndex=4*f.get_index(),d+="sub "+q.string(e)+".w, "+q.string(e)+".w, "+q.string(f)+".x\nkil "+q.string(e)+".w\nadd "+q.string(e)+".w, "+q.string(e)+".w, "+q.string(f)+".x\n")):(this._diffuseInputRegister=b.getFreeFragmentConstant(),a.fragmentConstantsIndex=4*this._diffuseInputRegister.get_index(),d+="mov "+q.string(e)+", "+q.string(this._diffuseInputRegister)+"\n");if(0==a.numLights)return d;d+="sat "+q.string(this._totalLightColorReg)+
", "+q.string(this._totalLightColorReg)+"\n";this._useAmbientTexture?d+="mul "+q.string(e)+".xyz, "+q.string(e)+", "+q.string(this._totalLightColorReg)+"\nmul "+q.string(this._totalLightColorReg)+".xyz, "+q.string(c)+", "+q.string(this._totalLightColorReg)+"\nsub "+q.string(c)+".xyz, "+q.string(c)+", "+q.string(this._totalLightColorReg)+"\nadd "+q.string(c)+".xyz, "+q.string(e)+", "+q.string(c)+"\n":(d+="add "+q.string(c)+".xyz, "+q.string(this._totalLightColorReg)+", "+q.string(c)+"\n",d=this._useTexture?
d+("mul "+q.string(c)+".xyz, "+q.string(e)+", "+q.string(c)+"\nmov "+q.string(c)+".w, "+q.string(e)+".w\n"):d+("mul "+q.string(c)+".xyz, "+q.string(this._diffuseInputRegister)+", "+q.string(c)+"\nmov "+q.string(c)+".w, "+q.string(this._diffuseInputRegister)+".w\n"));b.removeFragmentTempUsage(this._totalLightColorReg);b.removeFragmentTempUsage(e);return d},applyShadow:function(a,b){return"mul "+q.string(this._totalLightColorReg)+".xyz, "+q.string(this._totalLightColorReg)+", "+q.string(this._shadowRegister)+
".w\n"},activate:function(a,b){if(this._useTexture)b._context3D.setSamplerStateAt(a.texturesIndex,a.repeatTextures?2:0,this.getSmoothingFilter(a.useSmoothTextures,a.anisotropy),a.useMipmapping?0:2),b._context3D.setTextureAt(a.texturesIndex,this._texture.getTextureForStage3D(b)),0<this._alphaThreshold&&a.fragmentData.set(a.fragmentConstantsIndex,this._alphaThreshold);else{var c=a.fragmentConstantsIndex,d=a.fragmentData;d.set(c,this._diffuseR);d.set(c+1,this._diffuseG);d.set(c+2,this._diffuseB);d.set(c+
3,this._diffuseA)}},updateDiffuse:function(){this._diffuseR=(this._diffuseColor>>16&255)/255;this._diffuseG=(this._diffuseColor>>8&255)/255;this._diffuseB=(this._diffuseColor&255)/255},set_shadowRegister:function(a){return this._shadowRegister=a},__class__:Eg,__properties__:t(kd.prototype.__properties__,{set_shadowRegister:"set_shadowRegister",set_alphaThreshold:"set_alphaThreshold",get_alphaThreshold:"get_alphaThreshold",set_texture:"set_texture",get_texture:"get_texture",set_diffuseColor:"set_diffuseColor",
get_diffuseColor:"get_diffuseColor",set_diffuseAlpha:"set_diffuseAlpha",get_diffuseAlpha:"get_diffuseAlpha",set_useAmbientTexture:"set_useAmbientTexture",get_useAmbientTexture:"get_useAmbientTexture"})});var Fg=function(){Ia.call(this)};k["away3d.materials.methods.BasicNormalMethod"]=Fg;Fg.__name__=["away3d","materials","methods","BasicNormalMethod"];Fg.__super__=cc;Fg.prototype=t(cc.prototype,{_texture:null,_useTexture:null,_normalTextureRegister:null,initVO:function(a){a.needsUV=null!=this._texture},
get_tangentSpace:function(){return!0},get_hasOutput:function(){return this._useTexture},copyFrom:function(a){this.set_normalMap(y.__cast(a,Fg).get_normalMap())},get_normalMap:function(){return this._texture},set_normalMap:function(a){null!=a==this._useTexture&&(null==a||null==this._texture||a.get_hasMipMaps()==this._texture.get_hasMipMaps()&&a.get_format()==this._texture.get_format())||this.invalidateShaderProgram();this._useTexture=null!=a;return this._texture=a},cleanCompilationData:function(){cc.prototype.cleanCompilationData.call(this);
this._normalTextureRegister=null},dispose:function(){null!=this._texture&&(this._texture=null)},activate:function(a,b){0<=a.texturesIndex&&(b._context3D.setSamplerStateAt(a.texturesIndex,a.repeatTextures?2:0,this.getSmoothingFilter(a.useSmoothTextures,a.anisotropy),a.useMipmapping?0:2),b._context3D.setTextureAt(a.texturesIndex,this._texture.getTextureForStage3D(b)))},getFragmentCode:function(a,b,c){this._normalTextureRegister=b.getFreeTextureReg();a.texturesIndex=this._normalTextureRegister.get_index();
return this.getTex2DSampleCode(a,c,this._normalTextureRegister,this._texture)+"sub "+q.string(c)+".xyz, "+q.string(c)+".xyz, "+q.string(this._sharedRegisters.commons)+".xxx\t\nnrm "+q.string(c)+".xyz, "+q.string(c)+".xyz\t\t\t\t\t\t\t\n"},__class__:Fg,__properties__:t(cc.prototype.__properties__,{set_normalMap:"set_normalMap",get_normalMap:"get_normalMap",get_hasOutput:"get_hasOutput",get_tangentSpace:"get_tangentSpace"})});var Gg=function(){this._specularR=this._specularG=this._specularB=1;this._specularColor=
16777215;this._specular=1;this._gloss=50;Ia.call(this)};k["away3d.materials.methods.BasicSpecularMethod"]=Gg;Gg.__name__=["away3d","materials","methods","BasicSpecularMethod"];Gg.__super__=kd;Gg.prototype=t(kd.prototype,{_useTexture:null,_totalLightColorReg:null,_specularTextureRegister:null,_specularTexData:null,_specularDataRegister:null,_texture:null,_gloss:null,_specular:null,_specularColor:null,_specularR:null,_specularG:null,_specularB:null,_shadowRegister:null,_isFirstLight:null,initVO:function(a){a.needsUV=
this._useTexture;a.needsNormals=0<a.numLights;a.needsView=0<a.numLights},get_gloss:function(){return this._gloss},set_gloss:function(a){return this._gloss=a},get_specular:function(){return this._specular},set_specular:function(a){if(a==this._specular)return a;this._specular=a;this.updateSpecular();return a},get_specularColor:function(){return this._specularColor},set_specularColor:function(a){if(this._specularColor==a)return a;0!=this._specularColor&&0!=a||this.invalidateShaderProgram();this._specularColor=
a;this.updateSpecular();return a},get_texture:function(){return this._texture},set_texture:function(a){null!=a==this._useTexture&&(null==a||null==this._texture||a.get_hasMipMaps()==this._texture.get_hasMipMaps()&&a.get_format()==this._texture.get_format())||this.invalidateShaderProgram();this._useTexture=null!=a;return this._texture=a},copyFrom:function(a){a=y.__cast(a,Gg);this.set_texture(a.get_texture());this.set_specular(a.get_specular());this.set_specularColor(a.get_specularColor());this.set_gloss(a.get_gloss())},
cleanCompilationData:function(){kd.prototype.cleanCompilationData.call(this);this._specularDataRegister=this._specularTexData=this._specularTextureRegister=this._totalLightColorReg=this._shadowRegister=null},getFragmentPreLightingCode:function(a,b){var c="";this._isFirstLight=!0;0<a.numLights&&(this._specularDataRegister=b.getFreeFragmentConstant(),a.fragmentConstantsIndex=4*this._specularDataRegister.get_index(),this._useTexture?(this._specularTexData=b.getFreeFragmentVectorTemp(),b.addFragmentTempUsages(this._specularTexData,
1),this._specularTextureRegister=b.getFreeTextureReg(),a.texturesIndex=this._specularTextureRegister.get_index(),c=this.getTex2DSampleCode(a,this._specularTexData,this._specularTextureRegister,this._texture)):this._specularTextureRegister=null,this._totalLightColorReg=b.getFreeFragmentVectorTemp(),b.addFragmentTempUsages(this._totalLightColorReg,1));return c},getFragmentCodePerLight:function(a,b,c,d){var e="",f;this._isFirstLight?f=this._totalLightColorReg:(f=d.getFreeFragmentVectorTemp(),d.addFragmentTempUsages(f,
1));var p=this._sharedRegisters.viewDirFragment,g=this._sharedRegisters.normalFragment,e=e+("add "+q.string(f)+", "+q.string(b)+", "+q.string(p)+"\nnrm "+q.string(f)+".xyz, "+q.string(f)+"\ndp3 "+q.string(f)+".w, "+q.string(g)+", "+q.string(f)+"\nsat "+q.string(f)+".w, "+q.string(f)+".w\n"),e=this._useTexture?e+("mul "+q.string(this._specularTexData)+".w, "+q.string(this._specularTexData)+".y, "+q.string(this._specularDataRegister)+".w\npow "+q.string(f)+".w, "+q.string(f)+".w, "+q.string(this._specularTexData)+
".w\n"):e+("pow "+q.string(f)+".w, "+q.string(f)+".w, "+q.string(this._specularDataRegister)+".w\n");a.useLightFallOff&&(e+="mul "+q.string(f)+".w, "+q.string(f)+".w, "+q.string(b)+".w\n");null!=this._modulateMethod&&(e+=q.string(this._modulateMethod(a,f,d,this._sharedRegisters)));e+="mul "+q.string(f)+".xyz, "+q.string(c)+", "+q.string(f)+".w\n";this._isFirstLight||(e+="add "+q.string(this._totalLightColorReg)+".xyz, "+q.string(this._totalLightColorReg)+", "+q.string(f)+"\n",d.removeFragmentTempUsage(f));
this._isFirstLight=!1;return e},getFragmentCodePerProbe:function(a,b,c,d){var e="",f;this._isFirstLight?f=this._totalLightColorReg:(f=d.getFreeFragmentVectorTemp(),d.addFragmentTempUsages(f,1));var p=this._sharedRegisters.normalFragment,g=this._sharedRegisters.viewDirFragment,e=e+("dp3 "+q.string(f)+".w, "+q.string(p)+", "+q.string(g)+"\nadd "+q.string(f)+".w, "+q.string(f)+".w, "+q.string(f)+".w\nmul "+q.string(f)+", "+q.string(f)+".w, "+q.string(p)+"\nsub "+q.string(f)+", "+q.string(f)+", "+q.string(g)+
"\ntex "+q.string(f)+", "+q.string(f)+", "+q.string(b)+" <cube,"+(a.useSmoothTextures?"linear":"nearest")+",miplinear>\nmul "+q.string(f)+".xyz, "+q.string(f)+", "+c+"\n");null!=this._modulateMethod&&(e+=q.string(this._modulateMethod(a,f,d,this._sharedRegisters)));this._isFirstLight||(e+="add "+q.string(this._totalLightColorReg)+".xyz, "+q.string(this._totalLightColorReg)+", "+q.string(f)+"\n",d.removeFragmentTempUsage(f));this._isFirstLight=!1;return e},getFragmentPostLightingCode:function(a,b,c){var d=
"";if(0==a.numLights)return d;null!=this._shadowRegister&&(d+="mul "+q.string(this._totalLightColorReg)+".xyz, "+q.string(this._totalLightColorReg)+", "+q.string(this._shadowRegister)+".w\n");this._useTexture&&(d+="mul "+q.string(this._totalLightColorReg)+".xyz, "+q.string(this._totalLightColorReg)+", "+q.string(this._specularTexData)+".x\n",b.removeFragmentTempUsage(this._specularTexData));d+="mul "+q.string(this._totalLightColorReg)+".xyz, "+q.string(this._totalLightColorReg)+", "+q.string(this._specularDataRegister)+
"\nadd "+q.string(c)+".xyz, "+q.string(c)+", "+q.string(this._totalLightColorReg)+"\n";b.removeFragmentTempUsage(this._totalLightColorReg);return d},activate:function(a,b){if(0!=a.numLights){this._useTexture&&(b._context3D.setSamplerStateAt(a.texturesIndex,a.repeatTextures?2:0,this.getSmoothingFilter(a.useSmoothTextures,a.anisotropy),a.useMipmapping?0:2),b._context3D.setTextureAt(a.texturesIndex,this._texture.getTextureForStage3D(b)));var c=a.fragmentConstantsIndex,d=a.fragmentData;d.set(c,this._specularR);
d.set(c+1,this._specularG);d.set(c+2,this._specularB);d.set(c+3,this._gloss)}},updateSpecular:function(){this._specularR=Z.toFloat(this._specularColor>>>16&255)/Z.toFloat(255)*this._specular;this._specularG=Z.toFloat(this._specularColor>>>8&255)/Z.toFloat(255)*this._specular;this._specularB=Z.toFloat(this._specularColor&255)/Z.toFloat(255)*this._specular},set_shadowRegister:function(a){return this._shadowRegister=a},__class__:Gg,__properties__:t(kd.prototype.__properties__,{set_shadowRegister:"set_shadowRegister",
set_texture:"set_texture",get_texture:"get_texture",set_specularColor:"set_specularColor",get_specularColor:"get_specularColor",set_specular:"set_specular",get_specular:"get_specular",set_gloss:"set_gloss",get_gloss:"get_gloss"})});var hf=function(){Ia.call(this)};k["away3d.materials.methods.EffectMethodBase"]=hf;hf.__name__=["away3d","materials","methods","EffectMethodBase"];hf.__interfaces__=[Uc];hf.__super__=cc;hf.prototype=t(cc.prototype,{get_assetType:function(){return"effectsMethod"},getFragmentCode:function(a,
b,c){throw new F(new oa);},__class__:hf,__properties__:t(cc.prototype.__properties__,{get_assetType:"get_assetType"})});var qi=function(){Ia.call(this)};k["away3d.materials.methods.ColorTransformMethod"]=qi;qi.__name__=["away3d","materials","methods","ColorTransformMethod"];qi.__super__=hf;qi.prototype=t(hf.prototype,{_colorTransform:null,get_colorTransform:function(){return this._colorTransform},set_colorTransform:function(a){return this._colorTransform=a},getFragmentCode:function(a,b,c){var d="",
e=b.getFreeFragmentConstant();b=b.getFreeFragmentConstant();a.fragmentConstantsIndex=4*e.get_index();return d+="mul "+q.string(c)+", "+c.toString()+", "+q.string(e)+"\nadd "+q.string(c)+", "+c.toString()+", "+q.string(b)+"\n"},activate:function(a,b){var c=a.fragmentConstantsIndex,d=a.fragmentData;d.set(c,this._colorTransform.redMultiplier);d.set(c+1,this._colorTransform.greenMultiplier);d.set(c+2,this._colorTransform.blueMultiplier);d.set(c+3,this._colorTransform.alphaMultiplier);d.set(c+4,.00392156862745098*
this._colorTransform.redOffset);d.set(c+5,.00392156862745098*this._colorTransform.greenOffset);d.set(c+6,.00392156862745098*this._colorTransform.blueOffset);d.set(c+7,.00392156862745098*this._colorTransform.alphaOffset)},__class__:qi,__properties__:t(hf.prototype.__properties__,{set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform"})});var me=function(a){this._alpha=1;this._epsilon=.02;Ia.call(this);this._castingLight=a;a.set_castsShadows(!0);this._shadowMapper=a.get_shadowMapper()};
k["away3d.materials.methods.ShadowMapMethodBase"]=me;me.__name__=["away3d","materials","methods","ShadowMapMethodBase"];me.__interfaces__=[Uc];me.__super__=cc;me.prototype=t(cc.prototype,{_castingLight:null,_shadowMapper:null,_epsilon:null,_alpha:null,get_assetType:function(){return"shadowMapMethod"},get_alpha:function(){return this._alpha},set_alpha:function(a){return this._alpha=a},get_castingLight:function(){return this._castingLight},get_epsilon:function(){return this._epsilon},set_epsilon:function(a){return this._epsilon=
a},getFragmentCode:function(a,b,c){throw new F(new oa);},__class__:me,__properties__:t(cc.prototype.__properties__,{set_epsilon:"set_epsilon",get_epsilon:"get_epsilon",get_castingLight:"get_castingLight",set_alpha:"set_alpha",get_alpha:"get_alpha",get_assetType:"get_assetType"})});var Jf=function(a){this._usePoint=y.__instanceof(a,Sc);this._depthMapCoordReg=null;me.call(this,a)};k["away3d.materials.methods.SimpleShadowMapMethodBase"]=Jf;Jf.__name__=["away3d","materials","methods","SimpleShadowMapMethodBase"];
Jf.__super__=me;Jf.prototype=t(me.prototype,{_depthMapCoordReg:null,_usePoint:null,initVO:function(a){a.needsView=!0;a.needsGlobalVertexPos=!0;a.needsGlobalFragmentPos=this._usePoint;a.needsNormals=0<a.numLights},initConstants:function(a){var b=a.fragmentData,c=a.vertexData,d=a.fragmentConstantsIndex;b.set(d,1);b.set(d+1,.00392156862745098);b.set(d+2,1.5378700499807768E-5);b.set(d+3,6.030862941101084E-8);b.set(d+6,0);b.set(d+7,1);this._usePoint&&(b.set(d+8,0),b.set(d+9,0),b.set(d+10,0),b.set(d+11,
1));d=a.vertexConstantsIndex;-1!=d&&(c.set(d,.5),c.set(d+1,-.5),c.set(d+2,0),c.set(d+3,1))},get_depthMapCoordReg:function(){return this._depthMapCoordReg},set_depthMapCoordReg:function(a){return this._depthMapCoordReg=a},cleanCompilationData:function(){me.prototype.cleanCompilationData.call(this);this._depthMapCoordReg=null},getVertexCode:function(a,b){return this._usePoint?this.getPointVertexCode(a,b):this.getPlanarVertexCode(a,b)},getPointVertexCode:function(a,b){a.vertexConstantsIndex=-1;return""},
getPlanarVertexCode:function(a,b){var c="",d=b.getFreeVertexVectorTemp(),e=b.getFreeVertexConstant(),f=b.getFreeVertexConstant();b.getFreeVertexConstant();b.getFreeVertexConstant();b.getFreeVertexConstant();this._depthMapCoordReg=b.getFreeVarying();a.vertexConstantsIndex=4*e.get_index();return c+="m44 "+q.string(d)+", "+q.string(this._sharedRegisters.globalPositionVertex)+", "+q.string(f)+"\ndiv "+q.string(d)+", "+q.string(d)+", "+q.string(d)+".w\nmul "+q.string(d)+".xy, "+q.string(d)+".xy, "+q.string(e)+
".xy\nadd "+q.string(this._depthMapCoordReg)+", "+q.string(d)+", "+q.string(e)+".xxwz\n"},getFragmentCode:function(a,b,c){b=this._usePoint?this.getPointFragmentCode(a,b,c):this.getPlanarFragmentCode(a,b,c);return b+="add "+q.string(c)+".w, "+q.string(c)+".w, fc"+(a.fragmentConstantsIndex/4+1)+".y\nsat "+q.string(c)+".w, "+q.string(c)+".w\n"},getPlanarFragmentCode:function(a,b,c){throw new F(new oa);},getPointFragmentCode:function(a,b,c){throw new F(new oa);},setRenderState:function(a,b,c,d){this._usePoint||
y.__cast(this._shadowMapper,If).get_depthProjection().copyRawDataTo(a.vertexData,a.vertexConstantsIndex+4,!0)},getCascadeFragmentCode:function(a,b,c,d,e,f){throw new F(new ja("This shadow method is incompatible with cascade shadows"));},activate:function(a,b){var c=a.fragmentData,d=a.fragmentConstantsIndex;this._usePoint?c.set(d+4,-Math.pow(1/(y.__cast(this._castingLight,Sc).get_fallOff()*this._epsilon),2)):a.vertexData.set(a.vertexConstantsIndex+3,-1/(y.__cast(this._shadowMapper,If).get_depth()*
this._epsilon));c.set(d+5,1-this._alpha);if(this._usePoint){var e=this._castingLight.get_scenePosition();c.set(d+8,e.x);c.set(d+9,e.y);c.set(d+10,e.z);e=y.__cast(this._castingLight,Sc)._fallOff;c.set(d+11,1/(2*e*e))}b._context3D.setTextureAt(a.texturesIndex,this._castingLight.get_shadowMapper().get_depthMap().getTextureForStage3D(b))},activateForCascade:function(a,b){throw new F(new ja("This shadow method is incompatible with cascade shadows"));},__class__:Jf,__properties__:t(me.prototype.__properties__,
{set_depthMapCoordReg:"set_depthMapCoordReg",get_depthMapCoordReg:"get_depthMapCoordReg"})});var ri=function(a){Jf.call(this,a)};k["away3d.materials.methods.HardShadowMapMethod"]=ri;ri.__name__=["away3d","materials","methods","HardShadowMapMethod"];ri.__super__=Jf;ri.prototype=t(Jf.prototype,{getPlanarFragmentCode:function(a,b,c){var d=b.getFreeTextureReg(),e=b.getFreeFragmentConstant();b.getFreeFragmentConstant();b=b.getFreeFragmentVectorTemp();var f="";a.fragmentConstantsIndex=4*e.get_index();a.texturesIndex=
d.get_index();return f+="tex "+q.string(b)+", "+q.string(this._depthMapCoordReg)+", "+q.string(d)+" <2d, nearest, clamp>\ndp4 "+q.string(b)+".z, "+q.string(b)+", "+q.string(e)+"\nslt "+q.string(c)+".w, "+q.string(this._depthMapCoordReg)+".z, "+q.string(b)+".z\n"},getPointFragmentCode:function(a,b,c){var d=b.getFreeTextureReg(),e=b.getFreeFragmentConstant(),f=b.getFreeFragmentConstant(),p=b.getFreeFragmentConstant(),g=b.getFreeFragmentVectorTemp();b.addFragmentTempUsages(g,1);var m=b.getFreeFragmentVectorTemp(),
h="";a.fragmentConstantsIndex=4*e.get_index();a.texturesIndex=d.get_index();h+="sub "+q.string(m)+", "+q.string(this._sharedRegisters.globalPositionVarying)+", "+q.string(p)+"\ndp3 "+q.string(m)+".w, "+q.string(m)+".xyz, "+q.string(m)+".xyz\nmul "+q.string(m)+".w, "+q.string(m)+".w, "+q.string(p)+".w\nnrm "+q.string(m)+".xyz, "+q.string(m)+".xyz\ntex "+q.string(g)+", "+q.string(m)+", "+q.string(d)+" <cube, nearest, clamp>\ndp4 "+q.string(g)+".z, "+q.string(g)+", "+q.string(e)+"\nadd "+q.string(c)+
".w, "+q.string(m)+".w, "+q.string(f)+".x\nslt "+q.string(c)+".w, "+q.string(c)+".w, "+q.string(g)+".z\n";b.removeFragmentTempUsage(g);return h},getCascadeFragmentCode:function(a,b,c,d,e,f){a=b.getFreeFragmentVectorTemp();return"tex "+q.string(a)+", "+q.string(e)+", "+q.string(d)+" <2d, nearest, clamp>\ndp4 "+q.string(a)+".z, "+q.string(a)+", "+q.string(c)+"\nslt "+q.string(f)+".w, "+q.string(e)+".z, "+q.string(a)+".z\n"},activateForCascade:function(a,b){},__class__:ri});var uk=function(){this.useLightFallOff=
!0};k["away3d.materials.methods.MethodVO"]=uk;uk.__name__=["away3d","materials","methods","MethodVO"];uk.prototype={vertexData:null,fragmentData:null,texturesIndex:null,secondaryTexturesIndex:null,vertexConstantsIndex:null,secondaryVertexConstantsIndex:null,fragmentConstantsIndex:null,secondaryFragmentConstantsIndex:null,useMipmapping:null,useSmoothTextures:null,repeatTextures:null,anisotropy:null,needsProjection:null,needsView:null,needsNormals:null,needsTangents:null,needsUV:null,needsSecondaryUV:null,
needsGlobalVertexPos:null,needsGlobalFragmentPos:null,numLights:null,useLightFallOff:null,reset:function(){this.fragmentConstantsIndex=this.vertexConstantsIndex=this.texturesIndex=-1;this.useMipmapping=!0;this.anisotropy=1;this.useSmoothTextures=!0;this.needsGlobalFragmentPos=this.needsGlobalVertexPos=this.needsSecondaryUV=this.needsUV=this.needsTangents=this.needsNormals=this.needsView=this.needsProjection=this.repeatTextures=!1;this.numLights=0;this.useLightFallOff=!0},__class__:uk};var si=function(a){this.method=
a;this.data=a.createMethodVO()};k["away3d.materials.methods.MethodVOSet"]=si;si.__name__=["away3d","materials","methods","MethodVOSet"];si.prototype={method:null,data:null,__class__:si};var ti=function(){this._methods=D.toObjectVector(null);this._normalMethod=new Fg;this._ambientMethod=new Dg;this._diffuseMethod=new Eg;this._specularMethod=new Gg;this._normalMethod.addEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated));this._diffuseMethod.addEventListener("ShaderInvalidated",n(this,
this.onShaderInvalidated));this._specularMethod.addEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated));this._ambientMethod.addEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated));this._normalMethodVO=this._normalMethod.createMethodVO();this._ambientMethodVO=this._ambientMethod.createMethodVO();this._diffuseMethodVO=this._diffuseMethod.createMethodVO();this._specularMethodVO=this._specularMethod.createMethodVO();X.call(this)};k["away3d.materials.methods.ShaderMethodSetup"]=
ti;ti.__name__=["away3d","materials","methods","ShaderMethodSetup"];ti.__super__=X;ti.prototype=t(X.prototype,{_colorTransformMethod:null,_colorTransformMethodVO:null,_normalMethod:null,_normalMethodVO:null,_ambientMethod:null,_ambientMethodVO:null,_shadowMethod:null,_shadowMethodVO:null,_diffuseMethod:null,_diffuseMethodVO:null,_specularMethod:null,_specularMethodVO:null,_methods:null,onShaderInvalidated:function(a){this.invalidateShaderProgram()},invalidateShaderProgram:function(){this.dispatchEvent(new Hf("ShaderInvalidated"))},
get_normalMethod:function(){return this._normalMethod},set_normalMethod:function(a){null!=this._normalMethod&&this._normalMethod.removeEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated));null!=a&&(null!=this._normalMethod&&a.copyFrom(this._normalMethod),this._normalMethodVO=a.createMethodVO(),a.addEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated)));this._normalMethod=a;null!=a&&this.invalidateShaderProgram();return a},get_ambientMethod:function(){return this._ambientMethod},
set_ambientMethod:function(a){null!=this._ambientMethod&&this._ambientMethod.removeEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated));null!=a&&(null!=this._ambientMethod&&a.copyFrom(this._ambientMethod),a.addEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated)),this._ambientMethodVO=a.createMethodVO());this._ambientMethod=a;null!=a&&this.invalidateShaderProgram();return a},get_shadowMethod:function(){return this._shadowMethod},set_shadowMethod:function(a){null!=this._shadowMethod&&
this._shadowMethod.removeEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated));this._shadowMethod=a;null!=this._shadowMethod?(this._shadowMethod.addEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated)),this._shadowMethodVO=this._shadowMethod.createMethodVO()):this._shadowMethodVO=null;this.invalidateShaderProgram();return a},get_diffuseMethod:function(){return this._diffuseMethod},set_diffuseMethod:function(a){null!=this._diffuseMethod&&this._diffuseMethod.removeEventListener("ShaderInvalidated",
n(this,this.onShaderInvalidated));null!=a&&(null!=this._diffuseMethod&&a.copyFrom(this._diffuseMethod),a.addEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated)),this._diffuseMethodVO=a.createMethodVO());this._diffuseMethod=a;null!=a&&this.invalidateShaderProgram();return a},get_specularMethod:function(){return this._specularMethod},set_specularMethod:function(a){null!=this._specularMethod&&(this._specularMethod.removeEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated)),
null!=a&&a.copyFrom(this._specularMethod));this._specularMethod=a;null!=this._specularMethod?(this._specularMethod.addEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated)),this._specularMethodVO=this._specularMethod.createMethodVO()):this._specularMethodVO=null;this.invalidateShaderProgram();return a},get_colorTransformMethod:function(){return this._colorTransformMethod},set_colorTransformMethod:function(a){if(this._colorTransformMethod==a)return a;null!=this._colorTransformMethod&&
this._colorTransformMethod.removeEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated));null!=this._colorTransformMethod&&null!=a||this.invalidateShaderProgram();this._colorTransformMethod=a;null!=this._colorTransformMethod?(this._colorTransformMethod.addEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated)),this._colorTransformMethodVO=this._colorTransformMethod.createMethodVO()):this._colorTransformMethodVO=null;return a},dispose:function(){this.clearListeners(this._normalMethod);
this.clearListeners(this._diffuseMethod);this.clearListeners(this._shadowMethod);this.clearListeners(this._ambientMethod);this.clearListeners(this._specularMethod);for(var a=0,b=this._methods.get_length();a<b;){var c=a++;this.clearListeners(this._methods.get(c).method)}this._methods=null},clearListeners:function(a){null!=a&&a.removeEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated))},addMethod:function(a){this._methods.push(new si(a));a.addEventListener("ShaderInvalidated",n(this,
this.onShaderInvalidated));this.invalidateShaderProgram()},hasMethod:function(a){return null!=this.getMethodSetForMethod(a)},addMethodAt:function(a,b){this._methods.insertAt(b,new si(a));a.addEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated));this.invalidateShaderProgram()},getMethodAt:function(a){return a>this._methods.get_length()-1?null:this._methods.get(a).method},get_numMethods:function(){return this._methods.get_length()},removeMethod:function(a){var b=this.getMethodSetForMethod(a);
null!=b&&(b=this._methods.indexOf(b,0),this._methods.splice(b,1),a.removeEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated)),this.invalidateShaderProgram())},getMethodSetForMethod:function(a){for(var b=0,c=this._methods.get_length();b<c;){var d=b++;if(this._methods.get(d).method==a)return this._methods.get(d)}return null},__class__:ti,__properties__:{get_numMethods:"get_numMethods",set_colorTransformMethod:"set_colorTransformMethod",get_colorTransformMethod:"get_colorTransformMethod",
set_specularMethod:"set_specularMethod",get_specularMethod:"get_specularMethod",set_diffuseMethod:"set_diffuseMethod",get_diffuseMethod:"get_diffuseMethod",set_shadowMethod:"set_shadowMethod",get_shadowMethod:"get_shadowMethod",set_ambientMethod:"set_ambientMethod",get_ambientMethod:"get_ambientMethod",set_normalMethod:"set_normalMethod",get_normalMethod:"get_normalMethod"}});var Oa=function(a){null==a&&(a=!1);this._writeDepth=!0;this._defaultCulling=0;this._shadedTarget="ft0";for(var b=["vt0"],c=
D.toObjectVector(null),d=0,e=b.length;d<e;){var f=d++;c.set(f,b[f])}this._animationTargetRegisters=c;b=["va0"];c=D.toObjectVector(null);d=0;for(e=b.length;d<e;)f=d++,c.set(f,b[f]);this._animatableAttributes=c;this._blendFactorDest=9;this._blendFactorSource=2;this._depthCompareMode=5;this._anisotropy=1;this._mipmap=!0;this._repeat=!1;this._smooth=!0;this._context3Ds=D.toObjectVector(null,8);b=[-1,-1,-1,-1,-1,-1,-1,-1];c=D.toIntVector(null);d=0;for(e=b.length;d<e;)f=d++,c.set(f,b[f]);this._program3Dids=
c;this._program3Ds=D.toObjectVector(null,8);X.call(this);this._renderToTexture=a;this._numUsedStreams=1;this._numUsedVertexConstants=5};k["away3d.materials.passes.MaterialPassBase"]=Oa;Oa.__name__=["away3d","materials","passes","MaterialPassBase"];Oa.__super__=X;Oa.prototype=t(X.prototype,{_material:null,_animationSet:null,_program3Ds:null,_program3Dids:null,_context3Ds:null,_numUsedStreams:null,_numUsedTextures:null,_numUsedVertexConstants:null,_numUsedFragmentConstants:null,_numUsedVaryings:null,
_smooth:null,_repeat:null,_mipmap:null,_anisotropy:null,_depthCompareMode:null,_blendFactorSource:null,_blendFactorDest:null,_enableBlending:null,_bothSides:null,_lightPicker:null,_animatableAttributes:null,_animationTargetRegisters:null,_shadedTarget:null,_defaultCulling:null,_renderToTexture:null,_oldTarget:null,_oldSurface:null,_oldDepthStencil:null,_oldRect:null,_alphaPremultiplied:null,_needFragmentAnimation:null,_needUVAnimation:null,_UVTarget:null,_UVSource:null,_writeDepth:null,animationRegisterCache:null,
get_material:function(){return this._material},set_material:function(a){return this._material=a},get_writeDepth:function(){return this._writeDepth},set_writeDepth:function(a){return this._writeDepth=a},get_mipmap:function(){return this._mipmap},set_mipmap:function(a){if(this._mipmap==a)return this._mipmap;this._mipmap=a;this.invalidateShaderProgram();return this._mipmap},get_anisotropy:function(){return this._anisotropy},set_anisotropy:function(a){if(this._anisotropy==a)return a;this._anisotropy=
a;this.invalidateShaderProgram();return a},get_smooth:function(){return this._smooth},set_smooth:function(a){if(this._smooth==a)return this._smooth;this._smooth=a;this.invalidateShaderProgram();return this._smooth},get_repeat:function(){return this._repeat},set_repeat:function(a){if(this._repeat==a)return this._repeat;this._repeat=a;this.invalidateShaderProgram();return this._repeat},get_bothSides:function(){return this._bothSides},set_bothSides:function(a){return this._bothSides=a},get_depthCompareMode:function(){return this._depthCompareMode},
set_depthCompareMode:function(a){return this._depthCompareMode=a},get_animationSet:function(){return this._animationSet},set_animationSet:function(a){if(this._animationSet==a)return this._animationSet;this._animationSet=a;this.invalidateShaderProgram();return this._animationSet},get_renderToTexture:function(){return this._renderToTexture},dispose:function(){null!=this._lightPicker&&this._lightPicker.removeEventListener("change",n(this,this.onLightsChange));for(var a=0;8>a;){var b=a++;null!=this._program3Ds.get(b)&&
(kb.getInstanceFromIndex(b).freeProgram3D(this._program3Dids.get(b)),this._program3Ds.set(b,null))}},get_numUsedStreams:function(){return this._numUsedStreams},get_numUsedVertexConstants:function(){return this._numUsedVertexConstants},get_numUsedVaryings:function(){return this._numUsedVaryings},get_numUsedFragmentConstants:function(){return this._numUsedFragmentConstants},get_needFragmentAnimation:function(){return this._needFragmentAnimation},get_needUVAnimation:function(){return this._needUVAnimation},
updateAnimationState:function(a,b,c){a.get_animator().setRenderState(b,a,this._numUsedVertexConstants,this._numUsedStreams,c)},render:function(a,b,c,d){throw new F(new oa);},getVertexCode:function(){throw new F(new oa);},getFragmentCode:function(a){throw new F(new oa);},setBlendMode:function(a){switch(a){case 0:this._blendFactorSource=7;this._blendFactorDest=2;this._enableBlending=!0;break;case 1:this._blendFactorSource=9;this._blendFactorDest=7;this._enableBlending=!0;break;case 7:this._blendFactorSource=
7;this._blendFactorDest=5;this._enableBlending=!0;break;case 9:this._blendFactorSource=9;this._blendFactorDest=8;this._enableBlending=!0;break;case 10:this._blendFactorSource=2;this._blendFactorDest=9;this._enableBlending=!1;break;case 12:this._blendFactorSource=2;this._blendFactorDest=6;this._enableBlending=!0;break;default:throw new F(new Hg("Unsupported blend mode!"));}},activate:function(a,b){var c=a._stage3DIndex,d=a._context3D;d.setDepthTest(this._writeDepth&&!this._enableBlending,this._depthCompareMode);
this._enableBlending&&d.setBlendFactors(this._blendFactorSource,this._blendFactorDest);if(this._context3Ds.get(c)!=d||null==this._program3Ds.get(c))this._context3Ds.set(c,d),this.updateProgram(a),this.dispatchEvent(new J("change"));for(var e=Oa._previousUsedStreams.get(c),f=this._numUsedStreams;f<e;){var p=f++;d.setVertexBufferAt(p,null)}e=Oa._previousUsedTexs.get(c);for(f=this._numUsedTextures;f<e;)p=f++,d.setTextureAt(p,null);null==this._animationSet||this._animationSet.get_usesCPU()||this._animationSet.activate(a,
this);d.setProgram(this._program3Ds.get(c));d.setCulling(this._bothSides?3:this._defaultCulling);this._renderToTexture&&(this._oldTarget=a.get_renderTarget(),this._oldSurface=a.get_renderSurfaceSelector(),this._oldDepthStencil=a.get_enableDepthAndStencil(),this._oldRect=a.get_scissorRect())},deactivate:function(a){var b=a._stage3DIndex;Oa._previousUsedStreams.set(b,this._numUsedStreams);Oa._previousUsedTexs.set(b,this._numUsedTextures);null==this._animationSet||this._animationSet.get_usesCPU()||this._animationSet.deactivate(a,
this);this._renderToTexture&&(a.setRenderTarget(this._oldTarget,this._oldDepthStencil,this._oldSurface),a.set_scissorRect(this._oldRect));this._enableBlending&&a._context3D.setBlendFactors(2,9);a._context3D.setDepthTest(!0,5)},invalidateShaderProgram:function(a){null==a&&(a=!0);for(var b=0;8>b;){var c=b++;this._program3Ds.set(c,null)}null!=this._material&&a&&this._material.invalidatePasses(this)},updateProgram:function(a){var b="",c="",d="",e=this.getVertexCode();if(null==this._animationSet||this._animationSet.get_usesCPU()){for(var f=
0,p=this._animatableAttributes.get_length();f<p;)var g=f++,b=b+("mov "+this._animationTargetRegisters.get(g)+", "+this._animatableAttributes.get(g)+"\n");this._needUVAnimation&&(c="mov "+this._UVTarget+","+this._UVSource+"\n")}else b=this._animationSet.getAGALVertexCode(this,this._animatableAttributes,this._animationTargetRegisters,a.get_profile()),this._needFragmentAnimation&&(d=this._animationSet.getAGALFragmentCode(this,this._shadedTarget,a.get_profile())),this._needUVAnimation&&(c=this._animationSet.getAGALUVCode(this,
this._UVSource,this._UVTarget)),this._animationSet.doneAGALCode(this);e=b+c+e;b=this.getFragmentCode(d);kb.getInstance(a).setProgram3D(this,e,b)},get_lightPicker:function(){return this._lightPicker},set_lightPicker:function(a){null!=this._lightPicker&&this._lightPicker.removeEventListener("change",n(this,this.onLightsChange));this._lightPicker=a;null!=this._lightPicker&&this._lightPicker.addEventListener("change",n(this,this.onLightsChange));this.updateLights();return this._lightPicker},onLightsChange:function(a){this.updateLights()},
updateLights:function(){},get_alphaPremultiplied:function(){return this._alphaPremultiplied},set_alphaPremultiplied:function(a){this._alphaPremultiplied=a;this.invalidateShaderProgram(!1);return this._alphaPremultiplied},__class__:Oa,__properties__:{set_alphaPremultiplied:"set_alphaPremultiplied",get_alphaPremultiplied:"get_alphaPremultiplied",set_lightPicker:"set_lightPicker",get_lightPicker:"get_lightPicker",get_needUVAnimation:"get_needUVAnimation",get_needFragmentAnimation:"get_needFragmentAnimation",
get_numUsedFragmentConstants:"get_numUsedFragmentConstants",get_numUsedVaryings:"get_numUsedVaryings",get_numUsedVertexConstants:"get_numUsedVertexConstants",get_numUsedStreams:"get_numUsedStreams",get_renderToTexture:"get_renderToTexture",set_animationSet:"set_animationSet",get_animationSet:"get_animationSet",set_depthCompareMode:"set_depthCompareMode",get_depthCompareMode:"get_depthCompareMode",set_bothSides:"set_bothSides",get_bothSides:"get_bothSides",set_anisotropy:"set_anisotropy",get_anisotropy:"get_anisotropy",
set_repeat:"set_repeat",get_repeat:"get_repeat",set_smooth:"set_smooth",get_smooth:"get_smooth",set_mipmap:"set_mipmap",get_mipmap:"get_mipmap",set_writeDepth:"set_writeDepth",get_writeDepth:"get_writeDepth",set_material:"set_material",get_material:"get_material"}});var ld=function(a){this._preserveAlpha=this._enableLightFallOff=!0;this._fragmentConstantData=D.toFloatVector(null);this._vertexConstantData=D.toFloatVector(null);this._diffuseLightSources=3;this._specularLightSources=1;this._material=
a;this.init();Oa.call(this)};k["away3d.materials.passes.CompiledPass"]=ld;ld.__name__=["away3d","materials","passes","CompiledPass"];ld.__super__=Oa;ld.prototype=t(Oa.prototype,{_passes:null,_passesDirty:null,_specularLightSources:null,_diffuseLightSources:null,_vertexCode:null,_fragmentLightCode:null,_framentPostLightCode:null,_vertexConstantData:null,_fragmentConstantData:null,_commonsDataIndex:null,_probeWeightsIndex:null,_uvBufferIndex:null,_secondaryUVBufferIndex:null,_normalBufferIndex:null,
_tangentBufferIndex:null,_sceneMatrixIndex:null,_sceneNormalMatrixIndex:null,_lightFragmentConstantIndex:null,_cameraPositionIndex:null,_uvTransformIndex:null,_uvTransformIndex2:null,_lightProbeDiffuseIndices:null,_lightProbeSpecularIndices:null,_ambientLightR:null,_ambientLightG:null,_ambientLightB:null,_compiler:null,_methodSetup:null,_usingSpecularMethod:null,_usesNormals:null,_preserveAlpha:null,_animateUVs:null,_animateUVs2:null,_numPointLights:null,_numDirectionalLights:null,_numLightProbes:null,
_enableLightFallOff:null,_forceSeparateMVP:null,get_enableLightFallOff:function(){return this._enableLightFallOff},set_enableLightFallOff:function(a){a!=this._enableLightFallOff&&this.invalidateShaderProgram(!0);return this._enableLightFallOff=a},get_forceSeparateMVP:function(){return this._forceSeparateMVP},set_forceSeparateMVP:function(a){return this._forceSeparateMVP=a},get_numPointLights:function(){return this._numPointLights},get_numDirectionalLights:function(){return this._numDirectionalLights},
get_numLightProbes:function(){return this._numLightProbes},updateProgram:function(a){this.reset(a.get_profile());Oa.prototype.updateProgram.call(this,a)},reset:function(a){this.initCompiler(a);this.updateShaderProperties();this.initConstantData();this.cleanUp()},updateUsedOffsets:function(){this._numUsedVertexConstants=this._compiler.get_numUsedVertexConstants();this._numUsedFragmentConstants=this._compiler.get_numUsedFragmentConstants();this._numUsedStreams=this._compiler.get_numUsedStreams();this._numUsedTextures=
this._compiler.get_numUsedTextures();this._numUsedVaryings=this._compiler.get_numUsedVaryings();this._numUsedFragmentConstants=this._compiler.get_numUsedFragmentConstants()},initConstantData:function(){this._vertexConstantData.set_length(4*this._numUsedVertexConstants);this._fragmentConstantData.set_length(4*this._numUsedFragmentConstants);this.initCommonsData();0<=this._uvTransformIndex&&this.initUVTransformData();0<=this._cameraPositionIndex&&this._vertexConstantData.set(this._cameraPositionIndex+
3,1);this.updateMethodConstants()},initCompiler:function(a){this._compiler=this.createCompiler(a);this._compiler.set_forceSeperateMVP(this._forceSeparateMVP);this._compiler.set_numPointLights(this._numPointLights);this._compiler.set_numDirectionalLights(this._numDirectionalLights);this._compiler.set_numLightProbes(this._numLightProbes);this._compiler.set_methodSetup(this._methodSetup);this._compiler.set_diffuseLightSources(this._diffuseLightSources);this._compiler.set_specularLightSources(this._specularLightSources);
this._compiler.setTextureSampling(this._smooth,this._repeat,this._mipmap,this._anisotropy);this._compiler.setConstantDataBuffers(this._vertexConstantData,this._fragmentConstantData);this._compiler.set_animateUVs(this._animateUVs);this._compiler.set_animateUVs2(this._animateUVs2);this._compiler.set_alphaPremultiplied(this._alphaPremultiplied&&this._enableBlending);this._compiler.set_preserveAlpha(this._preserveAlpha&&this._enableBlending);this._compiler.set_enableLightFallOff(this._enableLightFallOff);
this._compiler.compile()},createCompiler:function(a){throw new F(new oa);},updateShaderProperties:function(){this._animatableAttributes=this._compiler.get_animatableAttributes();this._animationTargetRegisters=this._compiler.get_animationTargetRegisters();this._vertexCode=this._compiler.get_vertexCode();this._fragmentLightCode=this._compiler.get_fragmentLightCode();this._framentPostLightCode=this._compiler.get_fragmentPostLightCode();this._shadedTarget=this._compiler.get_shadedTarget();this._usingSpecularMethod=
this._compiler.get_usingSpecularMethod();this._usesNormals=this._compiler.get_usesNormals();this._needUVAnimation=this._compiler.get_needUVAnimation();this._UVSource=this._compiler.get_UVSource();this._UVTarget=this._compiler.get_UVTarget();this.updateRegisterIndices();this.updateUsedOffsets()},updateRegisterIndices:function(){this._uvBufferIndex=this._compiler.get_uvBufferIndex();this._uvTransformIndex=this._compiler.get_uvTransformIndex();this._uvTransformIndex2=this._compiler.get_uvTransformIndex2();
this._secondaryUVBufferIndex=this._compiler.get_secondaryUVBufferIndex();this._normalBufferIndex=this._compiler.get_normalBufferIndex();this._tangentBufferIndex=this._compiler.get_tangentBufferIndex();this._lightFragmentConstantIndex=this._compiler.get_lightFragmentConstantIndex();this._cameraPositionIndex=this._compiler.get_cameraPositionIndex();this._commonsDataIndex=this._compiler.get_commonsDataIndex();this._sceneMatrixIndex=this._compiler.get_sceneMatrixIndex();this._sceneNormalMatrixIndex=this._compiler.get_sceneNormalMatrixIndex();
this._probeWeightsIndex=this._compiler.get_probeWeightsIndex();this._lightProbeDiffuseIndices=this._compiler.get_lightProbeDiffuseIndices();this._lightProbeSpecularIndices=this._compiler.get_lightProbeSpecularIndices()},get_preserveAlpha:function(){return this._preserveAlpha},set_preserveAlpha:function(a){if(this._preserveAlpha==a)return a;this._preserveAlpha=a;this.invalidateShaderProgram();return a},get_animateUVs:function(){return this._animateUVs},set_animateUVs:function(a){if(this._animateUVs==
a)return a;this._animateUVs=a;this.invalidateShaderProgram();return a},get_animateUVs2:function(){return this._animateUVs2},set_animateUVs2:function(a){if(this._animateUVs2==a)return a;this._animateUVs2=a;this.invalidateShaderProgram();return a},set_mipmap:function(a){if(this._mipmap==a)return a;Oa.prototype.set_mipmap.call(this,a);return a},set_anisotropy:function(a){if(this._anisotropy==a)return a;Oa.prototype.set_anisotropy.call(this,a);return a},get_normalMap:function(){return this._methodSetup._normalMethod.get_normalMap()},
set_normalMap:function(a){this._methodSetup._normalMethod.set_normalMap(a);return a},get_normalMethod:function(){return this._methodSetup.get_normalMethod()},set_normalMethod:function(a){this._methodSetup.set_normalMethod(a);return a},get_ambientMethod:function(){return this._methodSetup.get_ambientMethod()},set_ambientMethod:function(a){this._methodSetup.set_ambientMethod(a);return a},get_shadowMethod:function(){return this._methodSetup.get_shadowMethod()},set_shadowMethod:function(a){this._methodSetup.set_shadowMethod(a);
return a},get_diffuseMethod:function(){return this._methodSetup.get_diffuseMethod()},set_diffuseMethod:function(a){this._methodSetup.set_diffuseMethod(a);return a},get_specularMethod:function(){return this._methodSetup.get_specularMethod()},set_specularMethod:function(a){this._methodSetup.set_specularMethod(a);return a},init:function(){this._methodSetup=new ti;this._methodSetup.addEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated))},dispose:function(){Oa.prototype.dispose.call(this);
this._methodSetup.removeEventListener("ShaderInvalidated",n(this,this.onShaderInvalidated));this._methodSetup.dispose();this._methodSetup=null},invalidateShaderProgram:function(a){null==a&&(a=!0);var b=this._passes;this._passes=D.toObjectVector(null);null!=this._methodSetup&&this.addPassesFromMethods();if(null==b||this._passes.get_length()!=b.get_length())this._passesDirty=!0;else{for(var c=0,d=this._passes.get_length();c<d;){var e=c++;if(this._passes.get(e)!=b.get(e)){this._passesDirty=!0;return}}Oa.prototype.invalidateShaderProgram.call(this,
a)}},addPassesFromMethods:function(){null!=this._methodSetup._normalMethod&&this._methodSetup._normalMethod.get_hasOutput()&&this.addPasses(this._methodSetup._normalMethod.get_passes());null!=this._methodSetup._ambientMethod&&this.addPasses(this._methodSetup._ambientMethod.get_passes());null!=this._methodSetup._shadowMethod&&this.addPasses(this._methodSetup._shadowMethod.get_passes());null!=this._methodSetup._diffuseMethod&&this.addPasses(this._methodSetup._diffuseMethod.get_passes());null!=this._methodSetup._specularMethod&&
this.addPasses(this._methodSetup._specularMethod.get_passes())},addPasses:function(a){if(null!=a)for(var b=0,c=a.get_length();b<c;){var d=b++;a.get(d).set_material(this.get_material());a.get(d).set_lightPicker(this._lightPicker);this._passes.push(a.get(d))}},initUVTransformData:function(){this._vertexConstantData.set(this._uvTransformIndex,1);this._vertexConstantData.set(this._uvTransformIndex+1,0);this._vertexConstantData.set(this._uvTransformIndex+2,0);this._vertexConstantData.set(this._uvTransformIndex+
3,0);this._vertexConstantData.set(this._uvTransformIndex+4,0);this._vertexConstantData.set(this._uvTransformIndex+5,1);this._vertexConstantData.set(this._uvTransformIndex+6,0);this._vertexConstantData.set(this._uvTransformIndex+7,0)},initUVTransformData2:function(){this._vertexConstantData.set(this._uvTransformIndex2,1);this._vertexConstantData.set(this._uvTransformIndex2+1,0);this._vertexConstantData.set(this._uvTransformIndex2+2,0);this._vertexConstantData.set(this._uvTransformIndex2+3,0);this._vertexConstantData.set(this._uvTransformIndex2+
4,0);this._vertexConstantData.set(this._uvTransformIndex2+5,1);this._vertexConstantData.set(this._uvTransformIndex2+6,0);this._vertexConstantData.set(this._uvTransformIndex2+7,0)},initCommonsData:function(){this._fragmentConstantData.set(this._commonsDataIndex,.5);this._fragmentConstantData.set(this._commonsDataIndex+1,0);this._fragmentConstantData.set(this._commonsDataIndex+2,.00392156862745098);this._fragmentConstantData.set(this._commonsDataIndex+3,1)},cleanUp:function(){this._compiler.dispose();
this._compiler=null},updateMethodConstants:function(){null!=this._methodSetup._normalMethod&&this._methodSetup._normalMethod.initConstants(this._methodSetup._normalMethodVO);null!=this._methodSetup._diffuseMethod&&this._methodSetup._diffuseMethod.initConstants(this._methodSetup._diffuseMethodVO);null!=this._methodSetup._ambientMethod&&this._methodSetup._ambientMethod.initConstants(this._methodSetup._ambientMethodVO);this._usingSpecularMethod&&this._methodSetup._specularMethod.initConstants(this._methodSetup._specularMethodVO);
null!=this._methodSetup._shadowMethod&&this._methodSetup._shadowMethod.initConstants(this._methodSetup._shadowMethodVO)},updateLightConstants:function(){},updateProbes:function(a){},onShaderInvalidated:function(a){this.invalidateShaderProgram()},getVertexCode:function(){return this._vertexCode},getFragmentCode:function(a){return this._fragmentLightCode+a+this._framentPostLightCode},activate:function(a,b){Oa.prototype.activate.call(this,a,b);this._usesNormals&&this._methodSetup._normalMethod.activate(this._methodSetup._normalMethodVO,
a);this._methodSetup._ambientMethod.activate(this._methodSetup._ambientMethodVO,a);null!=this._methodSetup._shadowMethod&&this._methodSetup._shadowMethod.activate(this._methodSetup._shadowMethodVO,a);this._methodSetup._diffuseMethod.activate(this._methodSetup._diffuseMethodVO,a);this._usingSpecularMethod&&this._methodSetup._specularMethod.activate(this._methodSetup._specularMethodVO,a)},render:function(a,b,c,d){var e=b._context3D;0<=this._uvBufferIndex&&a.activateUVBuffer(this._uvBufferIndex,b);0<=
this._secondaryUVBufferIndex&&a.activateSecondaryUVBuffer(this._secondaryUVBufferIndex,b);0<=this._normalBufferIndex&&a.activateVertexNormalBuffer(this._normalBufferIndex,b);0<=this._tangentBufferIndex&&a.activateVertexTangentBuffer(this._tangentBufferIndex,b);if(this._animateUVs){var f=a.get_uvTransform();null!=f?(this._vertexConstantData.set(this._uvTransformIndex,f.a),this._vertexConstantData.set(this._uvTransformIndex+1,f.b),this._vertexConstantData.set(this._uvTransformIndex+3,f.tx),this._vertexConstantData.set(this._uvTransformIndex+
4,f.c),this._vertexConstantData.set(this._uvTransformIndex+5,f.d),this._vertexConstantData.set(this._uvTransformIndex+7,f.ty)):(this._vertexConstantData.set(this._uvTransformIndex,1),this._vertexConstantData.set(this._uvTransformIndex+1,0),this._vertexConstantData.set(this._uvTransformIndex+3,0),this._vertexConstantData.set(this._uvTransformIndex+4,0),this._vertexConstantData.set(this._uvTransformIndex+5,1),this._vertexConstantData.set(this._uvTransformIndex+7,0))}this._animateUVs2&&(f=a.get_uvTransform2(),
null!=f?(this._vertexConstantData.set(this._uvTransformIndex2,f.a),this._vertexConstantData.set(this._uvTransformIndex2+1,f.b),this._vertexConstantData.set(this._uvTransformIndex2+3,f.tx),this._vertexConstantData.set(this._uvTransformIndex2+4,f.c),this._vertexConstantData.set(this._uvTransformIndex2+5,f.d),this._vertexConstantData.set(this._uvTransformIndex2+7,f.ty)):(this._vertexConstantData.set(this._uvTransformIndex2,1),this._vertexConstantData.set(this._uvTransformIndex2+1,0),this._vertexConstantData.set(this._uvTransformIndex2+
3,0),this._vertexConstantData.set(this._uvTransformIndex2+4,0),this._vertexConstantData.set(this._uvTransformIndex2+5,1),this._vertexConstantData.set(this._uvTransformIndex2+7,0)));this._ambientLightR=this._ambientLightG=this._ambientLightB=0;this.usesLights()&&this.updateLightConstants();this.usesProbes()&&this.updateProbes(b);0<=this._sceneMatrixIndex?(a.getRenderSceneTransform(c).copyRawDataTo(this._vertexConstantData,this._sceneMatrixIndex,!0),d.copyRawDataTo(this._vertexConstantData,0,!0)):(f=
ga.CALCULATION_MATRIX,f.copyFrom(a.getRenderSceneTransform(c)),f.append(d),f.copyRawDataTo(this._vertexConstantData,0,!0));0<=this._sceneNormalMatrixIndex&&a.get_inverseSceneTransform().copyRawDataTo(this._vertexConstantData,this._sceneNormalMatrixIndex,!1);this._usesNormals&&this._methodSetup._normalMethod.setRenderState(this._methodSetup._normalMethodVO,a,b,c);d=this._methodSetup._ambientMethod;d._lightAmbientR=this._ambientLightR;d._lightAmbientG=this._ambientLightG;d._lightAmbientB=this._ambientLightB;
d.setRenderState(this._methodSetup._ambientMethodVO,a,b,c);null!=this._methodSetup._shadowMethod&&this._methodSetup._shadowMethod.setRenderState(this._methodSetup._shadowMethodVO,a,b,c);this._methodSetup._diffuseMethod.setRenderState(this._methodSetup._diffuseMethodVO,a,b,c);this._usingSpecularMethod&&this._methodSetup._specularMethod.setRenderState(this._methodSetup._specularMethodVO,a,b,c);null!=this._methodSetup._colorTransformMethod&&this._methodSetup._colorTransformMethod.setRenderState(this._methodSetup._colorTransformMethodVO,
a,b,c);d=this._methodSetup._methods;for(var f=0,p=d.get_length();f<p;){var g=f++,g=d.get(g);g.method.setRenderState(g.data,a,b,c)}e.setProgramConstantsFromVector(1,0,this._vertexConstantData,this._numUsedVertexConstants);e.setProgramConstantsFromVector(0,0,this._fragmentConstantData,this._numUsedFragmentConstants);a.activateVertexBuffer(0,b);b.drawTriangles(a.getIndexBuffer(b),0,a.get_numTriangles())},usesProbes:function(){return 0<this._numLightProbes?0!=((this._diffuseLightSources|this._specularLightSources)&
2):!1},usesLights:function(){return 0<this._numPointLights||0<this._numDirectionalLights?0!=((this._diffuseLightSources|this._specularLightSources)&1):!1},deactivate:function(a){Oa.prototype.deactivate.call(this,a);this._usesNormals&&this._methodSetup._normalMethod.deactivate(this._methodSetup._normalMethodVO,a);this._methodSetup._ambientMethod.deactivate(this._methodSetup._ambientMethodVO,a);null!=this._methodSetup._shadowMethod&&this._methodSetup._shadowMethod.deactivate(this._methodSetup._shadowMethodVO,
a);this._methodSetup._diffuseMethod.deactivate(this._methodSetup._diffuseMethodVO,a);this._usingSpecularMethod&&this._methodSetup._specularMethod.deactivate(this._methodSetup._specularMethodVO,a)},get_specularLightSources:function(){return this._specularLightSources},set_specularLightSources:function(a){return this._specularLightSources=a},get_diffuseLightSources:function(){return this._diffuseLightSources},set_diffuseLightSources:function(a){return this._diffuseLightSources=a},__class__:ld,__properties__:t(Oa.prototype.__properties__,
{set_diffuseLightSources:"set_diffuseLightSources",get_diffuseLightSources:"get_diffuseLightSources",set_specularLightSources:"set_specularLightSources",get_specularLightSources:"get_specularLightSources",set_specularMethod:"set_specularMethod",get_specularMethod:"get_specularMethod",set_diffuseMethod:"set_diffuseMethod",get_diffuseMethod:"get_diffuseMethod",set_shadowMethod:"set_shadowMethod",get_shadowMethod:"get_shadowMethod",set_ambientMethod:"set_ambientMethod",get_ambientMethod:"get_ambientMethod",
set_normalMethod:"set_normalMethod",get_normalMethod:"get_normalMethod",set_normalMap:"set_normalMap",get_normalMap:"get_normalMap",set_animateUVs2:"set_animateUVs2",get_animateUVs2:"get_animateUVs2",set_animateUVs:"set_animateUVs",get_animateUVs:"get_animateUVs",set_preserveAlpha:"set_preserveAlpha",get_preserveAlpha:"get_preserveAlpha",get_numLightProbes:"get_numLightProbes",get_numDirectionalLights:"get_numDirectionalLights",get_numPointLights:"get_numPointLights",set_forceSeparateMVP:"set_forceSeparateMVP",
get_forceSeparateMVP:"get_forceSeparateMVP",set_enableLightFallOff:"set_enableLightFallOff",get_enableLightFallOff:"get_enableLightFallOff"})});var ii=function(){this._alphaThreshold=0;Oa.call(this);for(var a=[1,255,65025,16581375,.00392156862745098,.00392156862745098,.00392156862745098,0,0,0,0,0],b=D.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this._data=b};k["away3d.materials.passes.DepthMapPass"]=ii;ii.__name__=["away3d","materials","passes","DepthMapPass"];ii.__super__=Oa;
ii.prototype=t(Oa.prototype,{_data:null,_alphaThreshold:null,_alphaMask:null,get_alphaThreshold:function(){return this._alphaThreshold},set_alphaThreshold:function(a){0>a?a=0:1<a&&(a=1);if(a==this._alphaThreshold)return a;0!=a&&0!=this._alphaThreshold||this.invalidateShaderProgram();this._alphaThreshold=a;this._data.set(8,this._alphaThreshold);return a},get_alphaMask:function(){return this._alphaMask},set_alphaMask:function(a){return this._alphaMask=a},getVertexCode:function(){var a="m44 vt1, vt0, vc0\t\t\nmov op, vt1\t\n";
0<this._alphaThreshold?(this._numUsedTextures=1,this._numUsedStreams=2,a+="mov v0, vt1\nmov v1, va1\n"):(this._numUsedTextures=0,this._numUsedStreams=1,a+="mov v0, vt1\n");return a},getFragmentCode:function(a){a="div ft2, v0, v0.w\t\t\nmul ft0, fc0, ft2.z\t\nfrc ft0, ft0\t\t\t\nmul ft1, ft0.yzww, fc1\t\n";if(0<this._alphaThreshold){var b=this._repeat?"wrap":"clamp",c,d;c=this._mipmap&&this._alphaMask.get_hasMipMaps();c=this._smooth?c?"linear,miplinear":"linear":c?"nearest,mipnearest":"nearest";switch(this._alphaMask.get_format()){case 3:d=
"dxt1,";break;case 4:d="dxt5,";break;default:d=""}a+="tex ft3, v1, fs0 <2d,"+c+","+d+b+">\nsub ft3.w, ft3.w, fc2.x\nkil ft3.w\n"}return a+"sub oc, ft0, ft1\t\t\n"},render:function(a,b,c,d){0<this._alphaThreshold&&a.activateUVBuffer(1,b);var e=b._context3D,f=ga.CALCULATION_MATRIX;f.copyFrom(a.getRenderSceneTransform(c));f.append(d);e.setProgramConstantsFromMatrix(1,0,f,!0);a.activateVertexBuffer(0,b);b.drawTriangles(a.getIndexBuffer(b),0,a.get_numTriangles())},activate:function(a,b){var c=a._context3D;
Oa.prototype.activate.call(this,a,b);0<this._alphaThreshold?(c.setTextureAt(0,this._alphaMask.getTextureForStage3D(a)),c.setProgramConstantsFromVector(0,0,this._data,3)):c.setProgramConstantsFromVector(0,0,this._data,2)},__class__:ii,__properties__:t(Oa.prototype.__properties__,{set_alphaMask:"set_alphaMask",get_alphaMask:"get_alphaMask",set_alphaThreshold:"set_alphaThreshold",get_alphaThreshold:"get_alphaThreshold"})});var ji=function(){Oa.call(this);for(var a=[1,255,65025,16581375,.00392156862745098,
.00392156862745098,.00392156862745098,0,0,0,0,0],b=D.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this._fragmentData=b;this._vertexData=D.toFloatVector(null,4,!0);this._vertexData.set(3,1);this._numUsedVertexConstants=9};k["away3d.materials.passes.DistanceMapPass"]=ji;ji.__name__=["away3d","materials","passes","DistanceMapPass"];ji.__super__=Oa;ji.prototype=t(Oa.prototype,{_fragmentData:null,_vertexData:null,_alphaThreshold:null,_alphaMask:null,get_alphaThreshold:function(){return this._alphaThreshold},
set_alphaThreshold:function(a){0>a?a=0:1<a&&(a=1);if(a==this._alphaThreshold)return a;0!=a&&0!=this._alphaThreshold||this.invalidateShaderProgram();this._alphaThreshold=a;this._fragmentData.set(8,this._alphaThreshold);return a},get_alphaMask:function(){return this._alphaMask},set_alphaMask:function(a){return this._alphaMask=a},getVertexCode:function(){var a="m44 op, vt0, vc0\t\t\nm44 vt1, vt0, vc5\t\t\nsub v0, vt1, vc9\t\t\n";0<this._alphaThreshold?(a+="mov v1, va1\n",this._numUsedTextures=1,this._numUsedStreams=
2):(this._numUsedTextures=0,this._numUsedStreams=1);return a},getFragmentCode:function(a){var b=this._repeat?"wrap":"clamp",c;c=this._smooth?this._mipmap?"linear,miplinear":"linear":this._mipmap?"nearest,mipnearest":"nearest";a="dp3 ft2.z, v0.xyz, v0.xyz\t\nmul ft0, fc0, ft2.z\t\nfrc ft0, ft0\t\t\t\nmul ft1, ft0.yzww, fc1\t\n";if(0<this._alphaThreshold){var d;switch(this._alphaMask.get_format()){case 3:d="dxt1,";break;case 4:d="dxt5,";break;default:d=""}a+="tex ft3, v1, fs0 <2d,"+c+","+d+b+">\nsub ft3.w, ft3.w, fc2.x\nkil ft3.w\n"}return a+
"sub oc, ft0, ft1\t\t\n"},render:function(a,b,c,d){var e=b._context3D,f=c.get_scenePosition();this._vertexData.set(0,f.x);this._vertexData.set(1,f.y);this._vertexData.set(2,f.z);this._vertexData.set(3,1);c=a.getRenderSceneTransform(c);e.setProgramConstantsFromMatrix(1,5,c,!0);e.setProgramConstantsFromVector(1,9,this._vertexData,1);0<this._alphaThreshold&&a.activateUVBuffer(1,b);f=ga.CALCULATION_MATRIX;f.copyFrom(c);f.append(d);e.setProgramConstantsFromMatrix(1,0,f,!0);a.activateVertexBuffer(0,b);
b.drawTriangles(a.getIndexBuffer(b),0,a.get_numTriangles())},activate:function(a,b){var c=a._context3D;Oa.prototype.activate.call(this,a,b);var d=b.get_lens().get_far(),d=1/(2*d*d);this._fragmentData.set(0,d);this._fragmentData.set(1,255*d);this._fragmentData.set(2,65025*d);this._fragmentData.set(3,16581375*d);0<this._alphaThreshold?(c.setTextureAt(0,this._alphaMask.getTextureForStage3D(a)),c.setProgramConstantsFromVector(0,0,this._fragmentData,3)):c.setProgramConstantsFromVector(0,0,this._fragmentData,
2)},__class__:ji,__properties__:t(Oa.prototype.__properties__,{set_alphaMask:"set_alphaMask",get_alphaMask:"get_alphaMask",set_alphaThreshold:"set_alphaThreshold",get_alphaThreshold:"get_alphaThreshold"})});var Ge=function(a){this._constants=D.toFloatVector(null,4,!0);this._calcMatrix=new Sa;this._thickness=a;this._constants.set(1,.00392156862745098);Oa.call(this)};k["away3d.materials.passes.SegmentPass"]=Ge;Ge.__name__=["away3d","materials","passes","SegmentPass"];Ge.__super__=Oa;Ge.prototype=t(Oa.prototype,
{_constants:null,_calcMatrix:null,_thickness:null,getVertexCode:function(){return"m44 vt0, va0, vc8\t\t\t\nm44 vt1, va1, vc8\t\t\t\nsub vt2, vt1, vt0 \t\t\t\nslt vt5.x, vt0.z, vc7.z\t\t\t\nsub vt5.y, vc5.x, vt5.x\t\t\t\nadd vt4.x, vt0.z, vc7.z\t\t\t\nsub vt4.y, vt0.z, vt1.z\t\t\t\nseq vt4.z, vt4.y vc6.x\t\t\t\nadd vt4.y, vt4.y, vt4.z\t\t\t\ndiv vt4.z, vt4.x, vt4.y\t\t\t\nmul vt4.xyz, vt4.zzz, vt2.xyz\t\nadd vt3.xyz, vt0.xyz, vt4.xyz\t\nmov vt3.w, vc5.x\t\t\t\nmul vt0, vt0, vt5.yyyy\t\t\t\nmul vt3, vt3, vt5.xxxx\t\t\t\nadd vt0, vt0, vt3\t\t\t\t\nsub vt2, vt1, vt0 \t\t\t\nnrm vt2.xyz, vt2.xyz\t\t\t\nnrm vt5.xyz, vt0.xyz\t\t\t\nmov vt5.w, vc5.x\t\t\t\t\ncrs vt3.xyz, vt2, vt5\t\t\t\nnrm vt3.xyz, vt3.xyz\t\t\t\nmul vt3.xyz, vt3.xyz, va2.xxx\t\nmov vt3.w, vc5.x\t\t\t\ndp3 vt4.x, vt0, vc6\t\t\t\nmul vt4.x, vt4.x, vc7.x\t\t\t\nmul vt3.xyz, vt3.xyz, vt4.xxx\t\nadd vt0.xyz, vt0.xyz, vt3.xyz\t\nm44 op, vt0, vc0\t\t\t\nmov v0, va3\t\t\t\t\n"},
getFragmentCode:function(a){return"mov oc, v0\n"},render:function(a,b,c,d){d=b._context3D;this._calcMatrix.copyFrom(a.get_sourceEntity().get_sceneTransform());this._calcMatrix.append(c.get_inverseSceneTransform());c=y.__cast(a,Qc).get_subSetCount();if(y.__cast(a,Qc).get_hasData())for(var e=0;e<c;){var f=e++;a.activateVertexBuffer(f,b);d.setProgramConstantsFromMatrix(1,8,this._calcMatrix,!0);b.drawTriangles(a.getIndexBuffer(b),0,a.get_numTriangles())}},activate:function(a,b){var c=a._context3D;Oa.prototype.activate.call(this,
a,b);null!=a.get_scissorRect()?this._constants.set(0,this._thickness/Math.min(a.get_scissorRect().width,a.get_scissorRect().height)):this._constants.set(0,this._thickness/Math.min(a.get_width(),a.get_height()));this._constants.set(2,b.get_lens().get_near());c.setProgramConstantsFromVector(1,5,Ge.ONE_VECTOR);c.setProgramConstantsFromVector(1,6,Ge.FRONT_VECTOR);c.setProgramConstantsFromVector(1,7,this._constants);if(null==a.get_renderTarget())c.setProgramConstantsFromMatrix(1,0,b.get_lens().get_matrix(),
!0);else{this._calcMatrix.copyFrom(b.get_lens().get_matrix());var d=Vc.getInstance(a);this._calcMatrix.appendScale(d.get_textureRatioX(),d.get_textureRatioY(),1);c.setProgramConstantsFromMatrix(1,0,this._calcMatrix,!0)}},deactivate:function(a){a=a._context3D;a.setVertexBufferAt(0,null);a.setVertexBufferAt(1,null);a.setVertexBufferAt(2,null);a.setVertexBufferAt(3,null)},__class__:Ge});var li=function(){Oa.call(this);this.set_mipmap(!1);this._numUsedTextures=1;for(var a=[0,0,0,0,1,1,1,1],b=D.toFloatVector(null),
c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this._vertexData=b};k["away3d.materials.passes.SkyBoxPass"]=li;li.__name__=["away3d","materials","passes","SkyBoxPass"];li.__super__=Oa;li.prototype=t(Oa.prototype,{_cubeTexture:null,_vertexData:null,get_cubeTexture:function(){return this._cubeTexture},set_cubeTexture:function(a){return this._cubeTexture=a},getVertexCode:function(){return"mul vt0, va0, vc5\t\t\nadd vt0, vt0, vc4\t\t\nm44 op, vt0, vc0\t\t\nmov v0, va0\n"},getFragmentCode:function(a){switch(this._cubeTexture.get_format()){case 3:a=
"dxt1,";break;case 4:a="dxt5,";break;default:a=""}var b=",mipnone";this._cubeTexture.get_hasMipMaps()&&(b=",miplinear");return"tex ft0, v0, fs0 <cube,"+a+"linear,clamp"+b+">\t\nmov oc, ft0\t\t\t\t\t\t\t\n"},render:function(a,b,c,d){var e=b._context3D,f=c.get_scenePosition();this._vertexData.set(0,f.x);this._vertexData.set(1,f.y);this._vertexData.set(2,f.z);this._vertexData.set(4,this._vertexData.set(5,this._vertexData.set(6,c.get_lens().get_far()/Math.sqrt(3))));e.setProgramConstantsFromMatrix(1,
0,d,!0);e.setProgramConstantsFromVector(1,4,this._vertexData,2);a.activateVertexBuffer(0,b);b.drawTriangles(a.getIndexBuffer(b),0,a.get_numTriangles())},activate:function(a,b){Oa.prototype.activate.call(this,a,b);var c=a._context3D;c.setDepthTest(!1,4);c.setTextureAt(0,this._cubeTexture.getTextureForStage3D(a))},__class__:li,__properties__:t(Oa.prototype.__properties__,{set_cubeTexture:"set_cubeTexture",get_cubeTexture:"get_cubeTexture"})});var ki=function(a){this._includeCasters=!0;ld.call(this,
a);this._needFragmentAnimation=!0};k["away3d.materials.passes.SuperShaderPass"]=ki;ki.__name__=["away3d","materials","passes","SuperShaderPass"];ki.__super__=ld;ki.prototype=t(ld.prototype,{_includeCasters:null,_ignoreLights:null,createCompiler:function(a){return new oi(a)},get_includeCasters:function(){return this._includeCasters},set_includeCasters:function(a){if(this._includeCasters==a)return a;this._includeCasters=a;this.invalidateShaderProgram();return a},get_colorTransform:function(){return null!=
this._methodSetup.get_colorTransformMethod()?this._methodSetup._colorTransformMethod.get_colorTransform():null},set_colorTransform:function(a){null!=a?(null==this.get_colorTransformMethod()&&this.set_colorTransformMethod(new qi),this._methodSetup._colorTransformMethod.set_colorTransform(a)):null==a&&(null!=this._methodSetup._colorTransformMethod&&this.set_colorTransformMethod(null),this.set_colorTransformMethod(this._methodSetup._colorTransformMethod=null));return a},get_colorTransformMethod:function(){return this._methodSetup.get_colorTransformMethod()},
set_colorTransformMethod:function(a){this._methodSetup.set_colorTransformMethod(a);return a},addMethod:function(a){this._methodSetup.addMethod(a)},numMethods:null,get_numMethods:function(){return this._methodSetup.get_numMethods()},hasMethod:function(a){return this._methodSetup.hasMethod(a)},getMethodAt:function(a){return this._methodSetup.getMethodAt(a)},addMethodAt:function(a,b){this._methodSetup.addMethodAt(a,b)},removeMethod:function(a){this._methodSetup.removeMethod(a)},updateLights:function(){null==
this._lightPicker||this._ignoreLights?this._numLightProbes=this._numDirectionalLights=this._numPointLights=0:(this._numPointLights=this._lightPicker.get_numPointLights(),this._numDirectionalLights=this._lightPicker.get_numDirectionalLights(),this._numLightProbes=this._lightPicker.get_numLightProbes(),this._includeCasters&&(this._numPointLights+=this._lightPicker.get_numCastingPointLights(),this._numDirectionalLights+=this._lightPicker.get_numCastingDirectionalLights()));this.invalidateShaderProgram()},
activate:function(a,b){ld.prototype.activate.call(this,a,b);null!=this._methodSetup._colorTransformMethod&&this._methodSetup._colorTransformMethod.activate(this._methodSetup._colorTransformMethodVO,a);for(var c=this._methodSetup._methods,d=0,e=c.get_length();d<e;){var f=d++,f=c.get(f);f.method.activate(f.data,a)}0<=this._cameraPositionIndex&&(c=b.get_scenePosition(),this._vertexConstantData.set(this._cameraPositionIndex,c.x),this._vertexConstantData.set(this._cameraPositionIndex+1,c.y),this._vertexConstantData.set(this._cameraPositionIndex+
2,c.z))},deactivate:function(a){ld.prototype.deactivate.call(this,a);null!=this._methodSetup._colorTransformMethod&&this._methodSetup._colorTransformMethod.deactivate(this._methodSetup._colorTransformMethodVO,a);for(var b,c=this._methodSetup._methods,d=0,e=c.get_length();d<e;)b=d++,b=c.get(b),b.method.deactivate(b.data,a)},addPassesFromMethods:function(){ld.prototype.addPassesFromMethods.call(this);null!=this._methodSetup._colorTransformMethod&&this.addPasses(this._methodSetup._colorTransformMethod.get_passes());
for(var a=this._methodSetup._methods,b=0,c=a.get_length();b<c;){var d=b++;this.addPasses(a.get(d).method.get_passes())}},usesProbesForSpecular:function(){return 0<this._numLightProbes?0!=(this._specularLightSources&2):!1},usesProbesForDiffuse:function(){return 0<this._numLightProbes?0!=(this._diffuseLightSources&2):!1},updateMethodConstants:function(){ld.prototype.updateMethodConstants.call(this);null!=this._methodSetup._colorTransformMethod&&this._methodSetup._colorTransformMethod.initConstants(this._methodSetup._colorTransformMethodVO);
for(var a=this._methodSetup._methods,b=0,c=a.get_length();b<c;){var d=b++;a.get(d).method.initConstants(a.get(d).data)}},updateLightConstants:function(){var a,b,c,d;b=0;var e=this._includeCasters?2:1;c=this._lightFragmentConstantIndex;for(var f=0;f<e;){var p=0!=f++?this._lightPicker.get_castingDirectionalLights():this._lightPicker.get_directionalLights();d=p.get_length();b+=d;for(var g=0,m=d;g<m;)d=g++,a=p.get(d),d=a.get_sceneDirection(),this._ambientLightR+=a._ambientR,this._ambientLightG+=a._ambientG,
this._ambientLightB+=a._ambientB,this._fragmentConstantData.set(c++,-d.x),this._fragmentConstantData.set(c++,-d.y),this._fragmentConstantData.set(c++,-d.z),this._fragmentConstantData.set(c++,1),this._fragmentConstantData.set(c++,a._diffuseR),this._fragmentConstantData.set(c++,a._diffuseG),this._fragmentConstantData.set(c++,a._diffuseB),this._fragmentConstantData.set(c++,1),this._fragmentConstantData.set(c++,a._specularR),this._fragmentConstantData.set(c++,a._specularG),this._fragmentConstantData.set(c++,
a._specularB),this._fragmentConstantData.set(c++,1)}if(this._numDirectionalLights>b)for(b=c+12*(this._numDirectionalLights-b);Z.gt(b,c);)this._fragmentConstantData.set(c++,0);for(f=b=0;f<e;)for(p=0!=f++?this._lightPicker.get_castingPointLights():this._lightPicker.get_pointLights(),d=p.get_length(),g=0,m=d;g<m;)d=g++,a=p.get(d),d=a.get_scenePosition(),this._ambientLightR+=a._ambientR,this._ambientLightG+=a._ambientG,this._ambientLightB+=a._ambientB,this._fragmentConstantData.set(c++,d.x),this._fragmentConstantData.set(c++,
d.y),this._fragmentConstantData.set(c++,d.z),this._fragmentConstantData.set(c++,1),this._fragmentConstantData.set(c++,a._diffuseR),this._fragmentConstantData.set(c++,a._diffuseG),this._fragmentConstantData.set(c++,a._diffuseB),this._fragmentConstantData.set(c++,a._radius*a._radius),this._fragmentConstantData.set(c++,a._specularR),this._fragmentConstantData.set(c++,a._specularG),this._fragmentConstantData.set(c++,a._specularB),this._fragmentConstantData.set(c++,a._fallOffFactor);if(this._numPointLights>
b)for(b=c+12*(b-this._numPointLights);Z.gt(b,c);)this._fragmentConstantData.set(c,0),++c},updateProbes:function(a){var b,c=this._lightPicker.get_lightProbes(),d=this._lightPicker.get_lightProbeWeights(),e=c.get_length(),f=this.usesProbesForDiffuse(),p=null!=this._methodSetup._specularMethod&&this.usesProbesForSpecular(),g=a._context3D;if(f||p){for(var m=0;m<e;){var h=m++;b=c.get(h);f&&g.setTextureAt(this._lightProbeDiffuseIndices.get(h),b.get_diffuseMap().getTextureForStage3D(a));p&&g.setTextureAt(this._lightProbeSpecularIndices.get(h),
b.get_specularMap().getTextureForStage3D(a))}this._fragmentConstantData.set(this._probeWeightsIndex,d.get(0));this._fragmentConstantData.set(this._probeWeightsIndex+1,d.get(1));this._fragmentConstantData.set(this._probeWeightsIndex+2,d.get(2));this._fragmentConstantData.set(this._probeWeightsIndex+3,d.get(3))}},set_ignoreLights:function(a){return this._ignoreLights=a},get_ignoreLights:function(){return this._ignoreLights},__class__:ki,__properties__:t(ld.prototype.__properties__,{set_ignoreLights:"set_ignoreLights",
get_ignoreLights:"get_ignoreLights",get_numMethods:"get_numMethods",set_colorTransformMethod:"set_colorTransformMethod",get_colorTransformMethod:"get_colorTransformMethod",set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform",set_includeCasters:"set_includeCasters",get_includeCasters:"get_includeCasters"})});var Cb=function(){};k["away3d.materials.utils.DefaultMaterialManager"]=Cb;Cb.__name__=["away3d","materials","utils","DefaultMaterialManager"];Cb.getDefaultMaterial=function(a){null==
Cb._defaultTexture&&Cb.createDefaultTexture();null==Cb._defaultMaterial&&Cb.createDefaultMaterial();return Cb._defaultMaterial};Cb.getDefaultTexture=function(a){null==Cb._defaultTexture&&Cb.createDefaultTexture();return Cb._defaultTexture};Cb.createDefaultTexture=function(){Cb._defaultTextureBitmapData=new ma(8,8,!1,0);for(var a=0;8>a;)for(var b=a++,c=0;8>c;){var d=c++;0!=(d&1^b&1)&&Cb._defaultTextureBitmapData.setPixel(b,d,16777215)}Cb._defaultTexture=new jc(Cb._defaultTextureBitmapData);Cb._defaultTexture.set_name("defaultTexture")};
Cb.createDefaultMaterial=function(){Cb._defaultMaterial=new ni(Cb._defaultTexture);Cb._defaultMaterial.set_mipmap(!1);Cb._defaultMaterial.set_smooth(!1);Cb._defaultMaterial.set_name("defaultMaterial")};var zc=function(){};k["away3d.materials.utils.MipmapGenerator"]=zc;zc.__name__=["away3d","materials","utils","MipmapGenerator"];zc.generateMipMaps=function(a,b,c,d,e){null==e&&(e=-1);null==d&&(d=!1);var f=a.width,p=a.height,g=0,m=null!=c;null==c&&(c=new ma(f,p,d));zc._rect.width=Z.toFloat(f);for(zc._rect.height=
Z.toFloat(p);Z.gte(f,1)||Z.gte(p,1);){d&&c.fillRect(zc._rect,0);zc._matrix.a=zc._rect.width/a.width;zc._matrix.d=zc._rect.height/a.height;c.draw(a,zc._matrix,null,null,null,!0);y.__instanceof(b,Jd)?y.__cast(b,Jd).uploadFromBitmapData(c,g++):y.__cast(b,Kf).uploadFromBitmapData(c,e,g++);var f=f>>>1,p=p>>>1,h=Z.gt(f,1)?Z.toFloat(f):1;zc._rect.width=h;h=Z.gt(p,1)?Z.toFloat(p):1;zc._rect.height=h}m||c.dispose()};var md=function(){this._geomDirty=this._uvDirty=!0;xc.call(this);this._subGeometry=new Wc;
this._subGeometry.set_autoGenerateDummyUVs(!1);this.addSubGeometry(this._subGeometry)};k["away3d.primitives.PrimitiveBase"]=md;md.__name__=["away3d","primitives","PrimitiveBase"];md.__super__=xc;md.prototype=t(xc.prototype,{_geomDirty:null,_uvDirty:null,_subGeometry:null,get_subGeometries:function(){this._geomDirty&&this.updateGeometry();this._uvDirty&&this.updateUVs();return xc.prototype.get_subGeometries.call(this)},clone:function(){this._geomDirty&&this.updateGeometry();this._uvDirty&&this.updateUVs();
return xc.prototype.clone.call(this)},scale:function(a){this._geomDirty&&this.updateGeometry();xc.prototype.scale.call(this,a)},scaleUV:function(a,b){null==b&&(b=1);null==a&&(a=1);this._uvDirty&&this.updateUVs();xc.prototype.scaleUV.call(this,a,b)},applyTransformation:function(a){this._geomDirty&&this.updateGeometry();xc.prototype.applyTransformation.call(this,a)},buildGeometry:function(a){throw new F(new oa);},buildUVs:function(a){throw new F(new oa);},invalidateGeometry:function(){this._geomDirty=
!0},invalidateUVs:function(){this._uvDirty=!0},updateGeometry:function(){this.buildGeometry(this._subGeometry);this._geomDirty=!1},updateUVs:function(){this.buildUVs(this._subGeometry);this._uvDirty=!1},validate:function(){this._geomDirty&&this.updateGeometry();this._uvDirty&&this.updateUVs()},__class__:md});var ui=function(a,b,c,d,e,f,p){null==p&&(p=!0);null==f&&(f=1);null==e&&(e=1);null==d&&(d=1);null==c&&(c=100);null==b&&(b=100);null==a&&(a=100);md.call(this);this._width=a;this._height=b;this._depth=
c;this._segmentsW=d;this._segmentsH=e;this._segmentsD=f;this._tile6=p};k["away3d.primitives.CubeGeometry"]=ui;ui.__name__=["away3d","primitives","CubeGeometry"];ui.__super__=md;ui.prototype=t(md.prototype,{_width:null,_height:null,_depth:null,_tile6:null,_segmentsW:null,_segmentsH:null,_segmentsD:null,get_width:function(){return this._width},set_width:function(a){this._width=a;this.invalidateGeometry();return a},get_height:function(){return this._height},set_height:function(a){this._height=a;this.invalidateGeometry();
return a},get_depth:function(){return this._depth},set_depth:function(a){this._depth=a;this.invalidateGeometry();return a},get_tile6:function(){return this._tile6},set_tile6:function(a){this._tile6=a;this.invalidateUVs();return a},get_segmentsW:function(){return this._segmentsW},set_segmentsW:function(a){this._segmentsW=a;this.invalidateGeometry();this.invalidateUVs();return a},get_segmentsH:function(){return this._segmentsH},set_segmentsH:function(a){this._segmentsH=a;this.invalidateGeometry();this.invalidateUVs();
return a},get_segmentsD:function(){return this._segmentsD},set_segmentsD:function(a){this._segmentsD=a;this.invalidateGeometry();this.invalidateUVs();return a},buildGeometry:function(a){var b,c,d=0,e=0,f=0,p=0,g=0,m=0,h=0,l=0,k=0,A=0,q=0,v=0,n=0,C;b=2*((this._segmentsW+1)*(this._segmentsH+1)+(this._segmentsW+1)*(this._segmentsD+1)+(this._segmentsH+1)*(this._segmentsD+1));c=a.get_vertexStride();var r=c-9;b==a.get_numVertices()?(b=a.get_vertexData(),c=a.get_indexData(),null==c&&(c=D.toIntVector(null,
12*(this._segmentsW*this._segmentsH+this._segmentsW*this._segmentsD+this._segmentsH*this._segmentsD),!0))):(b=D.toFloatVector(null,b*c,!0),c=D.toIntVector(null,12*(this._segmentsW*this._segmentsH+this._segmentsW*this._segmentsD+this._segmentsH*this._segmentsD),!0),this.invalidateUVs());for(var m=a.get_vertexOffset(),h=0,l=this._width/2,k=this._height/2,A=this._depth/2,q=this._width/this._segmentsW,v=this._height/this._segmentsH,n=this._depth/this._segmentsD,t=0,u=this._segmentsW+1;t<u;){var w=t++;
C=-l+w*q;for(var y=0,z=this._segmentsH+1;y<z;)e=y++,b.set(m++,C),b.set(m++,-k+e*v),b.set(m++,-A),b.set(m++,0),b.set(m++,0),b.set(m++,-1),b.set(m++,1),b.set(m++,0),b.set(m++,0),m+=r,b.set(m++,C),b.set(m++,-k+e*v),b.set(m++,A),b.set(m++,0),b.set(m++,0),b.set(m++,1),b.set(m++,-1),b.set(m++,0),b.set(m++,0),m+=r,0<w&&0<e&&(d=2*((w-1)*(this._segmentsH+1)+(e-1))|0,e=2*(w*(this._segmentsH+1)+(e-1))|0,f=d+2,p=e+2,c.set(h++,d),c.set(h++,f),c.set(h++,p),c.set(h++,d),c.set(h++,p),c.set(h++,e),c.set(h++,e+1),
c.set(h++,p+1),c.set(h++,f+1),c.set(h++,e+1),c.set(h++,f+1),c.set(h++,d+1))}g+=2*(this._segmentsW+1)*(this._segmentsH+1)|0;t=0;for(u=this._segmentsW+1;t<u;)for(w=t++,C=-l+w*q,y=0,z=this._segmentsD+1;y<z;)e=y++,b.set(m++,C),b.set(m++,k),b.set(m++,-A+e*n),b.set(m++,0),b.set(m++,1),b.set(m++,0),b.set(m++,1),b.set(m++,0),b.set(m++,0),m+=r,b.set(m++,C),b.set(m++,-k),b.set(m++,-A+e*n),b.set(m++,0),b.set(m++,-1),b.set(m++,0),b.set(m++,1),b.set(m++,0),b.set(m++,0),m+=r,0<w&&0<e&&(d=g+2*((w-1)*(this._segmentsD+
1)+(e-1))|0,e=g+2*(w*(this._segmentsD+1)+(e-1))|0,f=d+2,p=e+2,c.set(h++,d),c.set(h++,f),c.set(h++,p),c.set(h++,d),c.set(h++,p),c.set(h++,e),c.set(h++,e+1),c.set(h++,p+1),c.set(h++,f+1),c.set(h++,e+1),c.set(h++,f+1),c.set(h++,d+1));g+=2*(this._segmentsW+1)*(this._segmentsD+1)|0;q=0;for(t=this._segmentsD+1;q<t;)for(u=q++,C=A-u*n,w=0,y=this._segmentsH+1;w<y;)e=w++,b.set(m++,-l),b.set(m++,-k+e*v),b.set(m++,C),b.set(m++,-1),b.set(m++,0),b.set(m++,0),b.set(m++,0),b.set(m++,0),b.set(m++,-1),m+=r,b.set(m++,
l),b.set(m++,-k+e*v),b.set(m++,C),b.set(m++,1),b.set(m++,0),b.set(m++,0),b.set(m++,0),b.set(m++,0),b.set(m++,1),m+=r,0<u&&0<e&&(d=g+2*((u-1)*(this._segmentsH+1)+(e-1))|0,e=g+2*(u*(this._segmentsH+1)+(e-1))|0,f=d+2,p=e+2,c.set(h++,d),c.set(h++,f),c.set(h++,p),c.set(h++,d),c.set(h++,p),c.set(h++,e),c.set(h++,e+1),c.set(h++,p+1),c.set(h++,f+1),c.set(h++,e+1),c.set(h++,f+1),c.set(h++,d+1));a.updateData(b);a.updateIndexData(c)},buildUVs:function(a){var b,c,d,e,f,p,g,m,h,l,k,A,q=a.get_UVStride();b=2*((this._segmentsW+
1)*(this._segmentsH+1)+(this._segmentsW+1)*(this._segmentsD+1)+(this._segmentsH+1)*(this._segmentsD+1))*q|0;q-=2;null!=a.get_UVData()&&b==a.get_UVData().get_length()?c=a.get_UVData():(c=D.toFloatVector(null,b,!0),this.invalidateGeometry());this._tile6?(d=f=.3333333333333333,e=p=.5):(d=e=1,f=p=0);b=a.get_UVOffset();g=f;m=p;h=2*f;l=0*p;k=d/this._segmentsW;A=e/this._segmentsH;for(var v=0,n=this._segmentsW+1;v<n;)for(var C=v++,r=0,t=this._segmentsH+1;r<t;){var u=r++;c.set(b++,(g+C*k)*a.get_scaleU());
c.set(b++,(m+(e-u*A))*a.get_scaleV());b+=q;c.set(b++,(h+(d-C*k))*a.get_scaleU());c.set(b++,(l+(e-u*A))*a.get_scaleV());b+=q}g=f;m=0*p;h=0*f;l=0*p;k=d/this._segmentsW;A=e/this._segmentsD;v=0;for(n=this._segmentsW+1;v<n;)for(C=v++,r=0,t=this._segmentsD+1;r<t;)u=r++,c.set(b++,(g+C*k)*a.get_scaleU()),c.set(b++,(m+(e-u*A))*a.get_scaleV()),b+=q,c.set(b++,(h+C*k)*a.get_scaleU()),c.set(b++,(l+u*A)*a.get_scaleV()),b+=q;g=0*f;m=p;h=2*f;l=p;k=d/this._segmentsD;A=e/this._segmentsH;f=0;for(p=this._segmentsD+1;f<
p;)for(v=f++,n=0,C=this._segmentsH+1;n<C;)r=n++,c.set(b++,(g+v*k)*a.get_scaleU()),c.set(b++,(m+(e-r*A))*a.get_scaleV()),b+=q,c.set(b++,(h+(d-v*k))*a.get_scaleU()),c.set(b++,(l+(e-r*A))*a.get_scaleV()),b+=q;a.updateData(c)},__class__:ui,__properties__:t(md.prototype.__properties__,{set_segmentsD:"set_segmentsD",get_segmentsD:"get_segmentsD",set_segmentsH:"set_segmentsH",get_segmentsH:"get_segmentsH",set_segmentsW:"set_segmentsW",get_segmentsW:"get_segmentsW",set_tile6:"set_tile6",get_tile6:"get_tile6",
set_depth:"set_depth",get_depth:"get_depth",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width"})});var Ig=function(a,b,c,d,e,f){null==f&&(f=1);null==e&&(e=3355443);null==d&&(d=3355443);this._index=this._subSetIndex=-1;this._thickness=.5*f;this._start=a;this._end=b;this.set_startColor(d);this.set_endColor(e)};k["away3d.primitives.data.Segment"]=Ig;Ig.__name__=["away3d","primitives","data","Segment"];Ig.prototype={_segmentsBase:null,_thickness:null,_start:null,
_end:null,_startR:null,_startG:null,_startB:null,_endR:null,_endG:null,_endB:null,_index:null,_subSetIndex:null,_startColor:null,_endColor:null,updateSegment:function(a,b,c,d,e,f){null==f&&(f=1);null==e&&(e=3355443);null==d&&(d=3355443);this._start=a;this._end=b;this._startColor!=d&&this.set_startColor(d);this._endColor!=e&&this.set_endColor(e);this._thickness=.5*f;this.update()},get_start:function(){return this._start},set_start:function(a){this._start=a;this.update();return a},get_end:function(){return this._end},
set_end:function(a){this._end=a;this.update();return a},get_thickness:function(){return 2*this._thickness},set_thickness:function(a){this._thickness=.5*a;this.update();return a},get_startColor:function(){return this._startColor},set_startColor:function(a){this._startR=(a>>16&255)/255;this._startG=(a>>8&255)/255;this._startB=(a&255)/255;this._startColor=a;this.update();return a},get_endColor:function(){return this._endColor},set_endColor:function(a){this._endR=(a>>16&255)/255;this._endG=(a>>8&255)/
255;this._endB=(a&255)/255;this._endColor=a;this.update();return a},dispose:function(){this._end=this._start=null},get_index:function(){return this._index},set_index:function(a){return this._index=a},get_subSetIndex:function(){return this._subSetIndex},set_subSetIndex:function(a){return this._subSetIndex=a},set_segmentsBase:function(a){return this._segmentsBase=a},update:function(){null!=this._segmentsBase&&this._segmentsBase.updateSegment(this)},__class__:Ig,__properties__:{set_segmentsBase:"set_segmentsBase",
set_subSetIndex:"set_subSetIndex",get_subSetIndex:"get_subSetIndex",set_index:"set_index",get_index:"get_index",set_endColor:"set_endColor",get_endColor:"get_endColor",set_startColor:"set_startColor",get_startColor:"get_startColor",set_thickness:"set_thickness",get_thickness:"get_thickness",set_end:"set_end",get_end:"get_end",set_start:"set_start",get_start:"get_start"}};var Jg=function(a,b,c,d,e){null==e&&(e=1);null==d&&(d=3355443);null==c&&(c=3355443);Ig.call(this,a,b,null,c,d,e)};k["away3d.primitives.LineSegment"]=
Jg;Jg.__name__=["away3d","primitives","LineSegment"];Jg.__super__=Ig;Jg.prototype=t(Ig.prototype,{__class__:Jg});var vi=function(a,b,c,d,e,f){null==f&&(f=!1);null==e&&(e=!0);null==d&&(d=1);null==c&&(c=1);null==b&&(b=100);null==a&&(a=100);md.call(this);this._segmentsW=c;this._segmentsH=d;this._yUp=e;this._width=a;this._height=b;this._doubleSided=f};k["away3d.primitives.PlaneGeometry"]=vi;vi.__name__=["away3d","primitives","PlaneGeometry"];vi.__super__=md;vi.prototype=t(md.prototype,{_segmentsW:null,
_segmentsH:null,_yUp:null,_width:null,_height:null,_doubleSided:null,get_segmentsW:function(){return this._segmentsW},set_segmentsW:function(a){this._segmentsW=a;this.invalidateGeometry();this.invalidateUVs();return a},get_segmentsH:function(){return this._segmentsH},set_segmentsH:function(a){this._segmentsH=a;this.invalidateGeometry();this.invalidateUVs();return a},get_yUp:function(){return this._yUp},set_yUp:function(a){this._yUp=a;this.invalidateGeometry();return a},get_doubleSided:function(){return this._doubleSided},
set_doubleSided:function(a){this._doubleSided=a;this.invalidateGeometry();return a},get_width:function(){return this._width},set_width:function(a){this._width=a;this.invalidateGeometry();return a},get_height:function(){return this._height},set_height:function(a){this._height=a;this.invalidateGeometry();return a},buildGeometry:function(a){var b,c,d,e,f,p,g=this._segmentsW+1;b=(this._segmentsH+1)*g;var m=a.get_vertexStride(),h=m-9;this._doubleSided&&(b*=2);f=this._segmentsH*this._segmentsW*6;this._doubleSided&&
(f<<=1);b==a.get_numVertices()?(b=a.get_vertexData(),c=a.get_indexData(),null==c&&(c=D.toIntVector(null,f,!0))):(b=D.toFloatVector(null,b*m,!0),c=D.toIntVector(null,f,!0),this.invalidateUVs());f=0;for(var l=a.get_vertexOffset(),k=0,A=this._segmentsH+1;k<A;)for(var q=k++,v=0,n=this._segmentsW+1;v<n;){p=v++;d=(p/this._segmentsW-.5)*this._width;e=(q/this._segmentsH-.5)*this._height;b.set(l++,d);this._yUp?(b.set(l++,0),b.set(l++,e)):(b.set(l++,e),b.set(l++,0));b.set(l++,0);this._yUp?(b.set(l++,1),b.set(l++,
0)):(b.set(l++,0),b.set(l++,-1));b.set(l++,1);b.set(l++,0);b.set(l++,0);l+=h;if(this._doubleSided){for(d=0;3>d;)d++,b.set(l,b.get(l-m)),++l;for(d=0;3>d;)d++,b.set(l,-b.get(l-m)),++l;for(d=0;3>d;)d++,b.set(l,-b.get(l-m)),++l;l+=h}p!=this._segmentsW&&q!=this._segmentsH&&(p+=q*g,d=this._doubleSided?2:1,c.set(f++,p*d),c.set(f++,(p+g)*d),c.set(f++,(p+g+1)*d),c.set(f++,p*d),c.set(f++,(p+g+1)*d),c.set(f++,(p+1)*d),this._doubleSided&&(c.set(f++,(p+g+1)*d+1),c.set(f++,(p+g)*d+1),c.set(f++,p*d+1),c.set(f++,
(p+1)*d+1),c.set(f++,(p+g+1)*d+1),c.set(f++,p*d+1)))}a.updateData(b);a.updateIndexData(c)},buildUVs:function(a){var b,c=a.get_UVStride();b=(this._segmentsH+1)*(this._segmentsW+1)*c;c-=2;this._doubleSided&&(b*=2);null!=a.get_UVData()&&b==a.get_UVData().get_length()?b=a.get_UVData():(b=D.toFloatVector(null,b,!0),this.invalidateGeometry());for(var d=a.get_UVOffset(),e=0,f=this._segmentsH+1;e<f;)for(var p=e++,g=0,m=this._segmentsW+1;g<m;){var h=g++;b.set(d++,h/this._segmentsW*a.get_scaleU());b.set(d++,
(1-p/this._segmentsH)*a.get_scaleV());d+=c;this._doubleSided&&(b.set(d++,h/this._segmentsW*a.get_scaleU()),b.set(d++,(1-p/this._segmentsH)*a.get_scaleV()),d+=c)}a.updateData(b)},__class__:vi,__properties__:t(md.prototype.__properties__,{set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_doubleSided:"set_doubleSided",get_doubleSided:"get_doubleSided",set_yUp:"set_yUp",get_yUp:"get_yUp",set_segmentsH:"set_segmentsH",get_segmentsH:"get_segmentsH",set_segmentsW:"set_segmentsW",
get_segmentsW:"get_segmentsW"})});var Kg=function(a){this._uvTransform2=new Ma;this._uvTransform=new Ma;ib.call(this);this._material=new mi(a);this._material.addOwner(this);this._geometry=new he;this.buildGeometry(this._geometry)};k["away3d.primitives.SkyBox"]=Kg;Kg.__name__=["away3d","primitives","SkyBox"];Kg.__interfaces__=[Ef];Kg.__super__=ib;Kg.prototype=t(ib.prototype,{_geometry:null,_material:null,_uvTransform:null,_uvTransform2:null,_animator:null,get_animator:function(){return this._animator},
getDefaultBoundingVolume:function(){return new ge},activateVertexBuffer:function(a,b){this._geometry.activateVertexBuffer(a,b)},activateUVBuffer:function(a,b){},activateVertexNormalBuffer:function(a,b){},activateVertexTangentBuffer:function(a,b){},activateSecondaryUVBuffer:function(a,b){},getIndexBuffer:function(a){return this._geometry.getIndexBuffer(a)},get_numTriangles:function(){return this._geometry.get_numTriangles()},get_sourceEntity:function(){return null},get_material:function(){return this._material},
set_material:function(a){throw new F(new oa("Unsupported method!"));},get_assetType:function(){return"skybox"},invalidateBounds:function(){},createEntityPartitionNode:function(){return new Zh(this)},updateBounds:function(){this._boundsInvalid=!1},buildGeometry:function(a){for(var b=[-1,1,-1,1,1,-1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1],c=D.toFloatVector(null),d=0,e=b.length;d<e;){var f=d++;c.set(f,b[f])}c.fixed=!0;b=[0,1,2,2,3,0,6,5,4,4,7,6,2,6,7,7,3,2,4,5,1,1,0,4,4,0,3,3,7,4,2,1,5,5,6,2];
d=D.toIntVector(null);e=0;for(f=b.length;e<f;){var p=e++;d.set(p,b[p])}a.updateVertexData(c);a.updateIndexData(d)},get_castsShadows:function(){return!1},get_uvTransform:function(){return this._uvTransform},get_uvTransform2:function(){return this._uvTransform2},get_vertexData:function(){return this._geometry.get_vertexData()},get_indexData:function(){return this._geometry.get_indexData()},get_UVData:function(){return this._geometry.get_UVData()},get_numVertices:function(){return this._geometry.get_numVertices()},
get_vertexStride:function(){return this._geometry.get_vertexStride()},get_vertexNormalData:function(){return this._geometry.get_vertexNormalData()},get_vertexTangentData:function(){return this._geometry.get_vertexTangentData()},get_vertexOffset:function(){return this._geometry.get_vertexOffset()},get_vertexNormalOffset:function(){return this._geometry.get_vertexNormalOffset()},get_vertexTangentOffset:function(){return this._geometry.get_vertexTangentOffset()},getRenderSceneTransform:function(a){return this._sceneTransform},
__class__:Kg,__properties__:t(ib.prototype.__properties__,{get_vertexTangentOffset:"get_vertexTangentOffset",get_vertexNormalOffset:"get_vertexNormalOffset",get_vertexOffset:"get_vertexOffset",get_vertexTangentData:"get_vertexTangentData",get_vertexNormalData:"get_vertexNormalData",get_vertexStride:"get_vertexStride",get_numVertices:"get_numVertices",get_UVData:"get_UVData",get_indexData:"get_indexData",get_vertexData:"get_vertexData",get_uvTransform2:"get_uvTransform2",get_uvTransform:"get_uvTransform",
get_castsShadows:"get_castsShadows",set_material:"set_material",get_material:"get_material",get_sourceEntity:"get_sourceEntity",get_numTriangles:"get_numTriangles",get_animator:"get_animator"})});var Kd=function(a,b){null==b&&(b=1);null==a&&(a=16777215);this._geomDirty=!0;0>=b&&(b=1);this._color=a;this._thickness=b;this.set_mouseEnabled(this.set_mouseChildren(!1));Qc.call(this)};k["away3d.primitives.WireframePrimitiveBase"]=Kd;Kd.__name__=["away3d","primitives","WireframePrimitiveBase"];Kd.__super__=
Qc;Kd.prototype=t(Qc.prototype,{_geomDirty:null,_color:null,_thickness:null,get_color:function(){return this._color},set_color:function(a){this._color=a;for(var b=this._segments.iterator();b.hasNext();){var c=b.next();c.segment.set_startColor(c.segment.set_endColor(a))}return a},get_thickness:function(){return this._thickness},set_thickness:function(a){this._thickness=a;for(var b=this._segments.iterator();b.hasNext();){var c=b.next();c.segment.set_thickness(c.segment.set_thickness(a))}return a},removeAllSegments:function(){Qc.prototype.removeAllSegments.call(this)},
get_bounds:function(){this._geomDirty&&this.updateGeometry();return Qc.prototype.get_bounds.call(this)},buildGeometry:function(){throw new F(new oa);},invalidateGeometry:function(){this._geomDirty=!0;this.invalidateBounds()},updateGeometry:function(){this.buildGeometry();this._geomDirty=!1},updateOrAddSegment:function(a,b,c){var d,e;a=this.getSegment(a);null!=a?(d=a.get_start(),e=a.get_end(),d.x=b.x,d.y=b.y,d.z=b.z,e.x=c.x,e.y=c.y,e.z=c.z,a.updateSegment(d,e,null,this._color,this._color,this._thickness)):
this.addSegment(new Jg(b.clone(),c.clone(),this._color,this._color,this._thickness))},updateMouseChildren:function(){this._ancestorsAllowMouseEnabled=!1},__class__:Kd,__properties__:t(Qc.prototype.__properties__,{set_thickness:"set_thickness",get_thickness:"get_thickness",set_color:"set_color",get_color:"get_color"})});var Mh=function(a,b,c,d,e){null==e&&(e=1);null==d&&(d=16777215);null==c&&(c=100);null==b&&(b=100);null==a&&(a=100);Kd.call(this,d,e);this._width=a;this._height=b;this._depth=c};k["away3d.primitives.WireframeCube"]=
Mh;Mh.__name__=["away3d","primitives","WireframeCube"];Mh.__super__=Kd;Mh.prototype=t(Kd.prototype,{_width:null,_height:null,_depth:null,get_width:function(){return this._width},set_width:function(a){this._width=a;this.invalidateGeometry();return a},get_height:function(){return this._height},set_height:function(a){if(0>=a)throw new F(new ja("Value needs to be greater than 0"));this._height=a;this.invalidateGeometry();return a},get_depth:function(){return this._depth},set_depth:function(a){this._depth=
a;this.invalidateGeometry();return a},buildGeometry:function(){var a=new T,b=new T,c=.5*this._width,d=.5*this._height,e=.5*this._depth;a.x=-c;a.y=d;a.z=-e;b.x=-c;b.y=-d;b.z=-e;this.updateOrAddSegment(0,a,b);a.z=e;b.z=e;this.updateOrAddSegment(1,a,b);a.x=c;b.x=c;this.updateOrAddSegment(2,a,b);a.z=-e;b.z=-e;this.updateOrAddSegment(3,a,b);a.x=-c;a.y=-d;a.z=-e;b.x=c;b.y=-d;b.z=-e;this.updateOrAddSegment(4,a,b);a.y=d;b.y=d;this.updateOrAddSegment(5,a,b);a.z=e;b.z=e;this.updateOrAddSegment(6,a,b);a.y=-d;
b.y=-d;this.updateOrAddSegment(7,a,b);a.x=-c;a.y=-d;a.z=-e;b.x=-c;b.y=-d;b.z=e;this.updateOrAddSegment(8,a,b);a.y=d;b.y=d;this.updateOrAddSegment(9,a,b);a.x=c;b.x=c;this.updateOrAddSegment(10,a,b);a.y=-d;b.y=-d;this.updateOrAddSegment(11,a,b)},__class__:Mh,__properties__:t(Kd.prototype.__properties__,{set_depth:"set_depth",get_depth:"get_depth",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width"})});var wg=function(a,b,c,d,e){null==e&&(e=1);null==d&&(d=16777215);
null==c&&(c=12);null==b&&(b=16);null==a&&(a=50);Kd.call(this,d,e);this._radius=a;this._segmentsW=b;this._segmentsH=c};k["away3d.primitives.WireframeSphere"]=wg;wg.__name__=["away3d","primitives","WireframeSphere"];wg.__super__=Kd;wg.prototype=t(Kd.prototype,{_segmentsW:null,_segmentsH:null,_radius:null,buildGeometry:function(){for(var a=D.toFloatVector(null),b=new T,c=new T,d=0,e=0,f,p,g,m,h=0,l=this._segmentsH+1;h<l;){p=h++;f=Math.PI*p/this._segmentsH;p=-this._radius*Math.cos(f);f=this._radius*Math.sin(f);
for(var k=0,A=this._segmentsW+1;k<A;)m=k++,g=2*Math.PI*m/this._segmentsW,m=f*Math.cos(g),g=f*Math.sin(g),a.set(d++,m),a.set(d++,-p),a.set(d++,g)}p=1;for(f=this._segmentsH+1;p<f;)for(k=p++,A=1,m=this._segmentsH+1;A<m;)g=A++,d=3*((this._segmentsW+1)*k+g),h=3*((this._segmentsW+1)*k+g-1),l=3*((this._segmentsW+1)*(k-1)+g-1),g=3*((this._segmentsW+1)*(k-1)+g),k==this._segmentsH?(b.x=a.get(l),b.y=a.get(l+1),b.z=a.get(l+2),c.x=a.get(g),c.y=a.get(g+1),c.z=a.get(g+2),this.updateOrAddSegment(e++,b,c),b.x=a.get(d),
b.y=a.get(d+1),b.z=a.get(d+2)):1==k?(c.x=a.get(h),c.y=a.get(h+1),c.z=a.get(h+2),b.x=a.get(l),b.y=a.get(l+1),b.z=a.get(l+2)):(c.x=a.get(h),c.y=a.get(h+1),c.z=a.get(h+2),b.x=a.get(l),b.y=a.get(l+1),b.z=a.get(l+2),this.updateOrAddSegment(e++,b,c),c.x=a.get(g),c.y=a.get(g+1),c.z=a.get(g+2)),this.updateOrAddSegment(e++,b,c)},__class__:wg});var jf={};k["away3d.textures._Anisotropy.Anisotropy_Impl_"]=jf;jf.__name__=["away3d","textures","_Anisotropy","Anisotropy_Impl_"];jf.fromString=function(a){switch(a){case "anisotropic16x":return 4;
case "anisotropic2x":return 1;case "anisotropic4x":return 2;case "anisotropic8x":return 3;case "none":return 0;default:return null}};jf.toString=function(a){switch(a){case 0:return"bool";case 1:return"anisotropic2x";case 2:return"anisotropic4x";case 3:return"anisotropic8x";case 4:return"anisotropic16x";default:return null}};var Ic=function(){this._hasMipmaps=!0;this._format=1;this._textures=D.toObjectVector(null,8);this._dirty=D.toObjectVector(null,8);Ia.call(this)};k["away3d.textures.TextureProxyBase"]=
Ic;Ic.__name__=["away3d","textures","TextureProxyBase"];Ic.__interfaces__=[Uc];Ic.__super__=Ia;Ic.prototype=t(Ia.prototype,{_format:null,_hasMipmaps:null,_textures:null,_dirty:null,_width:null,_height:null,get_hasMipMaps:function(){return this._hasMipmaps},get_format:function(){return this._format},get_assetType:function(){return"texture"},get_width:function(){return this._width},set_width:function(a){return a},get_height:function(){return this._height},set_height:function(a){return a},getTextureForStage3D:function(a){var b=
a._stage3DIndex,c=this._textures.get(b);a=a._context3D;if(null==a)return null;if(null==c||this._dirty.get(b)!=a){var d=this._textures,c=this.createTexture(a);d.set(b,c);this._dirty.set(b,a);this.uploadContent(c)}return c},uploadContent:function(a){throw new F(new oa);},setSize:function(a,b){this._width==a&&this._height==b||this.invalidateSize();this._width=a;this._height=b},invalidateContent:function(){for(var a=0;8>a;){var b=a++;this._dirty.set(b,null)}},invalidateSize:function(){for(var a,b=0;8>
b;){var c=b++;a=this._textures.get(c);null!=a&&(a.dispose(),this._textures.set(c,null),this._dirty.set(c,null))}},createTexture:function(a){throw new F(new oa);},dispose:function(){for(var a=0;8>a;){var b=a++;null!=this._textures.get(b)&&this._textures.get(b).dispose()}},__class__:Ic,__properties__:t(Ia.prototype.__properties__,{set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",get_assetType:"get_assetType",get_format:"get_format",get_hasMipMaps:"get_hasMipMaps"})});
var He=function(){Ic.call(this)};k["away3d.textures.CubeTextureBase"]=He;He.__name__=["away3d","textures","CubeTextureBase"];He.__super__=Ic;He.prototype=t(Ic.prototype,{get_size:function(){return this._width},createTexture:function(a){return a.createCubeTexture(this.get_width(),1,!1)},__class__:He,__properties__:t(Ic.prototype.__properties__,{get_size:"get_size"})});var wi=function(a,b,c,d,e,f){Ic.call(this);this._bitmapDatas=D.toObjectVector(null,6,!0);this.testSize(this._bitmapDatas.set(0,a));
this.testSize(this._bitmapDatas.set(1,b));this.testSize(this._bitmapDatas.set(2,c));this.testSize(this._bitmapDatas.set(3,d));this.testSize(this._bitmapDatas.set(4,e));this.testSize(this._bitmapDatas.set(5,f));this.setSize(a.width,a.height)};k["away3d.textures.BitmapCubeTexture"]=wi;wi.__name__=["away3d","textures","BitmapCubeTexture"];wi.__super__=He;wi.prototype=t(He.prototype,{_bitmapDatas:null,get_positiveX:function(){return this._bitmapDatas.get(0)},set_positiveX:function(a){this.testSize(a);
this.invalidateContent();this.setSize(a.width,a.height);this._bitmapDatas.set(0,a);return a},get_negativeX:function(){return this._bitmapDatas.get(1)},set_negativeX:function(a){this.testSize(a);this.invalidateContent();this.setSize(a.width,a.height);this._bitmapDatas.set(1,a);return a},get_positiveY:function(){return this._bitmapDatas.get(2)},set_positiveY:function(a){this.testSize(a);this.invalidateContent();this.setSize(a.width,a.height);this._bitmapDatas.set(2,a);return a},get_negativeY:function(){return this._bitmapDatas.get(3)},
set_negativeY:function(a){this.testSize(a);this.invalidateContent();this.setSize(a.width,a.height);this._bitmapDatas.set(3,a);return a},get_positiveZ:function(){return this._bitmapDatas.get(4)},set_positiveZ:function(a){this.testSize(a);this.invalidateContent();this.setSize(a.width,a.height);this._bitmapDatas.set(4,a);return a},get_negativeZ:function(){return this._bitmapDatas.get(5)},set_negativeZ:function(a){this.testSize(a);this.invalidateContent();this.setSize(a.width,a.height);this._bitmapDatas.set(5,
a);return a},testSize:function(a){if(a.width!=a.height)throw new F(new ja("BitmapData should have equal width and height!"));if(!Hc.isBitmapDataValid(a))throw new F(new ja("Invalid bitmapData: Width and height must be power of 2 and cannot exceed 2048"));},uploadContent:function(a){for(var b=0;6>b;){var c=b++;zc.generateMipMaps(this._bitmapDatas.get(c),a,null,this._bitmapDatas.get(c).transparent,c)}},__class__:wi,__properties__:t(He.prototype.__properties__,{set_negativeZ:"set_negativeZ",get_negativeZ:"get_negativeZ",
set_positiveZ:"set_positiveZ",get_positiveZ:"get_positiveZ",set_negativeY:"set_negativeY",get_negativeY:"get_negativeY",set_positiveY:"set_positiveY",get_positiveY:"get_positiveY",set_negativeX:"set_negativeX",get_negativeX:"get_negativeX",set_positiveX:"set_positiveX",get_positiveX:"get_positiveX"})});var ne=function(){Ic.call(this)};k["away3d.textures.Texture2DBase"]=ne;ne.__name__=["away3d","textures","Texture2DBase"];ne.__super__=Ic;ne.prototype=t(Ic.prototype,{createTexture:function(a){return a.createTexture(this._width,
this._height,1,!1)},__class__:ne});var jc=function(a,b){null==b&&(b=!0);Ic.call(this);this.set_bitmapData(a);this._generateMipmaps=this._hasMipmaps=b};k["away3d.textures.BitmapTexture"]=jc;jc.__name__=["away3d","textures","BitmapTexture"];jc.__super__=ne;jc.prototype=t(ne.prototype,{_bitmapData:null,_mipMapHolder:null,_generateMipmaps:null,get_bitmapData:function(){return this._bitmapData},set_bitmapData:function(a){if(a==this._bitmapData)return null;if(!Hc.isBitmapDataValid(a))throw new F(new ja("Invalid bitmapData: Width and height must be power of 2 and cannot exceed 2048"));
this.invalidateContent();this.setSize(a.width,a.height);this._bitmapData=a;this._generateMipmaps&&this.getMipMapHolder();return a},uploadContent:function(a){this._generateMipmaps?zc.generateMipMaps(this._bitmapData,a,this._mipMapHolder,!0):y.__cast(a,Jd).uploadFromBitmapData(this._bitmapData,0)},getMipMapHolder:function(){var a,b;a=this._bitmapData.width;b=this._bitmapData.height;if(null!=this._mipMapHolder){if(this._mipMapHolder.width==a&&this._bitmapData.height==b)return;this.freeMipMapHolder()}null==
jc._mipMaps[a]&&(jc._mipMaps[a]=[],jc._mipMapUses[a]=[]);null==jc._mipMaps[a][b]?(this._mipMapHolder=jc._mipMaps[a][b]=new ma(a,b,!0),jc._mipMapUses[a][b]=1):(jc._mipMapUses[a][b]+=1,this._mipMapHolder=jc._mipMaps[a][b])},freeMipMapHolder:function(){var a=this._mipMapHolder.width,b=this._mipMapHolder.height;0==--jc._mipMapUses[a][b]&&(jc._mipMaps[a][b].dispose(),jc._mipMaps[a][b]=null)},dispose:function(){ne.prototype.dispose.call(this);null!=this._mipMapHolder&&this.freeMipMapHolder()},__class__:jc,
__properties__:t(ne.prototype.__properties__,{set_bitmapData:"set_bitmapData",get_bitmapData:"get_bitmapData"})});var hi=function(a){Ic.call(this);this.setSize(a,a)};k["away3d.textures.RenderCubeTexture"]=hi;hi.__name__=["away3d","textures","RenderCubeTexture"];hi.__super__=He;hi.prototype=t(He.prototype,{set_size:function(a){if(a==this._width)return a;if(!Hc.isDimensionValid(a))throw new F(new ja("Invalid size: Width and height must be power of 2 and cannot exceed 2048"));this.invalidateContent();
this.setSize(a,a);return a},uploadContent:function(a){for(var b=new ma(this._width,this._height,!1,0),c=0;6>c;){var d=c++;zc.generateMipMaps(b,a,null,!1,d)}b.dispose()},createTexture:function(a){return a.createCubeTexture(this._width,1,!0)},__class__:hi});var gi=function(a,b){Ic.call(this);this.setSize(a,b)};k["away3d.textures.RenderTexture"]=gi;gi.__name__=["away3d","textures","RenderTexture"];gi.__super__=ne;gi.prototype=t(ne.prototype,{set_width:function(a){if(a==this._width)return a;if(!Hc.isDimensionValid(a))throw new F(new ja("Invalid size: Width and height must be power of 2 and cannot exceed 2048"));
this.invalidateContent();this.setSize(a,this._height);return a},set_height:function(a){if(a==this._height)return a;if(!Hc.isDimensionValid(a))throw new F(new ja("Invalid size: Width and height must be power of 2 and cannot exceed 2048"));this.invalidateContent();this.setSize(this._width,a);return a},uploadContent:function(a){},createTexture:function(a){return a.createTexture(this.get_width(),this.get_height(),1,!0)},__class__:gi});var vk=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);null==a&&(a=
!1);this._keepMaterial=a;this._disposeSources=b;this._objectSpace=c};k["away3d.tools.commands.Merge"]=vk;vk.__name__=["away3d","tools","commands","Merge"];vk.prototype={_objectSpace:null,_keepMaterial:null,_disposeSources:null,_geomVOs:null,_toDispose:null,set_disposeSources:function(a){return this._disposeSources=a},get_disposeSources:function(){return this._disposeSources},set_keepMaterial:function(a){return this._keepMaterial=a},get_keepMaterial:function(){return this._keepMaterial},set_objectSpace:function(a){return this._objectSpace=
a},get_objectSpace:function(){return this._objectSpace},applyToContainer:function(a,b){this.reset();this.parseContainer(a,b);this.collect(a,!1);this.merge(a,this._disposeSources)},applyToMeshes:function(a,b){this.reset();if(0!=b.get_length()){for(var c=0,d=b.get_length();c<d;){var e=c++;b.get(e)!=a&&this.collect(b.get(e),this._disposeSources)}this.collect(a,!1);this.merge(a,this._disposeSources)}},apply:function(a,b){this.reset();this.collect(b,this._disposeSources);this.collect(a,!1);this.merge(a,
this._disposeSources)},reset:function(){this._toDispose=D.toObjectVector(null);this._geomVOs=D.toObjectVector(null)},merge:function(a,b){var c,d,e,f;d=a.get_geometry();e=a.set_geometry(new xc);c=a.get_subMeshes().get_length();f=1<this._geomVOs.get_length();for(var p=0,g=this._geomVOs.get_length();p<g;){var m=p++,h,m=this._geomVOs.get(m);h=ad.fromVectors(m.vertices,m.indices,m.uvs,m.normals,null,null,null);for(var l=0,k=h.get_length();l<k;){var A=l++;e.addSubGeometry(h.get(A));this._keepMaterial&&
f&&a.get_subMeshes().get(c).set_material(m.material);++c}}this._keepMaterial&&!f&&0<this._geomVOs.get_length()&&a.set_material(this._geomVOs.get(0).material);if(b){c=0;for(e=this._toDispose;c<e.get_length();)f=e.get(c),++c,f.get_geometry().dispose(),f.dispose();d.dispose()}this._toDispose=null},collect:function(a,b){if(null!=a.get_geometry()){for(var c=a.get_geometry().get_subGeometries(),d,e=0,f=c.get_length();e<f;){var p=e++,g,m,h,l,k,A,q,v,n,C,r,t,u,w,y;l=c.get(p);u=l.get_vertexData();q=l.get_vertexStride();
C=l.get_vertexOffset();w=l.get_vertexNormalData();v=l.get_vertexNormalStride();r=l.get_vertexNormalOffset();y=l.get_UVData();n=l.get_UVStride();t=l.get_UVOffset();p=null!=a.get_subMeshes().get(p).get_material()?this.getSubGeomData(a.get_subMeshes().get(p).get_material()):this.getSubGeomData(a.get_material());k=this._objectSpace?p.vertices:D.toFloatVector(null);A=this._objectSpace?p.normals:D.toFloatVector(null);g=k.get_length();m=A.get_length();h=p.uvs.get_length();d=l.get_numVertices();for(var z=
0,x=d;z<x;){var B=z++;d=C+B*q;k.set(g++,u.get(d));k.set(g++,u.get(d+1));k.set(g++,u.get(d+2));d=r+B*v;A.set(m++,w.get(d));A.set(m++,w.get(d+1));A.set(m++,w.get(d+2));d=t+B*n;p.uvs.set(h++,y.get(d));p.uvs.set(h++,y.get(d+1))}m=this._objectSpace?0:p.vertices.get_length()/3|0;g=p.indices.get_length();d=l.get_numTriangles();q=0;for(v=d;q<v;)d=3*q++,p.indices.set(g++,l.get_indexData().get(d)+m),p.indices.set(g++,l.get_indexData().get(d+1)+m),p.indices.set(g++,l.get_indexData().get(d+2)+m);if(!this._objectSpace)for(a.get_sceneTransform().transformVectors(k,
k),ga.deltaTransformVectors(a.get_sceneTransform(),A,A),g=p.vertices.get_length(),m=p.normals.get_length(),d=k.get_length(),l=0;l<d;)q=l++,p.vertices.set(g++,k.get(q)),p.normals.set(m++,A.get(q))}b&&this._toDispose.push(a)}},getSubGeomData:function(a){var b=null;if(this._keepMaterial)for(var c=0,d=this._geomVOs.get_length();c<d;){var e=c++;if(this._geomVOs.get(e).material==a){b=this._geomVOs.get(e);break}}else 0<this._geomVOs.get_length()&&(b=this._geomVOs.get(0));null==b&&(b=new wk,b.vertices=D.toFloatVector(null),
b.normals=D.toFloatVector(null),b.uvs=D.toFloatVector(null),b.indices=D.toIntVector(null),b.material=a,this._geomVOs.push(b));return b},parseContainer:function(a,b){var c;y.__instanceof(b,cd)&&b!=a&&this.collect(y.__cast(b,cd),this._disposeSources);for(var d=0,e=b.get_numChildren();d<e;)c=d++,c=b.getChildAt(c),this.parseContainer(a,c)},__class__:vk,__properties__:{set_objectSpace:"set_objectSpace",get_objectSpace:"get_objectSpace",set_keepMaterial:"set_keepMaterial",get_keepMaterial:"get_keepMaterial",
set_disposeSources:"set_disposeSources",get_disposeSources:"get_disposeSources"}};var wk=function(){};k["away3d.tools.commands.GeometryVO"]=wk;wk.__name__=["away3d","tools","commands","GeometryVO"];wk.prototype={uvs:null,vertices:null,normals:null,indices:null,material:null,__class__:wk};var ad=function(){};k["away3d.tools.utils.GeomUtil"]=ad;ad.__name__=["away3d","tools","utils","GeomUtil"];ad.fromVectors=function(a,b,c,d,e,f,p,g){null==g&&(g=0);var m=D.toObjectVector(null);null!=c&&0==c.get_length()&&
(c=null);null!=d&&0==d.get_length()&&(d=null);null!=e&&0==e.get_length()&&(e=null);null!=f&&0==f.get_length()&&(f=null);null!=p&&0==p.get_length()&&(p=null);if(983025<=b.get_length()||196605<=a.get_length()){for(var h=0,l,k,A=D.toFloatVector(null),q=D.toIntVector(null),v=null!=c?D.toFloatVector(null):null,n=null!=d?D.toFloatVector(null):null,C=null!=e?D.toFloatVector(null):null,r=null!=f?D.toFloatVector(null):null,t=null!=p?D.toFloatVector(null):null,u=D.toIntVector(null,a.get_length()/3|0,!0),h=
u.get_length();0<h--;)u.set(h,-1);var w,y,z,x,B,F,E,G,I,H,J,L;k=0;l=b.get_length();for(h=0;h<l;){y=A.get_length()+6;if(983025<=k+2||196605<=y){m.push(ad.constructSubGeometry(A,q,v,n,C,r,t,g));A=D.toFloatVector(null);q=D.toIntVector(null);v=null!=c?D.toFloatVector(null):null;n=null!=d?D.toFloatVector(null):null;C=null!=e?D.toFloatVector(null):null;r=null!=f?D.toFloatVector(null):null;t=null!=p?D.toFloatVector(null):null;for(k=u.get_length();0<k--;)u.set(k,-1);k=0}for(var N=0;3>N;){var O=N++;w=b.get(h+
O);0<=u.get(w)?y=u.get(w):(z=3*w,x=3*w+1,B=3*w+2,y=A.get_length()/3|0,F=3*y,E=3*y+1,G=3*y+2,A.set(F,a.get(z)),A.set(E,a.get(x)),A.set(G,a.get(B)),null!=c&&(I=2*y,J=2*y+1,H=2*w,L=2*w+1,v.set(I,c.get(H)),v.set(J,c.get(L))),null!=d&&(n.set(F,d.get(z)),n.set(E,d.get(x)),n.set(G,d.get(B))),null!=e&&(C.set(F,e.get(z)),C.set(E,e.get(x)),C.set(G,e.get(B))),null!=f&&(r.set(F,f.get(z)),r.set(E,f.get(x)),r.set(G,f.get(B))),null!=p&&(t.set(F,p.get(z)),t.set(E,p.get(x)),t.set(G,p.get(B))),u.set(w,y));q.set(k+
O,y)}k+=3;h+=3}0<A.get_length()&&m.push(ad.constructSubGeometry(A,q,v,n,C,r,t,g))}else m.push(ad.constructSubGeometry(a,b,c,d,e,f,p,g));return m};ad.constructSubGeometry=function(a,b,c,d,e,f,p,g){null!=f&&null!=p?(g=new df(f.get_length()/(a.get_length()/3)|0),y.__cast(g,df).updateJointWeightsData(f),y.__cast(g,df).updateJointIndexData(p)):g=new Wc;g.updateIndexData(b);g.fromVectors(a,c,d,e);return g};ad.interleaveBuffers=function(a,b,c,d,e,f){for(var p,g,m,h=D.toFloatVector(null),l=0;l<a;)m=l++,g=
2*m,p=3*m,m*=13,h.set(m,null!=b?b.get(p):0),h.set(m+1,null!=b?b.get(p+1):0),h.set(m+2,null!=b?b.get(p+2):0),h.set(m+3,null!=c?c.get(p):0),h.set(m+4,null!=c?c.get(p+1):0),h.set(m+5,null!=c?c.get(p+2):0),h.set(m+6,null!=d?d.get(p):0),h.set(m+7,null!=d?d.get(p+1):0),h.set(m+8,null!=d?d.get(p+2):0),h.set(m+9,null!=e?e.get(g):0),h.set(m+10,null!=e?e.get(g+1):0),h.set(m+11,null!=f?f.get(g):0),h.set(m+12,null!=f?f.get(g+1):0);return h};ad.getMeshSubgeometryIndex=function(a){for(var b=0,c=a.get_parentGeometry().get_subGeometries(),
d=0,e=c.get_length();d<e;){var f=d++;if(c.get(f)==a){b=f;break}}return b};ad.getMeshSubMeshIndex=function(a){for(var b=0,c=a.get_parentMesh().get_subMeshes(),d=0,e=c.get_length();d<e;){var f=d++;if(c.get(f)==a){b=f;break}}return b};var Hc=function(){};k["away3d.tools.utils.TextureUtils"]=Hc;Hc.__name__=["away3d","tools","utils","TextureUtils"];Hc.isBitmapDataValid=function(a){return null==a?!0:Hc.isDimensionValid(a.width)?Hc.isDimensionValid(a.height):!1};Hc.isDimensionValid=function(a){return 1<=
a&&4096>=a?Hc.isPowerOfTwo(a):!1};Hc.isPowerOfTwo=function(a){return 0<a?(a&-a)==a:!1};Hc.getBestPowerOf2=function(a){for(var b=1;b<a;)b<<=1;4096<b&&(b=4096);return b};var kc=k["haxe.StackItem"]={__ename__:["haxe","StackItem"],__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"]};kc.CFunction=["CFunction",0];kc.CFunction.toString=O;kc.CFunction.__enum__=kc;kc.Module=function(a){a=["Module",1,a];a.__enum__=kc;a.toString=O;return a};kc.FilePos=function(a,b,c){a=["FilePos",2,a,b,
c];a.__enum__=kc;a.toString=O;return a};kc.Method=function(a,b){var c=["Method",3,a,b];c.__enum__=kc;c.toString=O;return c};kc.LocalFunction=function(a){a=["LocalFunction",4,a];a.__enum__=kc;a.toString=O;return a};kc.__empty_constructs__=[kc.CFunction];var Aa=function(){};k["haxe.CallStack"]=Aa;Aa.__name__=["haxe","CallStack"];Aa.getStack=function(a){if(null==a)return[];var b=Error.prepareStackTrace;Error.prepareStackTrace=function(a,b){for(var e=[],f=0;f<b.length;){var p=b[f];++f;null!=Aa.wrapCallSite&&
(p=Aa.wrapCallSite(p));var g=null,m=p.getFunctionName();if(null!=m){var h=m.lastIndexOf(".");0<=h&&(g=W.substr(m,0,h),m=W.substr(m,h+1,null),g=kc.Method(g,m))}e.push(kc.FilePos(g,p.getFileName(),p.getLineNumber()))}return e};a=Aa.makeStack(a.stack);Error.prepareStackTrace=b;return a};Aa.callStack=function(){try{throw Error();}catch(a){Aa.lastException=a;a instanceof F&&(a=a.val);var b=Aa.getStack(a);b.shift();return b}};Aa.exceptionStack=function(){return Aa.getStack(Aa.lastException)};Aa.toString=
function(a){for(var b=new Jh,c=0;c<a.length;){var d=a[c];++c;b.b+="\nCalled from ";Aa.itemToString(b,d)}return b.b};Aa.itemToString=function(a,b){switch(b[1]){case 0:a.b+="a C function";break;case 1:var c=b[2];a.b+="module ";a.b+=null==c?"null":""+c;break;case 2:var c=b[4],d=b[3],e=b[2];null!=e&&(Aa.itemToString(a,e),a.b+=" (");a.b+=null==d?"null":""+d;a.b+=" line ";a.b+=null==c?"null":""+c;null!=e&&(a.b+=")");break;case 3:c=b[3];d=b[2];a.b+=null==d?"null":""+d;a.b+=".";a.b+=null==c?"null":""+c;break;
case 4:c=b[2],a.b+="local function #",a.b+=null==c?"null":""+c}};Aa.makeStack=function(a){if(null==a)return[];if("string"==typeof a){a=a.split("\n");"Error"==a[0]&&a.shift();for(var b=[],c=new Ba("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$",""),d=0;d<a.length;){var e=a[d];++d;if(c.match(e)){var e=c.matched(1).split("."),f=e.pop(),p=c.matched(2),g=q.parseInt(c.matched(3));b.push(kc.FilePos("Anonymous function"==f?kc.LocalFunction():"Global code"==f?null:kc.Method(e.join("."),f),p,g))}else b.push(kc.Module(fa.trim(e)))}return b}return a};
var Lg=function(){};k["haxe.IMap"]=Lg;Lg.__name__=["haxe","IMap"];Lg.prototype={get:null,set:null,exists:null,remove:null,__class__:Lg};var Y=function(a,b){this.high=a;this.low=b};k["haxe._Int64.___Int64"]=Y;Y.__name__=["haxe","_Int64","___Int64"];Y.prototype={high:null,low:null,__class__:Y};var xk=function(){};k["haxe.Log"]=xk;xk.__name__=["haxe","Log"];xk.trace=function(a,b){y.__trace(a,b)};var Ac=function(){this.buf=new Jh;this.cache=[];this.useCache=Ac.USE_CACHE;this.useEnumIndex=Ac.USE_ENUM_INDEX;
this.shash=new pa;this.scount=0};k["haxe.Serializer"]=Ac;Ac.__name__=["haxe","Serializer"];Ac.run=function(a){var b=new Ac;b.serialize(a);return b.toString()};Ac.prototype={buf:null,cache:null,shash:null,scount:null,useCache:null,useEnumIndex:null,toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash,b=null!=u[a]?b.getReserved(a):b.h[a];if(null!=b)this.buf.b+="R",this.buf.b+=null==b?"null":""+b;else{var b=this.shash,c=this.scount++;null!=u[a]?b.setReserved(a,c):b.h[a]=
c;this.buf.b+="y";a=encodeURIComponent(a);this.buf.b+=q.string(a.length);this.buf.b+=":";this.buf.b+=null==a?"null":""+a}},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=c++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b+=null==e?"null":""+e,!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=H.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(H.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=
sa["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=null==a?"null":""+a;break;case 2:isNaN(a)?this.buf.b+="k":isFinite(a)?(this.buf.b+="d",this.buf.b+=null==a?"null":""+a):this.buf.b+=0>a?"m":"p";break;case 3:this.buf.b+=a?"t":"f";break;case 4:if(y.__instanceof(a,wm))a=sa.getClassName(a),this.buf.b+="A",this.serializeString(a);else if(y.__instanceof(a,Sm))this.buf.b+="B",this.serializeString(sa.getEnumName(a));else{if(this.useCache&&
this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a)}break;case 5:throw new F("Cannot serialize function");case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=0,d=a.length;c<d;){var e=c++;null==a[e]?++b:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b),b=0),this.serialize(a[e]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b));
this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=q.string(a.getTime());break;case hd:this.buf.b+="l";for(a=a.h;null!=a;)b=a.item,a=a.next,this.serialize(b);this.buf.b+="h";break;case Ib:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b+=null==c?"null":""+c,this.serialize(a.h[c]);this.buf.b+="h";break;case ac:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),d=H.field(c,"__id__"),H.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);
this.buf.b+="h";break;case pa:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(null!=u[c]?a.getReserved(c):a.h[c]);this.buf.b+="h";break;case na:this.buf.b+="s";this.buf.b+=q.string(Math.ceil(8*a.length/6));this.buf.b+=":";c=0;d=a.length-2;b=Ac.BASE64_CODES;if(null==b){for(var b=Array(Ac.BASE64.length),e=0,f=Ac.BASE64.length;e<f;){var p=e++;b[p]=W.cca(Ac.BASE64,p)}Ac.BASE64_CODES=b}for(;c<d;)e=a.b[c++],f=a.b[c++],p=a.b[c++],this.buf.b+=String.fromCharCode(b[e>>
2]),this.buf.b+=String.fromCharCode(b[(e<<4|f>>4)&63]),this.buf.b+=String.fromCharCode(b[(f<<2|p>>6)&63]),this.buf.b+=String.fromCharCode(b[p&63]);c==d?(d=a.b[c++],a=a.b[c++],this.buf.b+=String.fromCharCode(b[d>>2]),this.buf.b+=String.fromCharCode(b[(d<<4|a>>4)&63]),this.buf.b+=String.fromCharCode(b[a<<2&63])):c==d+1&&(a=a.b[c++],this.buf.b+=String.fromCharCode(b[a>>2]),this.buf.b+=String.fromCharCode(b[a<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",
this.serializeString(sa.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(sa.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b+=q.string(this.useEnumIndex?"j":"w");this.serializeString(sa.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=q.string(a[1])):this.serializeString(a[0]);this.buf.b+=
":";b=a.length;this.buf.b+=q.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);this.useCache&&this.cache.push(a);break;default:throw new F("Cannot serialize "+q.string(a));}},__class__:Ac};var Xc=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};k["haxe.Timer"]=Xc;Xc.__name__=["haxe","Timer"];Xc.delay=function(a,b){var c=new Xc(b);c.run=function(){c.stop();a()};return c};Xc.measure=function(a,b){var c=(new Date).getTime()/1E3,d=a();xk.trace((new Date).getTime()/1E3-c+"s",b);return d};
Xc.stamp=function(){return(new Date).getTime()/1E3};Xc.prototype={id:null,stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:Xc};var xi=function(){};k["haxe._Unserializer.DefaultResolver"]=xi;xi.__name__=["haxe","_Unserializer","DefaultResolver"];xi.prototype={resolveClass:function(a){return sa.resolveClass(a)},resolveEnum:function(a){return sa.resolveEnum(a)},__class__:xi};var Bc=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=
[];a=Bc.DEFAULT_RESOLVER;null==a&&(a=new xi,Bc.DEFAULT_RESOLVER=a);this.resolver=a};k["haxe.Unserializer"]=Bc;Bc.__name__=["haxe","Unserializer"];Bc.initCodes=function(){for(var a=[],b=0,c=Bc.BASE64.length;b<c;){var d=b++;a[Bc.BASE64.charCodeAt(d)]=d}return a};Bc.run=function(a){return(new Bc(a)).unserialize()};Bc.prototype={buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,setResolver:function(a){null==a?(null==Lf.instance&&(Lf.instance=new Lf),this.resolver=Lf.instance):this.resolver=
a},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(b!=b)break;if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return parseFloat(W.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw new F("Invalid object");
if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw new F("Invalid object key");var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw new F("Invalid enum format");var c=this.readDigits();if(0==c)return sa.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return sa.createEnum(a,b,d)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var a=this.unserialize(),
b=this.resolver.resolveClass(a);if(null==b)throw new F("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new F("Enum not found "+a);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new F("Class not found "+a);a=sa.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw new F("Invalid custom data");return a;case 77:a=new ac;for(this.cache.push(a);104!=
this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw new F("Invalid string reference");return this.scache[a];case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 98:a=new pa;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);){var b=this.unserialize(),
c=this.unserialize();null!=u[b]?a.setReserved(b,c):a.h[b]=c}this.pos++;return a;case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new F("Class not found "+a);a=sa.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new F("Enum not found "+a);this.pos++;var c=this.readDigits(),d=b.__constructs__.slice()[c];
if(null==d)throw new F("Unknown enum index "+a+"@"+c);a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 107:return NaN;case 108:a=new hd;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 109:return-Infinity;case 110:return null;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 112:return Infinity;case 113:a=new Ib;this.cache.push(a);for(b=this.buf.charCodeAt(this.pos++);58==b;)b=this.readDigits(),c=this.unserialize(),
a.h[b]=c,b=this.buf.charCodeAt(this.pos++);if(104!=b)throw new F("Invalid IntMap format");return a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw new F("Invalid reference");return this.cache[a];case 115:a=this.readDigits();d=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new F("Invalid bytes length");var e=Bc.CODES;null==e&&(e=Bc.initCodes(),Bc.CODES=e);for(var f=this.pos,p=a&3,g=f+(a-p),b=new na(new Ea(3*(a>>2)+(2<=p?p-1:0))),c=0;f<g;){var m=e[d.charCodeAt(f++)],
h=e[d.charCodeAt(f++)];b.b[c++]=(m<<2|h>>4)&255;m=e[d.charCodeAt(f++)];b.b[c++]=(h<<4|m>>2)&255;h=e[d.charCodeAt(f++)];b.b[c++]=(m<<6|h)&255}2<=p&&(h=e[d.charCodeAt(f++)],g=e[d.charCodeAt(f++)],b.b[c++]=(h<<2|g>>4)&255,3==p&&(d=e[d.charCodeAt(f++)],b.b[c++]=(g<<4|d>>2)&255));this.pos+=a;this.cache.push(b);return b;case 116:return!0;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+
2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(a=W.strDate(W.substr(this.buf,this.pos,19)),this.pos+=19):(a=this.readFloat(),a=new Date(a)),this.cache.push(a),a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new F("Enum not found "+a);a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 120:throw F.wrap(this.unserialize());case 121:a=this.readDigits();
if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new F("Invalid string length");b=W.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 122:return 0}this.pos--;throw new F("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:Bc};var Lf=function(){};k["haxe._Unserializer.NullResolver"]=Lf;Lf.__name__=["haxe","_Unserializer","NullResolver"];Lf.prototype={resolveClass:function(a){return null},
resolveEnum:function(a){return null},__class__:Lf};var yk=function(a){for(var b=a.length,c=1;b>1<<c;)++c;if(8<c||b!=1<<c)throw new F("BaseCode : base length must be a power of two.");this.base=a;this.nbits=c};k["haxe.crypto.BaseCode"]=yk;yk.__name__=["haxe","crypto","BaseCode"];yk.prototype={base:null,nbits:null,encodeBytes:function(a){for(var b=this.nbits,c=this.base,d=8*a.length/b|0,e=new na(new Ea(d+(0==8*a.length%b?0:1))),f=0,p=0,g=(1<<b)-1,m=0,h=0;h<d;){for(;p<b;)p+=8,f<<=8,f|=a.b[m++];p-=b;
e.b[h++]=c.b[f>>p&g]&255}0<p&&(e.b[h++]=c.b[f<<b-p&g]&255);return e},__class__:yk};var Ib=function(){this.h={}};k["haxe.ds.IntMap"]=Ib;Ib.__name__=["haxe","ds","IntMap"];Ib.__interfaces__=[Lg];Ib.prototype={h:null,set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return W.iter(a)},
iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a]}}},__class__:Ib};var ac=function(){this.h={__keys__:{}}};k["haxe.ds.ObjectMap"]=ac;ac.__name__=["haxe","ds","ObjectMap"];ac.__interfaces__=[Lg];ac.assignId=function(a){return a.__id__=++ac.count};ac.getId=function(a){return a.__id__};ac.prototype={h:null,set:function(a,b){var c=a.__id__||(a.__id__=++ac.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},
exists:function(a){return null!=this.h.__keys__[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return W.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a.__id__]}}},__class__:ac};var Dh=function(a,b){this.map=
a;this.keys=b;this.index=0;this.count=b.length};k["haxe.ds._StringMap.StringMapIterator"]=Dh;Dh.__name__=["haxe","ds","_StringMap","StringMapIterator"];Dh.prototype={map:null,keys:null,index:null,count:null,hasNext:function(){return this.index<this.count},next:function(){var a=this.map,b=this.keys[this.index++];return null!=u[b]?a.getReserved(b):a.h[b]},__class__:Dh};var pa=function(){this.h={}};k["haxe.ds.StringMap"]=pa;pa.__name__=["haxe","ds","StringMap"];pa.__interfaces__=[Lg];pa.prototype={h:null,
rh:null,set:function(a,b){null!=u[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=u[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=u[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=u[a]){a="$"+a;if(null==this.rh||
!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){return W.iter(this.arrayKeys())},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},__class__:pa};var na=function(a){this.length=a.byteLength;this.b=new Fa(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};k["haxe.io.Bytes"]=na;na.__name__=
["haxe","io","Bytes"];na.alloc=function(a){return new na(new Ea(a))};na.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=a.charCodeAt(c++);55296<=d&&56319>=d&&(d=d-55232<<10|a.charCodeAt(c++)&1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new na((new Fa(b)).buffer)};na.ofData=function(a){var b=a.hxBytes;return null!=b?b:new na(a)};na.fastGet=function(a,b){return a.bytes[b]};
na.prototype={length:null,b:null,data:null,get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},blit:function(a,b,c,d){if(0>a||0>c||0>d||a+d>this.length||c+d>b.length)throw new F(Zb.OutsideBounds);0==c&&d==b.b.byteLength?this.b.set(b.b,a):this.b.set(b.b.subarray(c,c+d),a)},fill:function(a,b,c){for(var d=0;d<b;)d++,this.b[a++]=c&255},sub:function(a,b){if(0>a||0>b||a+b>this.length)throw new F(Zb.OutsideBounds);return new na(this.b.buffer.slice(a+this.b.byteOffset,a+this.b.byteOffset+
b))},compare:function(a){for(var b=this.b,c=a.b,d=0,e=this.length<a.length?this.length:a.length;d<e;){var f=d++;if(b[f]!=c[f])return b[f]-c[f]}return this.length-a.length},initData:function(){null==this.data&&(this.data=new kf(this.b.buffer,this.b.byteOffset,this.b.byteLength))},getDouble:function(a){null==this.data&&(this.data=new kf(this.b.buffer,this.b.byteOffset,this.b.byteLength));return this.data.getFloat64(a,!0)},getFloat:function(a){null==this.data&&(this.data=new kf(this.b.buffer,this.b.byteOffset,
this.b.byteLength));return this.data.getFloat32(a,!0)},setDouble:function(a,b){null==this.data&&(this.data=new kf(this.b.buffer,this.b.byteOffset,this.b.byteLength));this.data.setFloat64(a,b,!0)},setFloat:function(a,b){null==this.data&&(this.data=new kf(this.b.buffer,this.b.byteOffset,this.b.byteLength));this.data.setFloat32(a,b,!0)},getUInt16:function(a){null==this.data&&(this.data=new kf(this.b.buffer,this.b.byteOffset,this.b.byteLength));return this.data.getUint16(a,!0)},setUInt16:function(a,b){null==
this.data&&(this.data=new kf(this.b.buffer,this.b.byteOffset,this.b.byteLength));this.data.setUint16(a,b,!0)},getInt32:function(a){null==this.data&&(this.data=new kf(this.b.buffer,this.b.byteOffset,this.b.byteLength));return this.data.getInt32(a,!0)},setInt32:function(a,b){null==this.data&&(this.data=new kf(this.b.buffer,this.b.byteOffset,this.b.byteLength));this.data.setInt32(a,b,!0)},getInt64:function(a){return new Y(this.getInt32(a+4),this.getInt32(a))},setInt64:function(a,b){this.setInt32(a,b.low);
this.setInt32(a+4,b.high)},getString:function(a,b){if(0>a||0>b||a+b>this.length)throw new F(Zb.OutsideBounds);for(var c="",d=this.b,e=String.fromCharCode,f=a,p=a+b;f<p;){var g=d[f++];if(128>g){if(0==g)break;c+=e(g)}else if(224>g)c+=e((g&63)<<6|d[f++]&127);else if(240>g)var m=d[f++],c=c+e((g&31)<<12|(m&127)<<6|d[f++]&127);else var m=d[f++],h=d[f++],g=(g&15)<<18|(m&127)<<12|(h&127)<<6|d[f++]&127,c=c+e((g>>10)+55232),c=c+e(g&1023|56320)}return c},readString:function(a,b){return this.getString(a,b)},
toString:function(){return this.getString(0,this.length)},toHex:function(){for(var a="",b=[],c=0;16>c;){var d=c++;b.push(W.cca("0123456789abcdef",d))}c=0;for(d=this.length;c<d;)var e=c++,e=this.b[e],a=a+String.fromCharCode(b[e>>4]),a=a+String.fromCharCode(b[e&15]);return a},getData:function(){return this.b.bufferValue},__class__:na};var Pl=function(){};k["haxe.io.Eof"]=Pl;Pl.__name__=["haxe","io","Eof"];Pl.prototype={toString:function(){return"Eof"},__class__:Pl};var Zb=k["haxe.io.Error"]={__ename__:["haxe",
"io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};Zb.Blocked=["Blocked",0];Zb.Blocked.toString=O;Zb.Blocked.__enum__=Zb;Zb.Overflow=["Overflow",1];Zb.Overflow.toString=O;Zb.Overflow.__enum__=Zb;Zb.OutsideBounds=["OutsideBounds",2];Zb.OutsideBounds.toString=O;Zb.OutsideBounds.__enum__=Zb;Zb.Custom=function(a){a=["Custom",3,a];a.__enum__=Zb;a.toString=O;return a};Zb.__empty_constructs__=[Zb.Blocked,Zb.Overflow,Zb.OutsideBounds];var $b=function(){};k["haxe.io.FPHelper"]=$b;
$b.__name__=["haxe","io","FPHelper"];$b.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};$b.floatToI32=function(a){if(0==a)return 0;var b=0>a?-a:a,c=Math.floor(Math.log(b)/.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1));8388608==b&&128>c&&(b=0,++c);return(0>a?-2147483648:0)|c+127<<23|b};$b.i64ToDouble=function(a,b){var c=(b>>20&2047)-1023,d=4294967296*(b&1048575)+2147483648*(a>>>
31)+(a&2147483647);return 0==d&&-1023==c?0:(1-(b>>>31<<1))*(1+Math.pow(2,-52)*d)*Math.pow(2,c)};$b.doubleToI64=function(a){var b=$b.i64tmp;if(0==a)b.low=0,b.high=0;else if(isFinite(a)){var c=0>a?-a:a,d=Math.floor(Math.log(c)/.6931471805599453),c=Math.round(4503599627370496*(c/Math.pow(2,d)-1));b.low=c|0;b.high=(0>a?-2147483648:0)|d+1023<<20|c/4294967296|0}else 0<a?(b.low=0,b.high=2146435072):(b.low=0,b.high=-1048576);return b};var Mf=function(a){switch(a){case ".":case "..":this.dir=a;this.file="";
return}var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=W.substr(a,0,c),a=W.substr(a,c+1,null),this.backslash=!0):c<b?(this.dir=W.substr(a,0,b),a=W.substr(a,b+1,null)):this.dir=null;b=a.lastIndexOf(".");-1!=b?(this.ext=W.substr(a,b+1,null),this.file=W.substr(a,0,b)):(this.ext=null,this.file=a)};k["haxe.io.Path"]=Mf;Mf.__name__=["haxe","io","Path"];Mf.directory=function(a){a=new Mf(a);return null==a.dir?"":a.dir};Mf.prototype={dir:null,file:null,ext:null,backslash:null,__class__:Mf};var F=
function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,F)};k["js._Boot.HaxeError"]=F;F.__name__=["js","_Boot","HaxeError"];F.wrap=function(a){return a instanceof Error?a:new F(a)};F.__super__=Error;F.prototype=t(Error.prototype,{val:null,__class__:F});var y=function(){};k["js.Boot"]=y;y.__name__=["js","Boot"];y.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};y.__trace=function(a,b){var c=
null!=b?b.fileName+":"+b.lineNumber+": ":"",c=c+y.__string_rec(a,"");if(null!=b&&null!=b.customParams)for(var d=0,e=b.customParams;d<e.length;){var f=e[d];++d;c+=","+y.__string_rec(f,"")}var p;"undefined"!=typeof document?(p=document.getElementById("haxe:trace"),d=null!=p):d=!1;d?p.innerHTML+=y.__unhtml(c)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(c)};y.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=y.__nativeClassName(a);
return null!=a?y.__resolveNativeClass(a):null};y.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "function":return"<function>";case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+y.__string_rec(a[f],b)):c+y.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=
(0<f?",":"")+y.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(p){return Aa.lastException=p,"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)e&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+y.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "string":return a;
default:return String(a)}};y.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||y.__interfLoop(f,b))return!0}return y.__interfLoop(a.__super__,b)};y.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Array:return a instanceof Array?null==a.__enum__:!1;case Ql:return"boolean"==typeof a;case cn:return!0;case xm:return"number"==typeof a;case zk:return"number"==typeof a?(a|0)===a:!1;case String:return"string"==
typeof a;default:if(null!=a)if("function"==typeof b){if(a instanceof b||y.__interfLoop(y.getClass(a),b))return!0}else{if("object"==typeof b&&y.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==wm&&null!=a.__name__||b==Sm&&null!=a.__ename__?!0:a.__enum__==b}};y.__cast=function(a,b){if(y.__instanceof(a,b))return a;throw new F("Cannot cast "+q.string(a)+" to "+q.string(b));};y.__nativeClassName=function(a){a=y.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==
a?null:a};y.__isNativeObj=function(a){return null!=y.__nativeClassName(a)};y.__resolveNativeClass=function(a){return ug[a]};var Rl=function(){};k["js.Browser"]=Rl;Rl.__name__=["js","Browser"];Rl.alert=function(a){window.alert(y.__string_rec(a,""))};var Sl=function(){};k["js.html._CanvasElement.CanvasUtil"]=Sl;Sl.__name__=["js","html","_CanvasElement","CanvasUtil"];Sl.getContextWebGL=function(a,b){for(var c=0,d=["webgl","experimental-webgl"];c<d.length;){var e=d[c];++c;e=a.getContext(e,b);if(null!=
e)return e}return null};var lc=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;){var c=b++;this.a[c]=0}this.byteLength=a}};k["js.html.compat.ArrayBuffer"]=lc;lc.__name__=["js","html","compat","ArrayBuffer"];lc.sliceImpl=function(a,b){var c=new Fa(this,a,null==b?null:b-a),d=new Ea(c.byteLength);(new Fa(d)).set(c);return d};lc.prototype={byteLength:null,a:null,slice:function(a,b){return new lc(this.a.slice(a,b))},__class__:lc};var Ak=
function(a,b,c){this.buf=a;this.offset=null==b?0:b;this.length=null==c?a.byteLength-this.offset:c;if(0>this.offset||0>this.length||this.offset+this.length>a.byteLength)throw new F(Zb.OutsideBounds);this.byteLength=this.length;this.byteOffset=this.offset;this.buffer=this.buf};k["js.html.compat.DataView"]=Ak;Ak.__name__=["js","html","compat","DataView"];Ak.prototype={buf:null,offset:null,length:null,byteLength:null,byteOffset:null,buffer:null,getInt8:function(a){a=this.buf.a[this.offset+a];return 128<=
a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+a]},getInt16:function(a,b){var c=this.getUint16(a,b);return 32768<=c?c-65536:c},getUint16:function(a,b){return b?this.buf.a[this.offset+a]|this.buf.a[this.offset+a+1]<<8:this.buf.a[this.offset+a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a,d=this.buf.a[c++],e=this.buf.a[c++],f=this.buf.a[c++],c=this.buf.a[c++];return b?d|e<<8|f<<16|c<<24:c|f<<8|e<<16|d<<24},getUint32:function(a,b){var c=this.getInt32(a,b);
return 0>c?c+4294967296:c},getFloat32:function(a,b){return $b.i32ToFloat(this.getInt32(a,b))},getFloat64:function(a,b){var c=this.getInt32(a,b),d=this.getInt32(a+4,b);return $b.i64ToDouble(b?c:d,b?d:c)},setInt8:function(a,b){this.buf.a[a+this.offset]=0>b?b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},setUint16:function(a,b,c){a+=this.offset;c?(this.buf.a[a]=b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>8&255,
this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>>24):(this.buf.a[a++]=b>>>24,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,$b.floatToI32(b),c)},setFloat64:function(a,b,c){b=$b.doubleToI64(b);c?(this.setUint32(a,b.low),this.setUint32(a,b.high)):(this.setUint32(a,b.high),
this.setUint32(a,b.low))},__class__:Ak};var Ie=function(){};k["js.html.compat.Float32Array"]=Ie;Ie.__name__=["js","html","compat","Float32Array"];Ie._new=function(a,b,c){var d;if("number"==typeof a){d=[];for(b=0;b<a;){var e=b++;d[e]=0}d.byteLength=d.length<<2;d.byteOffset=0;a=[];b=0;for(e=d.length<<2;b<e;)b++,a.push(0);d.buffer=new lc(a)}else if(y.__instanceof(a,lc)){null==b&&(b=0);null==c&&(c=a.byteLength-b>>2);d=[];for(e=0;e<c;){e++;var f=a.a[b++]|a.a[b++]<<8|a.a[b++]<<16|a.a[b++]<<24;d.push($b.i32ToFloat(f))}d.byteLength=
d.length<<2;d.byteOffset=b;d.buffer=a}else if(a instanceof Array&&null==a.__enum__){d=a.slice();a=[];for(b=0;b<d.length;)e=d[b],++b,e=$b.floatToI32(e),a.push(e&255),a.push(e>>8&255),a.push(e>>16&255),a.push(e>>>24);d.byteLength=d.length<<2;d.byteOffset=0;d.buffer=new lc(a)}else throw new F("TODO "+q.string(a));d.subarray=Ie._subarray;d.set=Ie._set;return d};Ie._set=function(a,b){if(y.__instanceof(a.buffer,lc)){if(a.byteLength+b>this.byteLength)throw new F("set() outside of range");for(var c=0,d=a.byteLength;c<
d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new F("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new F("TODO");};Ie._subarray=function(a,b){var c=Ie._new(this.slice(a,b));c.byteOffset=4*a;return c};var Je=function(){};k["js.html.compat.Float64Array"]=Je;Je.__name__=["js","html","compat","Float64Array"];Je._new=function(a,b,c){var d;if("number"==typeof a){d=[];for(b=0;b<a;){var e=b++;d[e]=0}d.byteLength=
d.length<<3;d.byteOffset=0;a=[];b=0;for(e=d.length<<3;b<e;)b++,a.push(0);d.buffer=new lc(a)}else if(y.__instanceof(a,lc)){null==b&&(b=0);null==c&&(c=a.byteLength-b>>3);d=[];for(e=0;e<c;){e++;var f=a.a[b++]|a.a[b++]<<8|a.a[b++]<<16|a.a[b++]<<24,p=a.a[b++]|a.a[b++]<<8|a.a[b++]<<16|a.a[b++]<<24;d.push($b.i64ToDouble(f,p))}d.byteLength=d.length<<3;d.byteOffset=b;d.buffer=a}else if(a instanceof Array&&null==a.__enum__){d=a.slice();a=[];for(b=0;b<d.length;)e=d[b],++b,e=$b.doubleToI64(e),c=e.low,a.push(c&
255),a.push(c>>8&255),a.push(c>>16&255),a.push(c>>>24),e=e.high,a.push(e&255),a.push(e>>8&255),a.push(e>>16&255),a.push(e>>>24);d.byteLength=d.length<<3;d.byteOffset=0;d.buffer=new lc(a)}else throw new F("TODO "+q.string(a));d.subarray=Je._subarray;d.set=Je._set;return d};Je._set=function(a,b){if(y.__instanceof(a.buffer,lc)){if(a.byteLength+b>this.byteLength)throw new F("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+
b>this.byteLength)throw new F("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new F("TODO");};Je._subarray=function(a,b){var c=Je._new(this.slice(a,b));c.byteOffset=8*a;return c};var Ke=function(){};k["js.html.compat.Uint8Array"]=Ke;Ke.__name__=["js","html","compat","Uint8Array"];Ke._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=new lc(c)}else if(y.__instanceof(a,lc))null==b&&(b=0),null==
c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new lc(c);else throw new F("TODO "+q.string(a));c.subarray=Ke._subarray;c.set=Ke._set;return c};Ke._set=function(a,b){if(y.__instanceof(a.buffer,lc)){if(a.byteLength+b>this.byteLength)throw new F("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof
Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new F("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new F("TODO");};Ke._subarray=function(a,b){var c=Ke._new(this.slice(a,b));c.byteOffset=a;return c};var Bk=function(a){this.gameDeviceCache=new Ib;this.parent=a;this.nextUpdate=this.lastUpdate=this.currentUpdate=0;this.framePeriod=-1;Jc.init()};k["lime._backend.html5.HTML5Application"]=Bk;Bk.__name__=["lime","_backend","html5","HTML5Application"];Bk.prototype=
{gameDeviceCache:null,currentUpdate:null,deltaTime:null,framePeriod:null,lastUpdate:null,nextUpdate:null,parent:null,convertKeyCode:function(a){if(65<=a&&90>=a)return a+32;switch(a){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;
case 46:return 127;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 109:return 1073741910;case 110:return 1073741923;case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;
case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 144:return 1073741907;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;
case 220:return 92;case 221:return 93;case 222:return 39}return a},create:function(a){},exec:function(){window.addEventListener("keydown",n(this,this.handleKeyEvent),!1);window.addEventListener("keyup",n(this,this.handleKeyEvent),!1);window.addEventListener("focus",n(this,this.handleWindowEvent),!1);window.addEventListener("blur",n(this,this.handleWindowEvent),!1);window.addEventListener("resize",n(this,this.handleWindowEvent),!1);window.addEventListener("beforeunload",n(this,this.handleWindowEvent),
!1);CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(a,b,c){return!1});CanvasRenderingContext2D.prototype.isPointInPath||(CanvasRenderingContext2D.prototype.isPointInPath=function(a,b,c){return!1});for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];
window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var f=(new Date).getTime(),p=Math.max(0,16-(f-a)),g=window.setTimeout(function(){b(f+p)},p);a=f+p;return g});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});window.requestAnimFrame=window.requestAnimationFrame;this.lastUpdate=(new Date).getTime();this.handleApplicationEvent();return 0},exit:function(){},getFrameRate:function(){return 0>this.framePeriod?60:1E3==this.framePeriod?0:1E3/this.framePeriod},
handleApplicationEvent:function(a){null!=this.parent.__windows[0]&&this.parent.__windows[0].backend.updateSize();this.updateGameDevices();this.currentUpdate=(new Date).getTime();this.currentUpdate>=this.nextUpdate&&(this.deltaTime=this.currentUpdate-this.lastUpdate,this.parent.onUpdate.dispatch(this.deltaTime|0),null!=this.parent.__renderers[0]&&null!=this.parent.__renderers[0].context&&(this.parent.__renderers[0].render(),this.parent.__renderers[0].onRender.dispatch(),this.parent.__renderers[0].flip()),
this.nextUpdate=0>this.framePeriod?this.nextUpdate=this.currentUpdate:this.currentUpdate+this.framePeriod,this.lastUpdate=this.currentUpdate);window.requestAnimationFrame(n(this,this.handleApplicationEvent))},handleKeyEvent:function(a){if(null!=this.parent.__windows[0]){var b=this.convertKeyCode(null!=a.keyCode?a.keyCode:a.which),c=(a.shiftKey?3:0)|(a.ctrlKey?192:0)|(a.altKey?768:0)|(a.metaKey?3072:0);"keydown"==a.type?(this.parent.__windows[0].onKeyDown.dispatch(b,c),this.parent.__windows[0].onKeyDown.canceled&&
a.preventDefault()):(this.parent.__windows[0].onKeyUp.dispatch(b,c),this.parent.__windows[0].onKeyUp.canceled&&a.preventDefault())}},handleWindowEvent:function(a){if(null!=this.parent.__windows[0])switch(a.type){case "beforeunload":this.parent.__windows[0].onClose.dispatch();break;case "blur":this.parent.__windows[0].onFocusOut.dispatch();this.parent.__windows[0].onDeactivate.dispatch();break;case "focus":this.parent.__windows[0].onFocusIn.dispatch();this.parent.__windows[0].onActivate.dispatch();
break;case "resize":this.parent.__windows[0].backend.handleResizeEvent(a)}},setFrameRate:function(a){this.framePeriod=60<=a?-1:0<a?1E3/a:1E3;return a},updateGameDevices:function(){var a=cb.__getDeviceData();if(null!=a)for(var b,c,d,e,f,p=0,g=a.length;p<g;)if(b=p++,e=a[b],null!=e){if(!this.gameDeviceCache.h.hasOwnProperty(b)){f=new Ck;f.id=b;f.connected=e.connected;c=0;for(d=e.buttons.length;c<d;){var m=c++;f.buttons.push(e.buttons[m].value)}c=0;for(d=e.axes.length;c<d;)m=c++,f.axes.push(e.axes[m]);
"standard"==e.mapping&&(f.isGamepad=!0);this.gameDeviceCache.h[b]=f;e.connected&&(cb.__connect(b),f.isGamepad&&wb.__connect(b))}f=this.gameDeviceCache.h[b];d=cb.devices.h[b];c=wb.devices.h[b];if(e.connected){for(var h=0,l=e.buttons.length;h<l;){var k=h++,m=e.buttons[k].value;if(m!=f.buttons[k]){if(6==k)d.onAxisMove.dispatch(e.axes.length,m),null!=c&&c.onAxisMove.dispatch(4,m);else if(7==k)d.onAxisMove.dispatch(e.axes.length+1,m),null!=c&&c.onAxisMove.dispatch(5,m);else if(0<m?d.onButtonDown.dispatch(k):
d.onButtonUp.dispatch(k),null!=c){switch(k){case 0:b=0;break;case 1:b=1;break;case 2:b=2;break;case 3:b=3;break;case 4:b=9;break;case 5:b=10;break;case 8:b=4;break;case 9:b=6;break;case 10:b=7;break;case 11:b=8;break;case 12:b=11;break;case 13:b=12;break;case 14:b=13;break;case 15:b=14;break;case 16:b=5;break;default:continue}0<m?c.onButtonDown.dispatch(b):c.onButtonUp.dispatch(b)}f.buttons[k]=m}}b=0;for(m=e.axes.length;b<m;)h=b++,e.axes[h]!=f.axes[h]&&(d.onAxisMove.dispatch(h,e.axes[h]),null!=c&&
c.onAxisMove.dispatch(h,e.axes[h]),f.axes[h]=e.axes[h])}else f.connected&&(f.connected=!1,cb.__disconnect(b),wb.__disconnect(b))}},__class__:Bk};var Ck=function(){this.connected=!0;this.buttons=[];this.axes=[]};k["lime._backend.html5.GameDeviceData"]=Ck;Ck.__name__=["lime","_backend","html5","GameDeviceData"];Ck.prototype={connected:null,id:null,isGamepad:null,buttons:null,axes:null,__class__:Ck};var Dk=function(a){this.parent=a;this.id=-1;this.gain=1;this.position=new db};k["lime._backend.html5.HTML5AudioSource"]=
Dk;Dk.__name__=["lime","_backend","html5","HTML5AudioSource"];Dk.prototype={completed:null,gain:null,id:null,length:null,loops:null,parent:null,playing:null,position:null,dispose:function(){},init:function(){},play:function(){if(!this.playing&&null!=this.parent.buffer){this.playing=!0;var a=this.getCurrentTime();this.completed=!1;var b=this.parent.buffer.__srcHowl._volume;this.parent.buffer.__srcHowl._volume=this.parent.get_gain();this.id=this.parent.buffer.__srcHowl.play();this.parent.buffer.__srcHowl._volume=
b;this.setPosition(this.parent.get_position());this.parent.buffer.__srcHowl.on("end",n(this,this.howl_onEnd),this.id);this.setCurrentTime(a)}},pause:function(){this.playing=!1;this.parent.buffer.__srcHowl.pause(this.id)},stop:function(){this.playing=!1;this.parent.buffer.__srcHowl.stop(this.id)},howl_onEnd:function(){this.playing=!1;0<this.loops?(this.loops--,this.stop(),this.play()):(this.parent.buffer.__srcHowl.stop(this.id),this.completed=!0,this.parent.onComplete.dispatch())},getCurrentTime:function(){if(-1==
this.id)return 0;if(this.completed)return this.getLength();var a=(1E3*this.parent.buffer.__srcHowl.seek(this.id)|0)-this.parent.offset;return 0>a?0:a},setCurrentTime:function(a){if(null!=this.parent.buffer){var b=(a+this.parent.offset)/1E3;0>b&&(b=0);this.parent.buffer.__srcHowl.seek(b,this.id)}return a},getGain:function(){return this.gain},setGain:function(a){null!=this.parent.buffer&&this.parent.buffer.__srcHowl.volume(a,this.id);return this.gain=a},getLength:function(){return 0!=this.length?this.length:
1E3*this.parent.buffer.__srcHowl.duration()|0},setLength:function(a){return this.length=a},getLoops:function(){return this.loops},setLoops:function(a){return this.loops=a},getPosition:function(){return this.position},setPosition:function(a){this.position.x=a.x;this.position.y=a.y;this.position.z=a.z;this.position.w=a.w;return this.position},__class__:Dk};var Ek=function(a){this.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447;this.INVALID_INDEX=this.TIMEOUT_IGNORED=-1;this.DEPTH32F_STENCIL8=36013;this.DEPTH_COMPONENT32F=
36012;this.DYNAMIC_COPY=35050;this.DYNAMIC_READ=35049;this.STATIC_COPY=35046;this.STATIC_READ=35045;this.STREAM_COPY=35042;this.STREAM_READ=35041;this.DEPTH_COMPONENT24=33190;this.MAX=32776;this.MIN=32775;this.STENCIL=6146;this.DEPTH=6145;this.COLOR=6144;this.SYNC_FLUSH_COMMANDS_BIT=1;this.WAIT_FAILED=37149;this.CONDITION_SATISFIED=37148;this.TIMEOUT_EXPIRED=37147;this.ALREADY_SIGNALED=37146;this.SIGNALED=37145;this.UNSIGNALED=37144;this.SYNC_GPU_COMMANDS_COMPLETE=37143;this.SYNC_FENCE=37142;this.SYNC_FLAGS=
37141;this.SYNC_STATUS=37140;this.SYNC_CONDITION=37139;this.OBJECT_TYPE=37138;this.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398;this.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396;this.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395;this.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394;this.UNIFORM_BLOCK_DATA_SIZE=35392;this.UNIFORM_BLOCK_BINDING=35391;this.UNIFORM_IS_ROW_MAJOR=35390;this.UNIFORM_MATRIX_STRIDE=35389;this.UNIFORM_ARRAY_STRIDE=35388;this.UNIFORM_OFFSET=35387;this.UNIFORM_BLOCK_INDEX=35386;this.UNIFORM_SIZE=
35384;this.UNIFORM_TYPE=35383;this.ACTIVE_UNIFORM_BLOCKS=35382;this.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380;this.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379;this.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377;this.MAX_UNIFORM_BLOCK_SIZE=35376;this.MAX_UNIFORM_BUFFER_BINDINGS=35375;this.MAX_COMBINED_UNIFORM_BLOCKS=35374;this.MAX_FRAGMENT_UNIFORM_BLOCKS=35373;this.MAX_VERTEX_UNIFORM_BLOCKS=35371;this.UNIFORM_BUFFER_SIZE=35370;this.UNIFORM_BUFFER_START=35369;this.UNIFORM_BUFFER_BINDING=35368;this.UNIFORM_BUFFER=
35345;this.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182;this.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052;this.RENDERBUFFER_SAMPLES=36011;this.READ_FRAMEBUFFER_BINDING=36010;this.DRAW_FRAMEBUFFER=36009;this.READ_FRAMEBUFFER=36008;this.DRAW_FRAMEBUFFER_BINDING=36006;this.DEPTH24_STENCIL8=35056;this.FRAMEBUFFER_DEFAULT=33304;this.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303;this.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302;this.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301;this.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300;this.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=
33299;this.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298;this.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297;this.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296;this.TRANSFORM_FEEDBACK_BINDING=36389;this.TRANSFORM_FEEDBACK_ACTIVE=36388;this.TRANSFORM_FEEDBACK_PAUSED=36387;this.TRANSFORM_FEEDBACK=36386;this.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983;this.TRANSFORM_FEEDBACK_BUFFER=35982;this.SEPARATE_ATTRIBS=35981;this.INTERLEAVED_ATTRIBS=35980;this.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979;this.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=
35978;this.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976;this.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973;this.TRANSFORM_FEEDBACK_BUFFER_START=35972;this.TRANSFORM_FEEDBACK_VARYINGS=35971;this.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968;this.TRANSFORM_FEEDBACK_BUFFER_MODE=35967;this.VERTEX_ATTRIB_ARRAY_DIVISOR=35070;this.VERTEX_ATTRIB_ARRAY_INTEGER=35069;this.SIGNED_NORMALIZED=36764;this.UNSIGNED_NORMALIZED=35863;this.UNSIGNED_INT_VEC4=36296;this.UNSIGNED_INT_VEC3=36295;this.UNSIGNED_INT_VEC2=36294;this.FLOAT_MAT4x3=
35690;this.FLOAT_MAT4x2=35689;this.FLOAT_MAT3x4=35688;this.FLOAT_MAT3x2=35687;this.FLOAT_MAT2x4=35686;this.FLOAT_MAT2x3=35685;this.COPY_WRITE_BUFFER_BINDING=36663;this.COPY_READ_BUFFER_BINDING=36662;this.COPY_WRITE_BUFFER=36663;this.COPY_READ_BUFFER=36662;this.PIXEL_UNPACK_BUFFER_BINDING=35055;this.PIXEL_PACK_BUFFER_BINDING=35053;this.PIXEL_UNPACK_BUFFER=35052;this.PIXEL_PACK_BUFFER=35051;this.SAMPLER_BINDING=35097;this.MAX_SAMPLES=36183;this.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311;this.UNSIGNED_INT_SAMPLER_CUBE=
36308;this.UNSIGNED_INT_SAMPLER_3D=36307;this.UNSIGNED_INT_SAMPLER_2D=36306;this.INT_SAMPLER_2D_ARRAY=36303;this.INT_SAMPLER_CUBE=36300;this.INT_SAMPLER_3D=36299;this.INT_SAMPLER_2D=36298;this.SAMPLER_CUBE_SHADOW=36293;this.SAMPLER_2D_ARRAY_SHADOW=36292;this.SAMPLER_2D_ARRAY=36289;this.SAMPLER_2D_SHADOW=35682;this.SAMPLER_3D=35679;this.COLOR_ATTACHMENT15=36079;this.COLOR_ATTACHMENT14=36078;this.COLOR_ATTACHMENT13=36077;this.COLOR_ATTACHMENT12=36076;this.COLOR_ATTACHMENT11=36075;this.COLOR_ATTACHMENT10=
36074;this.COLOR_ATTACHMENT9=36073;this.COLOR_ATTACHMENT8=36072;this.COLOR_ATTACHMENT7=36071;this.COLOR_ATTACHMENT6=36070;this.COLOR_ATTACHMENT5=36069;this.COLOR_ATTACHMENT4=36068;this.COLOR_ATTACHMENT3=36067;this.COLOR_ATTACHMENT2=36066;this.COLOR_ATTACHMENT1=36065;this.MAX_COLOR_ATTACHMENTS=36063;this.DRAW_BUFFER15=34868;this.DRAW_BUFFER14=34867;this.DRAW_BUFFER13=34866;this.DRAW_BUFFER12=34865;this.DRAW_BUFFER11=34864;this.DRAW_BUFFER10=34863;this.DRAW_BUFFER9=34862;this.DRAW_BUFFER8=34861;this.DRAW_BUFFER7=
34860;this.DRAW_BUFFER6=34859;this.DRAW_BUFFER5=34858;this.DRAW_BUFFER4=34857;this.DRAW_BUFFER3=34856;this.DRAW_BUFFER2=34855;this.DRAW_BUFFER1=34854;this.DRAW_BUFFER0=34853;this.MAX_DRAW_BUFFERS=34852;this.ANY_SAMPLES_PASSED_CONSERVATIVE=36202;this.ANY_SAMPLES_PASSED=35887;this.QUERY_RESULT_AVAILABLE=34919;this.QUERY_RESULT=34918;this.CURRENT_QUERY=34917;this.INT_2_10_10_10_REV=36255;this.RG_INTEGER=33320;this.RG=33319;this.HALF_FLOAT=5131;this.UNSIGNED_INT_24_8=34042;this.FLOAT_32_UNSIGNED_INT_24_8_REV=
36269;this.UNSIGNED_INT_5_9_9_9_REV=35902;this.UNSIGNED_INT_10F_11F_11F_REV=35899;this.UNSIGNED_INT_2_10_10_10_REV=33640;this.TEXTURE_IMMUTABLE_LEVELS=33503;this.TEXTURE_IMMUTABLE_FORMAT=37167;this.RGB10_A2UI=36975;this.RGBA8_SNORM=36759;this.RGB8_SNORM=36758;this.RG8_SNORM=36757;this.R8_SNORM=36756;this.RG32UI=33340;this.RG32I=33339;this.RG16UI=33338;this.RG16I=33337;this.RG8UI=33336;this.RG8I=33335;this.R32UI=33334;this.R32I=33333;this.R16UI=33332;this.R16I=33331;this.R8UI=33330;this.R8I=33329;
this.RG32F=33328;this.RG16F=33327;this.R32F=33326;this.R16F=33325;this.RG8=33323;this.R8=33321;this.RGBA_INTEGER=36249;this.RGB_INTEGER=36248;this.RED_INTEGER=36244;this.RGB8I=36239;this.RGBA8I=36238;this.RGB16I=36233;this.RGBA16I=36232;this.RGB32I=36227;this.RGBA32I=36226;this.RGB8UI=36221;this.RGBA8UI=36220;this.RGB16UI=36215;this.RGBA16UI=36214;this.RGB32UI=36209;this.RGBA32UI=36208;this.RGB9_E5=35901;this.R11F_G11F_B10F=35898;this.TEXTURE_BINDING_2D_ARRAY=35869;this.TEXTURE_2D_ARRAY=35866;this.RGB16F=
34843;this.RGBA16F=34842;this.RGB32F=34837;this.RGBA32F=34836;this.COMPARE_REF_TO_TEXTURE=34894;this.SRGB8_ALPHA8=35907;this.SRGB8=35905;this.SRGB=35904;this.TEXTURE_COMPARE_FUNC=34893;this.TEXTURE_COMPARE_MODE=34892;this.TEXTURE_MAX_LEVEL=33085;this.TEXTURE_BASE_LEVEL=33084;this.TEXTURE_MAX_LOD=33083;this.TEXTURE_MIN_LOD=33082;this.TEXTURE_WRAP_R=32882;this.TEXTURE_3D=32879;this.RGB10_A2=32857;this.RGBA8=32856;this.RGB8=32849;this.RED=6403;this.MAX_ELEMENT_INDEX=36203;this.MAX_SERVER_WAIT_TIMEOUT=
37137;this.MAX_FRAGMENT_INPUT_COMPONENTS=37157;this.MAX_VERTEX_OUTPUT_COMPONENTS=37154;this.VERTEX_ARRAY_BINDING=34229;this.RASTERIZER_DISCARD=35977;this.FRAGMENT_SHADER_DERIVATIVE_HINT=35723;this.MAX_VARYING_COMPONENTS=35659;this.MAX_PROGRAM_TEXEL_OFFSET=35077;this.MIN_PROGRAM_TEXEL_OFFSET=35076;this.MAX_ARRAY_TEXTURE_LAYERS=35071;this.MAX_VERTEX_UNIFORM_COMPONENTS=35658;this.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657;this.MAX_TEXTURE_LOD_BIAS=34045;this.MAX_ELEMENTS_INDICES=33001;this.MAX_ELEMENTS_VERTICES=
33E3;this.MAX_3D_TEXTURE_SIZE=32883;this.UNPACK_IMAGE_HEIGHT=32878;this.UNPACK_SKIP_IMAGES=32877;this.TEXTURE_BINDING_3D=32874;this.PACK_SKIP_PIXELS=3332;this.PACK_SKIP_ROWS=3331;this.PACK_ROW_LENGTH=3330;this.UNPACK_SKIP_PIXELS=3316;this.UNPACK_SKIP_ROWS=3315;this.UNPACK_ROW_LENGTH=3314;this.READ_BUFFER=3074;this.BROWSER_DEFAULT_WEBGL=37444;this.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443;this.CONTEXT_LOST_WEBGL=37442;this.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441;this.UNPACK_FLIP_Y_WEBGL=37440;this.INVALID_FRAMEBUFFER_OPERATION=
1286;this.MAX_RENDERBUFFER_SIZE=34024;this.RENDERBUFFER_BINDING=36007;this.FRAMEBUFFER_BINDING=36006;this.FRAMEBUFFER_UNSUPPORTED=36061;this.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057;this.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055;this.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054;this.FRAMEBUFFER_COMPLETE=36053;this.NONE=0;this.DEPTH_STENCIL_ATTACHMENT=33306;this.STENCIL_ATTACHMENT=36128;this.DEPTH_ATTACHMENT=36096;this.COLOR_ATTACHMENT0=36064;this.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051;
this.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050;this.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049;this.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048;this.RENDERBUFFER_STENCIL_SIZE=36181;this.RENDERBUFFER_DEPTH_SIZE=36180;this.RENDERBUFFER_ALPHA_SIZE=36179;this.RENDERBUFFER_BLUE_SIZE=36178;this.RENDERBUFFER_GREEN_SIZE=36177;this.RENDERBUFFER_RED_SIZE=36176;this.RENDERBUFFER_INTERNAL_FORMAT=36164;this.RENDERBUFFER_HEIGHT=36163;this.RENDERBUFFER_WIDTH=36162;this.DEPTH_STENCIL=34041;this.STENCIL_INDEX8=36168;
this.STENCIL_INDEX=6401;this.DEPTH_COMPONENT16=33189;this.RGB565=36194;this.RGB5_A1=32855;this.RGBA4=32854;this.RENDERBUFFER=36161;this.FRAMEBUFFER=36160;this.HIGH_INT=36341;this.MEDIUM_INT=36340;this.LOW_INT=36339;this.HIGH_FLOAT=36338;this.MEDIUM_FLOAT=36337;this.LOW_FLOAT=36336;this.COMPILE_STATUS=35713;this.POINT_SPRITE=34913;this.VERTEX_PROGRAM_POINT_SIZE=34370;this.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975;this.VERTEX_ATTRIB_ARRAY_POINTER=34373;this.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922;this.VERTEX_ATTRIB_ARRAY_TYPE=
34341;this.VERTEX_ATTRIB_ARRAY_STRIDE=34340;this.VERTEX_ATTRIB_ARRAY_SIZE=34339;this.VERTEX_ATTRIB_ARRAY_ENABLED=34338;this.SAMPLER_CUBE=35680;this.SAMPLER_2D=35678;this.FLOAT_MAT4=35676;this.FLOAT_MAT3=35675;this.FLOAT_MAT2=35674;this.BOOL_VEC4=35673;this.BOOL_VEC3=35672;this.BOOL_VEC2=35671;this.BOOL=35670;this.INT_VEC4=35669;this.INT_VEC3=35668;this.INT_VEC2=35667;this.FLOAT_VEC4=35666;this.FLOAT_VEC3=35665;this.FLOAT_VEC2=35664;this.MIRRORED_REPEAT=33648;this.CLAMP_TO_EDGE=33071;this.REPEAT=10497;
this.ACTIVE_TEXTURE=34016;this.TEXTURE31=34015;this.TEXTURE30=34014;this.TEXTURE29=34013;this.TEXTURE28=34012;this.TEXTURE27=34011;this.TEXTURE26=34010;this.TEXTURE25=34009;this.TEXTURE24=34008;this.TEXTURE23=34007;this.TEXTURE22=34006;this.TEXTURE21=34005;this.TEXTURE20=34004;this.TEXTURE19=34003;this.TEXTURE18=34002;this.TEXTURE17=34001;this.TEXTURE16=34E3;this.TEXTURE15=33999;this.TEXTURE14=33998;this.TEXTURE13=33997;this.TEXTURE12=33996;this.TEXTURE11=33995;this.TEXTURE10=33994;this.TEXTURE9=
33993;this.TEXTURE8=33992;this.TEXTURE7=33991;this.TEXTURE6=33990;this.TEXTURE5=33989;this.TEXTURE4=33988;this.TEXTURE3=33987;this.TEXTURE2=33986;this.TEXTURE1=33985;this.TEXTURE0=33984;this.MAX_CUBE_MAP_TEXTURE_SIZE=34076;this.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074;this.TEXTURE_CUBE_MAP_POSITIVE_Z=34073;this.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072;this.TEXTURE_CUBE_MAP_POSITIVE_Y=34071;this.TEXTURE_CUBE_MAP_NEGATIVE_X=34070;this.TEXTURE_CUBE_MAP_POSITIVE_X=34069;this.TEXTURE_BINDING_CUBE_MAP=34068;this.TEXTURE_CUBE_MAP=
34067;this.TEXTURE=5890;this.TEXTURE_2D=3553;this.TEXTURE_WRAP_T=10243;this.TEXTURE_WRAP_S=10242;this.TEXTURE_MIN_FILTER=10241;this.TEXTURE_MAG_FILTER=10240;this.LINEAR_MIPMAP_LINEAR=9987;this.NEAREST_MIPMAP_LINEAR=9986;this.LINEAR_MIPMAP_NEAREST=9985;this.NEAREST_MIPMAP_NEAREST=9984;this.LINEAR=9729;this.NEAREST=9728;this.VERSION=7938;this.RENDERER=7937;this.VENDOR=7936;this.DECR_WRAP=34056;this.INCR_WRAP=34055;this.INVERT=5386;this.DECR=7683;this.INCR=7682;this.REPLACE=7681;this.KEEP=7680;this.ALWAYS=
519;this.GEQUAL=518;this.NOTEQUAL=517;this.GREATER=516;this.LEQUAL=515;this.EQUAL=514;this.LESS=513;this.NEVER=512;this.CURRENT_PROGRAM=35725;this.SHADING_LANGUAGE_VERSION=35724;this.ACTIVE_ATTRIBUTES=35721;this.ACTIVE_UNIFORMS=35718;this.ATTACHED_SHADERS=35717;this.VALIDATE_STATUS=35715;this.LINK_STATUS=35714;this.DELETE_STATUS=35712;this.SHADER_TYPE=35663;this.MAX_FRAGMENT_UNIFORM_VECTORS=36349;this.MAX_TEXTURE_IMAGE_UNITS=34930;this.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660;this.MAX_COMBINED_TEXTURE_IMAGE_UNITS=
35661;this.MAX_VARYING_VECTORS=36348;this.MAX_VERTEX_UNIFORM_VECTORS=36347;this.MAX_VERTEX_ATTRIBS=34921;this.VERTEX_SHADER=35633;this.FRAGMENT_SHADER=35632;this.UNSIGNED_SHORT_5_6_5=33635;this.UNSIGNED_SHORT_5_5_5_1=32820;this.UNSIGNED_SHORT_4_4_4_4=32819;this.LUMINANCE_ALPHA=6410;this.LUMINANCE=6409;this.RGBA=6408;this.RGB=6407;this.ALPHA=6406;this.DEPTH_COMPONENT=6402;this.FLOAT=5126;this.UNSIGNED_INT=5125;this.INT=5124;this.UNSIGNED_SHORT=5123;this.SHORT=5122;this.UNSIGNED_BYTE=5121;this.BYTE=
5120;this.GENERATE_MIPMAP_HINT=33170;this.NICEST=4354;this.FASTEST=4353;this.DONT_CARE=4352;this.COMPRESSED_TEXTURE_FORMATS=34467;this.SAMPLE_COVERAGE_INVERT=32939;this.SAMPLE_COVERAGE_VALUE=32938;this.SAMPLES=32937;this.SAMPLE_BUFFERS=32936;this.TEXTURE_BINDING_2D=32873;this.POLYGON_OFFSET_FACTOR=32824;this.POLYGON_OFFSET_UNITS=10752;this.STENCIL_BITS=3415;this.DEPTH_BITS=3414;this.ALPHA_BITS=3413;this.BLUE_BITS=3412;this.GREEN_BITS=3411;this.RED_BITS=3410;this.SUBPIXEL_BITS=3408;this.MAX_VIEWPORT_DIMS=
3386;this.MAX_TEXTURE_SIZE=3379;this.PACK_ALIGNMENT=3333;this.UNPACK_ALIGNMENT=3317;this.COLOR_WRITEMASK=3107;this.COLOR_CLEAR_VALUE=3106;this.SCISSOR_BOX=3088;this.VIEWPORT=2978;this.STENCIL_BACK_WRITEMASK=36005;this.STENCIL_BACK_VALUE_MASK=36004;this.STENCIL_BACK_REF=36003;this.STENCIL_BACK_PASS_DEPTH_PASS=34819;this.STENCIL_BACK_PASS_DEPTH_FAIL=34818;this.STENCIL_BACK_FAIL=34817;this.STENCIL_BACK_FUNC=34816;this.STENCIL_WRITEMASK=2968;this.STENCIL_VALUE_MASK=2963;this.STENCIL_REF=2967;this.STENCIL_PASS_DEPTH_PASS=
2966;this.STENCIL_PASS_DEPTH_FAIL=2965;this.STENCIL_FAIL=2964;this.STENCIL_FUNC=2962;this.STENCIL_CLEAR_VALUE=2961;this.DEPTH_FUNC=2932;this.DEPTH_CLEAR_VALUE=2931;this.DEPTH_WRITEMASK=2930;this.DEPTH_RANGE=2928;this.FRONT_FACE=2886;this.CULL_FACE_MODE=2885;this.ALIASED_LINE_WIDTH_RANGE=33902;this.ALIASED_POINT_SIZE_RANGE=33901;this.LINE_WIDTH=2849;this.CCW=2305;this.CW=2304;this.OUT_OF_MEMORY=1285;this.INVALID_OPERATION=1282;this.INVALID_VALUE=1281;this.INVALID_ENUM=1280;this.NO_ERROR=0;this.SAMPLE_COVERAGE=
32928;this.SAMPLE_ALPHA_TO_COVERAGE=32926;this.POLYGON_OFFSET_FILL=32823;this.SCISSOR_TEST=3089;this.DEPTH_TEST=2929;this.STENCIL_TEST=2960;this.DITHER=3024;this.BLEND=3042;this.CULL_FACE=2884;this.FRONT_AND_BACK=1032;this.BACK=1029;this.FRONT=1028;this.CURRENT_VERTEX_ATTRIB=34342;this.BUFFER_USAGE=34661;this.BUFFER_SIZE=34660;this.DYNAMIC_DRAW=35048;this.STATIC_DRAW=35044;this.STREAM_DRAW=35040;this.ELEMENT_ARRAY_BUFFER_BINDING=34965;this.ARRAY_BUFFER_BINDING=34964;this.ELEMENT_ARRAY_BUFFER=34963;
this.ARRAY_BUFFER=34962;this.BLEND_COLOR=32773;this.ONE_MINUS_CONSTANT_ALPHA=32772;this.CONSTANT_ALPHA=32771;this.ONE_MINUS_CONSTANT_COLOR=32770;this.CONSTANT_COLOR=32769;this.BLEND_SRC_ALPHA=32971;this.BLEND_DST_ALPHA=32970;this.BLEND_SRC_RGB=32969;this.BLEND_DST_RGB=32968;this.FUNC_REVERSE_SUBTRACT=32779;this.FUNC_SUBTRACT=32778;this.BLEND_EQUATION_ALPHA=34877;this.BLEND_EQUATION=this.BLEND_EQUATION_RGB=32777;this.FUNC_ADD=32774;this.SRC_ALPHA_SATURATE=776;this.ONE_MINUS_DST_COLOR=775;this.DST_COLOR=
774;this.ONE_MINUS_DST_ALPHA=773;this.DST_ALPHA=772;this.ONE_MINUS_SRC_ALPHA=771;this.SRC_ALPHA=770;this.ONE_MINUS_SRC_COLOR=769;this.SRC_COLOR=768;this.ONE=1;this.ZERO=0;this.TRIANGLE_FAN=6;this.TRIANGLE_STRIP=5;this.TRIANGLES=4;this.LINE_STRIP=3;this.LINE_LOOP=2;this.LINES=1;this.POINTS=0;this.COLOR_BUFFER_BIT=16384;this.STENCIL_BUFFER_BIT=1024;this.DEPTH_BUFFER_BIT=256;this.__context=a;this.version=1;this.type=uc.WEBGL;if(null!=a){var b=a;Object.prototype.hasOwnProperty.call(b,"rawgl")&&(b=H.field(a,
"rawgl"));Object.prototype.hasOwnProperty.call(window,"WebGL2RenderingContext")&&y.__instanceof(b,WebGL2RenderingContext)&&(this.version=2)}};k["lime._backend.html5.HTML5GLRenderContext"]=Ek;Ek.__name__=["lime","_backend","html5","HTML5GLRenderContext"];Ek.prototype={DEPTH_BUFFER_BIT:null,STENCIL_BUFFER_BIT:null,COLOR_BUFFER_BIT:null,POINTS:null,LINES:null,LINE_LOOP:null,LINE_STRIP:null,TRIANGLES:null,TRIANGLE_STRIP:null,TRIANGLE_FAN:null,ZERO:null,ONE:null,SRC_COLOR:null,ONE_MINUS_SRC_COLOR:null,
SRC_ALPHA:null,ONE_MINUS_SRC_ALPHA:null,DST_ALPHA:null,ONE_MINUS_DST_ALPHA:null,DST_COLOR:null,ONE_MINUS_DST_COLOR:null,SRC_ALPHA_SATURATE:null,FUNC_ADD:null,BLEND_EQUATION:null,BLEND_EQUATION_RGB:null,BLEND_EQUATION_ALPHA:null,FUNC_SUBTRACT:null,FUNC_REVERSE_SUBTRACT:null,BLEND_DST_RGB:null,BLEND_SRC_RGB:null,BLEND_DST_ALPHA:null,BLEND_SRC_ALPHA:null,CONSTANT_COLOR:null,ONE_MINUS_CONSTANT_COLOR:null,CONSTANT_ALPHA:null,ONE_MINUS_CONSTANT_ALPHA:null,BLEND_COLOR:null,ARRAY_BUFFER:null,ELEMENT_ARRAY_BUFFER:null,
ARRAY_BUFFER_BINDING:null,ELEMENT_ARRAY_BUFFER_BINDING:null,STREAM_DRAW:null,STATIC_DRAW:null,DYNAMIC_DRAW:null,BUFFER_SIZE:null,BUFFER_USAGE:null,CURRENT_VERTEX_ATTRIB:null,FRONT:null,BACK:null,FRONT_AND_BACK:null,CULL_FACE:null,BLEND:null,DITHER:null,STENCIL_TEST:null,DEPTH_TEST:null,SCISSOR_TEST:null,POLYGON_OFFSET_FILL:null,SAMPLE_ALPHA_TO_COVERAGE:null,SAMPLE_COVERAGE:null,NO_ERROR:null,INVALID_ENUM:null,INVALID_VALUE:null,INVALID_OPERATION:null,OUT_OF_MEMORY:null,CW:null,CCW:null,LINE_WIDTH:null,
ALIASED_POINT_SIZE_RANGE:null,ALIASED_LINE_WIDTH_RANGE:null,CULL_FACE_MODE:null,FRONT_FACE:null,DEPTH_RANGE:null,DEPTH_WRITEMASK:null,DEPTH_CLEAR_VALUE:null,DEPTH_FUNC:null,STENCIL_CLEAR_VALUE:null,STENCIL_FUNC:null,STENCIL_FAIL:null,STENCIL_PASS_DEPTH_FAIL:null,STENCIL_PASS_DEPTH_PASS:null,STENCIL_REF:null,STENCIL_VALUE_MASK:null,STENCIL_WRITEMASK:null,STENCIL_BACK_FUNC:null,STENCIL_BACK_FAIL:null,STENCIL_BACK_PASS_DEPTH_FAIL:null,STENCIL_BACK_PASS_DEPTH_PASS:null,STENCIL_BACK_REF:null,STENCIL_BACK_VALUE_MASK:null,
STENCIL_BACK_WRITEMASK:null,VIEWPORT:null,SCISSOR_BOX:null,COLOR_CLEAR_VALUE:null,COLOR_WRITEMASK:null,UNPACK_ALIGNMENT:null,PACK_ALIGNMENT:null,MAX_TEXTURE_SIZE:null,MAX_VIEWPORT_DIMS:null,SUBPIXEL_BITS:null,RED_BITS:null,GREEN_BITS:null,BLUE_BITS:null,ALPHA_BITS:null,DEPTH_BITS:null,STENCIL_BITS:null,POLYGON_OFFSET_UNITS:null,POLYGON_OFFSET_FACTOR:null,TEXTURE_BINDING_2D:null,SAMPLE_BUFFERS:null,SAMPLES:null,SAMPLE_COVERAGE_VALUE:null,SAMPLE_COVERAGE_INVERT:null,COMPRESSED_TEXTURE_FORMATS:null,
DONT_CARE:null,FASTEST:null,NICEST:null,GENERATE_MIPMAP_HINT:null,BYTE:null,UNSIGNED_BYTE:null,SHORT:null,UNSIGNED_SHORT:null,INT:null,UNSIGNED_INT:null,FLOAT:null,DEPTH_COMPONENT:null,ALPHA:null,RGB:null,RGBA:null,LUMINANCE:null,LUMINANCE_ALPHA:null,UNSIGNED_SHORT_4_4_4_4:null,UNSIGNED_SHORT_5_5_5_1:null,UNSIGNED_SHORT_5_6_5:null,FRAGMENT_SHADER:null,VERTEX_SHADER:null,MAX_VERTEX_ATTRIBS:null,MAX_VERTEX_UNIFORM_VECTORS:null,MAX_VARYING_VECTORS:null,MAX_COMBINED_TEXTURE_IMAGE_UNITS:null,MAX_VERTEX_TEXTURE_IMAGE_UNITS:null,
MAX_TEXTURE_IMAGE_UNITS:null,MAX_FRAGMENT_UNIFORM_VECTORS:null,SHADER_TYPE:null,DELETE_STATUS:null,LINK_STATUS:null,VALIDATE_STATUS:null,ATTACHED_SHADERS:null,ACTIVE_UNIFORMS:null,ACTIVE_ATTRIBUTES:null,SHADING_LANGUAGE_VERSION:null,CURRENT_PROGRAM:null,NEVER:null,LESS:null,EQUAL:null,LEQUAL:null,GREATER:null,NOTEQUAL:null,GEQUAL:null,ALWAYS:null,KEEP:null,REPLACE:null,INCR:null,DECR:null,INVERT:null,INCR_WRAP:null,DECR_WRAP:null,VENDOR:null,RENDERER:null,VERSION:null,NEAREST:null,LINEAR:null,NEAREST_MIPMAP_NEAREST:null,
LINEAR_MIPMAP_NEAREST:null,NEAREST_MIPMAP_LINEAR:null,LINEAR_MIPMAP_LINEAR:null,TEXTURE_MAG_FILTER:null,TEXTURE_MIN_FILTER:null,TEXTURE_WRAP_S:null,TEXTURE_WRAP_T:null,TEXTURE_2D:null,TEXTURE:null,TEXTURE_CUBE_MAP:null,TEXTURE_BINDING_CUBE_MAP:null,TEXTURE_CUBE_MAP_POSITIVE_X:null,TEXTURE_CUBE_MAP_NEGATIVE_X:null,TEXTURE_CUBE_MAP_POSITIVE_Y:null,TEXTURE_CUBE_MAP_NEGATIVE_Y:null,TEXTURE_CUBE_MAP_POSITIVE_Z:null,TEXTURE_CUBE_MAP_NEGATIVE_Z:null,MAX_CUBE_MAP_TEXTURE_SIZE:null,TEXTURE0:null,TEXTURE1:null,
TEXTURE2:null,TEXTURE3:null,TEXTURE4:null,TEXTURE5:null,TEXTURE6:null,TEXTURE7:null,TEXTURE8:null,TEXTURE9:null,TEXTURE10:null,TEXTURE11:null,TEXTURE12:null,TEXTURE13:null,TEXTURE14:null,TEXTURE15:null,TEXTURE16:null,TEXTURE17:null,TEXTURE18:null,TEXTURE19:null,TEXTURE20:null,TEXTURE21:null,TEXTURE22:null,TEXTURE23:null,TEXTURE24:null,TEXTURE25:null,TEXTURE26:null,TEXTURE27:null,TEXTURE28:null,TEXTURE29:null,TEXTURE30:null,TEXTURE31:null,ACTIVE_TEXTURE:null,REPEAT:null,CLAMP_TO_EDGE:null,MIRRORED_REPEAT:null,
FLOAT_VEC2:null,FLOAT_VEC3:null,FLOAT_VEC4:null,INT_VEC2:null,INT_VEC3:null,INT_VEC4:null,BOOL:null,BOOL_VEC2:null,BOOL_VEC3:null,BOOL_VEC4:null,FLOAT_MAT2:null,FLOAT_MAT3:null,FLOAT_MAT4:null,SAMPLER_2D:null,SAMPLER_CUBE:null,VERTEX_ATTRIB_ARRAY_ENABLED:null,VERTEX_ATTRIB_ARRAY_SIZE:null,VERTEX_ATTRIB_ARRAY_STRIDE:null,VERTEX_ATTRIB_ARRAY_TYPE:null,VERTEX_ATTRIB_ARRAY_NORMALIZED:null,VERTEX_ATTRIB_ARRAY_POINTER:null,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:null,VERTEX_PROGRAM_POINT_SIZE:null,POINT_SPRITE:null,
COMPILE_STATUS:null,LOW_FLOAT:null,MEDIUM_FLOAT:null,HIGH_FLOAT:null,LOW_INT:null,MEDIUM_INT:null,HIGH_INT:null,FRAMEBUFFER:null,RENDERBUFFER:null,RGBA4:null,RGB5_A1:null,RGB565:null,DEPTH_COMPONENT16:null,STENCIL_INDEX:null,STENCIL_INDEX8:null,DEPTH_STENCIL:null,RENDERBUFFER_WIDTH:null,RENDERBUFFER_HEIGHT:null,RENDERBUFFER_INTERNAL_FORMAT:null,RENDERBUFFER_RED_SIZE:null,RENDERBUFFER_GREEN_SIZE:null,RENDERBUFFER_BLUE_SIZE:null,RENDERBUFFER_ALPHA_SIZE:null,RENDERBUFFER_DEPTH_SIZE:null,RENDERBUFFER_STENCIL_SIZE:null,
FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:null,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:null,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:null,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:null,COLOR_ATTACHMENT0:null,DEPTH_ATTACHMENT:null,STENCIL_ATTACHMENT:null,DEPTH_STENCIL_ATTACHMENT:null,NONE:null,FRAMEBUFFER_COMPLETE:null,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:null,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:null,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:null,FRAMEBUFFER_UNSUPPORTED:null,FRAMEBUFFER_BINDING:null,RENDERBUFFER_BINDING:null,
MAX_RENDERBUFFER_SIZE:null,INVALID_FRAMEBUFFER_OPERATION:null,UNPACK_FLIP_Y_WEBGL:null,UNPACK_PREMULTIPLY_ALPHA_WEBGL:null,CONTEXT_LOST_WEBGL:null,UNPACK_COLORSPACE_CONVERSION_WEBGL:null,BROWSER_DEFAULT_WEBGL:null,READ_BUFFER:null,UNPACK_ROW_LENGTH:null,UNPACK_SKIP_ROWS:null,UNPACK_SKIP_PIXELS:null,PACK_ROW_LENGTH:null,PACK_SKIP_ROWS:null,PACK_SKIP_PIXELS:null,TEXTURE_BINDING_3D:null,UNPACK_SKIP_IMAGES:null,UNPACK_IMAGE_HEIGHT:null,MAX_3D_TEXTURE_SIZE:null,MAX_ELEMENTS_VERTICES:null,MAX_ELEMENTS_INDICES:null,
MAX_TEXTURE_LOD_BIAS:null,MAX_FRAGMENT_UNIFORM_COMPONENTS:null,MAX_VERTEX_UNIFORM_COMPONENTS:null,MAX_ARRAY_TEXTURE_LAYERS:null,MIN_PROGRAM_TEXEL_OFFSET:null,MAX_PROGRAM_TEXEL_OFFSET:null,MAX_VARYING_COMPONENTS:null,FRAGMENT_SHADER_DERIVATIVE_HINT:null,RASTERIZER_DISCARD:null,VERTEX_ARRAY_BINDING:null,MAX_VERTEX_OUTPUT_COMPONENTS:null,MAX_FRAGMENT_INPUT_COMPONENTS:null,MAX_SERVER_WAIT_TIMEOUT:null,MAX_ELEMENT_INDEX:null,RED:null,RGB8:null,RGBA8:null,RGB10_A2:null,TEXTURE_3D:null,TEXTURE_WRAP_R:null,
TEXTURE_MIN_LOD:null,TEXTURE_MAX_LOD:null,TEXTURE_BASE_LEVEL:null,TEXTURE_MAX_LEVEL:null,TEXTURE_COMPARE_MODE:null,TEXTURE_COMPARE_FUNC:null,SRGB:null,SRGB8:null,SRGB8_ALPHA8:null,COMPARE_REF_TO_TEXTURE:null,RGBA32F:null,RGB32F:null,RGBA16F:null,RGB16F:null,TEXTURE_2D_ARRAY:null,TEXTURE_BINDING_2D_ARRAY:null,R11F_G11F_B10F:null,RGB9_E5:null,RGBA32UI:null,RGB32UI:null,RGBA16UI:null,RGB16UI:null,RGBA8UI:null,RGB8UI:null,RGBA32I:null,RGB32I:null,RGBA16I:null,RGB16I:null,RGBA8I:null,RGB8I:null,RED_INTEGER:null,
RGB_INTEGER:null,RGBA_INTEGER:null,R8:null,RG8:null,R16F:null,R32F:null,RG16F:null,RG32F:null,R8I:null,R8UI:null,R16I:null,R16UI:null,R32I:null,R32UI:null,RG8I:null,RG8UI:null,RG16I:null,RG16UI:null,RG32I:null,RG32UI:null,R8_SNORM:null,RG8_SNORM:null,RGB8_SNORM:null,RGBA8_SNORM:null,RGB10_A2UI:null,TEXTURE_IMMUTABLE_FORMAT:null,TEXTURE_IMMUTABLE_LEVELS:null,UNSIGNED_INT_2_10_10_10_REV:null,UNSIGNED_INT_10F_11F_11F_REV:null,UNSIGNED_INT_5_9_9_9_REV:null,FLOAT_32_UNSIGNED_INT_24_8_REV:null,UNSIGNED_INT_24_8:null,
HALF_FLOAT:null,RG:null,RG_INTEGER:null,INT_2_10_10_10_REV:null,CURRENT_QUERY:null,QUERY_RESULT:null,QUERY_RESULT_AVAILABLE:null,ANY_SAMPLES_PASSED:null,ANY_SAMPLES_PASSED_CONSERVATIVE:null,MAX_DRAW_BUFFERS:null,DRAW_BUFFER0:null,DRAW_BUFFER1:null,DRAW_BUFFER2:null,DRAW_BUFFER3:null,DRAW_BUFFER4:null,DRAW_BUFFER5:null,DRAW_BUFFER6:null,DRAW_BUFFER7:null,DRAW_BUFFER8:null,DRAW_BUFFER9:null,DRAW_BUFFER10:null,DRAW_BUFFER11:null,DRAW_BUFFER12:null,DRAW_BUFFER13:null,DRAW_BUFFER14:null,DRAW_BUFFER15:null,
MAX_COLOR_ATTACHMENTS:null,COLOR_ATTACHMENT1:null,COLOR_ATTACHMENT2:null,COLOR_ATTACHMENT3:null,COLOR_ATTACHMENT4:null,COLOR_ATTACHMENT5:null,COLOR_ATTACHMENT6:null,COLOR_ATTACHMENT7:null,COLOR_ATTACHMENT8:null,COLOR_ATTACHMENT9:null,COLOR_ATTACHMENT10:null,COLOR_ATTACHMENT11:null,COLOR_ATTACHMENT12:null,COLOR_ATTACHMENT13:null,COLOR_ATTACHMENT14:null,COLOR_ATTACHMENT15:null,SAMPLER_3D:null,SAMPLER_2D_SHADOW:null,SAMPLER_2D_ARRAY:null,SAMPLER_2D_ARRAY_SHADOW:null,SAMPLER_CUBE_SHADOW:null,INT_SAMPLER_2D:null,
INT_SAMPLER_3D:null,INT_SAMPLER_CUBE:null,INT_SAMPLER_2D_ARRAY:null,UNSIGNED_INT_SAMPLER_2D:null,UNSIGNED_INT_SAMPLER_3D:null,UNSIGNED_INT_SAMPLER_CUBE:null,UNSIGNED_INT_SAMPLER_2D_ARRAY:null,MAX_SAMPLES:null,SAMPLER_BINDING:null,PIXEL_PACK_BUFFER:null,PIXEL_UNPACK_BUFFER:null,PIXEL_PACK_BUFFER_BINDING:null,PIXEL_UNPACK_BUFFER_BINDING:null,COPY_READ_BUFFER:null,COPY_WRITE_BUFFER:null,COPY_READ_BUFFER_BINDING:null,COPY_WRITE_BUFFER_BINDING:null,FLOAT_MAT2x3:null,FLOAT_MAT2x4:null,FLOAT_MAT3x2:null,
FLOAT_MAT3x4:null,FLOAT_MAT4x2:null,FLOAT_MAT4x3:null,UNSIGNED_INT_VEC2:null,UNSIGNED_INT_VEC3:null,UNSIGNED_INT_VEC4:null,UNSIGNED_NORMALIZED:null,SIGNED_NORMALIZED:null,VERTEX_ATTRIB_ARRAY_INTEGER:null,VERTEX_ATTRIB_ARRAY_DIVISOR:null,TRANSFORM_FEEDBACK_BUFFER_MODE:null,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:null,TRANSFORM_FEEDBACK_VARYINGS:null,TRANSFORM_FEEDBACK_BUFFER_START:null,TRANSFORM_FEEDBACK_BUFFER_SIZE:null,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:null,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:null,
MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:null,INTERLEAVED_ATTRIBS:null,SEPARATE_ATTRIBS:null,TRANSFORM_FEEDBACK_BUFFER:null,TRANSFORM_FEEDBACK_BUFFER_BINDING:null,TRANSFORM_FEEDBACK:null,TRANSFORM_FEEDBACK_PAUSED:null,TRANSFORM_FEEDBACK_ACTIVE:null,TRANSFORM_FEEDBACK_BINDING:null,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:null,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:null,FRAMEBUFFER_ATTACHMENT_RED_SIZE:null,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:null,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:null,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:null,
FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:null,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:null,FRAMEBUFFER_DEFAULT:null,DEPTH24_STENCIL8:null,DRAW_FRAMEBUFFER_BINDING:null,READ_FRAMEBUFFER:null,DRAW_FRAMEBUFFER:null,READ_FRAMEBUFFER_BINDING:null,RENDERBUFFER_SAMPLES:null,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:null,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:null,UNIFORM_BUFFER:null,UNIFORM_BUFFER_BINDING:null,UNIFORM_BUFFER_START:null,UNIFORM_BUFFER_SIZE:null,MAX_VERTEX_UNIFORM_BLOCKS:null,MAX_FRAGMENT_UNIFORM_BLOCKS:null,
MAX_COMBINED_UNIFORM_BLOCKS:null,MAX_UNIFORM_BUFFER_BINDINGS:null,MAX_UNIFORM_BLOCK_SIZE:null,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:null,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:null,UNIFORM_BUFFER_OFFSET_ALIGNMENT:null,ACTIVE_UNIFORM_BLOCKS:null,UNIFORM_TYPE:null,UNIFORM_SIZE:null,UNIFORM_BLOCK_INDEX:null,UNIFORM_OFFSET:null,UNIFORM_ARRAY_STRIDE:null,UNIFORM_MATRIX_STRIDE:null,UNIFORM_IS_ROW_MAJOR:null,UNIFORM_BLOCK_BINDING:null,UNIFORM_BLOCK_DATA_SIZE:null,UNIFORM_BLOCK_ACTIVE_UNIFORMS:null,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:null,
UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:null,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:null,OBJECT_TYPE:null,SYNC_CONDITION:null,SYNC_STATUS:null,SYNC_FLAGS:null,SYNC_FENCE:null,SYNC_GPU_COMMANDS_COMPLETE:null,UNSIGNALED:null,SIGNALED:null,ALREADY_SIGNALED:null,TIMEOUT_EXPIRED:null,CONDITION_SATISFIED:null,WAIT_FAILED:null,SYNC_FLUSH_COMMANDS_BIT:null,COLOR:null,DEPTH:null,STENCIL:null,MIN:null,MAX:null,DEPTH_COMPONENT24:null,STREAM_READ:null,STREAM_COPY:null,STATIC_READ:null,STATIC_COPY:null,
DYNAMIC_READ:null,DYNAMIC_COPY:null,DEPTH_COMPONENT32F:null,DEPTH32F_STENCIL8:null,INVALID_INDEX:null,TIMEOUT_IGNORED:null,MAX_CLIENT_WAIT_TIMEOUT_WEBGL:null,type:null,version:null,__context:null,__contextLost:null,activeTexture:function(a){this.__context.activeTexture(a)},attachShader:function(a,b){this.__context.attachShader(a,b)},beginQuery:function(a,b){this.__context.beginQuery(a,b)},beginTransformFeedback:function(a){this.__context.beginTransformFeedback(a)},bindAttribLocation:function(a,b,
c){this.__context.bindAttribLocation(a,b,c)},bindBuffer:function(a,b){this.__context.bindBuffer(a,b)},bindBufferBase:function(a,b,c){this.__context.bindBufferBase(a,b,c)},bindBufferRange:function(a,b,c,d,e){this.__context.bindBufferRange(a,b,c,d,ba.fromInt(e))},bindFramebuffer:function(a,b){this.__context.bindFramebuffer(a,b)},bindRenderbuffer:function(a,b){this.__context.bindRenderbuffer(a,b)},bindSampler:function(a,b){this.__context.bindSampler(a,b)},bindTexture:function(a,b){this.__context.bindTexture(a,
b)},bindTransformFeedback:function(a,b){this.__context.bindTransformFeedback(a,b)},bindVertexArray:function(a){this.__context.bindVertexArray(a)},blendColor:function(a,b,c,d){this.__context.blendColor(a,b,c,d)},blendEquation:function(a){this.__context.blendEquation(a)},blendEquationSeparate:function(a,b){this.__context.blendEquationSeparate(a,b)},blendFunc:function(a,b){this.__context.blendFunc(a,b)},blendFuncSeparate:function(a,b,c,d){this.__context.blendFuncSeparate(a,b,c,d)},blitFramebuffer:function(a,
b,c,d,e,f,p,g,m,h){this.__context.blitFramebuffer(a,b,c,d,e,f,p,g,m,h)},bufferData:function(a,b,c,d,e,f){"number"!=typeof c||(c|0)!==c?(c=this.__prepareData(b,c),1<this.version&&null!=e?this.__context.bufferData(a,c,d,e,f):this.__context.bufferData(a,c,d)):1<this.version&&null!=d?this.__context.bufferData(a,b,c,d,e):this.__context.bufferData(a,b,c)},bufferSubData:function(a,b,c,d,e,f){"number"==typeof c&&(c|0)===c?(d=this.__prepareData(c,d),1<this.version&&null!=e?this.__context.bufferSubData(a,b,
d,e,f):this.__context.bufferSubData(a,b,d)):1<this.version&&null!=d?this.__context.bufferSubData(a,b,c,d,e):this.__context.bufferSubData(a,b,c)},checkFramebufferStatus:function(a){return this.__context.checkFramebufferStatus(a)},clear:function(a){this.__context.clear(a)},clearBufferfi:function(a,b,c,d){this.__context.clearBufferfi(a,b,c,d)},clearBufferfv:function(a,b,c,d){this.__context.clearBufferfv(a,b,c,d)},clearBufferiv:function(a,b,c,d){this.__context.clearBufferiv(a,b,c,d)},clearBufferuiv:function(a,
b,c,d){this.__context.clearBufferuiv(a,b,c,d)},clearColor:function(a,b,c,d){this.__context.clearColor(a,b,c,d)},clearDepth:function(a){this.__context.clearDepth(a)},clearDepthf:function(a){this.__context.clearDepth(a)},clearStencil:function(a){this.__context.clearStencil(a)},clientWaitSync:function(a,b,c){return this.__context.clientWaitSync(a,b,c)},copyBufferSubData:function(a,b,c,d,e){},colorMask:function(a,b,c,d){this.__context.colorMask(a,b,c,d)},compileShader:function(a){this.__context.compileShader(a)},
compressedTexImage2D:function(a,b,c,d,e,f,p,g,m,h){"number"==typeof p&&(p|0)===p?(g=this.__prepareData(null,g),1<this.version&&null!=m?this.__context.compressedTexImage2D(a,b,c,d,e,f,g,m,h):this.__context.compressedTexImage2D(a,b,c,d,e,f,g)):1<this.version&&null!=g?this.__context.compressedTexImage2D(a,b,c,d,e,f,p,g,m):this.__context.compressedTexImage2D(a,b,c,d,e,f,p)},compressedTexImage3D:function(a,b,c,d,e,f,p,g,m,h){this.__context.compressedTexImage3D(a,b,c,d,e,f,p,g,m,h)},compressedTexSubImage2D:function(a,
b,c,d,e,f,p,g,m,h,l){"number"==typeof g&&(g|0)===g?(m=this.__prepareData(null,m),1<this.version&&null!=h?this.__context.compressedTexSubImage2D(a,b,c,d,e,f,p,m,h,l):this.__context.compressedTexSubImage2D(a,b,c,d,e,f,p,m)):1<this.version&&null!=m?this.__context.compressedTexSubImage2D(a,b,c,d,e,f,p,g,m,h):this.__context.compressedTexSubImage2D(a,b,c,d,e,f,p,g)},compressedTexSubImage3D:function(a,b,c,d,e,f,p,g,m,h,l,k){this.__context.compressedTexSubImage3D(a,b,c,d,e,f,p,g,m,h,l,k)},copySubBufferData:function(a,
b,c,d,e){this.__context.copySubBufferData(a,b,c,d,e)},copyTexImage2D:function(a,b,c,d,e,f,p,g){this.__context.copyTexImage2D(a,b,c,d,e,f,p,g)},copyTexSubImage2D:function(a,b,c,d,e,f,p,g){this.__context.copyTexSubImage2D(a,b,c,d,e,f,p,g)},copyTexSubImage3D:function(a,b,c,d,e,f,p,g,m){this.__context.copyTexSubImage3D(a,b,c,d,e,f,p,g,m)},createBuffer:function(){return this.__context.createBuffer()},createFramebuffer:function(){return this.__context.createFramebuffer()},createProgram:function(){return this.__context.createProgram()},
createQuery:function(){return this.__context.createQuery()},createRenderbuffer:function(){return this.__context.createRenderbuffer()},createSampler:function(){return this.__context.createSampler()},createShader:function(a){return this.__context.createShader(a)},createTexture:function(){return this.__context.createTexture()},createTransformFeedback:function(){return this.__context.createTransformFeedback()},createVertexArray:function(){return this.__context.createVertexArray()},cullFace:function(a){this.__context.cullFace(a)},
deleteBuffer:function(a){this.__context.deleteBuffer(a)},deleteFramebuffer:function(a){this.__context.deleteFramebuffer(a)},deleteProgram:function(a){this.__context.deleteProgram(a)},deleteQuery:function(a){this.__context.deleteQuery(a)},deleteRenderbuffer:function(a){this.__context.deleteRenderbuffer(a)},deleteSampler:function(a){this.__context.deleteSampler(a)},deleteShader:function(a){this.__context.deleteShader(a)},deleteSync:function(a){this.__context.deleteSync(a)},deleteTexture:function(a){this.__context.deleteTexture(a)},
deleteTransformFeedback:function(a){this.__context.deleteTransformFeedback(a)},deleteVertexArray:function(a){this.__context.deleteVertexArray(a)},depthFunc:function(a){this.__context.depthFunc(a)},depthMask:function(a){this.__context.depthMask(a)},depthRange:function(a,b){this.__context.depthRange(a,b)},depthRangef:function(a,b){this.__context.depthRange(a,b)},detachShader:function(a,b){this.__context.detachShader(a,b)},disable:function(a){this.__context.disable(a)},disableVertexAttribArray:function(a){this.__context.disableVertexAttribArray(a)},
drawArrays:function(a,b,c){this.__context.drawArrays(a,b,c)},drawArraysInstanced:function(a,b,c,d){this.__context.drawArraysInstanced(a,b,c,d)},drawBuffers:function(a){this.__context.drawBuffers(a)},drawElements:function(a,b,c,d){this.__context.drawElements(a,b,c,d)},drawElementsInstanced:function(a,b,c,d,e){this.__context.drawElementsInstanced(a,b,c,d,e)},drawRangeElements:function(a,b,c,d,e,f){this.__context.drawRangeElements(a,b,c,d,e,f)},enable:function(a){this.__context.enable(a)},enableVertexAttribArray:function(a){this.__context.enableVertexAttribArray(a)},
endQuery:function(a){this.__context.endQuery(a)},endTransformFeedback:function(){this.__context.endTransformFeedback()},fenceSync:function(a,b){return this.__context.fenceSync(a,b)},finish:function(){this.__context.finish()},flush:function(){this.__context.flush()},framebufferRenderbuffer:function(a,b,c,d){this.__context.framebufferRenderbuffer(a,b,c,d)},framebufferTexture2D:function(a,b,c,d,e){this.__context.framebufferTexture2D(a,b,c,d,e)},framebufferTextureLayer:function(a,b,c,d,e){this.__context.framebufferTextureLayer(a,
b,c,d,e)},frontFace:function(a){this.__context.frontFace(a)},generateMipmap:function(a){this.__context.generateMipmap(a)},getActiveAttrib:function(a,b){return this.__context.getActiveAttrib(a,b)},getActiveUniform:function(a,b){return this.__context.getActiveUniform(a,b)},getActiveUniformBlocki:function(a,b,c){return this.__context.getActiveUniformBlockParameter(a,b,c)},getActiveUniformBlockiv:function(a,b,c,d){(null!=d?new Int32Array(d,0):null)[0]=this.__context.getActiveUniformBlockParameter(a,b,
c)},getActiveUniformBlockName:function(a,b){return this.__context.getActiveUniformBlockName(a,b)},getActiveUniformBlockParameter:function(a,b,c){return this.__context.getActiveUniformBlockParameter(a,b,c)},getActiveUniforms:function(a,b,c){return this.__context.getActiveUniforms(a,b,c)},getActiveUniformsiv:function(a,b,c,d){},getAttachedShaders:function(a){return this.__context.getAttachedShaders(a)},getAttribLocation:function(a,b){return this.__context.getAttribLocation(a,b)},getBoolean:function(a){return this.__context.getParameter(a)},
getBooleanv:function(a,b){var c=null!=b?new Fa(b):null,d=this.__context.getParameter(a);if(d instanceof Array&&null==d.__enum__)for(var e=0,f=d.length;e<f;){var p=e++;c[p]=d[p]?1:0}else c[0]=y.__cast(d,Ql)?1:0},getBufferParameter:function(a,b){return this.__context.getBufferParameter(a,b)},getBufferParameteri:function(a,b){return this.__context.getBufferParameter(a,b)},getBufferParameteri64v:function(a,b,c){},getBufferParameteriv:function(a,b,c){(null!=c?new Int32Array(c,0):null)[0]=this.__context.getBufferParameter(a,
b)},getBufferPointerv:function(a,b){return ba.fromInt(0)},getBufferSubData:function(a,b,c,d,e){"number"==typeof c&&(c|0)===c?this.__context.getBufferSubData(a,b,d):null!=d?this.__context.getBufferSubData(a,b,c,d,e):this.__context.getBufferSubData(a,b,c)},getContextAttributes:function(){return this.__context.getContextAttributes()},getError:function(){return this.__context.getError()},getExtension:function(a){return this.__context.getExtension(a)},getFloat:function(a){return this.__context.getParameter(a)},
getFloatv:function(a,b){var c=null!=b?new ra(b):null,d=this.__context.getParameter(a);if(y.__instanceof(d,ArrayBufferView))for(var e=0,f=d.length;e<f;){var p=e++;c[p]=d[p]}else c[0]=y.__cast(d,xm)},getFragDataLocation:function(a,b){return this.__context.getFragDataLocation(a,b)},getFramebufferAttachmentParameter:function(a,b,c){return this.__context.getFramebufferAttachmentParameter(a,b,c)},getFramebufferAttachmentParameteri:function(a,b,c){return this.__context.getFramebufferAttachmentParameter(a,
b,c)},getFramebufferAttachmentParameteriv:function(a,b,c,d){a=this.getFramebufferAttachmentParameteri(a,b,c);"number"==typeof d&&(d|0)===d&&((null!=d?new Int32Array(d,0):null)[0]=a)},getIndexedParameter:function(a,b){return this.__context.getIndexedParameter(a,b)},getInteger:function(a){return this.__context.getParameter(a)},getInteger64:function(a){return new Y(0,0)},getInteger64i:function(a){return new Y(0,0)},getInteger64i_v:function(a,b){},getInteger64v:function(a,b){},getIntegeri:function(a){return 0},
getIntegeri_v:function(a,b){},getIntegerv:function(a,b){var c=null!=b?new Int32Array(b):null,d=this.__context.getParameter(a);if(y.__instanceof(d,ArrayBufferView))for(var e=0,f=d.length;e<f;){var p=e++;c[p]=d[p]}else c[0]=y.__cast(d,zk)},getInternalformati:function(a,b,c){return 0},getInternalformativ:function(a,b,c,d){},getInternalformatParameter:function(a,b,c){return this.__context.getInternalformatParameter(a,b,c)},getParameter:function(a){return this.__context.getParameter(a)},getProgramBinary:function(a,
b){return null},getProgrami:function(a,b){return this.__context.getProgramParameter(a,b)},getProgramiv:function(a,b,c){(null!=c?new Int32Array(c,0):null)[0]=this.__context.getProgramParameter(a,b)},getProgramInfoLog:function(a){return this.__context.getProgramInfoLog(a)},getProgramParameter:function(a,b){return this.__context.getProgramParameter(a,b)},getQuery:function(a,b){return this.__context.getQuery(a,b)},getQueryi:function(a,b){return 0},getQueryiv:function(a,b,c){},getQueryObjectui:function(a,
b){return 0},getQueryObjectuiv:function(a,b,c){},getQueryParameter:function(a,b){return this.__context.getQueryParameter(a,b)},getRenderbufferParameter:function(a,b){return this.__context.getRenderbufferParameter(a,b)},getRenderbufferParameteri:function(a,b){return this.__context.getRenderbufferParameter(a,b)},getRenderbufferParameteriv:function(a,b,c){(null!=c?new Int32Array(c,0):null)[0]=this.__context.getRenderbufferParameter(a,b)},getSamplerParameter:function(a,b){return this.__context.getSamplerParameter(a,
b)},getSamplerParameterf:function(a,b){return 0},getSamplerParameterfv:function(a,b,c){},getSamplerParameteri:function(a,b){return 0},getSamplerParameteriv:function(a,b,c){},getShaderi:function(a,b){return this.__context.getShaderParameter(a,b)},getShaderiv:function(a,b,c){(null!=c?new Int32Array(c,0):null)[0]=this.__context.getShaderParameter(a,b)},getShaderInfoLog:function(a){return this.__context.getShaderInfoLog(a)},getShaderParameter:function(a,b){return this.__context.getShaderParameter(a,b)},
getShaderPrecisionFormat:function(a,b){return this.__context.getShaderPrecisionFormat(a,b)},getShaderSource:function(a){return this.__context.getShaderSource(a)},getString:function(a){return 7939==a?this.__context.getSupportedExtensions().join(" "):this.__context.getParameter(a)},getStringi:function(a,b){return null},getSupportedExtensions:function(){return this.__context.getSupportedExtensions()},getSyncParameter:function(a,b){return this.__context.getSyncParameter(a,b)},getSyncParameteri:function(a,
b){return 0},getSyncParameteriv:function(a,b,c){},getTexParameter:function(a,b){return this.__context.getTexParameter(a,b)},getTexParameterf:function(a,b){return this.__context.getTexParameter(a,b)},getTexParameterfv:function(a,b,c){(null!=c?new ra(c,0):null)[0]=this.__context.getTexParameter(a,b)},getTexParameteri:function(a,b){return this.__context.getTexParameter(a,b)},getTexParameteriv:function(a,b,c){(null!=c?new Int32Array(c,0):null)[0]=this.__context.getTexParameter(a,b)},getTransformFeedbackVarying:function(a,
b){return this.__context.getTransformFeedbackVarying(a,b)},getUniform:function(a,b){return this.__context.getUniform(a,b)},getUniformf:function(a,b){return this.__context.getUniform(a,b)},getUniformfv:function(a,b,c){(null!=c?new ra(c,0):null)[0]=this.__context.getUniform(a,b)},getUniformi:function(a,b){return this.__context.getUniform(a,b)},getUniformiv:function(a,b,c){a=this.getUniformi(a,b);"number"==typeof a&&(a|0)===a&&((null!=c?new Int32Array(c,0):null)[0]=a)},getUniformui:function(a,b){return 0},
getUniformuiv:function(a,b,c){},getUniformBlockIndex:function(a,b){return this.__context.getUniformBlockIndex(a,b)},getUniformIndices:function(a,b){return this.__context.getUniformIndices(a,b)},getUniformLocation:function(a,b){return this.__context.getUniformLocation(a,b)},getVertexAttrib:function(a,b){return this.__context.getVertexAttrib(a,b)},getVertexAttribf:function(a,b){return 0},getVertexAttribfv:function(a,b,c){},getVertexAttribi:function(a,b){return 0},getVertexAttribIi:function(a,b){return 0},
getVertexAttribIiv:function(a,b,c){},getVertexAttribIui:function(a,b){return 0},getVertexAttribIuiv:function(a,b,c){},getVertexAttribiv:function(a,b,c){},getVertexAttribOffset:function(a,b){return ba.fromInt(this.__context.getVertexAttribOffset(a,b))},getVertexAttribPointerv:function(a,b){return ba.fromInt(this.__context.getVertexAttribOffset(a,b))},hint:function(a,b){this.__context.hint(a,b)},invalidateFramebuffer:function(a,b){this.__context.invalidateFramebuffer(a,b)},invalidateSubFramebuffer:function(a,
b,c,d,e,f){this.__context.invalidateSubFramebuffer(a,b,c,d,e,f)},isBuffer:function(a){return this.__context.isBuffer(a)},isContextLost:function(){return this.__contextLost?!0:this.__context.isContextLost()},isEnabled:function(a){return this.__context.isEnabled(a)},isFramebuffer:function(a){return this.__context.isFramebuffer(a)},isProgram:function(a){return this.__context.isProgram(a)},isQuery:function(a){return this.__context.isQuery(a)},isRenderbuffer:function(a){return this.__context.isRenderbuffer(a)},
isSampler:function(a){return this.__context.isSampler(a)},isShader:function(a){return this.__context.isShader(a)},isSync:function(a){return this.__context.isSync(a)},isTexture:function(a){return this.__context.isTexture(a)},isTransformFeedback:function(a){return this.__context.isTransformFeedback(a)},isVertexArray:function(a){return this.__context.isVertexArray(a)},lineWidth:function(a){this.__context.lineWidth(a)},linkProgram:function(a){this.__context.linkProgram(a)},mapBufferRange:function(a,b,
c,d){},pauseTransformFeedback:function(){this.__context.pauseTransformFeedback()},pixelStorei:function(a,b){this.__context.pixelStorei(a,b)},polygonOffset:function(a,b){this.__context.polygonOffset(a,b)},programBinary:function(a,b,c,d){},programParameteri:function(a,b,c){},readBuffer:function(a){this.__context.readBuffer(a)},readPixels:function(a,b,c,d,e,f,p,g){p=this.__prepareData(null,p);null!=p&&(y.__instanceof(p,Ea)&&(p=null!=p?new Fa(p):null),1<this.version&&null!=g?this.__context.readPixels(a,
b,c,d,e,f,p,g):this.__context.readPixels(a,b,c,d,e,f,p))},releaseShaderCompiler:function(){},renderbufferStorage:function(a,b,c,d){this.__context.renderbufferStorage(a,b,c,d)},renderbufferStorageMultisample:function(a,b,c,d,e){this.__context.renderbufferStorageMultisample(a,b,c,d,e)},resumeTransformFeedback:function(){this.__context.resumeTransformFeedback()},sampleCoverage:function(a,b){this.__context.sampleCoverage(a,b)},samplerParameterf:function(a,b,c){this.__context.samplerParameterf(a,b,c)},
samplerParameteri:function(a,b,c){this.__context.samplerParameteri(a,b,c)},scissor:function(a,b,c,d){this.__context.scissor(a,b,c,d)},shaderBinary:function(a,b,c,d){},shaderSource:function(a,b){this.__context.shaderSource(a,b)},stencilFunc:function(a,b,c){this.__context.stencilFunc(a,b,c)},stencilFuncSeparate:function(a,b,c,d){this.__context.stencilFuncSeparate(a,b,c,d)},stencilMask:function(a){this.__context.stencilMask(a)},stencilMaskSeparate:function(a,b){this.__context.stencilMaskSeparate(a,b)},
stencilOp:function(a,b,c){this.__context.stencilOp(a,b,c)},stencilOpSeparate:function(a,b,c,d){this.__context.stencilOpSeparate(a,b,c,d)},texImage2D:function(a,b,c,d,e,f,p,g,m,h){null==p?this.__context.texImage2D(a,b,c,d,e,f):(m=this.__prepareData(null,m),null!=m&&y.__instanceof(m,Ea)&&(m=null!=m?new Fa(m):null),1<this.version&&null!=h?this.__context.texImage2D(a,b,c,d,e,f,p,g,m,h):this.__context.texImage2D(a,b,c,d,e,f,p,g,m))},texImage3D:function(a,b,c,d,e,f,p,g,m,h,l){this.__context.texImage3D(a,
b,c,d,e,f,p,g,m,h,l)},texStorage2D:function(a,b,c,d,e){this.__context.texStorage2D(a,b,c,d,e)},texStorage3D:function(a,b,c,d,e,f){this.__context.texStorage3D(a,b,c,d,e,f)},texParameterf:function(a,b,c){this.__context.texParameterf(a,b,c)},texParameteri:function(a,b,c){this.__context.texParameteri(a,b,c)},texSubImage2D:function(a,b,c,d,e,f,p,g,m,h){null==g?this.__context.texSubImage2D(a,b,c,d,e,f,p):(m=this.__prepareData(null,m),null!=m&&y.__instanceof(m,Ea)&&(m=null!=m?new Fa(m):null),1<this.version&&
null!=h?this.__context.texSubImage2D(a,b,c,d,e,f,p,g,m,h):this.__context.texSubImage2D(a,b,c,d,e,f,p,g,m))},texSubImage3D:function(a,b,c,d,e,f,p,g,m,h,l,k){null!=k?this.__context.texSubImage3D(a,b,c,d,e,f,p,g,m,h,l,k):this.__context.texSubImage3D(a,b,c,d,e,f,p,g,m,h,l)},transformFeedbackVaryings:function(a,b,c){this.__context.transformFeedbackVaryings(a,b,c)},uniform1f:function(a,b){this.__context.uniform1f(a,b)},uniform1fv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,
c),y.__instanceof(b,Ea)&&(b=null!=b?new ra(b):null),this.__context.uniform1fv(a,b)):1<this.version&&null!=c?this.__context.uniform1fv(a,b,c,d):this.__context.uniform1fv(a,b)},uniform1i:function(a,b){this.__context.uniform1i(a,b)},uniform1iv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,c),y.__instanceof(b,Ea)&&(b=null!=b?new ra(b):null),this.__context.uniform1iv(a,b)):1<this.version&&null!=c?this.__context.uniform1iv(a,b,c,d):this.__context.uniform1iv(a,b)},uniform1ui:function(a,
b){this.__context.uniform1ui(a,b)},uniform1uiv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,c),y.__instanceof(b,Ea)&&(b=null!=b?new ra(b):null),this.__context.uniform1uiv(a,b)):null!=c?this.__context.uniform1uiv(a,b,c,d):this.__context.uniform1uiv(a,b)},uniform2f:function(a,b,c){this.__context.uniform2f(a,b,c)},uniform2fv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,c),y.__instanceof(b,Ea)&&(b=null!=b?new ra(b):null),this.__context.uniform2fv(a,
b)):1<this.version&&null!=c?this.__context.uniform2fv(a,b,c,d):this.__context.uniform2fv(a,b)},uniform2i:function(a,b,c){this.__context.uniform2i(a,b,c)},uniform2iv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,c),y.__instanceof(b,Ea)&&(b=null!=b?new ra(b):null),this.__context.uniform2iv(a,b)):1<this.version&&null!=c?this.__context.uniform2iv(a,b,c,d):this.__context.uniform2iv(a,b)},uniform2ui:function(a,b,c){this.__context.uniform2ui(a,b,c)},uniform2uiv:function(a,b,
c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,c),y.__instanceof(b,Ea)&&(b=null!=b?new ra(b):null),this.__context.uniform2uiv(a,b)):null!=c?this.__context.uniform2uiv(a,b,c,d):this.__context.uniform2uiv(a,b)},uniform3f:function(a,b,c,d){this.__context.uniform3f(a,b,c,d)},uniform3fv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,c),y.__instanceof(b,Ea)&&(b=null!=b?new ra(b):null),this.__context.uniform3fv(a,b)):1<this.version&&null!=c?this.__context.uniform3fv(a,
b,c,d):this.__context.uniform3fv(a,b)},uniform3i:function(a,b,c,d){this.__context.uniform3i(a,b,c,d)},uniform3iv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,c),y.__instanceof(b,Ea)&&(b=null!=b?new ra(b):null),this.__context.uniform3iv(a,b)):1<this.version&&null!=c?this.__context.uniform3iv(a,b,c,d):this.__context.uniform3iv(a,b)},uniform3ui:function(a,b,c,d){this.__context.uniform3ui(a,b,c,d)},uniform3uiv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,
c),y.__instanceof(b,Ea)&&(b=null!=b?new ra(b):null),this.__context.uniform3uiv(a,b)):null!=c?this.__context.uniform3uiv(a,b,c,d):this.__context.uniform3uiv(a,b)},uniform4f:function(a,b,c,d,e){this.__context.uniform4f(a,b,c,d,e)},uniform4fv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,c),y.__instanceof(b,Ea)&&(b=null!=b?new ra(b):null),this.__context.uniform4fv(a,b)):1<this.version&&null!=c?this.__context.uniform4fv(a,b,c,d):this.__context.uniform4fv(a,b)},uniform4i:function(a,
b,c,d,e){this.__context.uniform4i(a,b,c,d,e)},uniform4iv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,c),y.__instanceof(b,Ea)&&(b=null!=b?new ra(b):null),this.__context.uniform4iv(a,b)):1<this.version&&null!=c?this.__context.uniform4iv(a,b,c,d):this.__context.uniform4iv(a,b)},uniform4ui:function(a,b,c,d,e){this.__context.uniform4ui(a,b,c,d,e)},uniform4uiv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,c),y.__instanceof(b,Ea)&&(b=null!=b?new ra(b):
null),this.__context.uniform4uiv(a,b)):null!=c?this.__context.uniform4uiv(a,b,c,d):this.__context.uniform4uiv(a,b)},uniformBlockBinding:function(a,b,c){this.__context.uniformBlockBinding(a,b,c)},uniformMatrix2fv:function(a,b,c,d,e){null!=d?1<this.version&&"number"==typeof d&&(d|0)===d?this.__context.uniformMatrix2fv(a,b,c,d,e):(d=this.__prepareData(null,d),y.__instanceof(d,Ea)&&(b=d,d=null!=b?new ra(b):null),this.__context.uniformMatrix2fv(a,c,d)):this.__context.uniformMatrix2fv(a,b,c)},uniformMatrix2x3fv:function(a,
b,c,d,e){null!=d?"number"==typeof d&&(d|0)===d?this.__context.uniformMatrix2x3fv(a,b,c,d,e):(d=this.__prepareData(null,d),y.__instanceof(d,Ea)&&(b=d,d=null!=b?new ra(b):null),this.__context.uniformMatrix2x3fv(a,c,d)):this.__context.uniformMatrix2x3fv(a,b,c)},uniformMatrix2x4fv:function(a,b,c,d,e){null!=d?"number"==typeof d&&(d|0)===d?this.__context.uniformMatrix2x4fv(a,b,c,d,e):(d=this.__prepareData(null,d),y.__instanceof(d,Ea)&&(b=d,d=null!=b?new ra(b):null),this.__context.uniformMatrix2x3fv(a,c,
d)):this.__context.uniformMatrix2x4fv(a,b,c)},uniformMatrix3fv:function(a,b,c,d,e){null!=d?1<this.version&&"number"==typeof d&&(d|0)===d?this.__context.uniformMatrix3fv(a,b,c,d,e):(d=this.__prepareData(null,d),y.__instanceof(d,Ea)&&(b=d,d=null!=b?new ra(b):null),this.__context.uniformMatrix3fv(a,c,d)):this.__context.uniformMatrix3fv(a,b,c)},uniformMatrix3x2fv:function(a,b,c,d,e){null!=d?"number"==typeof d&&(d|0)===d?this.__context.uniformMatrix3x2fv(a,b,c,d,e):(d=this.__prepareData(null,d),y.__instanceof(d,
Ea)&&(b=d,d=null!=b?new ra(b):null),this.__context.uniformMatrix3x2fv(a,c,d)):this.__context.uniformMatrix3x2fv(a,b,c)},uniformMatrix3x4fv:function(a,b,c,d,e){null!=d?"number"==typeof d&&(d|0)===d?this.__context.uniformMatrix3x4fv(a,b,c,d,e):(d=this.__prepareData(null,d),y.__instanceof(d,Ea)&&(b=d,d=null!=b?new ra(b):null),this.__context.uniformMatrix3x4fv(a,c,d)):this.__context.uniformMatrix3x4fv(a,b,c)},uniformMatrix4fv:function(a,b,c,d,e){null!=d?1<this.version&&"number"==typeof d&&(d|0)===d?this.__context.uniformMatrix4fv(a,
b,c,d,e):(d=this.__prepareData(null,d),y.__instanceof(d,Ea)&&(b=d,d=null!=b?new ra(b):null),this.__context.uniformMatrix4fv(a,c,d)):this.__context.uniformMatrix4fv(a,b,c)},uniformMatrix4x2fv:function(a,b,c,d,e){null!=d?"number"==typeof d&&(d|0)===d?this.__context.uniformMatrix4x2fv(a,b,c,d,e):(d=this.__prepareData(null,d),y.__instanceof(d,Ea)&&(b=d,d=null!=b?new ra(b):null),this.__context.uniformMatrix4x2fv(a,c,d)):this.__context.uniformMatrix4x2fv(a,b,c)},uniformMatrix4x3fv:function(a,b,c,d,e){null!=
d?"number"==typeof d&&(d|0)===d?this.__context.uniformMatrix4x3fv(a,b,c,d,e):(d=this.__prepareData(null,d),y.__instanceof(d,Ea)&&(b=d,d=null!=b?new ra(b):null),this.__context.uniformMatrix4x3fv(a,c,d)):this.__context.uniformMatrix4x3fv(a,b,c)},unmapBuffer:function(a){return!1},useProgram:function(a){this.__context.useProgram(a)},validateProgram:function(a){this.__context.validateProgram(a)},vertexAttrib1f:function(a,b){this.__context.vertexAttrib1f(a,b)},vertexAttrib1fv:function(a,b){b=this.__prepareData(null,
b);if(y.__instanceof(b,Ea)){var c=b;b=null!=c?new ra(c):null}this.__context.vertexAttrib1fv(a,b)},vertexAttrib2f:function(a,b,c){this.__context.vertexAttrib2f(a,b,c)},vertexAttrib2fv:function(a,b){b=this.__prepareData(null,b);if(y.__instanceof(b,Ea)){var c=b;b=null!=c?new ra(c):null}this.__context.vertexAttrib2fv(a,b)},vertexAttrib3f:function(a,b,c,d){this.__context.vertexAttrib3f(a,b,c,d)},vertexAttrib3fv:function(a,b){b=this.__prepareData(null,b);if(y.__instanceof(b,Ea)){var c=b;b=null!=c?new ra(c):
null}this.__context.vertexAttrib3fv(a,b)},vertexAttrib4f:function(a,b,c,d,e){this.__context.vertexAttrib4f(a,b,c,d,e)},vertexAttrib4fv:function(a,b){b=this.__prepareData(null,b);if(y.__instanceof(b,Ea)){var c=b;b=null!=c?new ra(c):null}this.__context.vertexAttrib4fv(a,b)},vertexAttribDivisor:function(a,b){this.__context.vertexAttribDivisor(a,b)},vertexAttribI4i:function(a,b,c,d,e){this.__context.vertexAttribI4i(a,b,c,d,e)},vertexAttribI4iv:function(a,b){b=this.__prepareData(null,b);if(y.__instanceof(b,
Ea)){var c=b;b=null!=c?new Int32Array(c):null}this.__context.vertexAttribI4iv(a,b)},vertexAttribI4ui:function(a,b,c,d,e){this.__context.vertexAttribI4ui(a,b,c,d,e)},vertexAttribI4uiv:function(a,b){b=this.__prepareData(null,b);if(y.__instanceof(b,Ea)){var c=b;b=null!=c?new Uint32Array(c):null}this.__context.vertexAttribI4uiv(a,b)},vertexAttribIPointer:function(a,b,c,d,e){this.__context.vertexAttribIPointer(a,b,c,d,e)},vertexAttribPointer:function(a,b,c,d,e,f){this.__context.vertexAttribPointer(a,b,
c,d,e,f)},viewport:function(a,b,c,d){this.__context.viewport(a,b,c,d)},waitSync:function(a,b,c){this.__context.waitSync(a,b,c)},__isArrayBufferView:function(a){return a&&a.buffer instanceof Ea&&void 0!==a.byteLength},__prepareData:function(a,b){if(null!=b){if(!b)return null;if(null!=a){if(0>=a)return null;if(this.__isArrayBufferView(b)){if(b.byteLength==a)return b;var c=b.buffer,d=b.byteOffset;return null!=c?null==a?new Fa(c,d):new Fa(c,d,a):null}if(y.__instanceof(b,Ea))return null!=b?null==a?new Fa(b,
0):new Fa(b,0,a):null;if(y.__instanceof(b,Yc))return c=b.bytes.b.bufferValue,d=b.offset,null!=c?null==a?new Fa(c,d):new Fa(c,d,a):null;if(y.__instanceof(b,na))return c=b.b.bufferValue,null!=c?null==a?new Fa(c,0):new Fa(c,0,a):null}else{if(y.__instanceof(b,Yc))return 0!=b.offset?(c=b.bytes.b.bufferValue,d=b.offset,null!=c?new Fa(c,d):null):b.bytes.b.bufferValue;if(y.__instanceof(b,na))return b.b.bufferValue}}return b},get_canvas:function(){return this.__context.canvas},get_drawingBufferHeight:function(){return this.__context.drawingBufferHeight},
get_drawingBufferWidth:function(){return this.__context.drawingBufferWidth},__class__:Ek,__properties__:{get_drawingBufferWidth:"get_drawingBufferWidth",get_drawingBufferHeight:"get_drawingBufferHeight",get_canvas:"get_canvas"}};var Ta=function(){};k["lime._backend.html5.HTML5HTTPRequest"]=Ta;Ta.__name__=["lime","_backend","html5","HTML5HTTPRequest"];Ta.loadImage=function(a){var b=new Jb;Ta.activeRequests<Ta.requestLimit?(Ta.activeRequests++,Ta.__loadImage(a,b)):Ta.requestQueue.add({instance:null,
uri:a,promise:b,type:"IMAGE"});return b.future};Ta.processQueue=function(){if(Ta.activeRequests<Ta.requestLimit&&0<Ta.requestQueue.length){Ta.activeRequests++;var a=Ta.requestQueue.pop();switch(a.type){case "BINARY":a.instance.__loadData(a.uri,a.promise);break;case "IMAGE":Ta.__loadImage(a.uri,a.promise);break;case "TEXT":a.instance.__loadText(a.uri,a.promise);break;default:Ta.activeRequests--}}};Ta.__loadImage=function(a,b){var c=new Image;c.crossOrigin="Anonymous";c.addEventListener("load",function(a){a=
new nd(null,c.width,c.height);a.__srcImage=c;Ta.activeRequests--;Ta.processQueue();b.complete(new ta(a))},!1);c.addEventListener("progress",function(a){b.progress(a.loaded,a.total)},!1);c.addEventListener("error",function(a){Ta.activeRequests--;Ta.processQueue();b.error(a.detail)},!1);c.src=a};Ta.prototype={binary:null,parent:null,request:null,cancel:function(){null!=this.request&&this.request.abort()},init:function(a){this.parent=a},load:function(a,b,c){this.request=new XMLHttpRequest;this.request.addEventListener("progress",
b,!1);this.request.onreadystatechange=c;b="";if(null==this.parent.data){for(c=this.parent.formData.keys();c.hasNext();){var d=c.next();0<b.length&&(b+="&");var e=encodeURIComponent(d)+"=",f=this.parent.formData,d=q.string(null!=u[d]?f.getReserved(d):f.h[d]);b+=e+encodeURIComponent(d)}"GET"==this.parent.method&&""!=b&&(a=-1<a.indexOf("?")?a+("&"+b):a+("?"+b),b="")}this.request.open(q.string(this.parent.method),a,!0);0<this.parent.timeout&&(this.request.timeout=this.parent.timeout);this.binary&&(this.request.responseType=
"arraybuffer");a=!1;c=0;for(e=this.parent.headers;c<e.length;)d=e[c],++c,"Content-Type"==d.name&&(a=!0),this.request.setRequestHeader(d.name,d.value);a||this.request.setRequestHeader("Content-Type",this.parent.contentType);null!=this.parent.data?this.request.send(this.parent.data.b.bufferValue):this.request.send(b)},loadData:function(a){var b=new Jb;Ta.activeRequests<Ta.requestLimit?(Ta.activeRequests++,this.__loadData(a,b)):Ta.requestQueue.add({instance:this,uri:a,promise:b,type:"BINARY"});return b.future},
loadText:function(a){var b=new Jb;Ta.activeRequests<Ta.requestLimit?(Ta.activeRequests++,this.__loadText(a,b)):Ta.requestQueue.add({instance:this,uri:a,promise:b,type:"TEXT"});return b.future},processResponse:function(){if(this.parent.enableResponseHeaders){this.parent.responseHeaders=[];for(var a,b,c=0,d=this.request.getAllResponseHeaders().split("\n");c<d.length;)b=d[c],++c,a=fa.trim(W.substr(b,0,b.indexOf(":"))),b=fa.trim(W.substr(b,b.indexOf(":")+1,null)),""!=a&&this.parent.responseHeaders.push(new yi(a,
b))}this.parent.responseStatus=this.request.status},__loadData:function(a,b){var c=this;this.binary=!0;this.load(a,function(a){b.progress(a.loaded,a.total)},function(a){4==c.request.readyState&&(null!=c.request.status&&200<=c.request.status&&400>=c.request.status?(a=""==c.request.responseType?na.ofString(c.request.responseText):na.ofData(c.request.response),c.processResponse(),b.complete(a)):(c.processResponse(),b.error(c.request.status)),c.request=null,Ta.activeRequests--,Ta.processQueue())})},__loadText:function(a,
b){var c=this;this.binary=!1;this.load(a,function(a){b.progress(a.loaded,a.total)},function(a){4==c.request.readyState&&(null!=c.request.status&&200<=c.request.status&&400>=c.request.status?(c.processResponse(),b.complete(c.request.responseText)):(c.processResponse(),b.error(c.request.status)),c.request=null,Ta.activeRequests--,Ta.processQueue())})},__class__:Ta};var lb=function(){};k["lime._backend.html5.HTML5Mouse"]=lb;lb.__name__=["lime","_backend","html5","HTML5Mouse"];lb.hide=function(){if(!lb.__hidden){lb.__hidden=
!0;for(var a=0,b=mc.current.__windows;a<b.length;){var c=b[a];++a;c.backend.element.style.cursor="none"}}};lb.show=function(){if(lb.__hidden){lb.__hidden=!1;var a=lb.__cursor;lb.__cursor=null;lb.set_cursor(a)}};lb.warp=function(a,b,c){};lb.get_cursor=function(){return null==lb.__cursor?da.DEFAULT:lb.__cursor};lb.set_cursor=function(a){if(lb.__cursor!=a){if(!lb.__hidden)for(var b=0,c=mc.current.__windows;b<c.length;){var d=c[b];++b;var e;switch(a[1]){case 0:e="default";break;case 1:e="crosshair";break;
case 3:e="move";break;case 4:e="pointer";break;case 5:e="nesw-resize";break;case 6:e="ns-resize";break;case 7:e="nwse-resize";break;case 8:e="ew-resize";break;case 9:e="text";break;case 10:e="wait";break;case 11:e="wait";break;default:e="auto"}d.backend.element.style.cursor=e}lb.__cursor=a}return lb.__cursor};lb.get_lock=function(){return!1};lb.set_lock=function(a){return a};var Fk=function(a){this.parent=a};k["lime._backend.html5.HTML5Renderer"]=Fk;Fk.__name__=["lime","_backend","html5","HTML5Renderer"];
Fk.prototype={parent:null,create:function(){this.createContext();0==this.parent.context[1]&&(this.parent.window.backend.canvas.addEventListener("webglcontextlost",n(this,this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",n(this,this.handleEvent),!1))},createContext:function(){if(null!=this.parent.window.backend.div)this.parent.context=Rb.DOM(this.parent.window.backend.div),this.parent.type=Va.DOM;else if(null!=this.parent.window.backend.canvas){var a=null;
if(!Object.prototype.hasOwnProperty.call(this.parent.window.config,"hardware")||this.parent.window.config.hardware)for(var b={alpha:Object.prototype.hasOwnProperty.call(this.parent.window.config,"background")&&null==this.parent.window.config.background,antialias:Object.prototype.hasOwnProperty.call(this.parent.window.config,"antialiasing")&&0<this.parent.window.config.antialiasing,depth:Object.prototype.hasOwnProperty.call(this.parent.window.config,"depthBuffer")?this.parent.window.config.depthBuffer:
!0,premultipliedAlpha:!0,stencil:Object.prototype.hasOwnProperty.call(this.parent.window.config,"stencilBuffer")&&this.parent.window.config.stencilBuffer,preserveDrawingBuffer:!1},c=0,d=["webgl2","webgl","experimental-webgl"];c<d.length&&(a=d[c],++c,a=this.parent.window.backend.canvas.getContext(a,b),null==a););null==a?(this.parent.context=Rb.CANVAS(this.parent.window.backend.canvas.getContext("2d")),this.parent.type=Va.CANVAS):(g.context=new Ek(a),this.parent.context=Rb.OPENGL(g.context),this.parent.type=
Va.OPENGL)}},flip:function(){},handleEvent:function(a){switch(a.type){case "webglcontextlost":a.preventDefault();null!=g.context&&(g.context.__contextLost=!0);this.parent.context=null;this.parent.onContextLost.dispatch();break;case "webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},readPixels:function(a){if(null!=this.parent.window.backend.canvas&&(null==a?a=new Bb(0,0,this.parent.window.backend.canvas.width,this.parent.window.backend.canvas.height):
a.__contract(0,0,this.parent.window.backend.canvas.width,this.parent.window.backend.canvas.height),0<a.width&&0<a.height)){var b=window.document.createElement("canvas");b.width=a.width|0;b.height=a.height|0;b.getContext("2d").drawImage(this.parent.window.backend.canvas,-a.x,-a.y);return ta.fromCanvas(b)}return null},render:function(){},__class__:Fk};var ua=function(a){this.unusedTouchesPool=new hd;this.scale=1;this.currentTouches=new Ib;this.parent=a;null!=a.config&&Object.prototype.hasOwnProperty.call(a.config,
"element")&&(this.element=a.config.element);null!=a.config&&Object.prototype.hasOwnProperty.call(a.config,"allowHighDPI")&&a.config.allowHighDPI&&(this.scale=window.devicePixelRatio);a.__scale=this.scale;this.cacheMouseY=this.cacheMouseX=0};k["lime._backend.html5.HTML5Window"]=ua;ua.__name__=["lime","_backend","html5","HTML5Window"];ua.prototype={canvas:null,div:null,element:null,cacheElementHeight:null,cacheElementWidth:null,cacheMouseX:null,cacheMouseY:null,currentTouches:null,enableTextEvents:null,
parent:null,primaryTouch:null,scale:null,setHeight:null,setWidth:null,unusedTouchesPool:null,alert:function(a,b){null!=a&&Rl.alert(a)},close:function(){this.parent.application.removeWindow(this.parent)},create:function(a){this.setWidth=this.parent.__width;this.setHeight=this.parent.__height;this.parent.id=ua.windowID++;y.__instanceof(this.element,HTMLCanvasElement)?this.canvas=this.element:this.canvas=window.document.createElement("canvas");null!=this.canvas?(a=this.canvas.style,a.setProperty("-webkit-transform",
"translateZ(0)",null),a.setProperty("transform","translateZ(0)",null)):null!=this.div&&(a=this.div.style,a.setProperty("-webkit-transform","translate3D(0,0,0)",null),a.setProperty("transform","translate3D(0,0,0)",null),a.position="relative",a.overflow="hidden",a.setProperty("-webkit-user-select","none",null),a.setProperty("-moz-user-select","none",null),a.setProperty("-ms-user-select","none",null),a.setProperty("-o-user-select","none",null));0==this.parent.__width&&0==this.parent.__height&&(null!=
this.element?(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight)):(this.parent.set_width(window.innerWidth),this.parent.set_height(window.innerHeight)),this.cacheElementWidth=this.parent.__width,this.cacheElementHeight=this.parent.__height,this.parent.set_fullscreen(!0));null!=this.canvas?(this.canvas.width=Math.round(this.parent.__width*this.scale),this.canvas.height=Math.round(this.parent.__height*this.scale),this.canvas.style.width=this.parent.__width+
"px",this.canvas.style.height=this.parent.__height+"px"):(this.div.style.width=this.parent.__width+"px",this.div.style.height=this.parent.__height+"px");this.updateSize();if(null!=this.element){null!=this.canvas?this.element!=this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);a="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" ");for(var b=0;b<a.length;){var c=a[b];++b;this.element.addEventListener(c,n(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",
function(a){return"img"==a.target.nodeName.toLowerCase()?(a.preventDefault(),!1):!0},!1);this.element.addEventListener("contextmenu",n(this,this.handleContextMenuEvent),!0);this.element.addEventListener("touchstart",n(this,this.handleTouchEvent),!0);this.element.addEventListener("touchmove",n(this,this.handleTouchEvent),!0);this.element.addEventListener("touchend",n(this,this.handleTouchEvent),!0);this.element.addEventListener("gamepadconnected",n(this,this.handleGamepadEvent),!0);this.element.addEventListener("gamepaddisconnected",
n(this,this.handleGamepadEvent),!0)}},focus:function(){},getDisplay:function(){return za.getDisplay(0)},getDisplayMode:function(){return za.getDisplay(0).currentMode},setDisplayMode:function(a){return a},getEnableTextEvents:function(){return this.enableTextEvents},handleContextMenuEvent:function(a){this.parent.onMouseUp.canceled&&a.preventDefault()},handleFocusEvent:function(a){this.enableTextEvents&&Xc.delay(function(){ua.textInput.focus()},20)},handleGamepadEvent:function(a){switch(a.type){case "gamepadconnected":cb.__connect(a.gamepad.index);
"standard"==a.gamepad.mapping&&wb.__connect(a.gamepad.index);break;case "gamepaddisconnected":cb.__disconnect(a.gamepad.index),wb.__disconnect(a.gamepad.index)}},handleCutOrCopyEvent:function(a){a.clipboardData.setData("text/plain",Ld.get_text());a.preventDefault()},handlePasteEvent:function(a){if(-1<a.clipboardData.types.indexOf("text/plain")){var b=Ld.set_text(a.clipboardData.getData("text/plain"));this.parent.onTextInput.dispatch(b);a.preventDefault()}},handleInputEvent:function(a){ua.textInput.value!=
ua.dummyCharacter&&(ua.textInput.value.charAt(0)==ua.dummyCharacter?this.parent.onTextInput.dispatch(W.substr(ua.textInput.value,1,null)):this.parent.onTextInput.dispatch(ua.textInput.value),ua.textInput.value=ua.dummyCharacter)},handleMouseEvent:function(a){var b=0,c=0;if("wheel"!=a.type){null!=this.element?null!=this.canvas?(c=this.canvas.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/c.height*(a.clientY-c.top)):null!=this.div?(c=this.div.getBoundingClientRect(),
b=a.clientX-c.left,c=a.clientY-c.top):(c=this.element.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/c.height*(a.clientY-c.top)):(b=a.clientX,c=a.clientY);switch(a.type){case "mousedown":this.parent.onMouseDown.dispatch(b,c,a.button);this.parent.onMouseDown.canceled&&a.preventDefault();break;case "mouseenter":a.target==this.element&&(this.parent.onEnter.dispatch(),this.parent.onEnter.canceled&&a.preventDefault());break;case "mouseleave":a.target==this.element&&
(this.parent.onLeave.dispatch(),this.parent.onLeave.canceled&&a.preventDefault());break;case "mousemove":if(b!=this.cacheMouseX||c!=this.cacheMouseY)this.parent.onMouseMove.dispatch(b,c),this.parent.onMouseMoveRelative.dispatch(b-this.cacheMouseX,c-this.cacheMouseY),(this.parent.onMouseMove.canceled||this.parent.onMouseMoveRelative.canceled)&&a.preventDefault();break;case "mouseup":this.parent.onMouseUp.dispatch(b,c,a.button),this.parent.onMouseUp.canceled&&a.preventDefault()}this.cacheMouseX=b;this.cacheMouseY=
c}else this.parent.onMouseWheel.dispatch(a.deltaX,-a.deltaY),this.parent.onMouseWheel.canceled&&a.preventDefault()},handleResizeEvent:function(a){this.primaryTouch=null;this.updateSize()},handleTouchEvent:function(a){a.preventDefault();var b=null;null!=this.element&&(b=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.element.getBoundingClientRect());var c=this.setWidth,d=this.setHeight;if(0==c||0==d)null!=b?(c=b.width,d=b.height):d=c=1;for(var e=
0,f=a.changedTouches;e<f.length;){var p=f[e];++e;var g=0,m=0;null!=b?(g=c/b.width*(p.clientX-b.left),m=d/b.height*(p.clientY-b.top)):(g=p.clientX,m=p.clientY);switch(a.type){case "touchend":var h=this.currentTouches.get(p.identifier);if(null!=h){var l=h.x,k=h.y;h.x=g/c;h.y=m/d;h.dx=h.x-l;h.dy=h.y-k;h.pressure=p.force;Sb.onEnd.dispatch(h);this.currentTouches.remove(p.identifier);this.unusedTouchesPool.add(h);h==this.primaryTouch&&(this.parent.onMouseUp.dispatch(g,m,0),this.primaryTouch=null)}break;
case "touchmove":h=this.currentTouches.get(p.identifier);null!=h&&(l=h.x,k=h.y,h.x=g/c,h.y=m/d,h.dx=h.x-l,h.dy=h.y-k,h.pressure=p.force,Sb.onMove.dispatch(h),h==this.primaryTouch&&this.parent.onMouseMove.dispatch(g,m));break;case "touchstart":h=this.unusedTouchesPool.pop(),null==h?h=new Sb(g/c,m/d,p.identifier,0,0,p.force,this.parent.id):(h.x=g/c,h.y=m/d,h.id=p.identifier,h.dx=0,h.dy=0,h.pressure=p.force,h.device=this.parent.id),this.currentTouches.set(p.identifier,h),Sb.onStart.dispatch(h),null==
this.primaryTouch&&(this.primaryTouch=h),h==this.primaryTouch&&this.parent.onMouseDown.dispatch(g,m,0)}}},move:function(a,b){},resize:function(a,b){},setBorderless:function(a){return a},setClipboard:function(a){if(window.document.queryCommandEnabled("copy")){var b=this.enableTextEvents;this.setEnableTextEvents(!0);this.setEnableTextEvents(!1);var c=ua.textInput.value;ua.textInput.value=a;window.document.execCommand("copy");ua.textInput.value=c;this.setEnableTextEvents(b)}},setEnableTextEvents:function(a){a?
(null==ua.textInput&&(ua.textInput=window.document.createElement("input"),ua.textInput.type="text",ua.textInput.style.position="absolute",ua.textInput.style.opacity="0",ua.textInput.style.color="transparent",ua.textInput.value=ua.dummyCharacter,ua.textInput.autocapitalize="off",ua.textInput.autocorrect="off",ua.textInput.autocomplete="off",ua.textInput.style.left="0px",ua.textInput.style.top="50%",(new Ba("(iPad|iPhone|iPod).*OS 8_","gi")).match(window.navigator.userAgent)?(ua.textInput.style.fontSize=
"0px",ua.textInput.style.width="0px",ua.textInput.style.height="0px"):(ua.textInput.style.width="1px",ua.textInput.style.height="1px"),ua.textInput.style.pointerEvents="none",ua.textInput.style.zIndex="-10000000",window.document.body.appendChild(ua.textInput)),this.enableTextEvents||(ua.textInput.addEventListener("input",n(this,this.handleInputEvent),!0),ua.textInput.addEventListener("blur",n(this,this.handleFocusEvent),!0),ua.textInput.addEventListener("cut",n(this,this.handleCutOrCopyEvent),!0),
ua.textInput.addEventListener("copy",n(this,this.handleCutOrCopyEvent),!0),ua.textInput.addEventListener("paste",n(this,this.handlePasteEvent),!0)),ua.textInput.focus(),ua.textInput.select()):null!=ua.textInput&&(ua.textInput.removeEventListener("input",n(this,this.handleInputEvent),!0),ua.textInput.removeEventListener("blur",n(this,this.handleFocusEvent),!0),ua.textInput.removeEventListener("cut",n(this,this.handleCutOrCopyEvent),!0),ua.textInput.removeEventListener("copy",n(this,this.handleCutOrCopyEvent),
!0),ua.textInput.removeEventListener("paste",n(this,this.handlePasteEvent),!0),ua.textInput.blur());return this.enableTextEvents=a},setFullscreen:function(a){return!1},setIcon:function(a){},setMaximized:function(a){return!1},setMinimized:function(a){return!1},setResizable:function(a){return a},setTitle:function(a){return a},updateSize:function(){var a,b;null!=this.element?(a=this.element.clientWidth,b=this.element.clientHeight):(a=window.innerWidth,b=window.innerHeight);if(a!=this.cacheElementWidth||
b!=this.cacheElementHeight){this.cacheElementWidth=a;this.cacheElementHeight=b;var c=this.parent.__fullscreen||0==this.setWidth&&0==this.setHeight;if(null!=this.element&&(null==this.div||null!=this.div&&c))if(c){if(this.parent.__width!=a||this.parent.__height!=b)this.parent.set_width(a),this.parent.set_height(b),null!=this.canvas?this.element!=this.canvas&&(this.canvas.width=Math.round(a*this.scale),this.canvas.height=Math.round(b*this.scale),this.canvas.style.width=a+"px",this.canvas.style.height=
b+"px"):(this.div.style.width=a+"px",this.div.style.height=b+"px"),this.parent.onResize.dispatch(a,b)}else{var c=0!=this.setWidth?a/this.setWidth:1,d=0!=this.setHeight?b/this.setHeight:1,e=a,f=b,p=0,g=0;c<d?(f=Math.floor(this.setHeight*c),g=Math.floor((b-f)/2)):(e=Math.floor(this.setWidth*d),p=Math.floor((a-e)/2));null!=this.canvas?this.element!=this.canvas&&(this.canvas.style.width=e+"px",this.canvas.style.height=f+"px",this.canvas.style.marginLeft=p+"px",this.canvas.style.marginTop=g+"px"):(this.div.style.width=
e+"px",this.div.style.height=f+"px",this.div.style.marginLeft=p+"px",this.div.style.marginTop=g+"px")}}},__class__:ua};var Tm=function(){};k["lime._backend.native.NativeCFFI"]=Tm;Tm.__name__=["lime","_backend","native","NativeCFFI"];var Um=function(){};k["lime._macros.AssetsMacro"]=Um;Um.__name__=["lime","_macros","AssetsMacro"];var zi=function(){};k["lime.app.IModule"]=zi;zi.__name__=["lime","app","IModule"];zi.prototype={addRenderer:null,addWindow:null,registerModule:null,removeRenderer:null,removeWindow:null,
setPreloader:null,unregisterModule:null,__class__:zi};var oe=function(){this.onExit=new Nf;this.__renderers=[];this.__windows=[]};k["lime.app.Module"]=oe;oe.__name__=["lime","app","Module"];oe.__interfaces__=[zi];oe.prototype={onExit:null,__application:null,__preloader:null,__renderers:null,__windows:null,addRenderer:function(a){var b=n(this,this.render);a.onRender.add(function(){b(a)});var c=n(this,this.onRenderContextLost);a.onContextLost.add(function(){c(a)});var d=n(this,this.onRenderContextRestored);
a.onContextRestored.add(function(b){d(a,b)});this.__renderers.push(a)},addWindow:function(a){var b=n(this,this.onWindowActivate);a.onActivate.add(function(){b(a)});var c=n(this,this.__onWindowClose);a.onClose.add(function(){c(a)},!1,-1E4);var d=n(this,this.onWindowCreate);a.onCreate.add(function(){d(a)});var e=n(this,this.onWindowDeactivate);a.onDeactivate.add(function(){e(a)});var f=n(this,this.onWindowDropFile);a.onDropFile.add(function(b){f(a,b)});var p=n(this,this.onWindowEnter);a.onEnter.add(function(){p(a)});
var g=n(this,this.onWindowFocusIn);a.onFocusIn.add(function(){g(a)});var m=n(this,this.onWindowFocusOut);a.onFocusOut.add(function(){m(a)});var h=n(this,this.onWindowFullscreen);a.onFullscreen.add(function(){h(a)});var l=n(this,this.onKeyDown);a.onKeyDown.add(function(b,c){l(a,b,c)});var k=n(this,this.onKeyUp);a.onKeyUp.add(function(b,c){k(a,b,c)});var A=n(this,this.onWindowLeave);a.onLeave.add(function(){A(a)});var q=n(this,this.onWindowMinimize);a.onMinimize.add(function(){q(a)});var v=n(this,this.onMouseDown);
a.onMouseDown.add(function(b,c,d){v(a,b,c,d)});var r=n(this,this.onMouseMove);a.onMouseMove.add(function(b,c){r(a,b,c)});var C=n(this,this.onMouseMoveRelative);a.onMouseMoveRelative.add(function(b,c){C(a,b,c)});var t=n(this,this.onMouseUp);a.onMouseUp.add(function(b,c,d){t(a,b,c,d)});var u=n(this,this.onMouseWheel);a.onMouseWheel.add(function(b,c){u(a,b,c)});var w=n(this,this.onWindowMove);a.onMove.add(function(b,c){w(a,b,c)});var y=n(this,this.onWindowResize);a.onResize.add(function(b,c){y(a,b,c)});
var z=n(this,this.onWindowRestore);a.onRestore.add(function(){z(a)});var D=n(this,this.onTextEdit);a.onTextEdit.add(function(b,c,d){D(a,b,c,d)});var x=n(this,this.onTextInput);a.onTextInput.add(function(b){x(a,b)});if(-1<a.id)this.onWindowCreate(a);this.__windows.push(a)},registerModule:function(a){this.__application=a;a.onExit.add(n(this,this.onModuleExit),!1,0);a.onUpdate.add(n(this,this.update));for(a=wb.devices.iterator();a.hasNext();){var b=a.next();this.__onGamepadConnect(b)}wb.onConnect.add(n(this,
this.__onGamepadConnect));for(a=cb.devices.iterator();a.hasNext();)b=a.next(),this.__onJoystickConnect(b);cb.onConnect.add(n(this,this.__onJoystickConnect));Sb.onStart.add(n(this,this.onTouchStart));Sb.onMove.add(n(this,this.onTouchMove));Sb.onEnd.add(n(this,this.onTouchEnd))},removeRenderer:function(a){null!=a&&-1<this.__renderers.indexOf(a)&&W.remove(this.__renderers,a)},removeWindow:function(a){null!=a&&-1<this.__windows.indexOf(a)&&W.remove(this.__windows,a)},setPreloader:function(a){null!=this.__preloader&&
(this.__preloader.onProgress.remove(n(this,this.onPreloadProgress)),this.__preloader.onComplete.remove(n(this,this.onPreloadComplete)));this.__preloader=a;if(null==a||a.complete)this.onPreloadComplete();else a.onProgress.add(n(this,this.onPreloadProgress)),a.onComplete.add(n(this,this.onPreloadComplete))},unregisterModule:function(a){this.__application.onExit.remove(n(this,this.onModuleExit));this.__application.onUpdate.remove(n(this,this.update));wb.onConnect.remove(n(this,this.__onGamepadConnect));
cb.onConnect.remove(n(this,this.__onJoystickConnect));Sb.onStart.remove(n(this,this.onTouchStart));Sb.onMove.remove(n(this,this.onTouchMove));Sb.onEnd.remove(n(this,this.onTouchEnd));this.onModuleExit(0)},onGamepadAxisMove:function(a,b,c){},onGamepadButtonDown:function(a,b){},onGamepadButtonUp:function(a,b){},onGamepadConnect:function(a){},onGamepadDisconnect:function(a){},onJoystickAxisMove:function(a,b,c){},onJoystickButtonDown:function(a,b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},
onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,c){},onKeyDown:function(a,b,c){},onKeyUp:function(a,b,c){},onModuleExit:function(a){},onMouseDown:function(a,b,c,d){},onMouseMove:function(a,b,c){},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){},onMouseWheel:function(a,b,c){},onPreloadComplete:function(){},onPreloadProgress:function(a,b){},onRenderContextLost:function(a){},onRenderContextRestored:function(a,b){},onTextEdit:function(a,
b,c,d){},onTextInput:function(a,b){},onTouchEnd:function(a){},onTouchMove:function(a){},onTouchStart:function(a){},onWindowActivate:function(a){},onWindowClose:function(a){},onWindowCreate:function(a){},onWindowDeactivate:function(a){},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){},onWindowFocusOut:function(a){},onWindowFullscreen:function(a){},onWindowLeave:function(a){},onWindowMove:function(a,b,c){},onWindowMinimize:function(a){},onWindowResize:function(a,
b,c){},onWindowRestore:function(a){},render:function(a){},update:function(a){},__onGamepadConnect:function(a){this.onGamepadConnect(a);var b=n(this,this.onGamepadAxisMove);a.onAxisMove.add(function(c,d){b(a,c,d)});var c=n(this,this.onGamepadButtonDown);a.onButtonDown.add(function(b){c(a,b)});var d=n(this,this.onGamepadButtonUp);a.onButtonUp.add(function(b){d(a,b)});var e=n(this,this.onGamepadDisconnect);a.onDisconnect.add(function(){e(a)})},__onJoystickConnect:function(a){this.onJoystickConnect(a);
var b=n(this,this.onJoystickAxisMove);a.onAxisMove.add(function(c,d){b(a,c,d)});var c=n(this,this.onJoystickButtonDown);a.onButtonDown.add(function(b){c(a,b)});var d=n(this,this.onJoystickButtonUp);a.onButtonUp.add(function(b){d(a,b)});var e=n(this,this.onJoystickDisconnect);a.onDisconnect.add(function(){e(a)});var f=n(this,this.onJoystickHatMove);a.onHatMove.add(function(b,c){f(a,b,c)});var p=n(this,this.onJoystickTrackballMove);a.onTrackballMove.add(function(b,c){p(a,b,c)})},__onWindowClose:function(a){this.onWindowClose(a);
W.remove(this.__windows,a)},__class__:oe};var mc=function(){this.onUpdate=new Nf;oe.call(this);null==mc.current&&(mc.current=this);this.modules=[];this.windowByID=new Ib;this.backend=new Bk(this);this.registerModule(this)};k["lime.app.Application"]=mc;mc.__name__=["lime","app","Application"];mc.__super__=oe;mc.prototype=t(oe.prototype,{config:null,modules:null,preloader:null,onUpdate:null,renderer:null,renderers:null,window:null,windows:null,backend:null,windowByID:null,addModule:function(a){a.registerModule(this);
this.modules.push(a);if(0<this.__renderers.length)for(var b=0,c=this.__renderers;b<c.length;){var d=c[b];++b;a.addRenderer(d)}if(0<this.__windows.length)for(b=0,c=this.__windows;b<c.length;)d=c[b],++b,a.addWindow(d);a.setPreloader(this.__preloader)},addRenderer:function(a){oe.prototype.addRenderer.call(this,a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.addRenderer(a)}},create:function(a){this.config=a;this.backend.create(a);if(null!=a){Object.prototype.hasOwnProperty.call(a,"fps")&&
this.backend.setFrameRate(a.fps);if(Object.prototype.hasOwnProperty.call(a,"windows"))for(a=a.windows;0<a.length;){a=new lf(a[0]);this.createWindow(a);break}if(null==this.__preloader||this.__preloader.complete){this.setPreloader(this.__preloader);a=0;for(var b=this.modules;a<b.length;)++a,this.setPreloader(this.__preloader)}}},createWindow:function(a){oe.prototype.addWindow.call(this,a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.addWindow(a)}null==a.renderer&&(b=new Gk(a),this.addRenderer(b));
a.create(this);this.windowByID.h[a.id]=a;a.onCreate.dispatch()},exec:function(){mc.current=this;return this.backend.exec()},onModuleExit:function(a){this.backend.exit()},onWindowClose:function(a){this.removeWindow(a)},removeModule:function(a){null!=a&&(a.unregisterModule(this),W.remove(this.modules,a))},removeWindow:function(a){null!=a&&this.windowByID.h.hasOwnProperty(a.id)&&(W.remove(this.__windows,a),this.windowByID.remove(a.id),a.close(),null!=a.renderer&&this.removeRenderer(a.renderer),this.__windows[0]==
a&&(this.window=null),0==this.__windows.length&&za.exit(0))},setPreloader:function(a){oe.prototype.setPreloader.call(this,a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.setPreloader(a)}},get_frameRate:function(){return this.backend.getFrameRate()},set_frameRate:function(a){return this.backend.setFrameRate(a)},get_preloader:function(){return this.__preloader},get_renderer:function(){return this.__renderers[0]},get_renderers:function(){return this.__renderers},get_window:function(){return this.__windows[0]},
get_windows:function(){return this.__windows},__class__:mc,__properties__:{get_windows:"get_windows",get_window:"get_window",get_renderers:"get_renderers",get_renderer:"get_renderer",get_preloader:"get_preloader",set_frameRate:"set_frameRate",get_frameRate:"get_frameRate"}});var Tl=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app.Event"]=Tl;Tl.__name__=["lime","app","Event"];Tl.prototype={canceled:null,__listeners:null,__repeat:null,__priorities:null,
add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},dispatch:null,has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(H.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=
this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__class__:Tl};var Ha=function(a,b){null==b&&(b=!1);if(null!=a)if(b){var c=new Jb;c.future=this;Cc.queue({promise:c,work:a})}else try{this.value=a(),this.isComplete=!0}catch(d){Aa.lastException=d,d instanceof F&&(d=d.val),this.error=d,this.isError=!0}};k["lime.app.Future"]=Ha;Ha.__name__=["lime","app","Future"];Ha.ofEvents=function(a,b,c){var d=
new Jb;a.add(function(a){d.complete(a)},!0);null!=b&&b.add(function(a){d.error(a)},!0);null!=c&&c.add(function(a,b){d.progress(a,b)},!0);return d.future};Ha.withError=function(a){var b=new Ha;b.isError=!0;b.error=a;return b};Ha.withValue=function(a){var b=new Ha;b.isComplete=!0;b.value=a;return b};Ha.prototype={error:null,isComplete:null,isError:null,value:null,__completeListeners:null,__errorListeners:null,__progressListeners:null,onComplete:function(a){null!=a&&(this.isComplete?a(this.value):this.isError||
(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(a)));return this},onError:function(a){null!=a&&(this.isError?a(this.error):this.isComplete||(null==this.__errorListeners&&(this.__errorListeners=[]),this.__errorListeners.push(a)));return this},onProgress:function(a){null!=a&&(null==this.__progressListeners&&(this.__progressListeners=[]),this.__progressListeners.push(a));return this},ready:function(a){this.isComplete||this.isError||La.warn("Cannot block thread in JavaScript",
{fileName:"Future.hx",lineNumber:157,className:"lime.app.Future",methodName:"ready"});return this},result:function(a){null==a&&(a=-1);this.ready(a);return this.isComplete?this.value:null},then:function(a){if(this.isComplete)return a(this.value);if(this.isError){var b=new Ha;b.onError(this.error);return b}var c=new Jb;this.onError(n(c,c.error));this.onProgress(n(c,c.progress));this.onComplete(function(b){b=a(b);b.onError(n(c,c.error));b.onComplete(n(c,c.complete))});return c.future},__class__:Ha};
var Cc=function(){};k["lime.app._Future.FutureWork"]=Cc;Cc.__name__=["lime","app","_Future","FutureWork"];Cc.queue=function(a){null==Cc.threadPool&&(Cc.threadPool=new Hk,Cc.threadPool.doWork.add(Cc.threadPool_doWork),Cc.threadPool.onComplete.add(Cc.threadPool_onComplete),Cc.threadPool.onError.add(Cc.threadPool_onError));Cc.threadPool.queue(a)};Cc.threadPool_doWork=function(a){try{var b=a.work();Cc.threadPool.sendComplete({promise:a.promise,result:b})}catch(c){Aa.lastException=c,c instanceof F&&(c=
c.val),Cc.threadPool.sendError({promise:a.promise,error:c})}};Cc.threadPool_onComplete=function(a){a.promise.complete(a.result)};Cc.threadPool_onError=function(a){a.promise.error(a.error)};var mf=function(){this.bytesTotalCache=new pa;this.bytesLoadedCache2=new pa;this.bytesLoadedCache=new ac;this.onProgress=new Ai;this.onComplete=new Tb;this.bytesTotal=this.bytesLoaded=0;this.libraries=[];this.libraryNames=[];this.onProgress.add(n(this,this.update))};k["lime.app.Preloader"]=mf;mf.__name__=["lime",
"app","Preloader"];mf.prototype={complete:null,onComplete:null,onProgress:null,bytesLoaded:null,bytesLoadedCache:null,bytesLoadedCache2:null,bytesTotal:null,bytesTotalCache:null,initLibraryNames:null,libraries:null,libraryNames:null,loadedLibraries:null,loadedStage:null,preloadComplete:null,preloadStarted:null,simulateProgress:null,addLibrary:function(a){this.libraries.push(a)},addLibraryName:function(a){-1==this.libraryNames.indexOf(a)&&this.libraryNames.push(a)},create:function(a){},load:function(){for(var a=
this,b=0,c=this.libraries;b<c.length;){var d=c[b];++b;this.bytesTotal+=d.bytesTotal}this.loadedLibraries=-1;this.preloadStarted=!1;b=0;for(c=this.libraries;b<c.length;)d=[c[b]],++b,La.verbose("Preloading asset library",{fileName:"Preloader.hx",lineNumber:153,className:"lime.app.Preloader",methodName:"load"}),d[0].load().onProgress(function(b){return function(c,d){a.bytesLoaded=null==a.bytesLoadedCache.h.__keys__[b[0].__id__]?a.bytesLoaded+c:a.bytesLoaded+(c-a.bytesLoadedCache.h[b[0].__id__]);a.bytesLoadedCache.set(b[0],
c);a.simulateProgress||a.onProgress.dispatch(a.bytesLoaded,a.bytesTotal)}}(d)).onComplete(function(b){return function(c){a.bytesLoaded=null==a.bytesLoadedCache.h.__keys__[b[0].__id__]?a.bytesLoaded+b[0].bytesTotal:a.bytesLoaded+(b[0].bytesTotal-a.bytesLoadedCache.h[b[0].__id__]);a.loadedAssetLibrary()}}(d)).onError(function(){return function(a){La.error(a,{fileName:"Preloader.hx",lineNumber:191,className:"lime.app.Preloader",methodName:"load"})}}());b=0;for(c=this.libraryNames;b<c.length;)++b,this.bytesTotal+=
200;this.loadedLibraries++;this.preloadStarted=!0;this.updateProgress()},loadedAssetLibrary:function(a){this.loadedLibraries++;var b=this.loadedLibraries;this.preloadStarted||++b;var c=this.libraries.length+this.libraryNames.length;null!=a?La.verbose("Loaded asset library: "+a+" ["+b+"/"+c+"]",{fileName:"Preloader.hx",lineNumber:223,className:"lime.app.Preloader",methodName:"loadedAssetLibrary"}):La.verbose("Loaded asset library ["+b+"/"+c+"]",{fileName:"Preloader.hx",lineNumber:227,className:"lime.app.Preloader",
methodName:"loadedAssetLibrary"});this.updateProgress()},start:function(){this.complete||(this.complete=!0,this.onComplete.dispatch())},update:function(a,b){},updateProgress:function(){var a=this;this.simulateProgress||this.onProgress.dispatch(this.bytesLoaded,this.bytesTotal);if(this.loadedLibraries==this.libraries.length&&!this.initLibraryNames){this.initLibraryNames=!0;for(var b=0,c=this.libraryNames;b<c.length;){var d=[c[b]];++b;La.verbose("Preloading asset library: "+d[0],{fileName:"Preloader.hx",
lineNumber:276,className:"lime.app.Preloader",methodName:"updateProgress"});Q.loadLibrary(d[0]).onProgress(function(b){return function(c,d){if(0<d){var g=a.bytesTotalCache;(null!=u[b[0]]?g.existsReserved(b[0]):g.h.hasOwnProperty(b[0]))||(g=a.bytesTotalCache,null!=u[b[0]]?g.setReserved(b[0],d):g.h[b[0]]=d,a.bytesTotal+=d-200);c>d&&(c=d);g=a.bytesLoadedCache2;(null!=u[b[0]]?g.existsReserved(b[0]):g.h.hasOwnProperty(b[0]))?(g=a.bytesLoadedCache2,a.bytesLoaded+=c-(null!=u[b[0]]?g.getReserved(b[0]):g.h[b[0]])):
a.bytesLoaded+=c;g=a.bytesLoadedCache2;null!=u[b[0]]?g.setReserved(b[0],c):g.h[b[0]]=c;a.simulateProgress||a.onProgress.dispatch(a.bytesLoaded,a.bytesTotal)}}}(d)).onComplete(function(b){return function(c){c=200;var d=a.bytesTotalCache;if(null!=u[b[0]]?d.existsReserved(b[0]):d.h.hasOwnProperty(b[0]))c=a.bytesTotalCache,c=null!=u[b[0]]?c.getReserved(b[0]):c.h[b[0]];d=a.bytesLoadedCache2;(null!=u[b[0]]?d.existsReserved(b[0]):d.h.hasOwnProperty(b[0]))?(d=a.bytesLoadedCache2,a.bytesLoaded+=c-(null!=u[b[0]]?
d.getReserved(b[0]):d.h[b[0]])):a.bytesLoaded+=c;a.loadedAssetLibrary(b[0])}}(d)).onError(function(){return function(a){La.error(a,{fileName:"Preloader.hx",lineNumber:335,className:"lime.app.Preloader",methodName:"updateProgress"})}}())}}this.simulateProgress||this.loadedLibraries!=this.libraries.length+this.libraryNames.length||(this.preloadComplete||(this.preloadComplete=!0,La.verbose("Preload complete",{fileName:"Preloader.hx",lineNumber:349,className:"lime.app.Preloader",methodName:"updateProgress"})),
this.start())},__class__:mf};var Jb=function(){this.future=new Ha};k["lime.app.Promise"]=Jb;Jb.__name__=["lime","app","Promise"];Jb.prototype={future:null,isComplete:null,isError:null,complete:function(a){if(!this.future.isError&&(this.future.isComplete=!0,this.future.value=a,null!=this.future.__completeListeners)){for(var b=0,c=this.future.__completeListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__completeListeners=null}return this},completeWith:function(a){a.onComplete(n(this,this.complete));
a.onError(n(this,this.error));a.onProgress(n(this,this.progress));return this},error:function(a){if(!this.future.isComplete&&(this.future.isError=!0,this.future.error=a,null!=this.future.__errorListeners)){for(var b=0,c=this.future.__errorListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__errorListeners=null}return this},progress:function(a,b){if(!this.future.isError&&!this.future.isComplete&&null!=this.future.__progressListeners)for(var c=0,d=this.future.__progressListeners;c<d.length;){var e=
d[c];++c;e(a,b)}return this},get_isComplete:function(){return this.future.isComplete},get_isError:function(){return this.future.isError},__class__:Jb,__properties__:{get_isError:"get_isError",get_isComplete:"get_isComplete"}};var Of=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_Dynamic_Void"]=Of;Of.__name__=["lime","app","_Event_Dynamic_Void"];Of.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);
null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(H.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:Of};var Bi=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_Float_Float_Int_Void"]=Bi;Bi.__name__=["lime","app","_Event_Float_Float_Int_Void"];Bi.prototype={canceled:null,__repeat:null,
__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(H.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=
this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b,c){this.canceled=!1;for(var d=this.__listeners,e=this.__repeat,f=0;f<d.length&&(d[f](a,b,c),e[f]?++f:this.remove(d[f]),!this.canceled););},__class__:Bi};var Pf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_Float_Float_Void"]=Pf;Pf.__name__=["lime",
"app","_Event_Float_Float_Void"];Pf.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=
c[b];++b;if(H.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:Pf};var Ci=function(){this.canceled=!1;this.__listeners=[];this.__priorities=
[];this.__repeat=[]};k["lime.app._Event_Int_Float_Void"]=Ci;Ci.__name__=["lime","app","_Event_Int_Float_Void"];Ci.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=
!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(H.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:Ci};
var Ai=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_Int_Int_Void"]=Ai;Ai.__name__=["lime","app","_Event_Int_Int_Void"];Ai.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);
this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(H.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?
++e:this.remove(c[e]),!this.canceled););},__class__:Ai};var Nf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_Int_Void"]=Nf;Nf.__name__=["lime","app","_Event_Int_Void"];Nf.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,
0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(H.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,
c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:Nf};var Ik=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_Int_lime_ui_JoystickHatPosition_Void"]=Ik;Ik.__name__=["lime","app","_Event_Int_lime_ui_JoystickHatPosition_Void"];Ik.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>
this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(H.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,
1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:Ik};var Jk=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_String_Int_Int_Void"]=Jk;Jk.__name__=["lime","app","_Event_String_Int_Int_Void"];Jk.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&
(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(H.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b,c){this.canceled=!1;for(var d=this.__listeners,e=this.__repeat,f=0;f<d.length&&(d[f](a,b,c),e[f]?++f:this.remove(d[f]),!this.canceled););},__class__:Jk};var Di=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_String_Void"]=Di;Di.__name__=["lime","app","_Event_String_Void"];Di.prototype={canceled:null,__repeat:null,
__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(H.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=
this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:Di};var Tb=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_Void_Void"]=Tb;Tb.__name__=["lime","app","_Event_Void_Void"];
Tb.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(H.compareMethods(d,
a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(){this.canceled=!1;for(var a=this.__listeners,b=this.__repeat,c=0;c<a.length&&(a[c](),b[c]?++c:this.remove(a[c]),!this.canceled););},__class__:Tb};var Kk=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_lime_graphics_RenderContext_Void"]=
Kk;Kk.__name__=["lime","app","_Event_lime_graphics_RenderContext_Void"];Kk.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=
0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(H.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:Kk};var Lk=function(){this.canceled=!1;
this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_lime_ui_GamepadAxis_Float_Void"]=Lk;Lk.__name__=["lime","app","_Event_lime_ui_GamepadAxis_Float_Void"];Lk.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);
this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(H.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?
++e:this.remove(c[e]),!this.canceled););},__class__:Lk};var Ei=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_lime_ui_GamepadButton_Void"]=Ei;Ei.__name__=["lime","app","_Event_lime_ui_GamepadButton_Void"];Ei.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,
0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(H.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=
!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:Ei};var Mk=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_lime_ui_Gamepad_Void"]=Mk;Mk.__name__=["lime","app","_Event_lime_ui_Gamepad_Void"];Mk.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,
0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(H.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,
dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:Mk};var Nk=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_lime_ui_Joystick_Void"]=Nk;Nk.__name__=["lime","app","_Event_lime_ui_Joystick_Void"];Nk.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<
e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(H.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),
this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:Nk};var Fi=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=Fi;Fi.__name__=["lime","app","_Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"];Fi.prototype={canceled:null,
__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(H.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=
this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:Fi};var Mg=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_lime_ui_Touch_Void"]=Mg;Mg.__name__=["lime",
"app","_Event_lime_ui_Touch_Void"];Mg.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=
c[b];++b;if(H.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:Mg};var Ul=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];
this.__repeat=[]};k["lime.app._Event_ofEvents_T_Void"]=Ul;Ul.__name__=["lime","app","_Event_ofEvents_T_Void"];Ul.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=
!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(H.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:Ul};var Vl=
function(){};k["lime.graphics.ConsoleRenderContext"]=Vl;Vl.__name__=["lime","graphics","ConsoleRenderContext"];Vl.prototype={createIndexBuffer:function(a,b){return new Ok},createVertexBuffer:function(a,b){return new Pk},lookupShader:function(a){return new Qk},clear:function(a,b,c,d,e,f){},bindShader:function(a){},setViewport:function(a,b,c,d,e,f){},setVertexShaderConstantF:function(a,b,c){},setVertexSource:function(a){},setIndexSource:function(a){},draw:function(a,b,c){},drawIndexed:function(a,b,
c,d){},get_width:function(){return 0},get_height:function(){return 0},__class__:Vl,__properties__:{get_height:"get_height",get_width:"get_width"}};var Wl=function(){};k["lime.graphics.FlashRenderContext"]=Wl;Wl.__name__=["lime","graphics","FlashRenderContext"];Wl.prototype={accessibilityImplementation:null,accessibilityProperties:null,alpha:null,blendMode:null,blendShader:null,buttonMode:null,cacheAsBitmap:null,contextMenu:null,doubleClickEnabled:null,dropTarget:null,filters:null,focusRect:null,graphics:null,
height:null,hitArea:null,loaderInfo:null,mask:null,mouseChildren:null,mouseEnabled:null,mouseX:null,mouseY:null,name:null,needsSoftKeyboard:null,numChildren:null,opaqueBackground:null,parent:null,root:null,rotation:null,rotationX:null,rotationY:null,rotationZ:null,scale9Grid:null,scaleX:null,scaleY:null,scaleZ:null,scrollRect:null,softKeyboardInputAreaOfInterest:null,soundTransform:null,stage:null,tabChildren:null,tabEnabled:null,tabIndex:null,textSnapshot:null,transform:null,useHandCursor:null,visible:null,
width:null,x:null,y:null,z:null,addChild:function(a){return null},addChildAt:function(a,b){return null},addEventListener:function(a,b,c,d,e){},areInaccessibleObjectsUnderPoint:function(a){return!1},contains:function(a){return!1},dispatchEvent:function(a){return!1},getBounds:function(a){return null},getChildAt:function(a){return null},getChildByName:function(a){return null},getChildIndex:function(a){return 0},getObjectsUnderPoint:function(a){return null},getRect:function(a){return null},globalToLocal:function(a){return null},
globalToLocal3D:function(a){return null},hasEventListener:function(a){return!1},hitTestObject:function(a){return!1},hitTestPoint:function(a,b,c){return!1},local3DToGlobal:function(a){return null},localToGlobal:function(a){return null},removeChild:function(a){return null},removeChildAt:function(a){return null},removeChildren:function(a,b){},removeEventListener:function(a,b,c){},requestSoftKeyboard:function(){return!1},setChildIndex:function(a,b){},startDrag:function(a,b){},startTouchDrag:function(a,
b,c){},stopAllMovieClips:function(){},stopDrag:function(){},stopTouchDrag:function(a){},swapChildren:function(a,b){},swapChildrenAt:function(a,b){},toString:function(){return null},willTrigger:function(a){return!1},__class__:Wl};var ta=function(a,b,c,d,e,f,p){null==e&&(e=-1);null==d&&(d=-1);null==c&&(c=0);null==b&&(b=0);this.offsetX=b;this.offsetY=c;this.width=d;this.height=e;this.version=0;if(null==p)if(null!=mc.current&&null!=mc.current.__renderers[0]){switch(mc.current.__renderers[0].context[1]){case 1:case 2:b=
Wa.CANVAS;break;case 3:b=Wa.FLASH;break;default:b=Wa.DATA}this.type=b}else this.type=Wa.DATA;else this.type=p;if(null==a){if(0<d&&0<e)switch(this.type[1]){case 0:this.buffer=new nd(null,d,e);S.createCanvas(this,d,e);null!=f&&this.fillRect(new Bb(0,0,d,e),f);break;case 1:a=d*e*4,a=null!=a?new Fa(a):null,this.buffer=new nd(a,d,e),null!=f&&this.fillRect(new Bb(0,0,d,e),f)}}else this.__fromImageBuffer(a)};k["lime.graphics.Image"]=ta;ta.__name__=["lime","graphics","Image"];ta.fromBase64=function(a,b){if(null==
a)return null;var c=new ta;c.__fromBase64(a,b);return c};ta.fromBitmapData=function(a){return null==a?null:a.image};ta.fromBytes=function(a){if(null==a)return null;var b=new ta;b.__fromBytes(a);return b};ta.fromCanvas=function(a){if(null==a)return null;var b=new nd(null,a.width,a.height);b.set_src(a);a=new ta(b);a.type=Wa.CANVAS;return a};ta.fromFile=function(a){if(null==a)return null;var b=new ta;b.__fromFile(a);return b};ta.fromImageElement=function(a){if(null==a)return null;var b=new nd(null,a.width,
a.height);b.set_src(a);a=new ta(b);a.type=Wa.CANVAS;return a};ta.loadFromBase64=function(a,b){return null==a||null==b?Ha.withValue(null):Ta.loadImage("data:"+b+";base64,"+a)};ta.loadFromBytes=function(a){if(null==a)return Ha.withValue(null);var b="";if(ta.__isPNG(a))b="image/png";else if(ta.__isJPG(a))b="image/jpeg";else if(ta.__isGIF(a))b="image/gif";else return Ha.withValue(null);return ta.loadFromBase64(ta.__base64Encode(a),b)};ta.loadFromFile=function(a){return null==a?Ha.withValue(null):Ta.loadImage(a)};
ta.__base64Encode=function(a){var b;switch(a.length%3){case 1:b="==";break;case 2:b="=";break;default:b=""}null==ta.__base64Encoder&&(ta.__base64Encoder=new yk(na.ofString(ta.__base64Chars)));return ta.__base64Encoder.encodeBytes(a).toString()+b};ta.__isJPG=function(a){return 255==a.b[0]?216==a.b[1]:!1};ta.__isPNG=function(a){return 137==a.b[0]&&80==a.b[1]&&78==a.b[2]&&71==a.b[3]&&13==a.b[4]&&10==a.b[5]&&26==a.b[6]?10==a.b[7]:!1};ta.__isGIF=function(a){if(71==a.b[0]&&73==a.b[1]&&70==a.b[2]&&56==a.b[3]){var b=
a.b[4];if(55==b||57==b)return 97==a.b[5]}return!1};ta.prototype={buffer:null,dirty:null,height:null,offsetX:null,offsetY:null,rect:null,type:null,version:null,width:null,x:null,y:null,clone:function(){if(null!=this.buffer){this.type==Wa.CANVAS?S.convertToCanvas(this):S.convertToData(this);var a=new ta(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);a.version=this.version;return a}return new ta(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},
colorTransform:function(a,b){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:S.colorTransform(this,a,b);break;case 1:S.convertToData(this);Ca.colorTransform(this,a,b);break;case 2:a.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.colorTransform(a.__toFlashRectangle(),la.__toFlashColorTransform(b))}},copyChannel:function(a,b,c,d,e){b=this.__clipRect(b);if(null!=this.buffer&&null!=b&&!(e==$a.ALPHA&&!this.get_transparent()||0>=b.width||0>=b.height))switch(b.x+
b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),this.type[1]){case 0:S.copyChannel(this,a,b,c,d,e);break;case 1:S.convertToData(this);S.convertToData(a);Ca.copyChannel(this,a,b,c,d,e);break;case 2:var f;switch(d[1]){case 0:f=1;break;case 1:f=2;break;case 2:f=4;break;case 3:f=8}var p;switch(e[1]){case 0:p=1;break;case 1:p=2;break;case 2:p=4;break;case 3:p=8}b.offset(a.offsetX,a.offsetY);c.offset(this.offsetX,this.offsetY);this.buffer.__srcBitmapData.copyChannel(a.buffer.get_src(),
b.__toFlashRectangle(),c.__toFlashPoint(),f,p)}},copyPixels:function(a,b,c,d,e,f){null==f&&(f=!1);if(null!=this.buffer&&null!=a&&!(0>=b.width||0>=b.height||0>=this.width||0>=this.height))switch(b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),0>b.x&&(b.width+=b.x,b.x=0),0>b.y&&(b.height+=b.y,b.y=0),c.x+b.width>this.width&&(b.width=this.width-c.x),c.y+b.height>this.height&&(b.height=this.height-c.y),0>c.x&&(b.width+=c.x,b.x-=c.x,c.x=0),0>c.y&&(b.height+=c.y,
b.y-=c.y,c.y=0),a==this&&(a=this.clone()),this.type[1]){case 0:S.convertToCanvas(this);S.copyPixels(this,a,b,c,d,e,f);break;case 1:S.convertToData(this);S.convertToData(a);Ca.copyPixels(this,a,b,c,d,e,f);break;case 2:b.offset(a.offsetX,a.offsetY),c.offset(this.offsetX,this.offsetY),null!=d&&null!=e&&e.offset(d.offsetX,d.offsetY),this.buffer.__srcBitmapData.copyPixels(a.buffer.__srcBitmapData,b.__toFlashRectangle(),c.__toFlashPoint(),null!=d?d.buffer.get_src():null,null!=e?e.__toFlashPoint():null,
f)}},encode:function(a,b){null==b&&(b=90);null==a&&(a="png");switch(a){case "bmp":return Xl.encode(this);case "jpeg":case "jpg":return Gi.encode(this,b);case "png":return Hi.encode(this)}return null},fillRect:function(a,b,c){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:S.fillRect(this,a,b,c);break;case 1:S.convertToData(this);if(0==this.buffer.data.length)break;Ca.fillRect(this,a,b,c);break;case 2:a.offset(this.offsetX,this.offsetY);if(null==c)b=(b&255)<<24|(b>>>
24&255)<<16|(b>>>16&255)<<8|b>>>8&255;else switch(c){case 1:break;case 2:b=(b&255)<<24|(b>>>8&255)<<16|(b>>>16&255)<<8|b>>>24&255;break;default:b=(b&255)<<24|(b>>>24&255)<<16|(b>>>16&255)<<8|b>>>8&255}this.buffer.__srcBitmapData.fillRect(a.__toFlashRectangle(),b)}},floodFill:function(a,b,c,d){if(null!=this.buffer)switch(this.type[1]){case 0:S.floodFill(this,a,b,c,d);break;case 1:S.convertToData(this);Ca.floodFill(this,a,b,c,d);break;case 2:if(null==d)c=(c&255)<<24|(c>>>24&255)<<16|(c>>>16&255)<<8|
c>>>8&255;else switch(d){case 1:break;case 2:c=(c&255)<<24|(c>>>8&255)<<16|(c>>>16&255)<<8|c>>>24&255;break;default:c=(c&255)<<24|(c>>>24&255)<<16|(c>>>16&255)<<8|c>>>8&255}this.buffer.__srcBitmapData.floodFill(a+this.offsetX,b+this.offsetY,c)}},getColorBoundsRect:function(a,b,c,d){null==c&&(c=!0);if(null==this.buffer)return null;switch(this.type[1]){case 0:return S.convertToData(this),Ca.getColorBoundsRect(this,a,b,c,d);case 1:return Ca.getColorBoundsRect(this,a,b,c,d);case 2:return a=this.buffer.__srcBitmapData.getColorBoundsRect(a,
b,c),new Bb(a.x,a.y,a.width,a.height);default:return null}},getPixel:function(a,b,c){if(null==this.buffer||0>a||0>b||a>=this.width||b>=this.height)return 0;switch(this.type[1]){case 0:return S.getPixel(this,a,b,c);case 1:return S.convertToData(this),Ca.getPixel(this,a,b,c);case 2:a=this.buffer.__srcBitmapData.getPixel(a+this.offsetX,b+this.offsetY);if(null==c)return(a>>>16&255)<<24|(a>>>8&255)<<16|(a&255)<<8|a>>>24&255;switch(c){case 1:return a;case 2:return(a&255)<<24|(a>>>8&255)<<16|(a>>>16&255)<<
8|a>>>24&255;default:return(a>>>16&255)<<24|(a>>>8&255)<<16|(a&255)<<8|a>>>24&255}default:return 0}},getPixel32:function(a,b,c){if(null==this.buffer||0>a||0>b||a>=this.width||b>=this.height)return 0;switch(this.type[1]){case 0:return S.getPixel32(this,a,b,c);case 1:return S.convertToData(this),Ca.getPixel32(this,a,b,c);case 2:a=this.buffer.__srcBitmapData.getPixel32(a+this.offsetX,b+this.offsetY);if(null==c)return(a>>>16&255)<<24|(a>>>8&255)<<16|(a&255)<<8|a>>>24&255;switch(c){case 1:return a;case 2:return(a&
255)<<24|(a>>>8&255)<<16|(a>>>16&255)<<8|a>>>24&255;default:return(a>>>16&255)<<24|(a>>>8&255)<<16|(a&255)<<8|a>>>24&255}default:return 0}},getPixels:function(a,b){if(null==this.buffer)return null;switch(this.type[1]){case 0:return S.getPixels(this,a,b);case 1:return S.convertToData(this),Ca.getPixels(this,a,b);case 2:return null;default:return null}},merge:function(a,b,c,d,e,f,p){if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:S.convertToCanvas(this);S.merge(this,a,b,c,d,e,f,p);break;case 1:S.convertToData(this);
S.convertToData(a);Ca.merge(this,a,b,c,d,e,f,p);break;case 2:b.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.merge(a.buffer.__srcBitmapData,b.__toFlashRectangle(),c.__toFlashPoint(),d,e,f,p)}},resize:function(a,b){switch(this.type[1]){case 0:S.resize(this,a,b);break;case 1:Ca.resize(this,a,b)}this.buffer.width=a;this.buffer.height=b;this.offsetY=this.offsetX=0;this.width=a;this.height=b},scroll:function(a,b){if(null!=this.buffer)switch(this.type[1]){case 0:S.scroll(this,a,b);break;
case 1:this.copyPixels(this,this.get_rect(),new vb(a,b));break;case 2:this.buffer.__srcBitmapData.scroll(a+this.offsetX,b+this.offsetX)}},setPixel:function(a,b,c,d){if(!(null==this.buffer||0>a||0>b||a>=this.width||b>=this.height))switch(this.type[1]){case 0:S.setPixel(this,a,b,c,d);break;case 1:S.convertToData(this);Ca.setPixel(this,a,b,c,d);break;case 2:if(null==d)c=(c&255)<<24|(c>>>24&255)<<16|(c>>>16&255)<<8|c>>>8&255;else switch(d){case 1:break;case 2:c=(c&255)<<24|(c>>>8&255)<<16|(c>>>16&255)<<
8|c>>>24&255;break;default:c=(c&255)<<24|(c>>>24&255)<<16|(c>>>16&255)<<8|c>>>8&255}this.buffer.__srcBitmapData.setPixel(a+this.offsetX,b+this.offsetX,c)}},setPixel32:function(a,b,c,d){if(!(null==this.buffer||0>a||0>b||a>=this.width||b>=this.height))switch(this.type[1]){case 0:S.setPixel32(this,a,b,c,d);break;case 1:S.convertToData(this);Ca.setPixel32(this,a,b,c,d);break;case 2:if(null==d)c=(c&255)<<24|(c>>>24&255)<<16|(c>>>16&255)<<8|c>>>8&255;else switch(d){case 1:break;case 2:c=(c&255)<<24|(c>>>
8&255)<<16|(c>>>16&255)<<8|c>>>24&255;break;default:c=(c&255)<<24|(c>>>24&255)<<16|(c>>>16&255)<<8|c>>>8&255}this.buffer.__srcBitmapData.setPixel32(a+this.offsetX,b+this.offsetY,c)}},setPixels:function(a,b,c){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:S.setPixels(this,a,b,c);break;case 1:S.convertToData(this),Ca.setPixels(this,a,b,c)}},threshold:function(a,b,c,d,e,f,p,g,m){null==g&&(g=!1);null==p&&(p=-1);null==f&&(f=0);if(null==this.buffer||null==a||null==b)return 0;
switch(this.type[1]){case 0:case 1:return S.convertToData(this),S.convertToData(a),Ca.threshold(this,a,b,c,d,e,f,p,g,m);case 2:if(null==m)f=(f&255)<<24|(f>>>24&255)<<16|(f>>>16&255)<<8|f>>>8&255;else switch(m){case 1:break;case 2:f=(f&255)<<24|(f>>>8&255)<<16|(f>>>16&255)<<8|f>>>24&255;break;default:f=(f&255)<<24|(f>>>24&255)<<16|(f>>>16&255)<<8|f>>>8&255}if(null==m)p=(p&255)<<24|(p>>>24&255)<<16|(p>>>16&255)<<8|p>>>8&255;else switch(m){case 1:break;case 2:p=(p&255)<<24|(p>>>8&255)<<16|(p>>>16&255)<<
8|p>>>24&255;break;default:p=(p&255)<<24|(p>>>24&255)<<16|(p>>>16&255)<<8|p>>>8&255}b.offset(a.offsetX,a.offsetY);c.offset(this.offsetX,this.offsetY);return this.buffer.__srcBitmapData.threshold(a.buffer.get_src(),b.__toFlashRectangle(),c.__toFlashPoint(),d,e,f,p,g)}return 0},__clipRect:function(a){return null==a||0>a.x&&(a.width-=-a.x,a.x=0,0>=a.x+a.width)||0>a.y&&(a.height-=-a.y,a.y=0,0>=a.y+a.height)||a.x+a.width>=this.width&&(a.width-=a.x+a.width-this.width,0>=a.width)||a.y+a.height>=this.height&&
(a.height-=a.y+a.height-this.height,0>=a.height)?null:a},__fromBase64:function(a,b,c){var d=this,e=new Image;e.addEventListener("load",function(a){d.buffer=new nd(null,e.width,e.height);d.buffer.__srcImage=e;d.offsetX=0;d.offsetY=0;d.width=d.buffer.width;d.height=d.buffer.height;null!=c&&c(d)},!1);e.src="data:"+b+";base64,"+a},__fromBytes:function(a,b){var c="";if(ta.__isPNG(a))c="image/png";else if(ta.__isJPG(a))c="image/jpeg";else if(ta.__isGIF(a))c="image/gif";else return;this.__fromBase64(ta.__base64Encode(a),
c,b)},__fromFile:function(a,b,c){var d=this,e=new Image;e.crossOrigin="Anonymous";e.onload=function(a){d.buffer=new nd(null,e.width,e.height);d.buffer.__srcImage=e;d.width=e.width;d.height=e.height;null!=b&&b(d)};e.onerror=function(a){null!=c&&c()};e.src=a},__fromImageBuffer:function(a){this.buffer=a;null!=a&&(-1==this.width&&(this.width=a.width),-1==this.height&&(this.height=a.height))},get_data:function(){null==this.buffer.data&&0<this.buffer.width&&0<this.buffer.height&&S.convertToData(this);return this.buffer.data},
set_data:function(a){return this.buffer.data=a},get_format:function(){return this.buffer.format},set_format:function(a){this.buffer.format!=a&&1==this.type[1]&&Ca.setFormat(this,a);return this.buffer.format=a},get_powerOfTwo:function(){return 0!=this.buffer.width&&(this.buffer.width&~this.buffer.width+1)==this.buffer.width?0!=this.buffer.height?(this.buffer.height&~this.buffer.height+1)==this.buffer.height:!1:!1},set_powerOfTwo:function(a){if(a!=this.get_powerOfTwo()){for(var b=1,c=1;b<this.buffer.width;)b<<=
1;for(;c<this.buffer.height;)c<<=1;switch(this.type[1]){case 1:Ca.resizeBuffer(this,b,c)}}return a},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(a){if(a&&!this.buffer.premultiplied)switch(this.type[1]){case 0:case 1:S.convertToData(this),Ca.multiplyAlpha(this)}else!a&&this.buffer.premultiplied&&1==this.type[1]&&(S.convertToData(this),Ca.unmultiplyAlpha(this));return a},get_rect:function(){return new Bb(0,0,this.width,this.height)},get_src:function(){null==
this.buffer.__srcCanvas&&S.convertToCanvas(this);return this.buffer.get_src()},set_src:function(a){return this.buffer.set_src(a)},get_transparent:function(){return null==this.buffer?!1:this.buffer.transparent},set_transparent:function(a){return null==this.buffer?!1:this.buffer.transparent=a},__class__:ta,__properties__:{set_transparent:"set_transparent",get_transparent:"get_transparent",set_src:"set_src",get_src:"get_src",get_rect:"get_rect",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",
set_powerOfTwo:"set_powerOfTwo",get_powerOfTwo:"get_powerOfTwo",set_format:"set_format",get_format:"get_format",set_data:"set_data",get_data:"get_data"}};var nd=function(a,b,c,d,e){null==d&&(d=32);null==c&&(c=0);null==b&&(b=0);this.data=a;this.width=b;this.height=c;this.bitsPerPixel=d;this.format=null==e?0:e;this.premultiplied=!1;this.transparent=!0};k["lime.graphics.ImageBuffer"]=nd;nd.__name__=["lime","graphics","ImageBuffer"];nd.prototype={bitsPerPixel:null,data:null,format:null,height:null,premultiplied:null,
transparent:null,width:null,__srcBitmapData:null,__srcCanvas:null,__srcContext:null,__srcCustom:null,__srcImage:null,__srcImageData:null,clone:function(){var a=new nd(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var b=this.data.byteLength,b=null!=b?new Fa(b):null;a.data=b;b=this.data;b=null!=b?new Fa(b):null;a.data.set(b)}else null!=this.__srcImageData?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=
this.__srcImageData.width,a.__srcCanvas.height=this.__srcImageData.height,a.__srcImageData=a.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height),b=new Uint8ClampedArray(this.__srcImageData.data),a.__srcImageData.data.set(b)):null!=this.__srcCanvas?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcCanvas.width,a.__srcCanvas.height=this.__srcCanvas.height,a.__srcContext.drawImage(this.__srcCanvas,
0,0)):a.__srcImage=this.__srcImage;a.bitsPerPixel=this.bitsPerPixel;a.format=this.format;a.premultiplied=this.premultiplied;a.transparent=this.transparent;return a},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(a){y.__instanceof(a,Image)?this.__srcImage=a:y.__instanceof(a,HTMLCanvasElement)&&(this.__srcCanvas=a,this.__srcContext=this.__srcCanvas.getContext("2d"));return a},get_stride:function(){return 4*this.width},__class__:nd,__properties__:{get_stride:"get_stride",
set_src:"set_src",get_src:"get_src"}};var $a=k["lime.graphics.ImageChannel"]={__ename__:["lime","graphics","ImageChannel"],__constructs__:["RED","GREEN","BLUE","ALPHA"]};$a.RED=["RED",0];$a.RED.toString=O;$a.RED.__enum__=$a;$a.GREEN=["GREEN",1];$a.GREEN.toString=O;$a.GREEN.__enum__=$a;$a.BLUE=["BLUE",2];$a.BLUE.toString=O;$a.BLUE.__enum__=$a;$a.ALPHA=["ALPHA",3];$a.ALPHA.toString=O;$a.ALPHA.__enum__=$a;$a.__empty_constructs__=[$a.RED,$a.GREEN,$a.BLUE,$a.ALPHA];var Wa=k["lime.graphics.ImageType"]=
{__ename__:["lime","graphics","ImageType"],__constructs__:["CANVAS","DATA","FLASH","CUSTOM"]};Wa.CANVAS=["CANVAS",0];Wa.CANVAS.toString=O;Wa.CANVAS.__enum__=Wa;Wa.DATA=["DATA",1];Wa.DATA.toString=O;Wa.DATA.__enum__=Wa;Wa.FLASH=["FLASH",2];Wa.FLASH.toString=O;Wa.FLASH.__enum__=Wa;Wa.CUSTOM=["CUSTOM",3];Wa.CUSTOM.toString=O;Wa.CUSTOM.__enum__=Wa;Wa.__empty_constructs__=[Wa.CANVAS,Wa.DATA,Wa.FLASH,Wa.CUSTOM];var Rb=k["lime.graphics.RenderContext"]={__ename__:["lime","graphics","RenderContext"],__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM NONE".split(" ")};
Rb.OPENGL=function(a){a=["OPENGL",0,a];a.__enum__=Rb;a.toString=O;return a};Rb.CANVAS=function(a){a=["CANVAS",1,a];a.__enum__=Rb;a.toString=O;return a};Rb.DOM=function(a){a=["DOM",2,a];a.__enum__=Rb;a.toString=O;return a};Rb.FLASH=function(a){a=["FLASH",3,a];a.__enum__=Rb;a.toString=O;return a};Rb.CAIRO=function(a){a=["CAIRO",4,a];a.__enum__=Rb;a.toString=O;return a};Rb.CONSOLE=function(a){a=["CONSOLE",5,a];a.__enum__=Rb;a.toString=O;return a};Rb.CUSTOM=function(a){a=["CUSTOM",6,a];a.__enum__=Rb;
a.toString=O;return a};Rb.NONE=["NONE",7];Rb.NONE.toString=O;Rb.NONE.__enum__=Rb;Rb.__empty_constructs__=[Rb.NONE];var Gk=function(a){this.onRender=new Tb;this.onContextRestored=new Kk;this.onContextLost=new Tb;this.window=a;this.backend=new Fk(this);this.window.renderer=this};k["lime.graphics.Renderer"]=Gk;Gk.__name__=["lime","graphics","Renderer"];Gk.prototype={context:null,onContextLost:null,onContextRestored:null,onRender:null,type:null,window:null,backend:null,create:function(){this.backend.create()},
flip:function(){this.backend.flip()},readPixels:function(a){return this.backend.readPixels(a)},render:function(){this.backend.render()},__class__:Gk};var Va=k["lime.graphics.RendererType"]={__ename__:["lime","graphics","RendererType"],__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM".split(" ")};Va.OPENGL=["OPENGL",0];Va.OPENGL.toString=O;Va.OPENGL.__enum__=Va;Va.CANVAS=["CANVAS",1];Va.CANVAS.toString=O;Va.CANVAS.__enum__=Va;Va.DOM=["DOM",2];Va.DOM.toString=O;Va.DOM.__enum__=Va;Va.FLASH=
["FLASH",3];Va.FLASH.toString=O;Va.FLASH.__enum__=Va;Va.CAIRO=["CAIRO",4];Va.CAIRO.toString=O;Va.CAIRO.__enum__=Va;Va.CONSOLE=["CONSOLE",5];Va.CONSOLE.toString=O;Va.CONSOLE.__enum__=Va;Va.CUSTOM=["CUSTOM",6];Va.CUSTOM.toString=O;Va.CUSTOM.__enum__=Va;Va.__empty_constructs__=[Va.OPENGL,Va.CANVAS,Va.DOM,Va.FLASH,Va.CAIRO,Va.CONSOLE,Va.CUSTOM];var Ng=function(a){};k["lime.graphics.cairo.Cairo"]=Ng;Ng.__name__=["lime","graphics","cairo","Cairo"];Ng.__properties__={get_versionString:"get_versionString",
get_version:"get_version"};Ng.get_version=function(){return 0};Ng.get_versionString=function(){return""};Ng.prototype={target:null,userData:null,handle:null,arc:function(a,b,c,d,e){},arcNegative:function(a,b,c,d,e){},clip:function(){},clipExtents:function(a,b,c,d){},clipPreserve:function(){},closePath:function(){},copyPage:function(){},curveTo:function(a,b,c,d,e,f){},fill:function(){},fillExtents:function(a,b,c,d){},fillPreserve:function(){},identityMatrix:function(){},inClip:function(a,b){return!1},
inFill:function(a,b){return!1},inStroke:function(a,b){return!1},lineTo:function(a,b){},moveTo:function(a,b){},mask:function(a){},maskSurface:function(a,b,c){},newPath:function(){},paint:function(){},paintWithAlpha:function(a){},popGroup:function(){return null},popGroupToSource:function(){},pushGroup:function(){},pushGroupWithContent:function(a){},recreate:function(a){},rectangle:function(a,b,c,d){},relCurveTo:function(a,b,c,d,e,f){},relLineTo:function(a,b){},relMoveTo:function(a,b){},resetClip:function(){},
restore:function(){},save:function(){},setFontSize:function(a){},setSourceRGB:function(a,b,c){},setSourceRGBA:function(a,b,c,d){},setSourceSurface:function(a,b,c){},showGlyphs:function(a){},showPage:function(){},showText:function(a){},status:function(){return 0},stroke:function(){},strokeExtents:function(a,b,c,d){},strokePreserve:function(){},textPath:function(a){},transform:function(a){},rotate:function(a){},scale:function(a,b){},translate:function(a,b){},get_antialias:function(){return 0},set_antialias:function(a){return a},
get_currentPoint:function(){return null},get_dash:function(){return[]},set_dash:function(a){return a},get_dashCount:function(){return 0},get_fillRule:function(){return 0},set_fillRule:function(a){return a},get_fontFace:function(){return 0},set_fontFace:function(a){return a},get_fontOptions:function(){return null},set_fontOptions:function(a){return a},get_groupTarget:function(){return 0},get_hasCurrentPoint:function(){return!1},get_lineCap:function(){return 0},set_lineCap:function(a){return a},get_lineJoin:function(){return 0},
set_lineJoin:function(a){return a},get_lineWidth:function(){return 0},set_lineWidth:function(a){return a},get_matrix:function(){return null},set_matrix:function(a){return a},get_miterLimit:function(){return 0},set_miterLimit:function(a){return a},get_operator:function(){return 0},set_operator:function(a){return a},get_source:function(){return 0},set_source:function(a){return a},get_target:function(){return 0},get_tolerance:function(){return 0},set_tolerance:function(a){return a},__class__:Ng,__properties__:{set_tolerance:"set_tolerance",
get_tolerance:"get_tolerance",get_target:"get_target",set_source:"set_source",get_source:"get_source",set_operator:"set_operator",get_operator:"get_operator",set_miterLimit:"set_miterLimit",get_miterLimit:"get_miterLimit",set_matrix:"set_matrix",get_matrix:"get_matrix",set_lineWidth:"set_lineWidth",get_lineWidth:"get_lineWidth",set_lineJoin:"set_lineJoin",get_lineJoin:"get_lineJoin",set_lineCap:"set_lineCap",get_lineCap:"get_lineCap",get_hasCurrentPoint:"get_hasCurrentPoint",get_groupTarget:"get_groupTarget",
set_fontOptions:"set_fontOptions",get_fontOptions:"get_fontOptions",set_fontFace:"set_fontFace",get_fontFace:"get_fontFace",set_fillRule:"set_fillRule",get_fillRule:"get_fillRule",get_dashCount:"get_dashCount",set_dash:"set_dash",get_dash:"get_dash",get_currentPoint:"get_currentPoint",set_antialias:"set_antialias",get_antialias:"get_antialias"}};var Rk={};k["lime.graphics.cairo._CairoFTFontFace.CairoFTFontFace_Impl_"]=Rk;Rk.__name__=["lime","graphics","cairo","_CairoFTFontFace","CairoFTFontFace_Impl_"];
Rk._new=function(){return 0};Rk.create=function(a,b){return 0};var Yl={};k["lime.graphics.cairo._CairoFontFace.CairoFontFace_Impl_"]=Yl;Yl.__name__=["lime","graphics","cairo","_CairoFontFace","CairoFontFace_Impl_"];Yl._new=function(){return null};Yl.status=function(a){return 0};var Md={};k["lime.graphics.cairo._CairoFontOptions.CairoFontOptions_Impl_"]=Md;Md.__name__=["lime","graphics","cairo","_CairoFontOptions","CairoFontOptions_Impl_"];Md.__properties__={set_subpixelOrder:"set_subpixelOrder",get_subpixelOrder:"get_subpixelOrder",
set_hintStyle:"set_hintStyle",get_hintStyle:"get_hintStyle",set_hintMetrics:"set_hintMetrics",get_hintMetrics:"get_hintMetrics",set_antialias:"set_antialias",get_antialias:"get_antialias"};Md._new=function(){return null};Md.get_antialias=function(a){return 0};Md.set_antialias=function(a,b){return b};Md.get_hintMetrics=function(a){return 0};Md.set_hintMetrics=function(a,b){return b};Md.get_hintStyle=function(a){return 0};Md.set_hintStyle=function(a,b){return b};Md.get_subpixelOrder=function(a){return 0};
Md.set_subpixelOrder=function(a,b){return b};var Zl=function(a,b,c){null==c&&(c=0);null==b&&(b=0);this.index=a;this.x=b;this.y=c};k["lime.graphics.cairo.CairoGlyph"]=Zl;Zl.__name__=["lime","graphics","cairo","CairoGlyph"];Zl.prototype={index:null,x:null,y:null,__class__:Zl};var Nd={};k["lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_"]=Nd;Nd.__name__=["lime","graphics","cairo","_CairoImageSurface","CairoImageSurface_Impl_"];Nd.__properties__={get_width:"get_width",get_stride:"get_stride",
get_height:"get_height",get_format:"get_format",get_data:"get_data"};Nd._new=function(a,b,c){return 0};Nd.create=function(a,b,c,d,e){return 0};Nd.fromImage=function(a){return null};Nd.get_data=function(a){return ba.fromInt(0)};Nd.get_format=function(a){return 0};Nd.get_height=function(a){return 0};Nd.get_stride=function(a){return 0};Nd.get_width=function(a){return 0};var gb={};k["lime.graphics.cairo._CairoPattern.CairoPattern_Impl_"]=gb;gb.__name__=["lime","graphics","cairo","_CairoPattern","CairoPattern_Impl_"];
gb.__properties__={set_matrix:"set_matrix",get_matrix:"get_matrix",set_filter:"set_filter",get_filter:"get_filter",set_extend:"set_extend",get_extend:"get_extend",get_colorStopCount:"get_colorStopCount"};gb._new=function(a){return a};gb.addColorStopRGB=function(a,b,c,d,e){};gb.addColorStopRGBA=function(a,b,c,d,e,f){};gb.createForSurface=function(a){return 0};gb.createLinear=function(a,b,c,d){return 0};gb.createRadial=function(a,b,c,d,e,f){return 0};gb.createRGB=function(a,b,c){return 0};gb.createRGBA=
function(a,b,c,d){return 0};gb.get_colorStopCount=function(a){return 0};gb.get_extend=function(a){return 0};gb.set_extend=function(a,b){return b};gb.get_filter=function(a){return 0};gb.set_filter=function(a,b){return b};gb.get_matrix=function(a){return null};gb.set_matrix=function(a,b){return b};var $l={};k["lime.graphics.cairo._CairoSurface.CairoSurface_Impl_"]=$l;$l.__name__=["lime","graphics","cairo","_CairoSurface","CairoSurface_Impl_"];$l.flush=function(a){};var Ok=function(){};k["lime.graphics.console.IndexBuffer"]=
Ok;Ok.__name__=["lime","graphics","console","IndexBuffer"];Ok.prototype={__class__:Ok};var xb=k["lime.graphics.console.Primitive"]={__ename__:["lime","graphics","console","Primitive"],__constructs__:["Point","Line","LineStrip","Triangle","TriangleStrip"]};xb.Point=["Point",0];xb.Point.toString=O;xb.Point.__enum__=xb;xb.Line=["Line",1];xb.Line.toString=O;xb.Line.__enum__=xb;xb.LineStrip=["LineStrip",2];xb.LineStrip.toString=O;xb.LineStrip.__enum__=xb;xb.Triangle=["Triangle",3];xb.Triangle.toString=
O;xb.Triangle.__enum__=xb;xb.TriangleStrip=["TriangleStrip",4];xb.TriangleStrip.toString=O;xb.TriangleStrip.__enum__=xb;xb.__empty_constructs__=[xb.Point,xb.Line,xb.LineStrip,xb.Triangle,xb.TriangleStrip];var Qk=function(){};k["lime.graphics.console.Shader"]=Qk;Qk.__name__=["lime","graphics","console","Shader"];Qk.prototype={__class__:Qk};var Pk=function(){};k["lime.graphics.console.VertexBuffer"]=Pk;Pk.__name__=["lime","graphics","console","VertexBuffer"];Pk.prototype={lock:function(){return new Sk},
unlock:function(){},__class__:Pk};var Sk=function(){};k["lime.graphics.console.VertexOutput"]=Sk;Sk.__name__=["lime","graphics","console","VertexOutput"];Sk.prototype={vec2:function(a,b){},vec3:function(a,b,c){},color:function(a,b,c,d){},__class__:Sk};var Xl=function(){};k["lime.graphics.format.BMP"]=Xl;Xl.__name__=["lime","graphics","format","BMP"];Xl.encode=function(a,b){if(a.get_premultiplied()||0!=a.get_format())a=a.clone(),a.set_premultiplied(!1),a.set_format(0);null==b&&(b=dc.RGB);var c=14,
d=40,e=a.width*a.height*4;if(null!=b)switch(b[1]){case 0:e=3*a.width+3*a.width%4+3*a.height+3*a.height;break;case 1:d=108;break;case 2:c=0,e+=a.width*a.height}var f=new na(new Ea(c+d+e)),p=0;0<c&&(f.b[p++]=66,f.b[p++]=77,f.setInt32(p,f.length),p+=4,f.setUInt16(p,0),p+=2,f.setUInt16(p,0),p+=2,f.setInt32(p,c+d),p+=4);f.setInt32(p,d);p+=4;f.setInt32(p,a.width);p+=4;f.setInt32(p,b==dc.ICO?2*a.height:a.height);p+=4;f.setUInt16(p,1);p+=2;f.setUInt16(p,b==dc.RGB?24:32);p+=2;f.setInt32(p,b==dc.BITFIELD?3:
0);p+=4;f.setInt32(p,e);p+=4;f.setInt32(p,11824);p+=4;f.setInt32(p,11824);p+=4;f.setInt32(p,0);p+=4;f.setInt32(p,0);p+=4;if(b==dc.BITFIELD)for(f.setInt32(p,16711680),p+=4,f.setInt32(p,65280),p+=4,f.setInt32(p,255),p+=4,f.setInt32(p,-16777216),p+=4,f.b[p++]=32,f.b[p++]=110,f.b[p++]=105,f.b[p++]=87,c=0;48>c;)c++,f.b[p++]=0;var c=a.getPixels(new Bb(0,0,a.width,a.height),1),d=0,g,m,h;if(null!=b)switch(b[1]){case 0:g=0;for(var l=a.height;g<l;){for(var d=g++,d=4*(a.height-1-d)*a.width,k=0,A=a.width;k<A;)k++,
d++,e=c.b[d++],m=c.b[d++],h=c.b[d++],f.b[p++]=h&255,f.b[p++]=m&255,f.b[p++]=e&255;d=0;for(e=3*a.width%4;d<e;)d++,f.b[p++]=0}break;case 1:l=0;for(k=a.height;l<k;)for(var d=l++,d=4*(a.height-1-d)*a.width,A=0,q=a.width;A<q;)A++,g=c.b[d++],e=c.b[d++],m=c.b[d++],h=c.b[d++],f.b[p++]=h&255,f.b[p++]=m&255,f.b[p++]=e&255,f.b[p++]=g&255;break;case 2:l=new na(new Ea(a.width*a.height));A=k=0;for(q=a.height;A<q;)for(var d=A++,d=4*(a.height-1-d)*a.width,v=0,n=a.width;v<n;)v++,g=c.b[d++],e=c.b[d++],m=c.b[d++],h=
c.b[d++],f.b[p++]=h&255,f.b[p++]=m&255,f.b[p++]=e&255,f.b[p++]=g&255,l.b[k++]=0;f.blit(p,l,0,a.width*a.height)}return f};var dc=k["lime.graphics.format.BMPType"]={__ename__:["lime","graphics","format","BMPType"],__constructs__:["RGB","BITFIELD","ICO"]};dc.RGB=["RGB",0];dc.RGB.toString=O;dc.RGB.__enum__=dc;dc.BITFIELD=["BITFIELD",1];dc.BITFIELD.toString=O;dc.BITFIELD.__enum__=dc;dc.ICO=["ICO",2];dc.ICO.toString=O;dc.ICO.__enum__=dc;dc.__empty_constructs__=[dc.RGB,dc.BITFIELD,dc.ICO];var Gi=function(){};
k["lime.graphics.format.JPEG"]=Gi;Gi.__name__=["lime","graphics","format","JPEG"];Gi.decodeBytes=function(a,b){return null};Gi.decodeFile=function(a,b){return null};Gi.encode=function(a,b){if(a.get_premultiplied()||0!=a.get_format())a=a.clone(),a.set_premultiplied(!1),a.set_format(0);S.sync(a,!1);if(null!=a.buffer.__srcCanvas){for(var c=a.buffer.__srcCanvas.toDataURL("image/jpeg",b/100),c=window.atob(c.split(";base64,")[1]),d=new na(new Ea(c.length)),e=0,f=c.length;e<f;){var p=e++,g=W.cca(c,p);d.b[p]=
g&255}return d}return null};var Hi=function(){};k["lime.graphics.format.PNG"]=Hi;Hi.__name__=["lime","graphics","format","PNG"];Hi.decodeBytes=function(a,b){return null};Hi.decodeFile=function(a,b){return null};Hi.encode=function(a){if(a.get_premultiplied()||0!=a.get_format())a=a.clone(),a.set_premultiplied(!1),a.set_format(0);S.sync(a,!1);if(null!=a.buffer.__srcCanvas){a=a.buffer.__srcCanvas.toDataURL("image/png");a=window.atob(a.split(";base64,")[1]);for(var b=new na(new Ea(a.length)),c=0,d=a.length;c<
d;){var e=c++,f=W.cca(a,e);b.b[e]=f&255}return b}return null};var g=function(){};k["lime.graphics.opengl.GL"]=g;g.__name__=["lime","graphics","opengl","GL"];g.__properties__={get_version:"get_version",get_type:"get_type"};g.activeTexture=function(a){g.context.__context.activeTexture(a)};g.attachShader=function(a,b){g.context.__context.attachShader(a,b)};g.beginQuery=function(a,b){g.context.__context.beginQuery(a,b)};g.beginTransformFeedback=function(a){g.context.__context.beginTransformFeedback(a)};
g.bindAttribLocation=function(a,b,c){g.context.__context.bindAttribLocation(a,b,c)};g.bindBuffer=function(a,b){g.context.__context.bindBuffer(a,b)};g.bindBufferBase=function(a,b,c){g.context.__context.bindBufferBase(a,b,c)};g.bindBufferRange=function(a,b,c,d,e){g.context.__context.bindBufferRange(a,b,c,d,ba.fromInt(e))};g.bindFramebuffer=function(a,b){g.context.__context.bindFramebuffer(a,b)};g.bindRenderbuffer=function(a,b){g.context.__context.bindRenderbuffer(a,b)};g.bindSampler=function(a,b){g.context.__context.bindSampler(a,
b)};g.bindTexture=function(a,b){g.context.__context.bindTexture(a,b)};g.bindTransformFeedback=function(a,b){g.context.__context.bindTransformFeedback(a,b)};g.bindVertexArray=function(a){g.context.__context.bindVertexArray(a)};g.blitFramebuffer=function(a,b,c,d,e,f,p,k,m,h){g.context.__context.blitFramebuffer(a,b,c,d,e,f,p,k,m,h)};g.blendColor=function(a,b,c,d){g.context.__context.blendColor(a,b,c,d)};g.blendEquation=function(a){g.context.__context.blendEquation(a)};g.blendEquationSeparate=function(a,
b){g.context.__context.blendEquationSeparate(a,b)};g.blendFunc=function(a,b){g.context.__context.blendFunc(a,b)};g.blendFuncSeparate=function(a,b,c,d){g.context.__context.blendFuncSeparate(a,b,c,d)};g.bufferData=function(a,b,c,d,e,f){g.context.bufferData(a,b,c,d,e,f)};g.bufferSubData=function(a,b,c,d,e,f){g.context.bufferSubData(a,b,c,d,e,f)};g.checkFramebufferStatus=function(a){return g.context.__context.checkFramebufferStatus(a)};g.clear=function(a){g.context.__context.clear(a)};g.clearBufferfi=
function(a,b,c,d){g.context.__context.clearBufferfi(a,b,c,d)};g.clearBufferfv=function(a,b,c,d){g.context.__context.clearBufferfv(a,b,c,d)};g.clearBufferiv=function(a,b,c,d){g.context.__context.clearBufferiv(a,b,c,d)};g.clearBufferuiv=function(a,b,c,d){g.context.__context.clearBufferuiv(a,b,c,d)};g.clearColor=function(a,b,c,d){g.context.__context.clearColor(a,b,c,d)};g.clearDepth=function(a){g.context.__context.clearDepth(a)};g.clearDepthf=function(a){g.context.__context.clearDepth(a)};g.clearStencil=
function(a){g.context.__context.clearStencil(a)};g.clientWaitSync=function(a,b,c){return g.context.__context.clientWaitSync(a,b,c)};g.colorMask=function(a,b,c,d){g.context.__context.colorMask(a,b,c,d)};g.compileShader=function(a){g.context.__context.compileShader(a)};g.compressedTexImage2D=function(a,b,c,d,e,f,p,k,m,h){g.context.compressedTexImage2D(a,b,c,d,e,f,p,k,m,h)};g.compressedTexImage3D=function(a,b,c,d,e,f,p,k,m,h){g.context.__context.compressedTexImage3D(a,b,c,d,e,f,p,k,m,h)};g.compressedTexSubImage2D=
function(a,b,c,d,e,f,p,k,m,h,l){g.context.compressedTexSubImage2D(a,b,c,d,e,f,p,k,m,h,l)};g.compressedTexSubImage3D=function(a,b,c,d,e,f,p,k,m,h,l,q){g.context.__context.compressedTexSubImage3D(a,b,c,d,e,f,p,k,m,h,l,q)};g.copyBufferSubData=function(a,b,c,d,e){};g.copyTexImage2D=function(a,b,c,d,e,f,p,k){g.context.__context.copyTexImage2D(a,b,c,d,e,f,p,k)};g.copyTexSubImage2D=function(a,b,c,d,e,f,p,k){g.context.__context.copyTexSubImage2D(a,b,c,d,e,f,p,k)};g.copyTexSubImage3D=function(a,b,c,d,e,f,
p,k,m){g.context.__context.copyTexSubImage3D(a,b,c,d,e,f,p,k,m)};g.createBuffer=function(){return g.context.__context.createBuffer()};g.createFramebuffer=function(){return g.context.__context.createFramebuffer()};g.createProgram=function(){return g.context.__context.createProgram()};g.createQuery=function(){return g.context.__context.createQuery()};g.createRenderbuffer=function(){return g.context.__context.createRenderbuffer()};g.createSampler=function(){return g.context.__context.createSampler()};
g.createShader=function(a){return g.context.__context.createShader(a)};g.createTexture=function(){return g.context.__context.createTexture()};g.createTransformFeedback=function(){return g.context.__context.createTransformFeedback()};g.createVertexArray=function(){return g.context.__context.createVertexArray()};g.cullFace=function(a){g.context.__context.cullFace(a)};g.deleteBuffer=function(a){g.context.__context.deleteBuffer(a)};g.deleteFramebuffer=function(a){g.context.__context.deleteFramebuffer(a)};
g.deleteProgram=function(a){g.context.__context.deleteProgram(a)};g.deleteQuery=function(a){g.context.__context.deleteQuery(a)};g.deleteRenderbuffer=function(a){g.context.__context.deleteRenderbuffer(a)};g.deleteSampler=function(a){g.context.__context.deleteSampler(a)};g.deleteShader=function(a){g.context.__context.deleteShader(a)};g.deleteSync=function(a){g.context.__context.deleteSync(a)};g.deleteTexture=function(a){g.context.__context.deleteTexture(a)};g.deleteTransformFeedback=function(a){g.context.__context.deleteTransformFeedback(a)};
g.deleteVertexArray=function(a){g.context.__context.deleteVertexArray(a)};g.depthFunc=function(a){g.context.__context.depthFunc(a)};g.depthMask=function(a){g.context.__context.depthMask(a)};g.depthRange=function(a,b){g.context.__context.depthRange(a,b)};g.depthRangef=function(a,b){g.context.__context.depthRange(a,b)};g.detachShader=function(a,b){g.context.__context.detachShader(a,b)};g.disable=function(a){g.context.__context.disable(a)};g.disableVertexAttribArray=function(a){g.context.__context.disableVertexAttribArray(a)};
g.drawArrays=function(a,b,c){g.context.__context.drawArrays(a,b,c)};g.drawArraysInstanced=function(a,b,c,d){g.context.__context.drawArraysInstanced(a,b,c,d)};g.drawBuffers=function(a){g.context.__context.drawBuffers(a)};g.drawElements=function(a,b,c,d){var e=g.context;d=ba.fromInt(d);e.__context.drawElements(a,b,c,d)};g.drawElementsInstanced=function(a,b,c,d,e){g.context.__context.drawElementsInstanced(a,b,c,d,e)};g.drawRangeElements=function(a,b,c,d,e,f){g.context.__context.drawRangeElements(a,b,
c,d,e,f)};g.enable=function(a){g.context.__context.enable(a)};g.enableVertexAttribArray=function(a){g.context.__context.enableVertexAttribArray(a)};g.endQuery=function(a){g.context.__context.endQuery(a)};g.endTransformFeedback=function(){g.context.__context.endTransformFeedback()};g.fenceSync=function(a,b){return g.context.__context.fenceSync(a,b)};g.finish=function(){g.context.__context.finish()};g.flush=function(){g.context.__context.flush()};g.framebufferRenderbuffer=function(a,b,c,d){g.context.__context.framebufferRenderbuffer(a,
b,c,d)};g.framebufferTexture2D=function(a,b,c,d,e){g.context.__context.framebufferTexture2D(a,b,c,d,e)};g.framebufferTextureLayer=function(a,b,c,d,e){g.context.__context.framebufferTextureLayer(a,b,c,d,e)};g.frontFace=function(a){g.context.__context.frontFace(a)};g.generateMipmap=function(a){g.context.__context.generateMipmap(a)};g.getActiveAttrib=function(a,b){return g.context.__context.getActiveAttrib(a,b)};g.getActiveUniform=function(a,b){return g.context.__context.getActiveUniform(a,b)};g.getActiveUniformBlocki=
function(a,b,c){return g.context.__context.getActiveUniformBlockParameter(a,b,c)};g.getActiveUniformBlockiv=function(a,b,c,d){var e=g.context;(null!=d?new Int32Array(d,0):null)[0]=e.__context.getActiveUniformBlockParameter(a,b,c)};g.getActiveUniformBlockName=function(a,b){return g.context.__context.getActiveUniformBlockName(a,b)};g.getActiveUniformBlockParameter=function(a,b,c){return g.context.__context.getActiveUniformBlockParameter(a,b,c)};g.getActiveUniforms=function(a,b,c){return g.context.__context.getActiveUniforms(a,
b,c)};g.getActiveUniformsiv=function(a,b,c,d){};g.getAttachedShaders=function(a){return g.context.__context.getAttachedShaders(a)};g.getAttribLocation=function(a,b){return g.context.__context.getAttribLocation(a,b)};g.getBoolean=function(a){return g.context.__context.getParameter(a)};g.getBooleanv=function(a,b){var c=g.context,d=null!=b?new Fa(b):null,c=c.__context.getParameter(a);if(c instanceof Array&&null==c.__enum__)for(var e=0,f=c.length;e<f;){var p=e++;d[p]=c[p]?1:0}else d[0]=y.__cast(c,Ql)?
1:0};g.getBufferParameter=function(a,b){return g.context.__context.getBufferParameter(a,b)};g.getBufferParameteri=function(a,b){return g.context.__context.getBufferParameter(a,b)};g.getBufferParameteri64v=function(a,b,c){g.context.getBufferParameteri64v(a,b,c)};g.getBufferParameteriv=function(a,b,c){var d=g.context;(null!=c?new Int32Array(c,0):null)[0]=d.__context.getBufferParameter(a,b)};g.getBufferPointerv=function(a,b){return ba.fromInt(0)};g.getBufferSubData=function(a,b,c,d,e){g.context.getBufferSubData(a,
b,c,d,e)};g.getContextAttributes=function(){return g.context.__context.getContextAttributes()};g.getError=function(){return g.context.__context.getError()};g.getExtension=function(a){return g.context.__context.getExtension(a)};g.getFloat=function(a){return g.context.__context.getParameter(a)};g.getFloatv=function(a,b){g.context.getFloatv(a,b)};g.getFragDataLocation=function(a,b){return g.context.__context.getFragDataLocation(a,b)};g.getFramebufferAttachmentParameter=function(a,b,c){return g.context.__context.getFramebufferAttachmentParameter(a,
b,c)};g.getFramebufferAttachmentParameteri=function(a,b,c){return g.context.getFramebufferAttachmentParameteri(a,b,c)};g.getFramebufferAttachmentParameteriv=function(a,b,c,d){g.context.getFramebufferAttachmentParameteriv(a,b,c,d)};g.getIndexedParameter=function(a,b){return g.context.__context.getIndexedParameter(a,b)};g.getInteger=function(a){return g.context.__context.getParameter(a)};g.getInteger64=function(a){return new Y(0,0)};g.getInteger64i=function(a){return new Y(0,0)};g.getInteger64i_v=function(a,
b){};g.getInteger64v=function(a,b){g.context.getInteger64v(a,b)};g.getIntegeri=function(a){return 0};g.getIntegeri_v=function(a,b){};g.getIntegerv=function(a,b){g.context.getIntegerv(a,b)};g.getInternalformati=function(a,b,c){return 0};g.getInternalformativ=function(a,b,c,d){g.context.getInternalformativ(a,b,c,d)};g.getInternalformatParameter=function(a,b,c){return g.context.__context.getInternalformatParameter(a,b,c)};g.getParameter=function(a){return g.context.__context.getParameter(a)};g.getProgrami=
function(a,b){return g.context.__context.getProgramParameter(a,b)};g.getProgramiv=function(a,b,c){g.context.getProgramiv(a,b,c)};g.getProgramBinary=function(a,b){return null};g.getProgramInfoLog=function(a){return g.context.__context.getProgramInfoLog(a)};g.getProgramParameter=function(a,b){return g.context.__context.getProgramParameter(a,b)};g.getQuery=function(a,b){return g.context.__context.getQuery(a,b)};g.getQueryi=function(a,b){return 0};g.getQueryiv=function(a,b,c){g.context.getQueryiv(a,b,
c)};g.getQueryObjectui=function(a,b){return 0};g.getQueryObjectuiv=function(a,b,c){g.context.getQueryObjectuiv(a,b,c)};g.getQueryParameter=function(a,b){return g.context.__context.getQueryParameter(a,b)};g.getRenderbufferParameter=function(a,b){return g.context.__context.getRenderbufferParameter(a,b)};g.getRenderbufferParameteri=function(a,b){return g.context.__context.getRenderbufferParameter(a,b)};g.getRenderbufferParameteriv=function(a,b,c){g.context.getRenderbufferParameteriv(a,b,c)};g.getSamplerParameter=
function(a,b){return g.context.__context.getSamplerParameter(a,b)};g.getSamplerParameterf=function(a,b){return 0};g.getSamplerParameterfv=function(a,b,c){g.context.getSamplerParameterfv(a,b,c)};g.getSamplerParameteri=function(a,b){return 0};g.getSamplerParameteriv=function(a,b,c){g.context.getSamplerParameteriv(a,b,c)};g.getShaderi=function(a,b){return g.context.__context.getShaderParameter(a,b)};g.getShaderiv=function(a,b,c){g.context.getShaderiv(a,b,c)};g.getShaderInfoLog=function(a){return g.context.__context.getShaderInfoLog(a)};
g.getShaderParameter=function(a,b){return g.context.__context.getShaderParameter(a,b)};g.getShaderPrecisionFormat=function(a,b){return g.context.__context.getShaderPrecisionFormat(a,b)};g.getShaderSource=function(a){return g.context.__context.getShaderSource(a)};g.getString=function(a){return g.context.getString(a)};g.getStringi=function(a,b){return null};g.getSupportedExtensions=function(){return g.context.__context.getSupportedExtensions()};g.getSyncParameter=function(a,b){return g.context.__context.getSyncParameter(a,
b)};g.getSyncParameteri=function(a,b){return 0};g.getSyncParameteriv=function(a,b,c){g.context.getSyncParameteriv(a,b,c)};g.getTexParameter=function(a,b){return g.context.__context.getTexParameter(a,b)};g.getTexParameterf=function(a,b){return g.context.__context.getTexParameter(a,b)};g.getTexParameterfv=function(a,b,c){g.context.getTexParameterfv(a,b,c)};g.getTexParameteri=function(a,b){return g.context.__context.getTexParameter(a,b)};g.getTexParameteriv=function(a,b,c){g.context.getTexParameteriv(a,
b,c)};g.getTransformFeedbackVarying=function(a,b){return g.context.__context.getTransformFeedbackVarying(a,b)};g.getUniform=function(a,b){return g.context.__context.getUniform(a,b)};g.getUniformf=function(a,b){return g.context.__context.getUniform(a,b)};g.getUniformfv=function(a,b,c){g.context.getUniformfv(a,b,c)};g.getUniformi=function(a,b){return g.context.getUniformi(a,b)};g.getUniformiv=function(a,b,c){g.context.getUniformiv(a,b,c)};g.getUniformui=function(a,b){return 0};g.getUniformuiv=function(a,
b,c){g.context.getUniformuiv(a,b,c)};g.getUniformBlockIndex=function(a,b){return g.context.__context.getUniformBlockIndex(a,b)};g.getUniformIndices=function(a,b){return g.context.__context.getUniformIndices(a,b)};g.getUniformLocation=function(a,b){return g.context.__context.getUniformLocation(a,b)};g.getVertexAttrib=function(a,b){return g.context.__context.getVertexAttrib(a,b)};g.getVertexAttribf=function(a,b){return 0};g.getVertexAttribfv=function(a,b,c){g.context.getVertexAttribfv(a,b,c)};g.getVertexAttribi=
function(a,b){return g.context.getVertexAttribi(a,b)};g.getVertexAttribIi=function(a,b){return 0};g.getVertexAttribIiv=function(a,b,c){};g.getVertexAttribIui=function(a,b){return 0};g.getVertexAttribIuiv=function(a,b,c){};g.getVertexAttribiv=function(a,b,c){g.context.getVertexAttribiv(a,b,c)};g.getVertexAttribOffset=function(a,b){return ba.fromInt(g.context.__context.getVertexAttribOffset(a,b))};g.getVertexAttribPointerv=function(a,b){return ba.fromInt(g.context.__context.getVertexAttribOffset(a,
b))};g.hint=function(a,b){g.context.__context.hint(a,b)};g.invalidateFramebuffer=function(a,b){g.context.__context.invalidateFramebuffer(a,b)};g.invalidateSubFramebuffer=function(a,b,c,d,e,f){g.context.__context.invalidateSubFramebuffer(a,b,c,d,e,f)};g.isBuffer=function(a){return g.context.__context.isBuffer(a)};g.isContextLost=function(){var a=g.context;return a.__contextLost?!0:a.__context.isContextLost()};g.isEnabled=function(a){return g.context.__context.isEnabled(a)};g.isFramebuffer=function(a){return g.context.__context.isFramebuffer(a)};
g.isProgram=function(a){return g.context.__context.isProgram(a)};g.isQuery=function(a){return g.context.__context.isQuery(a)};g.isRenderbuffer=function(a){return g.context.__context.isRenderbuffer(a)};g.isSampler=function(a){return g.context.__context.isSampler(a)};g.isShader=function(a){return g.context.__context.isShader(a)};g.isSync=function(a){return g.context.__context.isSync(a)};g.isTexture=function(a){return g.context.__context.isTexture(a)};g.isTransformFeedback=function(a){return g.context.__context.isTransformFeedback(a)};
g.isVertexArray=function(a){return g.context.__context.isVertexArray(a)};g.lineWidth=function(a){g.context.__context.lineWidth(a)};g.linkProgram=function(a){g.context.__context.linkProgram(a)};g.mapBufferRange=function(a,b,c,d){};g.pauseTransformFeedback=function(){g.context.__context.pauseTransformFeedback()};g.pixelStorei=function(a,b){g.context.__context.pixelStorei(a,b)};g.polygonOffset=function(a,b){g.context.__context.polygonOffset(a,b)};g.programBinary=function(a,b,c,d){};g.programParameteri=
function(a,b,c){};g.readBuffer=function(a){g.context.__context.readBuffer(a)};g.readPixels=function(a,b,c,d,e,f,p,k){g.context.readPixels(a,b,c,d,e,f,p,k)};g.releaseShaderCompiler=function(){};g.renderbufferStorage=function(a,b,c,d){g.context.__context.renderbufferStorage(a,b,c,d)};g.renderbufferStorageMultisample=function(a,b,c,d,e){g.context.__context.renderbufferStorageMultisample(a,b,c,d,e)};g.resumeTransformFeedback=function(){g.context.__context.resumeTransformFeedback()};g.sampleCoverage=function(a,
b){g.context.__context.sampleCoverage(a,b)};g.samplerParameterf=function(a,b,c){g.context.__context.samplerParameterf(a,b,c)};g.samplerParameteri=function(a,b,c){g.context.__context.samplerParameteri(a,b,c)};g.scissor=function(a,b,c,d){g.context.__context.scissor(a,b,c,d)};g.shaderBinary=function(a,b,c,d){};g.shaderSource=function(a,b){g.context.__context.shaderSource(a,b)};g.stencilFunc=function(a,b,c){g.context.__context.stencilFunc(a,b,c)};g.stencilFuncSeparate=function(a,b,c,d){g.context.__context.stencilFuncSeparate(a,
b,c,d)};g.stencilMask=function(a){g.context.__context.stencilMask(a)};g.stencilMaskSeparate=function(a,b){g.context.__context.stencilMaskSeparate(a,b)};g.stencilOp=function(a,b,c){g.context.__context.stencilOp(a,b,c)};g.stencilOpSeparate=function(a,b,c,d){g.context.__context.stencilOpSeparate(a,b,c,d)};g.texImage2D=function(a,b,c,d,e,f,p,k,m,h){g.context.texImage2D(a,b,c,d,e,f,p,k,m,h)};g.texImage3D=function(a,b,c,d,e,f,p,k,m,h,l){g.context.__context.texImage3D(a,b,c,d,e,f,p,k,m,h,l)};g.texStorage2D=
function(a,b,c,d,e){g.context.__context.texStorage2D(a,b,c,d,e)};g.texStorage3D=function(a,b,c,d,e,f){g.context.__context.texStorage3D(a,b,c,d,e,f)};g.texParameterf=function(a,b,c){g.context.__context.texParameterf(a,b,c)};g.texParameteri=function(a,b,c){g.context.__context.texParameteri(a,b,c)};g.texSubImage2D=function(a,b,c,d,e,f,p,k,m,h){g.context.texSubImage2D(a,b,c,d,e,f,p,k,m,h)};g.texSubImage3D=function(a,b,c,d,e,f,p,k,m,h,l,q){g.context.texSubImage3D(a,b,c,d,e,f,p,k,m,h,l,q)};g.transformFeedbackVaryings=
function(a,b,c){g.context.__context.transformFeedbackVaryings(a,b,c)};g.uniform1f=function(a,b){g.context.__context.uniform1f(a,b)};g.uniform1fv=function(a,b,c,d){g.context.uniform1fv(a,b,c,d)};g.uniform1i=function(a,b){g.context.__context.uniform1i(a,b)};g.uniform1iv=function(a,b,c,d){g.context.uniform1iv(a,b,c,d)};g.uniform1ui=function(a,b){g.context.__context.uniform1ui(a,b)};g.uniform1uiv=function(a,b,c,d){g.context.uniform1uiv(a,b,c,d)};g.uniform2f=function(a,b,c){g.context.__context.uniform2f(a,
b,c)};g.uniform2fv=function(a,b,c,d){g.context.uniform2fv(a,b,c,d)};g.uniform2i=function(a,b,c){g.context.__context.uniform2i(a,b,c)};g.uniform2iv=function(a,b,c,d){g.context.uniform2iv(a,b,c,d)};g.uniform2ui=function(a,b,c){g.context.__context.uniform2ui(a,b,c)};g.uniform2uiv=function(a,b,c,d){g.context.uniform2uiv(a,b,c,d)};g.uniform3f=function(a,b,c,d){g.context.__context.uniform3f(a,b,c,d)};g.uniform3fv=function(a,b,c,d){g.context.uniform3fv(a,b,c,d)};g.uniform3i=function(a,b,c,d){g.context.__context.uniform3i(a,
b,c,d)};g.uniform3iv=function(a,b,c,d){g.context.uniform3iv(a,b,c,d)};g.uniform3ui=function(a,b,c,d){g.context.__context.uniform3ui(a,b,c,d)};g.uniform3uiv=function(a,b,c,d){g.context.uniform3uiv(a,b,c,d)};g.uniform4f=function(a,b,c,d,e){g.context.__context.uniform4f(a,b,c,d,e)};g.uniform4fv=function(a,b,c,d){g.context.uniform4fv(a,b,c,d)};g.uniform4i=function(a,b,c,d,e){g.context.__context.uniform4i(a,b,c,d,e)};g.uniform4iv=function(a,b,c,d){g.context.uniform4iv(a,b,c,d)};g.uniform4ui=function(a,
b,c,d,e){g.context.__context.uniform4ui(a,b,c,d,e)};g.uniform4uiv=function(a,b,c,d){g.context.uniform4uiv(a,b,c,d)};g.uniformBlockBinding=function(a,b,c){g.context.__context.uniformBlockBinding(a,b,c)};g.uniformMatrix2fv=function(a,b,c,d,e){g.context.uniformMatrix2fv(a,b,c,d,e)};g.uniformMatrix2x3fv=function(a,b,c,d,e){g.context.uniformMatrix2x3fv(a,b,c,d,e)};g.uniformMatrix2x4fv=function(a,b,c,d,e){g.context.uniformMatrix2x4fv(a,b,c,d,e)};g.uniformMatrix3fv=function(a,b,c,d,e){g.context.uniformMatrix3fv(a,
b,c,d,e)};g.uniformMatrix3x2fv=function(a,b,c,d,e){g.context.uniformMatrix3x2fv(a,b,c,d,e)};g.uniformMatrix3x4fv=function(a,b,c,d,e){g.context.uniformMatrix3x4fv(a,b,c,d,e)};g.uniformMatrix4fv=function(a,b,c,d,e){g.context.uniformMatrix4fv(a,b,c,d,e)};g.uniformMatrix4x2fv=function(a,b,c,d,e){g.context.uniformMatrix4x2fv(a,b,c,d,e)};g.uniformMatrix4x3fv=function(a,b,c,d,e){g.context.uniformMatrix4x3fv(a,b,c,d,e)};g.unmapBuffer=function(a){return!1};g.useProgram=function(a){g.__currentProgram=a;g.context.__context.useProgram(a)};
g.validateProgram=function(a){g.context.__context.validateProgram(a)};g.vertexAttrib1f=function(a,b){g.context.__context.vertexAttrib1f(a,b)};g.vertexAttrib1fv=function(a,b){g.context.vertexAttrib1fv(a,b)};g.vertexAttrib2f=function(a,b,c){g.context.__context.vertexAttrib2f(a,b,c)};g.vertexAttrib2fv=function(a,b){g.context.vertexAttrib2fv(a,b)};g.vertexAttrib3f=function(a,b,c,d){g.context.__context.vertexAttrib3f(a,b,c,d)};g.vertexAttrib3fv=function(a,b){g.context.vertexAttrib3fv(a,b)};g.vertexAttrib4f=
function(a,b,c,d,e){g.context.__context.vertexAttrib4f(a,b,c,d,e)};g.vertexAttrib4fv=function(a,b){g.context.vertexAttrib4fv(a,b)};g.vertexAttribDivisor=function(a,b){g.context.__context.vertexAttribDivisor(a,b)};g.vertexAttribI4i=function(a,b,c,d,e){g.context.__context.vertexAttribI4i(a,b,c,d,e)};g.vertexAttribI4iv=function(a,b){g.context.vertexAttribI4iv(a,b)};g.vertexAttribI4ui=function(a,b,c,d,e){g.context.__context.vertexAttribI4ui(a,b,c,d,e)};g.vertexAttribI4uiv=function(a,b){g.context.vertexAttribI4uiv(a,
b)};g.vertexAttribIPointer=function(a,b,c,d,e){g.context.__context.vertexAttribIPointer(a,b,c,d,e)};g.vertexAttribPointer=function(a,b,c,d,e,f){g.context.__context.vertexAttribPointer(a,b,c,d,e,f)};g.viewport=function(a,b,c,d){g.context.__context.viewport(a,b,c,d)};g.waitSync=function(a,b,c){g.context.__context.waitSync(a,b,c)};g.get_type=function(){return g.context.type};g.get_version=function(){return g.context.version};g.__getObjectID=function(a){return null==a?0:a.id};var uc=k["lime.graphics.opengl.GLContextType"]=
{__ename__:["lime","graphics","opengl","GLContextType"],__constructs__:["OPENGL","GLES","WEBGL"]};uc.OPENGL=["OPENGL",0];uc.OPENGL.toString=O;uc.OPENGL.__enum__=uc;uc.GLES=["GLES",1];uc.GLES.toString=O;uc.GLES.__enum__=uc;uc.WEBGL=["WEBGL",2];uc.WEBGL.toString=O;uc.WEBGL.__enum__=uc;uc.__empty_constructs__=[uc.OPENGL,uc.GLES,uc.WEBGL];var S=function(){};k["lime.graphics.utils.ImageCanvasUtil"]=S;S.__name__=["lime","graphics","utils","ImageCanvasUtil"];S.colorTransform=function(a,b,c){S.convertToData(a);
Ca.colorTransform(a,b,c)};S.convertToCanvas=function(a,b){null==b&&(b=!1);var c=a.buffer;null!=c.__srcImage?(null==c.__srcCanvas&&(S.createCanvas(a,c.__srcImage.width,c.__srcImage.height),c.__srcContext.drawImage(c.__srcImage,0,0)),c.__srcImage=null):null==c.__srcCanvas&&null!=c.data?(a.set_transparent(!0),S.createCanvas(a,c.width,c.height),S.createImageData(a),c.__srcContext.putImageData(c.__srcImageData,0,0)):a.type==Wa.DATA&&null!=c.__srcImageData&&a.dirty&&(c.__srcContext.putImageData(c.__srcImageData,
0,0),a.dirty=!1);b?(c.data=null,c.__srcImageData=null):null==c.data&&null!=c.__srcImageData&&(c.data=c.__srcImageData.data);a.type=Wa.CANVAS};S.convertToData=function(a,b){null==b&&(b=!1);var c=a.buffer;null!=c.__srcImage&&S.convertToCanvas(a);if(null!=c.__srcCanvas&&null==c.data)S.createImageData(a),a.type==Wa.CANVAS&&(a.dirty=!1);else if(a.type==Wa.CANVAS&&null!=c.__srcCanvas&&a.dirty){if(null==c.__srcImageData)S.createImageData(a);else{c.__srcImageData=c.__srcContext.getImageData(0,0,c.width,c.height);
var d=c.__srcImageData.data.buffer,d=null!=d?new Fa(d):null;c.data=d}a.dirty=!1}b&&(a.buffer.__srcCanvas=null,a.buffer.__srcContext=null);a.type=Wa.DATA};S.copyChannel=function(a,b,c,d,e,f){S.convertToData(b);S.convertToData(a);Ca.copyChannel(a,b,c,d,e,f)};S.copyPixels=function(a,b,c,d,e,f,p){null==p&&(p=!1);null==d||d.x>=a.width||d.y>=a.height||null==c||1>c.width||1>c.height||(null!=e&&e.get_transparent()&&(null==f&&(f=new vb),b=a.clone(),b.copyChannel(e,new Bb(f.x,f.y,c.width,c.height),new vb(c.x,
c.y),$a.ALPHA,$a.ALPHA)),S.convertToCanvas(a,!0),p||a.get_transparent()&&b.get_transparent()&&a.buffer.__srcContext.clearRect(d.x+a.offsetX,d.y+a.offsetY,c.width+a.offsetX,c.height+a.offsetY),S.convertToCanvas(b),null!=b.buffer.get_src()&&a.buffer.__srcContext.drawImage(b.buffer.get_src(),c.x+b.offsetX|0,c.y+b.offsetY|0,c.width|0,c.height|0,d.x+a.offsetX|0,d.y+a.offsetY|0,c.width|0,c.height|0),a.dirty=!0,a.version++)};S.createCanvas=function(a,b,c){var d=a.buffer;null==d.__srcCanvas&&(d.__srcCanvas=
window.document.createElement("canvas"),d.__srcCanvas.width=b,d.__srcCanvas.height=c,a.get_transparent()?d.__srcContext=d.__srcCanvas.getContext("2d"):(a.get_transparent()||d.__srcCanvas.setAttribute("moz-opaque","true"),d.__srcContext=d.__srcCanvas.getContext("2d",{alpha:!1})),d.__srcContext.mozImageSmoothingEnabled=!1,d.__srcContext.msImageSmoothingEnabled=!1,d.__srcContext.imageSmoothingEnabled=!1)};S.createImageData=function(a){a=a.buffer;if(null==a.__srcImageData){null==a.data?a.__srcImageData=
a.__srcContext.getImageData(0,0,a.width,a.height):(a.__srcImageData=a.__srcContext.createImageData(a.width,a.height),a.__srcImageData.data.set(a.data));var b=a.__srcImageData.data.buffer,b=null!=b?new Fa(b):null;a.data=b}};S.fillRect=function(a,b,c,d){S.convertToCanvas(a);var e,f;1==d?(d=c>>16&255,e=c>>8&255,f=c&255,c=a.get_transparent()?c>>24&255:255):(d=c>>24&255,e=c>>16&255,f=c>>8&255,c=a.get_transparent()?c&255:255);0==b.x&&0==b.y&&b.width==a.width&&b.height==a.height&&a.get_transparent()&&0==
c?a.buffer.__srcCanvas.width=a.buffer.width:(a.buffer.__srcContext.fillStyle="rgba("+d+", "+e+", "+f+", "+c/255+")",a.buffer.__srcContext.fillRect(b.x+a.offsetX,b.y+a.offsetY,b.width+a.offsetX,b.height+a.offsetY),a.dirty=!0,a.version++)};S.floodFill=function(a,b,c,d,e){S.convertToData(a);Ca.floodFill(a,b,c,d,e)};S.getPixel=function(a,b,c,d){S.convertToData(a);return Ca.getPixel(a,b,c,d)};S.getPixel32=function(a,b,c,d){S.convertToData(a);return Ca.getPixel32(a,b,c,d)};S.getPixels=function(a,b,c){S.convertToData(a);
return Ca.getPixels(a,b,c)};S.merge=function(a,b,c,d,e,f,p,g){S.convertToData(b);S.convertToData(a);Ca.merge(a,b,c,d,e,f,p,g)};S.resize=function(a,b,c){var d=a.buffer;if(null==d.__srcCanvas)S.createCanvas(a,b,c),d.__srcContext.drawImage(d.get_src(),0,0,b,c);else{S.convertToCanvas(a,!0);var e=d.__srcCanvas;d.__srcCanvas=null;S.createCanvas(a,b,c);d.__srcContext.drawImage(e,0,0,b,c)}d.__srcImageData=null;d.data=null;a.dirty=!0;a.version++};S.scroll=function(a,b,c){if(0!=b%a.width||0!=c%a.height){var d=
a.clone();S.convertToCanvas(a,!0);a.buffer.__srcContext.clearRect(b,c,a.width,a.height);a.buffer.__srcContext.drawImage(d.get_src(),b,c);a.dirty=!0;a.version++}};S.setPixel=function(a,b,c,d,e){S.convertToData(a);Ca.setPixel(a,b,c,d,e)};S.setPixel32=function(a,b,c,d,e){S.convertToData(a);Ca.setPixel32(a,b,c,d,e)};S.setPixels=function(a,b,c,d){S.convertToData(a);Ca.setPixels(a,b,c,d)};S.sync=function(a,b){null!=a&&(a.type==Wa.CANVAS?S.convertToCanvas(a,b):S.convertToData(a,b))};var Ca=function(){};
k["lime.graphics.utils.ImageDataUtil"]=Ca;Ca.__name__=["lime","graphics","utils","ImageDataUtil"];Ca.colorTransform=function(a,b,c){var d=a.buffer.data;if(null!=d){var e=a.buffer.format,f=a.buffer.premultiplied;b=new Kc(a,b);var p=la.getAlphaTable(c),g=la.getRedTable(c),m=la.getGreenTable(c);c=la.getBlueTable(c);for(var h,l,k,A=0,q=b.height;A<q;){h=A++;h=b.offset+b.stride*h;for(var v=0,n=b.width;v<n;){l=v++;l=h+4*l;switch(e){case 0:k=(d[l]&255)<<24|(d[l+1]&255)<<16|(d[l+2]&255)<<8|d[l+3]&255;break;
case 1:k=(d[l+1]&255)<<24|(d[l+2]&255)<<16|(d[l+3]&255)<<8|d[l]&255;break;case 2:k=(d[l+2]&255)<<24|(d[l+1]&255)<<16|(d[l]&255)<<8|d[l+3]&255}f&&0!=(k&255)&&255!=(k&255)&&(z.unmult=255/(k&255),k=(z.__clamp[Math.round((k>>>24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((k>>>16&255)*z.unmult)]&255)<<16|(z.__clamp[Math.round((k>>>8&255)*z.unmult)]&255)<<8|k&255);k=(g[k>>>24&255]&255)<<24|(m[k>>>16&255]&255)<<16|(c[k>>>8&255]&255)<<8|p[k&255]&255;f&&(0==(k&255)?0!=k&&(k=0):255!=(k&255)&&(z.a16=z.__alpha16[k&
255],k=((k>>>24&255)*z.a16>>16&255)<<24|((k>>>16&255)*z.a16>>16&255)<<16|((k>>>8&255)*z.a16>>16&255)<<8|k&255));switch(e){case 0:d[l]=k>>>24&255;d[l+1]=k>>>16&255;d[l+2]=k>>>8&255;d[l+3]=k&255;break;case 1:d[l]=k&255;d[l+1]=k>>>24&255;d[l+2]=k>>>16&255;d[l+3]=k>>>8&255;break;case 2:d[l]=k>>>8&255,d[l+1]=k>>>16&255,d[l+2]=k>>>24&255,d[l+3]=k&255}}}a.dirty=!0;a.version++}};Ca.copyChannel=function(a,b,c,d,e,f){var g;switch(f[1]){case 0:g=0;break;case 1:g=1;break;case 2:g=2;break;case 3:g=3}var k;switch(e[1]){case 0:k=
0;break;case 1:k=1;break;case 2:k=2;break;case 3:k=3}e=b.buffer.data;f=a.buffer.data;if(null!=e&&null!=f){c=new Kc(b,c);d=new Kc(a,new Bb(d.x,d.y,c.width,c.height));var m=b.buffer.format,h=a.buffer.format;b=b.buffer.premultiplied;for(var l=a.buffer.premultiplied,q,A,n,v,r=0,C=0,t=d.height;C<t;){A=C++;q=c.offset+c.stride*A;A=d.offset+d.stride*A;for(var u=0,w=d.width;u<w;){u++;switch(m){case 0:n=(e[q]&255)<<24|(e[q+1]&255)<<16|(e[q+2]&255)<<8|e[q+3]&255;break;case 1:n=(e[q+1]&255)<<24|(e[q+2]&255)<<
16|(e[q+3]&255)<<8|e[q]&255;break;case 2:n=(e[q+2]&255)<<24|(e[q+1]&255)<<16|(e[q]&255)<<8|e[q+3]&255}b&&0!=(n&255)&&255!=(n&255)&&(z.unmult=255/(n&255),n=(z.__clamp[Math.round((n>>>24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((n>>>16&255)*z.unmult)]&255)<<16|(z.__clamp[Math.round((n>>>8&255)*z.unmult)]&255)<<8|n&255);switch(h){case 0:v=(f[A]&255)<<24|(f[A+1]&255)<<16|(f[A+2]&255)<<8|f[A+3]&255;break;case 1:v=(f[A+1]&255)<<24|(f[A+2]&255)<<16|(f[A+3]&255)<<8|f[A]&255;break;case 2:v=(f[A+2]&255)<<
24|(f[A+1]&255)<<16|(f[A]&255)<<8|f[A+3]&255}l&&0!=(v&255)&&255!=(v&255)&&(z.unmult=255/(v&255),v=(z.__clamp[Math.round((v>>>24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((v>>>16&255)*z.unmult)]&255)<<16|(z.__clamp[Math.round((v>>>8&255)*z.unmult)]&255)<<8|v&255);switch(k){case 0:r=n>>>24&255;break;case 1:r=n>>>16&255;break;case 2:r=n>>>8&255;break;case 3:r=n&255}switch(g){case 0:v=(r&255)<<24|(v>>>16&255)<<16|(v>>>8&255)<<8|v&255;break;case 1:v=(v>>>24&255)<<24|(r&255)<<16|(v>>>8&255)<<8|v&255;
break;case 2:v=(v>>>24&255)<<24|(v>>>16&255)<<16|(r&255)<<8|v&255;break;case 3:v=(v>>>24&255)<<24|(v>>>16&255)<<16|(v>>>8&255)<<8|r&255}l&&(0==(v&255)?0!=v&&(v=0):255!=(v&255)&&(z.a16=z.__alpha16[v&255],v=((v>>>24&255)*z.a16>>16&255)<<24|((v>>>16&255)*z.a16>>16&255)<<16|((v>>>8&255)*z.a16>>16&255)<<8|v&255));switch(h){case 0:f[A]=v>>>24&255;f[A+1]=v>>>16&255;f[A+2]=v>>>8&255;f[A+3]=v&255;break;case 1:f[A]=v&255;f[A+1]=v>>>24&255;f[A+2]=v>>>16&255;f[A+3]=v>>>8&255;break;case 2:f[A]=v>>>8&255,f[A+1]=
v>>>16&255,f[A+2]=v>>>24&255,f[A+3]=v&255}q+=4;A+=4}}a.dirty=!0;a.version++}};Ca.copyPixels=function(a,b,c,d,e,f,g){null==g&&(g=!1);var k=b.buffer.data,m=a.buffer.data;if(null!=k&&null!=m){c=new Kc(b,c);d=new Kc(a,new Bb(d.x,d.y,c.width,c.height));var h=b.buffer.format,l=a.buffer.format,q=b.buffer.premultiplied,A=a.buffer.premultiplied,n;if(g&&b.get_transparent()){var v,r,C;if(null==e)for(var t=0,u=d.height;t<u;){f=t++;e=c.offset+c.stride*f;f=d.offset+d.stride*f;for(var w=0,y=d.width;w<y;){w++;switch(h){case 0:n=
(k[e]&255)<<24|(k[e+1]&255)<<16|(k[e+2]&255)<<8|k[e+3]&255;break;case 1:n=(k[e+1]&255)<<24|(k[e+2]&255)<<16|(k[e+3]&255)<<8|k[e]&255;break;case 2:n=(k[e+2]&255)<<24|(k[e+1]&255)<<16|(k[e]&255)<<8|k[e+3]&255}q&&0!=(n&255)&&255!=(n&255)&&(z.unmult=255/(n&255),n=(z.__clamp[Math.round((n>>>24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((n>>>16&255)*z.unmult)]&255)<<16|(z.__clamp[Math.round((n>>>8&255)*z.unmult)]&255)<<8|n&255);switch(l){case 0:C=(m[f]&255)<<24|(m[f+1]&255)<<16|(m[f+2]&255)<<8|m[f+
3]&255;break;case 1:C=(m[f+1]&255)<<24|(m[f+2]&255)<<16|(m[f+3]&255)<<8|m[f]&255;break;case 2:C=(m[f+2]&255)<<24|(m[f+1]&255)<<16|(m[f]&255)<<8|m[f+3]&255}A&&0!=(C&255)&&255!=(C&255)&&(z.unmult=255/(C&255),C=(z.__clamp[Math.round((C>>>24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((C>>>16&255)*z.unmult)]&255)<<16|(z.__clamp[Math.round((C>>>8&255)*z.unmult)]&255)<<8|C&255);g=(n&255)/255;v=(C&255)/255;r=1-g;b=g+v*r;if(0==b)C=0;else{C=(z.__clamp[Math.round(((n>>>24&255)*g+(C>>>24&255)*v*r)/b)]&255)<<
24|(C>>>16&255)<<16|(C>>>8&255)<<8|C&255;var D=z.__clamp[Math.round(((n>>>16&255)*g+(C>>>16&255)*v*r)/b)];C=(C>>>24&255)<<24|(D&255)<<16|(C>>>8&255)<<8|C&255;g=z.__clamp[Math.round(((n>>>8&255)*g+(C>>>8&255)*v*r)/b)];C=(C>>>24&255)<<24|(C>>>16&255)<<16|(g&255)<<8|C&255;b=z.__clamp[Math.round(255*b)];C=(C>>>24&255)<<24|(C>>>16&255)<<16|(C>>>8&255)<<8|b&255}A&&(0==(C&255)?0!=C&&(C=0):255!=(C&255)&&(z.a16=z.__alpha16[C&255],C=((C>>>24&255)*z.a16>>16&255)<<24|((C>>>16&255)*z.a16>>16&255)<<16|((C>>>8&
255)*z.a16>>16&255)<<8|C&255));switch(l){case 0:m[f]=C>>>24&255;m[f+1]=C>>>16&255;m[f+2]=C>>>8&255;m[f+3]=C&255;break;case 1:m[f]=C&255;m[f+1]=C>>>24&255;m[f+2]=C>>>16&255;m[f+3]=C>>>8&255;break;case 2:m[f]=C>>>8&255,m[f+1]=C>>>16&255,m[f+2]=C>>>24&255,m[f+3]=C&255}e+=4;f+=4}}else{null==f&&(f=new vb);for(var u=e.buffer.data,w=e.buffer.format,y=e.buffer.premultiplied,D=new Kc(e,new Bb(f.x,f.y,d.width,d.height)),x,B=0,F=D.height;B<F;){b=B++;e=c.offset+c.stride*b;f=d.offset+d.stride*b;x=D.offset+D.stride*
b;for(var E=0,G=D.width;E<G;){E++;switch(h){case 0:n=(k[e]&255)<<24|(k[e+1]&255)<<16|(k[e+2]&255)<<8|k[e+3]&255;break;case 1:n=(k[e+1]&255)<<24|(k[e+2]&255)<<16|(k[e+3]&255)<<8|k[e]&255;break;case 2:n=(k[e+2]&255)<<24|(k[e+1]&255)<<16|(k[e]&255)<<8|k[e+3]&255}q&&0!=(n&255)&&255!=(n&255)&&(z.unmult=255/(n&255),n=(z.__clamp[Math.round((n>>>24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((n>>>16&255)*z.unmult)]&255)<<16|(z.__clamp[Math.round((n>>>8&255)*z.unmult)]&255)<<8|n&255);switch(l){case 0:C=
(m[f]&255)<<24|(m[f+1]&255)<<16|(m[f+2]&255)<<8|m[f+3]&255;break;case 1:C=(m[f+1]&255)<<24|(m[f+2]&255)<<16|(m[f+3]&255)<<8|m[f]&255;break;case 2:C=(m[f+2]&255)<<24|(m[f+1]&255)<<16|(m[f]&255)<<8|m[f+3]&255}A&&0!=(C&255)&&255!=(C&255)&&(z.unmult=255/(C&255),C=(z.__clamp[Math.round((C>>>24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((C>>>16&255)*z.unmult)]&255)<<16|(z.__clamp[Math.round((C>>>8&255)*z.unmult)]&255)<<8|C&255);switch(w){case 0:t=(u[x]&255)<<24|(u[x+1]&255)<<16|(u[x+2]&255)<<8|u[x+
3]&255;break;case 1:t=(u[x+1]&255)<<24|(u[x+2]&255)<<16|(u[x+3]&255)<<8|u[x]&255;break;case 2:t=(u[x+2]&255)<<24|(u[x+1]&255)<<16|(u[x]&255)<<8|u[x+3]&255}y&&0!=(t&255)&&255!=(t&255)&&(z.unmult=255/(t&255),t=(z.__clamp[Math.round((t>>>24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((t>>>16&255)*z.unmult)]&255)<<16|(z.__clamp[Math.round((t>>>8&255)*z.unmult)]&255)<<8|t&255);g=(t&255)/255;v=(C&255)/255;r=1-g;b=g+v*r;if(0==b)C=0;else{C=(z.__clamp[Math.round(((n>>>24&255)*g+(C>>>24&255)*v*r)/b)]&255)<<
24|(C>>>16&255)<<16|(C>>>8&255)<<8|C&255;var I=z.__clamp[Math.round(((n>>>16&255)*g+(C>>>16&255)*v*r)/b)];C=(C>>>24&255)<<24|(I&255)<<16|(C>>>8&255)<<8|C&255;g=z.__clamp[Math.round(((n>>>8&255)*g+(C>>>8&255)*v*r)/b)];C=(C>>>24&255)<<24|(C>>>16&255)<<16|(g&255)<<8|C&255;b=z.__clamp[Math.round(255*b)];C=(C>>>24&255)<<24|(C>>>16&255)<<16|(C>>>8&255)<<8|b&255}A&&(0==(C&255)?0!=C&&(C=0):255!=(C&255)&&(z.a16=z.__alpha16[C&255],C=((C>>>24&255)*z.a16>>16&255)<<24|((C>>>16&255)*z.a16>>16&255)<<16|((C>>>8&
255)*z.a16>>16&255)<<8|C&255));switch(l){case 0:m[f]=C>>>24&255;m[f+1]=C>>>16&255;m[f+2]=C>>>8&255;m[f+3]=C&255;break;case 1:m[f]=C&255;m[f+1]=C>>>24&255;m[f+2]=C>>>16&255;m[f+3]=C>>>8&255;break;case 2:m[f]=C>>>8&255,m[f+1]=C>>>16&255,m[f+2]=C>>>24&255,m[f+3]=C&255}e+=4;f+=4}}}}else for(C=0,t=d.height;C<t;)for(f=C++,e=c.offset+c.stride*f,f=d.offset+d.stride*f,b=0,g=d.width;b<g;){b++;switch(h){case 0:n=(k[e]&255)<<24|(k[e+1]&255)<<16|(k[e+2]&255)<<8|k[e+3]&255;break;case 1:n=(k[e+1]&255)<<24|(k[e+
2]&255)<<16|(k[e+3]&255)<<8|k[e]&255;break;case 2:n=(k[e+2]&255)<<24|(k[e+1]&255)<<16|(k[e]&255)<<8|k[e+3]&255}q&&0!=(n&255)&&255!=(n&255)&&(z.unmult=255/(n&255),n=(z.__clamp[Math.round((n>>>24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((n>>>16&255)*z.unmult)]&255)<<16|(z.__clamp[Math.round((n>>>8&255)*z.unmult)]&255)<<8|n&255);A&&(0==(n&255)?0!=n&&(n=0):255!=(n&255)&&(z.a16=z.__alpha16[n&255],n=((n>>>24&255)*z.a16>>16&255)<<24|((n>>>16&255)*z.a16>>16&255)<<16|((n>>>8&255)*z.a16>>16&255)<<8|n&
255));switch(l){case 0:m[f]=n>>>24&255;m[f+1]=n>>>16&255;m[f+2]=n>>>8&255;m[f+3]=n&255;break;case 1:m[f]=n&255;m[f+1]=n>>>24&255;m[f+2]=n>>>16&255;m[f+3]=n>>>8&255;break;case 2:m[f]=n>>>8&255,m[f+1]=n>>>16&255,m[f+2]=n>>>24&255,m[f+3]=n&255}e+=4;f+=4}a.dirty=!0;a.version++}};Ca.fillRect=function(a,b,c,d){switch(d){case 1:c=(c>>>16&255)<<24|(c>>>8&255)<<16|(c&255)<<8|c>>>24&255;break;case 2:c=(c>>>8&255)<<24|(c>>>16&255)<<16|(c>>>24&255)<<8|c&255;break}a.get_transparent()||(c=(c>>>24&255)<<24|(c>>>
16&255)<<16|(c>>>8&255)<<8|255);d=a.buffer.data;if(null!=d){var e=a.buffer.format;a.buffer.premultiplied&&(0==(c&255)?0!=c&&(c=0):255!=(c&255)&&(z.a16=z.__alpha16[c&255],c=((c>>>24&255)*z.a16>>16&255)<<24|((c>>>16&255)*z.a16>>16&255)<<16|((c>>>8&255)*z.a16>>16&255)<<8|c&255));b=new Kc(a,b);for(var f,g=0,k=b.height;g<k;){f=g++;f=b.offset+b.stride*f;for(var m=0,h=b.width;m<h;){var l=m++,l=f+4*l;switch(e){case 0:d[l]=c>>>24&255;d[l+1]=c>>>16&255;d[l+2]=c>>>8&255;d[l+3]=c&255;break;case 1:d[l]=c&255;
d[l+1]=c>>>24&255;d[l+2]=c>>>16&255;d[l+3]=c>>>8&255;break;case 2:d[l]=c>>>8&255,d[l+1]=c>>>16&255,d[l+2]=c>>>24&255,d[l+3]=c&255}}}a.dirty=!0;a.version++}};Ca.floodFill=function(a,b,c,d,e){var f=a.buffer.data;if(null!=f){1==e&&(d=(d&16777215)<<8|d>>24&255);e=a.buffer.format;var g=a.buffer.premultiplied,k,m=4*(c+a.offsetY)*a.buffer.width+4*(b+a.offsetX);switch(e){case 0:k=(f[m]&255)<<24|(f[m+1]&255)<<16|(f[m+2]&255)<<8|f[m+3]&255;break;case 1:k=(f[m+1]&255)<<24|(f[m+2]&255)<<16|(f[m+3]&255)<<8|f[m]&
255;break;case 2:k=(f[m+2]&255)<<24|(f[m+1]&255)<<16|(f[m]&255)<<8|f[m+3]&255}g&&0!=(k&255)&&255!=(k&255)&&(z.unmult=255/(k&255),k=(z.__clamp[Math.round((k>>>24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((k>>>16&255)*z.unmult)]&255)<<16|(z.__clamp[Math.round((k>>>8&255)*z.unmult)]&255)<<8|k&255);a.get_transparent()||(d=(d>>>24&255)<<24|(d>>>16&255)<<16|(d>>>8&255)<<8|255,k=(k>>>24&255)<<24|(k>>>16&255)<<16|(k>>>8&255)<<8|255);if(d!=k){g&&(0==(d&255)?0!=d&&(d=0):255!=(d&255)&&(z.a16=z.__alpha16[d&
255],d=((d>>>24&255)*z.a16>>16&255)<<24|((d>>>16&255)*z.a16>>16&255)<<16|((d>>>8&255)*z.a16>>16&255)<<8|d&255));var m=[0,-1,1,0],h=[-1,0,0,1],l=-a.offsetX,q=-a.offsetY,A=l+a.width,n=q+a.height,v=[];v.push(b);v.push(c);for(var r,C,t,u;0<v.length;){c=v.pop();b=v.pop();for(var w=0;4>w;)if(C=w++,r=b+m[C],C=c+h[C],!(r<l||C<q||r>=A||C>=n)){t=4*(C*a.width+r);switch(e){case 0:u=(f[t]&255)<<24|(f[t+1]&255)<<16|(f[t+2]&255)<<8|f[t+3]&255;break;case 1:u=(f[t+1]&255)<<24|(f[t+2]&255)<<16|(f[t+3]&255)<<8|f[t]&
255;break;case 2:u=(f[t+2]&255)<<24|(f[t+1]&255)<<16|(f[t]&255)<<8|f[t+3]&255}g&&0!=(u&255)&&255!=(u&255)&&(z.unmult=255/(u&255),u=(z.__clamp[Math.round((u>>>24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((u>>>16&255)*z.unmult)]&255)<<16|(z.__clamp[Math.round((u>>>8&255)*z.unmult)]&255)<<8|u&255);if(u==k){switch(e){case 0:f[t]=d>>>24&255;f[t+1]=d>>>16&255;f[t+2]=d>>>8&255;f[t+3]=d&255;break;case 1:f[t]=d&255;f[t+1]=d>>>24&255;f[t+2]=d>>>16&255;f[t+3]=d>>>8&255;break;case 2:f[t]=d>>>8&255,f[t+1]=
d>>>16&255,f[t+2]=d>>>24&255,f[t+3]=d&255}v.push(r);v.push(C)}}}a.dirty=!0;a.version++}}};Ca.getColorBoundsRect=function(a,b,c,d,e){null==d&&(d=!0);var f=a.width+1,g=0,k=a.height+1,m=0;switch(e){case 1:c=(c>>>16&255)<<24|(c>>>8&255)<<16|(c&255)<<8|c>>>24&255;b=(b>>>16&255)<<24|(b>>>8&255)<<16|(b&255)<<8|b>>>24&255;break;case 2:c=(c>>>8&255)<<24|(c>>>16&255)<<16|(c>>>24&255)<<8|c&255;b=(b>>>8&255)<<24|(b>>>16&255)<<16|(b>>>24&255)<<8|b&255;break}a.get_transparent()||(c=(c>>>24&255)<<24|(c>>>16&255)<<
16|(c>>>8&255)<<8|255,b=(b>>>24&255)<<24|(b>>>16&255)<<16|(b>>>8&255)<<8|255);for(var h=0,l=a.width;h<l;){var q=h++;e=!1;for(var A=0,n=a.height;A<n;)if(e=A++,e=a.getPixel32(q,e,0),e=d?(e&b)==c:(e&b)!=c){q<f&&(f=q);break}if(e)break}h=0;for(l=a.width;h<l;){e=h++;q=a.width-1-e;e=!1;A=0;for(n=a.height;A<n;)if(e=A++,e=a.getPixel32(q,e,0),e=d?(e&b)==c:(e&b)!=c){q>g&&(g=q);break}if(e)break}h=0;for(l=a.height;h<l;){q=h++;e=!1;A=0;for(n=a.width;A<n;)if(e=A++,e=a.getPixel32(e,q,0),e=d?(e&b)==c:(e&b)!=c){q<
k&&(k=q);break}if(e)break}h=0;for(l=a.height;h<l;){e=h++;q=a.height-1-e;e=!1;A=0;for(n=a.width;A<n;)if(e=A++,e=a.getPixel32(e,q,0),e=d?(e&b)==c:(e&b)!=c){q>m&&(m=q);break}if(e)break}d=g-f;c=m-k;0<d&&++d;0<c&&++c;0>d&&(d=0);0>c&&(c=0);f==g&&(d=1);k==m&&(c=1);f>a.width&&(f=0);k>a.height&&(k=0);return new Bb(f,k,d,c)};Ca.getPixel=function(a,b,c,d){var e,f=a.buffer.data;b=4*(c+a.offsetY)*a.buffer.width+4*(b+a.offsetX);c=a.buffer.premultiplied;switch(a.buffer.format){case 0:e=(f[b]&255)<<24|(f[b+1]&255)<<
16|(f[b+2]&255)<<8|f[b+3]&255;break;case 1:e=(f[b+1]&255)<<24|(f[b+2]&255)<<16|(f[b+3]&255)<<8|f[b]&255;break;case 2:e=(f[b+2]&255)<<24|(f[b+1]&255)<<16|(f[b]&255)<<8|f[b+3]&255}c&&0!=(e&255)&&255!=(e&255)&&(z.unmult=255/(e&255),e=(z.__clamp[Math.round((e>>>24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((e>>>16&255)*z.unmult)]&255)<<16|(z.__clamp[Math.round((e>>>8&255)*z.unmult)]&255)<<8|e&255);e=(e>>>24&255)<<24|(e>>>16&255)<<16|(e>>>8&255)<<8|0;switch(d){case 1:return(e&255)<<24|(e>>>24&255)<<
16|(e>>>16&255)<<8|e>>>8&255;case 2:return(e>>>8&255)<<24|(e>>>16&255)<<16|(e>>>24&255)<<8|e&255;default:return e}};Ca.getPixel32=function(a,b,c,d){var e,f=a.buffer.data;b=4*(c+a.offsetY)*a.buffer.width+4*(b+a.offsetX);c=a.buffer.premultiplied;switch(a.buffer.format){case 0:e=(f[b]&255)<<24|(f[b+1]&255)<<16|(f[b+2]&255)<<8|f[b+3]&255;break;case 1:e=(f[b+1]&255)<<24|(f[b+2]&255)<<16|(f[b+3]&255)<<8|f[b]&255;break;case 2:e=(f[b+2]&255)<<24|(f[b+1]&255)<<16|(f[b]&255)<<8|f[b+3]&255}c&&0!=(e&255)&&255!=
(e&255)&&(z.unmult=255/(e&255),e=(z.__clamp[Math.round((e>>>24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((e>>>16&255)*z.unmult)]&255)<<16|(z.__clamp[Math.round((e>>>8&255)*z.unmult)]&255)<<8|e&255);switch(d){case 1:return(e&255)<<24|(e>>>24&255)<<16|(e>>>16&255)<<8|e>>>8&255;case 2:return(e>>>8&255)<<24|(e>>>16&255)<<16|(e>>>24&255)<<8|e&255;default:return e}};Ca.getPixels=function(a,b,c){if(null==a.buffer.data)return null;var d=new na(new Ea(4*(b.width*b.height|0))),e=a.buffer.data,f=a.buffer.format,
g=a.buffer.premultiplied;a=new Kc(a,b);for(var k,m,h=b=0,l=a.height;h<l;){k=h++;k=a.offset+a.stride*k;for(var q=0,A=a.width;q<A;){q++;switch(f){case 0:m=(e[k]&255)<<24|(e[k+1]&255)<<16|(e[k+2]&255)<<8|e[k+3]&255;break;case 1:m=(e[k+1]&255)<<24|(e[k+2]&255)<<16|(e[k+3]&255)<<8|e[k]&255;break;case 2:m=(e[k+2]&255)<<24|(e[k+1]&255)<<16|(e[k]&255)<<8|e[k+3]&255}g&&0!=(m&255)&&255!=(m&255)&&(z.unmult=255/(m&255),m=(z.__clamp[Math.round((m>>>24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((m>>>16&255)*
z.unmult)]&255)<<16|(z.__clamp[Math.round((m>>>8&255)*z.unmult)]&255)<<8|m&255);switch(c){case 1:var n=0;m=n=(m&255)<<24|(m>>>24&255)<<16|(m>>>16&255)<<8|m>>>8&255;break;case 2:n=0,m=n=(m>>>8&255)<<24|(m>>>16&255)<<16|(m>>>24&255)<<8|m&255}d.b[b++]=m>>>24&255;d.b[b++]=m>>>16&255;d.b[b++]=m>>>8&255;d.b[b++]=m&255;k+=4}}return d};Ca.merge=function(a,b,c,d,e,f,g,k){if(null!=a.buffer.data&&null!=b.buffer.data){c=new Kc(b,c);d=new Kc(a,new Bb(d.x,d.y,c.width,c.height));var m=b.buffer.data,h=a.buffer.data,
l=b.buffer.format,q=a.buffer.format;b=b.buffer.premultiplied;for(var A=a.buffer.premultiplied,n,v,r,C,t=0,u=d.height;t<u;){v=t++;n=c.offset+c.stride*v;v=d.offset+d.stride*v;for(var w=0,y=d.width;w<y;){w++;switch(l){case 0:r=(m[n]&255)<<24|(m[n+1]&255)<<16|(m[n+2]&255)<<8|m[n+3]&255;break;case 1:r=(m[n+1]&255)<<24|(m[n+2]&255)<<16|(m[n+3]&255)<<8|m[n]&255;break;case 2:r=(m[n+2]&255)<<24|(m[n+1]&255)<<16|(m[n]&255)<<8|m[n+3]&255}b&&0!=(r&255)&&255!=(r&255)&&(z.unmult=255/(r&255),r=(z.__clamp[Math.round((r>>>
24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((r>>>16&255)*z.unmult)]&255)<<16|(z.__clamp[Math.round((r>>>8&255)*z.unmult)]&255)<<8|r&255);switch(q){case 0:C=(h[v]&255)<<24|(h[v+1]&255)<<16|(h[v+2]&255)<<8|h[v+3]&255;break;case 1:C=(h[v+1]&255)<<24|(h[v+2]&255)<<16|(h[v+3]&255)<<8|h[v]&255;break;case 2:C=(h[v+2]&255)<<24|(h[v+1]&255)<<16|(h[v]&255)<<8|h[v+3]&255}A&&0!=(C&255)&&255!=(C&255)&&(z.unmult=255/(C&255),C=(z.__clamp[Math.round((C>>>24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((C>>>
16&255)*z.unmult)]&255)<<16|(z.__clamp[Math.round((C>>>8&255)*z.unmult)]&255)<<8|C&255);C=((((r>>>24&255)*e+(C>>>24&255)*(256-e))/256|0)&255)<<24|(C>>>16&255)<<16|(C>>>8&255)<<8|C&255;C=(C>>>24&255)<<24|((((r>>>16&255)*f+(C>>>16&255)*(256-f))/256|0)&255)<<16|(C>>>8&255)<<8|C&255;C=(C>>>24&255)<<24|(C>>>16&255)<<16|((((r>>>8&255)*g+(C>>>8&255)*(256-g))/256|0)&255)<<8|C&255;C=(C>>>24&255)<<24|(C>>>16&255)<<16|(C>>>8&255)<<8|(((r&255)*k+(C&255)*(256-k))/256|0)&255;A&&(0==(C&255)?0!=C&&(C=0):255!=(C&
255)&&(z.a16=z.__alpha16[C&255],C=((C>>>24&255)*z.a16>>16&255)<<24|((C>>>16&255)*z.a16>>16&255)<<16|((C>>>8&255)*z.a16>>16&255)<<8|C&255));switch(q){case 0:h[v]=C>>>24&255;h[v+1]=C>>>16&255;h[v+2]=C>>>8&255;h[v+3]=C&255;break;case 1:h[v]=C&255;h[v+1]=C>>>24&255;h[v+2]=C>>>16&255;h[v+3]=C>>>8&255;break;case 2:h[v]=C>>>8&255,h[v+1]=C>>>16&255,h[v+2]=C>>>24&255,h[v+3]=C&255}n+=4;v+=4}}a.dirty=!0;a.version++}};Ca.multiplyAlpha=function(a){var b=a.buffer.data;if(null!=b&&a.buffer.transparent){for(var c=
a.buffer.format,d,e=0,f=b.length/4|0;e<f;){var g=e++,k=4*g;switch(c){case 0:d=(b[k]&255)<<24|(b[k+1]&255)<<16|(b[k+2]&255)<<8|b[k+3]&255;break;case 1:d=(b[k+1]&255)<<24|(b[k+2]&255)<<16|(b[k+3]&255)<<8|b[k]&255;break;case 2:d=(b[k+2]&255)<<24|(b[k+1]&255)<<16|(b[k]&255)<<8|b[k+3]&255}g*=4;0==(d&255)?0!=d&&(d=0):255!=(d&255)&&(z.a16=z.__alpha16[d&255],d=((d>>>24&255)*z.a16>>16&255)<<24|((d>>>16&255)*z.a16>>16&255)<<16|((d>>>8&255)*z.a16>>16&255)<<8|d&255);switch(c){case 0:b[g]=d>>>24&255;b[g+1]=d>>>
16&255;b[g+2]=d>>>8&255;b[g+3]=d&255;break;case 1:b[g]=d&255;b[g+1]=d>>>24&255;b[g+2]=d>>>16&255;b[g+3]=d>>>8&255;break;case 2:b[g]=d>>>8&255,b[g+1]=d>>>16&255,b[g+2]=d>>>24&255,b[g+3]=d&255}}a.buffer.premultiplied=!0;a.dirty=!0;a.version++}};Ca.resize=function(a,b,c){var d=a.buffer;if(d.width!=b||d.height!=c){for(var e=b*c*4,e=null!=e?new Fa(e):null,e=new nd(e,b,c),f=a.width,g=a.height,k=a.get_data(),m=e.data,h,l,q,A,n,v,r,C,t,u=0;u<c;)for(var w=u++,y=0,z=b;y<z;)n=y++,C=(n+.5)/b*f-.5,t=(w+.5)/c*
g-.5,v=C|0,r=t|0,h=4*(r*f+v),l=v<f-1?h+4:h,q=r<g-1?h+4*f:h,A=l!=h?q+4:q,n=4*(w*b+n),v=C-v,r=t-r,t=1-v,C=1-r,m[n]=(Z.toFloat(k[h])*t+Z.toFloat(k[l])*v)*C+(Z.toFloat(k[q])*t+Z.toFloat(k[A])*v)*r|0,m[n+1]=(Z.toFloat(k[h+1])*t+Z.toFloat(k[l+1])*v)*C+(Z.toFloat(k[q+1])*t+Z.toFloat(k[A+1])*v)*r|0,m[n+2]=(Z.toFloat(k[h+2])*t+Z.toFloat(k[l+2])*v)*C+(Z.toFloat(k[q+2])*t+Z.toFloat(k[A+2])*v)*r|0,m[n+3]=0==k[l+3]||0==k[q+3]||0==k[A+3]?0:k[h+3];d.data=e.data;d.width=b;d.height=c;d.__srcImage=null;d.__srcImageData=
null;d.__srcCanvas=null;d.__srcContext=null;a.dirty=!0;a.version++}};Ca.resizeBuffer=function(a,b,c){var d=a.buffer;a=a.get_data();for(var e=b*c*4,e=null!=e?new Fa(e):null,f,g,k=0,m=d.height;k<m;)for(var h=k++,l=0,q=d.width;l<q;)g=l++,f=4*(h*d.width+g),g=4*(h*b+g),e[g]=a[f],e[g+1]=a[f+1],e[g+2]=a[f+2],e[g+3]=a[f+3];d.data=e;d.width=b;d.height=c};Ca.setFormat=function(a,b){var c=a.buffer.data;if(null!=c){var d,e=c.length/4|0,f,g,k,m,h,l,q,A,n,v,r,C;switch(a.get_format()){case 0:f=0;g=1;k=2;m=3;break;
case 1:f=1;g=2;k=3;m=0;break;case 2:f=2,g=1,k=0,m=3}switch(b){case 0:h=0;l=1;q=2;A=3;break;case 1:h=1;l=2;q=3;A=0;break;case 2:h=2,l=1,q=0,A=3}for(var t=0;t<e;)d=4*t++,n=c[d+f],v=c[d+g],r=c[d+k],C=c[d+m],c[d+h]=n,c[d+l]=v,c[d+q]=r,c[d+A]=C;a.buffer.format=b;a.dirty=!0;a.version++}};Ca.setPixel=function(a,b,c,d,e){switch(e){case 1:d=(d>>>16&255)<<24|(d>>>8&255)<<16|(d&255)<<8|d>>>24&255;break;case 2:d=(d>>>8&255)<<24|(d>>>16&255)<<16|(d>>>24&255)<<8|d&255;break}e=0;var f=a.buffer.data,g=4*(c+a.offsetY)*
a.buffer.width+4*(b+a.offsetX),k=a.buffer.premultiplied;switch(a.buffer.format){case 0:e=(f[g]&255)<<24|(f[g+1]&255)<<16|(f[g+2]&255)<<8|f[g+3]&255;break;case 1:e=(f[g+1]&255)<<24|(f[g+2]&255)<<16|(f[g+3]&255)<<8|f[g]&255;break;case 2:e=(f[g+2]&255)<<24|(f[g+1]&255)<<16|(f[g]&255)<<8|f[g+3]&255}k&&0!=(e&255)&&255!=(e&255)&&(z.unmult=255/(e&255),e=(z.__clamp[Math.round((e>>>24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((e>>>16&255)*z.unmult)]&255)<<16|(z.__clamp[Math.round((e>>>8&255)*z.unmult)]&
255)<<8|e&255);d=(d>>>24&255)<<24|(d>>>16&255)<<16|(d>>>8&255)<<8|e&255;e=a.buffer.data;b=4*(c+a.offsetY)*a.buffer.width+4*(b+a.offsetX);a.buffer.premultiplied&&(0==(d&255)?0!=d&&(d=0):255!=(d&255)&&(z.a16=z.__alpha16[d&255],d=((d>>>24&255)*z.a16>>16&255)<<24|((d>>>16&255)*z.a16>>16&255)<<16|((d>>>8&255)*z.a16>>16&255)<<8|d&255));switch(a.buffer.format){case 0:e[b]=d>>>24&255;e[b+1]=d>>>16&255;e[b+2]=d>>>8&255;e[b+3]=d&255;break;case 1:e[b]=d&255;e[b+1]=d>>>24&255;e[b+2]=d>>>16&255;e[b+3]=d>>>8&255;
break;case 2:e[b]=d>>>8&255,e[b+1]=d>>>16&255,e[b+2]=d>>>24&255,e[b+3]=d&255}a.dirty=!0;a.version++};Ca.setPixel32=function(a,b,c,d,e){switch(e){case 1:d=(d>>>16&255)<<24|(d>>>8&255)<<16|(d&255)<<8|d>>>24&255;break;case 2:d=(d>>>8&255)<<24|(d>>>16&255)<<16|(d>>>24&255)<<8|d&255;break}a.get_transparent()||(d=(d>>>24&255)<<24|(d>>>16&255)<<16|(d>>>8&255)<<8|255);e=a.buffer.data;b=4*(c+a.offsetY)*a.buffer.width+4*(b+a.offsetX);a.buffer.premultiplied&&(0==(d&255)?0!=d&&(d=0):255!=(d&255)&&(z.a16=z.__alpha16[d&
255],d=((d>>>24&255)*z.a16>>16&255)<<24|((d>>>16&255)*z.a16>>16&255)<<16|((d>>>8&255)*z.a16>>16&255)<<8|d&255));switch(a.buffer.format){case 0:e[b]=d>>>24&255;e[b+1]=d>>>16&255;e[b+2]=d>>>8&255;e[b+3]=d&255;break;case 1:e[b]=d&255;e[b+1]=d>>>24&255;e[b+2]=d>>>16&255;e[b+3]=d>>>8&255;break;case 2:e[b]=d>>>8&255,e[b+1]=d>>>16&255,e[b+2]=d>>>24&255,e[b+3]=d&255}a.dirty=!0;a.version++};Ca.setPixels=function(a,b,c,d){if(null!=a.buffer.data){var e=a.buffer.data,f=a.buffer.format,g=a.buffer.premultiplied;
b=new Kc(a,b);for(var k,m,h=a.get_transparent(),l=0,q=0,A=b.height;q<A;){k=q++;k=b.offset+b.stride*k;for(var n=0,v=b.width;n<v;){var r=n++;m=c.b[l+3]|c.b[l+2]<<8|c.b[l+1]<<16|c.b[l]<<24;l+=4;switch(d){case 1:var C=0;m=C=(m>>>16&255)<<24|(m>>>8&255)<<16|(m&255)<<8|m>>>24&255;break;case 2:C=0;m=C=(m>>>8&255)<<24|(m>>>16&255)<<16|(m>>>24&255)<<8|m&255;break}h||(m=(m>>>24&255)<<24|(m>>>16&255)<<16|(m>>>8&255)<<8|255);r=k+4*r;g&&(0==(m&255)?0!=m&&(m=0):255!=(m&255)&&(z.a16=z.__alpha16[m&255],m=((m>>>24&
255)*z.a16>>16&255)<<24|((m>>>16&255)*z.a16>>16&255)<<16|((m>>>8&255)*z.a16>>16&255)<<8|m&255));switch(f){case 0:e[r]=m>>>24&255;e[r+1]=m>>>16&255;e[r+2]=m>>>8&255;e[r+3]=m&255;break;case 1:e[r]=m&255;e[r+1]=m>>>24&255;e[r+2]=m>>>16&255;e[r+3]=m>>>8&255;break;case 2:e[r]=m>>>8&255,e[r+1]=m>>>16&255,e[r+2]=m>>>24&255,e[r+3]=m&255}}}a.dirty=!0;a.version++}};Ca.threshold=function(a,b,c,d,e,f,g,k,m,h){switch(h){case 1:g=(g>>>16&255)<<24|(g>>>8&255)<<16|(g&255)<<8|g>>>24&255;k=(k>>>16&255)<<24|(k>>>8&
255)<<16|(k&255)<<8|k>>>24&255;f=(f>>>16&255)<<24|(f>>>8&255)<<16|(f&255)<<8|f>>>24&255;break;case 2:g=(g>>>8&255)<<24|(g>>>16&255)<<16|(g>>>24&255)<<8|g&255;k=(k>>>8&255)<<24|(k>>>16&255)<<16|(k>>>24&255)<<8|k&255;f=(f>>>8&255)<<24|(f>>>16&255)<<16|(f>>>24&255)<<8|f&255;break}switch(e){case "!=":e=0;break;case "<":e=2;break;case "<=":e=3;break;case "==":e=1;break;case ">":e=4;break;case ">=":e=5;break;default:e=-1}if(-1==e)return 0;h=b.buffer.data;var l=a.buffer.data;if(null==h||null==l)return 0;
var q=0;c=new Kc(b,c);d=new Kc(a,new Bb(d.x,d.y,c.width,c.height));var A=b.buffer.format,n=a.buffer.format;b=b.buffer.premultiplied;for(var v=a.buffer.premultiplied,r,C,t,u,w=0,y=d.height;w<y;){C=w++;r=c.offset+c.stride*C;C=d.offset+d.stride*C;for(var x=0,D=d.width;x<D;){x++;switch(A){case 0:t=(h[r]&255)<<24|(h[r+1]&255)<<16|(h[r+2]&255)<<8|h[r+3]&255;break;case 1:t=(h[r+1]&255)<<24|(h[r+2]&255)<<16|(h[r+3]&255)<<8|h[r]&255;break;case 2:t=(h[r+2]&255)<<24|(h[r+1]&255)<<16|(h[r]&255)<<8|h[r+3]&255}b&&
0!=(t&255)&&255!=(t&255)&&(z.unmult=255/(t&255),t=(z.__clamp[Math.round((t>>>24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((t>>>16&255)*z.unmult)]&255)<<16|(z.__clamp[Math.round((t>>>8&255)*z.unmult)]&255)<<8|t&255);u=t&k;var B,E;B=u>>>24&255;E=f>>>24&255;B!=E?u=Z.gt(B,E)?1:-1:(B=u>>>16&255,E=f>>>16&255,B!=E?u=Z.gt(B,E)?1:-1:(B=u>>>8&255,E=f>>>8&255,B!=E?u=Z.gt(B,E)?1:-1:(B=u&255,E=f&255,u=B!=E?Z.gt(B,E)?1:-1:0)));switch(e){case 0:u=0!=u;break;case 1:u=0==u;break;case 2:u=-1==u;break;case 3:u=
0!=u?-1==u:!0;break;case 4:u=1==u;break;case 5:u=0!=u?1==u:!0;break;default:u=!1}if(u){v&&(0==(g&255)?0!=g&&(g=0):255!=(g&255)&&(z.a16=z.__alpha16[g&255],g=((g>>>24&255)*z.a16>>16&255)<<24|((g>>>16&255)*z.a16>>16&255)<<16|((g>>>8&255)*z.a16>>16&255)<<8|g&255));switch(n){case 0:l[C]=g>>>24&255;l[C+1]=g>>>16&255;l[C+2]=g>>>8&255;l[C+3]=g&255;break;case 1:l[C]=g&255;l[C+1]=g>>>24&255;l[C+2]=g>>>16&255;l[C+3]=g>>>8&255;break;case 2:l[C]=g>>>8&255,l[C+1]=g>>>16&255,l[C+2]=g>>>24&255,l[C+3]=g&255}++q}else if(m)switch(v&&
(0==(t&255)?0!=t&&(t=0):255!=(t&255)&&(z.a16=z.__alpha16[t&255],t=((t>>>24&255)*z.a16>>16&255)<<24|((t>>>16&255)*z.a16>>16&255)<<16|((t>>>8&255)*z.a16>>16&255)<<8|t&255)),n){case 0:l[C]=t>>>24&255;l[C+1]=t>>>16&255;l[C+2]=t>>>8&255;l[C+3]=t&255;break;case 1:l[C]=t&255;l[C+1]=t>>>24&255;l[C+2]=t>>>16&255;l[C+3]=t>>>8&255;break;case 2:l[C]=t>>>8&255,l[C+1]=t>>>16&255,l[C+2]=t>>>24&255,l[C+3]=t&255}r+=4;C+=4}}0<q&&(a.dirty=!0,a.version++);return q};Ca.unmultiplyAlpha=function(a){var b=a.buffer.data;
if(null!=b){for(var c=a.buffer.format,d,e=0,f=b.length/4|0;e<f;){var g=e++,k=4*g;switch(c){case 0:d=(b[k]&255)<<24|(b[k+1]&255)<<16|(b[k+2]&255)<<8|b[k+3]&255;break;case 1:d=(b[k+1]&255)<<24|(b[k+2]&255)<<16|(b[k+3]&255)<<8|b[k]&255;break;case 2:d=(b[k+2]&255)<<24|(b[k+1]&255)<<16|(b[k]&255)<<8|b[k+3]&255}0!=(d&255)&&255!=(d&255)&&(z.unmult=255/(d&255),d=(z.__clamp[Math.round((d>>>24&255)*z.unmult)]&255)<<24|(z.__clamp[Math.round((d>>>16&255)*z.unmult)]&255)<<16|(z.__clamp[Math.round((d>>>8&255)*
z.unmult)]&255)<<8|d&255);g*=4;switch(c){case 0:b[g]=d>>>24&255;b[g+1]=d>>>16&255;b[g+2]=d>>>8&255;b[g+3]=d&255;break;case 1:b[g]=d&255;b[g+1]=d>>>24&255;b[g+2]=d>>>16&255;b[g+3]=d>>>8&255;break;case 2:b[g]=d>>>8&255,b[g+1]=d>>>16&255,b[g+2]=d>>>24&255,b[g+3]=d&255}}a.buffer.premultiplied=!1;a.dirty=!0;a.version++}};Ca.__pixelCompare=function(a,b){var c,d;c=a>>>24&255;d=b>>>24&255;if(c!=d)return Z.gt(c,d)?1:-1;c=a>>>16&255;d=b>>>16&255;if(c!=d)return Z.gt(c,d)?1:-1;c=a>>>8&255;d=b>>>8&255;if(c!=d)return Z.gt(c,
d)?1:-1;c=a&255;d=b&255;return c!=d?Z.gt(c,d)?1:-1:0};var Kc=function(a,b){this.image=a;null==b?this.rect=a.get_rect():(0>b.x&&(b.x=0),0>b.y&&(b.y=0),b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),0>b.width&&(b.width=0),0>b.height&&(b.height=0),this.rect=b);this.stride=a.buffer.get_stride();this.x=Math.ceil(this.rect.x);this.y=Math.ceil(this.rect.y);this.width=Math.floor(this.rect.width);this.height=Math.floor(this.rect.height);this.offset=this.stride*(this.y+
a.offsetY)+4*(this.x+a.offsetX)};k["lime.graphics.utils._ImageDataUtil.ImageDataView"]=Kc;Kc.__name__=["lime","graphics","utils","_ImageDataUtil","ImageDataView"];Kc.prototype={x:null,y:null,height:null,width:null,image:null,offset:null,rect:null,stride:null,clip:function(a,b,c,d){this.rect.__contract(a,b,c,d);this.x=Math.ceil(this.rect.x);this.y=Math.ceil(this.rect.y);this.width=Math.floor(this.rect.width);this.height=Math.floor(this.rect.height);this.offset=this.stride*(this.y+this.image.offsetY)+
4*(this.x+this.image.offsetX)},row:function(a){return this.offset+this.stride*a},__class__:Kc};var la={};k["lime.math._ColorMatrix.ColorMatrix_Impl_"]=la;la.__name__=["lime","math","_ColorMatrix","ColorMatrix_Impl_"];la.__properties__={set_redOffset:"set_redOffset",get_redOffset:"get_redOffset",set_redMultiplier:"set_redMultiplier",get_redMultiplier:"get_redMultiplier",set_greenOffset:"set_greenOffset",get_greenOffset:"get_greenOffset",set_greenMultiplier:"set_greenMultiplier",get_greenMultiplier:"get_greenMultiplier",
set_color:"set_color",get_color:"get_color",set_blueOffset:"set_blueOffset",get_blueOffset:"get_blueOffset",set_blueMultiplier:"set_blueMultiplier",get_blueMultiplier:"get_blueMultiplier",set_alphaOffset:"set_alphaOffset",get_alphaOffset:"get_alphaOffset",set_alphaMultiplier:"set_alphaMultiplier",get_alphaMultiplier:"get_alphaMultiplier"};la._new=function(a){if(null==a||20!=a.length)a=la.__identity,a=null!=a?new ra(a):null;return a};la.clone=function(a){a=null!=a?new ra(a):null;return la._new(a)};
la.concat=function(a,b){a[0]+=b[0];a[6]+=b[6];a[12]+=b[12];a[18]+=b[18]};la.copyFrom=function(a,b){a.set(b)};la.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=0;a[6]=1;a[7]=0;a[8]=0;a[9]=0;a[10]=0;a[11]=0;a[12]=1;a[13]=0;a[14]=0;a[15]=0;a[16]=0;a[17]=0;a[18]=1;a[19]=0};la.getAlphaTable=function(a){if(null==la.__alphaTable){var b=new Fa(256);la.__alphaTable=b}la.__alphaTable[0]=0;for(var c=1;256>c;){var d=c++,b=Math.floor(d*a[18]+255*a[19]);255<b&&(b=255);0>b&&(b=0);la.__alphaTable[d]=
b}return la.__alphaTable};la.getBlueTable=function(a){if(null==la.__blueTable){var b=new Fa(256);la.__blueTable=b}for(var c=0;256>c;){var d=c++,b=Math.floor(d*a[12]+255*a[14]);255<b&&(b=255);0>b&&(b=0);la.__blueTable[d]=b}return la.__blueTable};la.getGreenTable=function(a){if(null==la.__greenTable){var b=new Fa(256);la.__greenTable=b}for(var c=0;256>c;){var d=c++,b=Math.floor(d*a[6]+255*a[9]);255<b&&(b=255);0>b&&(b=0);la.__greenTable[d]=b}return la.__greenTable};la.getRedTable=function(a){if(null==
la.__redTable){var b=new Fa(256);la.__redTable=b}for(var c=0;256>c;){var d=c++,b=Math.floor(d*a[0]+255*a[4]);255<b&&(b=255);0>b&&(b=0);la.__redTable[d]=b}return la.__redTable};la.__toFlashColorTransform=function(a){return null};la.get_alphaMultiplier=function(a){return a[18]};la.set_alphaMultiplier=function(a,b){return a[18]=b};la.get_alphaOffset=function(a){return 255*a[19]};la.set_alphaOffset=function(a,b){return a[19]=b/255};la.get_blueMultiplier=function(a){return a[12]};la.set_blueMultiplier=
function(a,b){return a[12]=b};la.get_blueOffset=function(a){return 255*a[14]};la.set_blueOffset=function(a,b){return a[14]=b/255};la.get_color=function(a){return(255*a[4]|0)<<16|(255*a[9]|0)<<8|255*a[14]|0};la.set_color=function(a,b){a[4]=(b>>16&255)/255;a[9]=(b>>8&255)/255;a[14]=(b&255)/255;a[0]=0;a[6]=0;a[12]=0;return la.get_color(a)};la.get_greenMultiplier=function(a){return a[6]};la.set_greenMultiplier=function(a,b){return a[6]=b};la.get_greenOffset=function(a){return 255*a[9]};la.set_greenOffset=
function(a,b){return a[9]=b/255};la.get_redMultiplier=function(a){return a[0]};la.set_redMultiplier=function(a,b){return a[0]=b};la.get_redOffset=function(a){return 255*a[4]};la.set_redOffset=function(a,b){return a[4]=b/255};la.get=function(a,b){return a[b]};la.set=function(a,b,c){return a[b]=c};var P={};k["lime.math._Matrix4.Matrix4_Impl_"]=P;P.__name__=["lime","math","_Matrix4","Matrix4_Impl_"];P.__properties__={set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"};
P._new=function(a){if(null==a||16!=a.length)a=P.__identity,a=null!=a?new ra(a):null;return a};P.append=function(a,b){var c=a[0],d=a[4],e=a[8],f=a[12],g=a[1],k=a[5],m=a[9],h=a[13],l=a[2],q=a[6],A=a[10],n=a[14],v=a[3],r=a[7],t=a[11],u=a[15],w=P.get(b,0),y=P.get(b,4),z=P.get(b,8),x=P.get(b,12),D=P.get(b,1),B=P.get(b,5),E=P.get(b,9),F=P.get(b,13),G=P.get(b,2),I=P.get(b,6),H=P.get(b,10),J=P.get(b,14),L=P.get(b,3),N=P.get(b,7),O=P.get(b,11),M=P.get(b,15);a[0]=c*w+g*y+l*z+v*x;a[1]=c*D+g*B+l*E+v*F;a[2]=c*
G+g*I+l*H+v*J;a[3]=c*L+g*N+l*O+v*M;a[4]=d*w+k*y+q*z+r*x;a[5]=d*D+k*B+q*E+r*F;a[6]=d*G+k*I+q*H+r*J;a[7]=d*L+k*N+q*O+r*M;a[8]=e*w+m*y+A*z+t*x;a[9]=e*D+m*B+A*E+t*F;a[10]=e*G+m*I+A*H+t*J;a[11]=e*L+m*N+A*O+t*M;a[12]=f*w+h*y+n*z+u*x;a[13]=f*D+h*B+n*E+u*F;a[14]=f*G+h*I+n*H+u*J;a[15]=f*L+h*N+n*O+u*M};P.appendRotation=function(a,b,c,d){b=P.getAxisRotation(c.x,c.y,c.z,b);null!=d&&P.appendTranslation(b,d.x,d.y,d.z);P.append(a,b)};P.appendScale=function(a,b,c,d){b=[b,0,0,0,0,c,0,0,0,0,d,0,0,0,0,1];b=null!=b?
new ra(b):null;P.append(a,P._new(b))};P.appendTranslation=function(a,b,c,d){a[12]+=b;a[13]+=c;a[14]+=d};P.clone=function(a){a=null!=a?new ra(a):null;return P._new(a)};P.copyColumnFrom=function(a,b,c){switch(b){case 0:a[0]=c.x;a[1]=c.y;a[2]=c.z;a[3]=c.w;break;case 1:a[4]=c.x;a[5]=c.y;a[6]=c.z;a[7]=c.w;break;case 2:a[8]=c.x;a[9]=c.y;a[10]=c.z;a[11]=c.w;break;case 3:a[12]=c.x;a[13]=c.y;a[14]=c.z;a[15]=c.w;break;default:throw new F("Error, Column "+b+" out of bounds [0, ..., 3]");}};P.copyColumnTo=function(a,
b,c){switch(b){case 0:c.x=a[0];c.y=a[1];c.z=a[2];c.w=a[3];break;case 1:c.x=a[4];c.y=a[5];c.z=a[6];c.w=a[7];break;case 2:c.x=a[8];c.y=a[9];c.z=a[10];c.w=a[11];break;case 3:c.x=a[12];c.y=a[13];c.z=a[14];c.w=a[15];break;default:throw new F("Error, Column "+b+" out of bounds [0, ..., 3]");}};P.copyFrom=function(a,b){a.set(b)};P.copythisFrom=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=0);d&&P.transpose(a);for(var e=0,f=b.length-c;e<f;){var g=e++;a[g]=b[g+c]}d&&P.transpose(a)};P.copythisTo=function(a,
b,c,d){null==d&&(d=!1);null==c&&(c=0);d&&P.transpose(a);for(var e=0,f=a.length;e<f;){var g=e++;b[g+c]=a[g]}d&&P.transpose(a)};P.copyRowFrom=function(a,b,c){switch(b){case 0:a[0]=c.x;a[4]=c.y;a[8]=c.z;a[12]=c.w;break;case 1:a[1]=c.x;a[5]=c.y;a[9]=c.z;a[13]=c.w;break;case 2:a[2]=c.x;a[6]=c.y;a[10]=c.z;a[14]=c.w;break;case 3:a[3]=c.x;a[7]=c.y;a[11]=c.z;a[15]=c.w;break;default:throw new F("Error, Row "+b+" out of bounds [0, ..., 3]");}};P.create2D=function(a,b,c,d){null==d&&(d=0);null==c&&(c=1);var e=
d*Math.PI/180;d=Math.cos(e);e=Math.sin(e);a=[d*c,-e*c,0,0,e*c,d*c,0,0,0,0,1,0,a,b,0,1];a=null!=a?new ra(a):null;return P._new(a)};P.createABCD=function(a,b,c,d,e,f){a=[a,b,0,0,c,d,0,0,0,0,1,0,e,f,0,1];a=null!=a?new ra(a):null;return P._new(a)};P.createOrtho=function(a,b,c,d,e,f){var g=1/(b-a),k=1/(d-c),m=1/(f-e);a=[2*g,0,0,0,0,2*k,0,0,0,0,-2*m,0,-(a+b)*g,-(c+d)*k,-(e+f)*m,1];a=null!=a?new ra(a):null;return P._new(a)};P.copyRowTo=function(a,b,c){switch(b){case 0:c.x=a[0];c.y=a[4];c.z=a[8];c.w=a[12];
break;case 1:c.x=a[1];c.y=a[5];c.z=a[9];c.w=a[13];break;case 2:c.x=a[2];c.y=a[6];c.z=a[10];c.w=a[14];break;case 3:c.x=a[3];c.y=a[7];c.z=a[11];c.w=a[15];break;default:throw new F("Error, Row "+b+" out of bounds [0, ..., 3]");}};P.copyToMatrix4=function(a,b){y.__cast(b,ra).set(a)};P.deltaTransformVector=function(a,b){var c=b.x,d=b.y,e=b.z;return new db(c*a[0]+d*a[4]+e*a[8]+a[3],c*a[1]+d*a[5]+e*a[9]+a[7],c*a[2]+d*a[6]+e*a[10]+a[11],0)};P.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;
a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1};P.interpolate=function(a,b,c){for(var d=P._new(),e=0;16>e;){var f=e++;P.set(d,f,P.get(a,f)+(P.get(b,f)-P.get(a,f))*c)}return d};P.interpolateTo=function(a,b,c){for(var d=0;16>d;){var e=d++;a[e]+=(P.get(b,e)-a[e])*c}};P.invert=function(a){var b=P.get_determinant(a),c=1E-11<Math.abs(b);if(c){var b=1/b,d=a[0],e=a[4],f=a[8],g=a[12],k=a[1],m=a[5],h=a[9],l=a[13],q=a[2],A=a[6],n=a[10],v=a[14],r=a[3],t=a[7],u=a[11],w=a[15];a[0]=
b*(m*(n*w-v*u)-h*(A*w-v*t)+l*(A*u-n*t));a[1]=-b*(k*(n*w-v*u)-h*(q*w-v*r)+l*(q*u-n*r));a[2]=b*(k*(A*w-v*t)-m*(q*w-v*r)+l*(q*t-A*r));a[3]=-b*(k*(A*u-n*t)-m*(q*u-n*r)+h*(q*t-A*r));a[4]=-b*(e*(n*w-v*u)-f*(A*w-v*t)+g*(A*u-n*t));a[5]=b*(d*(n*w-v*u)-f*(q*w-v*r)+g*(q*u-n*r));a[6]=-b*(d*(A*w-v*t)-e*(q*w-v*r)+g*(q*t-A*r));a[7]=b*(d*(A*u-n*t)-e*(q*u-n*r)+f*(q*t-A*r));a[8]=b*(e*(h*w-l*u)-f*(m*w-l*t)+g*(m*u-h*t));a[9]=-b*(d*(h*w-l*u)-f*(k*w-l*r)+g*(k*u-h*r));a[10]=b*(d*(m*w-l*t)-e*(k*w-l*r)+g*(k*t-m*r));a[11]=
-b*(d*(m*u-h*t)-e*(k*u-h*r)+f*(k*t-m*r));a[12]=-b*(e*(h*v-l*n)-f*(m*v-l*A)+g*(m*n-h*A));a[13]=b*(d*(h*v-l*n)-f*(k*v-l*q)+g*(k*n-h*q));a[14]=-b*(d*(m*v-l*A)-e*(k*v-l*q)+g*(k*A-m*q));a[15]=b*(d*(m*n-h*A)-e*(k*n-h*q)+f*(k*A-m*q))}return c};P.pointAt=function(a,b,c,d){null==c&&(c=new db(0,0,-1));null==d&&(d=new db(0,-1,0));c=new db(c.x-b.x,c.y-b.y,c.z-b.z);d=new db(d.x,d.y,d.z,d.w);var e;e=Math.sqrt(c.x*c.x+c.y*c.y+c.z*c.z);0!=e&&(c.x/=e,c.y/=e,c.z/=e);e=Math.sqrt(d.x*d.x+d.y*d.y+d.z*d.z);0!=e&&(d.x/=
e,d.y/=e,d.z/=e);e=new db(c.x,c.y,c.z,c.w);var f=d.x*c.x+d.y*c.y+d.z*c.z;e.x*=f;e.y*=f;e.z*=f;d=new db(d.x-e.x,d.y-e.y,d.z-e.z);0<Math.sqrt(d.x*d.x+d.y*d.y+d.z*d.z)?(e=Math.sqrt(d.x*d.x+d.y*d.y+d.z*d.z),0!=e&&(d.x/=e,d.y/=e,d.z/=e)):d=0!=c.x?new db(-c.y,c.x,0):new db(1,0,0);e=new db(d.y*c.z-d.z*c.y,d.z*c.x-d.x*c.z,d.x*c.y-d.y*c.x,1);f=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);0!=f&&(e.x/=f,e.y/=f,e.z/=f);a[0]=e.x;a[4]=e.y;a[8]=e.z;a[12]=0;a[1]=d.x;a[5]=d.y;a[9]=d.z;a[13]=0;a[2]=c.x;a[6]=c.y;a[10]=c.z;a[14]=
0;a[3]=b.x;a[7]=b.y;a[11]=b.z;a[15]=1};P.prepend=function(a,b){var c=P.get(b,0),d=P.get(b,4),e=P.get(b,8),f=P.get(b,12),g=P.get(b,1),k=P.get(b,5),m=P.get(b,9),h=P.get(b,13),l=P.get(b,2),q=P.get(b,6),A=P.get(b,10),n=P.get(b,14),v=P.get(b,3),r=P.get(b,7),t=P.get(b,11),u=P.get(b,15),w=a[0],y=a[4],z=a[8],x=a[12],D=a[1],B=a[5],E=a[9],F=a[13],G=a[2],I=a[6],H=a[10],J=a[14],L=a[3],N=a[7],O=a[11],M=a[15];a[0]=c*w+g*y+l*z+v*x;a[1]=c*D+g*B+l*E+v*F;a[2]=c*G+g*I+l*H+v*J;a[3]=c*L+g*N+l*O+v*M;a[4]=d*w+k*y+q*z+r*
x;a[5]=d*D+k*B+q*E+r*F;a[6]=d*G+k*I+q*H+r*J;a[7]=d*L+k*N+q*O+r*M;a[8]=e*w+m*y+A*z+t*x;a[9]=e*D+m*B+A*E+t*F;a[10]=e*G+m*I+A*H+t*J;a[11]=e*L+m*N+A*O+t*M;a[12]=f*w+h*y+n*z+u*x;a[13]=f*D+h*B+n*E+u*F;a[14]=f*G+h*I+n*H+u*J;a[15]=f*L+h*N+n*O+u*M};P.prependRotation=function(a,b,c,d){b=P.getAxisRotation(c.x,c.y,c.z,b);null!=d&&P.appendTranslation(b,d.x,d.y,d.z);P.prepend(a,b)};P.prependScale=function(a,b,c,d){b=[b,0,0,0,0,c,0,0,0,0,d,0,0,0,0,1];b=null!=b?new ra(b):null;P.prepend(a,P._new(b))};P.prependTranslation=
function(a,b,c,d){var e=P._new();P.set_position(e,new db(b,c,d));P.prepend(a,e)};P.transformVector=function(a,b){var c=b.x,d=b.y,e=b.z;return new db(c*a[0]+d*a[4]+e*a[8]+a[12],c*a[1]+d*a[5]+e*a[9]+a[13],c*a[2]+d*a[6]+e*a[10]+a[14],c*a[3]+d*a[7]+e*a[11]+a[15])};P.transformVectors=function(a,b,c){for(var d=0;d+3<=b.length;){var e=b[d],f=b[d+1],g=b[d+2];c[d]=e*a[0]+f*a[4]+g*a[8]+a[12];c[d+1]=e*a[1]+f*a[5]+g*a[9]+a[13];c[d+2]=e*a[2]+f*a[6]+g*a[10]+a[14];d+=3}};P.transpose=function(a){var b=null!=a?new ra(a):
null;a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=b[1];a[6]=b[9];a[7]=b[13];a[8]=b[2];a[9]=b[6];a[11]=b[14];a[12]=b[3];a[13]=b[7];a[14]=b[11]};P.getAxisRotation=function(a,b,c,d){var e=P._new();a=new db(a,b,c);d=Math.PI/180*-d;c=Math.cos(d);d=Math.sin(d);b=1-c;P.set(e,0,c+a.x*a.x*b);P.set(e,5,c+a.y*a.y*b);P.set(e,10,c+a.z*a.z*b);c=a.x*a.y*b;var f=a.z*d;P.set(e,4,c+f);P.set(e,1,c-f);c=a.x*a.z*b;f=a.y*d;P.set(e,8,c-f);P.set(e,2,c+f);c=a.y*a.z*b;f=a.x*d;P.set(e,9,c+f);P.set(e,6,c-f);return e};P.get_determinant=
function(a){return(a[0]*a[5]-a[4]*a[1])*(a[10]*a[15]-a[14]*a[11])-(a[0]*a[9]-a[8]*a[1])*(a[6]*a[15]-a[14]*a[7])+(a[0]*a[13]-a[12]*a[1])*(a[6]*a[11]-a[10]*a[7])+(a[4]*a[9]-a[8]*a[5])*(a[2]*a[15]-a[14]*a[3])-(a[4]*a[13]-a[12]*a[5])*(a[2]*a[11]-a[10]*a[3])+(a[8]*a[13]-a[12]*a[9])*(a[2]*a[7]-a[6]*a[3])};P.get_position=function(a){return new db(a[12],a[13],a[14])};P.set_position=function(a,b){a[12]=b.x;a[13]=b.y;a[14]=b.z;return b};P.get=function(a,b){return a[b]};P.set=function(a,b,c){return a[b]=c};
var Bb=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};k["lime.math.Rectangle"]=Bb;Bb.__name__=["lime","math","Rectangle"];Bb.prototype={height:null,width:null,x:null,y:null,clone:function(){return new Bb(this.x,this.y,this.width,this.height)},contains:function(a,b){return a>=this.x&&b>=this.y&&a<this.get_right()?b<this.get_bottom():!1},containsPoint:function(a){return this.contains(a.x,a.y)},containsRect:function(a){return 0>=
a.width||0>=a.height?a.x>this.x&&a.y>this.y&&a.get_right()<this.get_right()?a.get_bottom()<this.get_bottom():!1:a.x>=this.x&&a.y>=this.y&&a.get_right()<=this.get_right()?a.get_bottom()<=this.get_bottom():!1},copyFrom:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},equals:function(a){return null!=a&&this.x==a.x&&this.y==a.y&&this.width==a.width?this.height==a.height:!1},inflate:function(a,b){this.x-=a;this.width+=2*a;this.y-=b;this.height+=2*b},inflatePoint:function(a){this.inflate(a.x,
a.y)},intersection:function(a){var b=this.x<a.x?a.x:this.x,c=this.get_right()>a.get_right()?a.get_right():this.get_right();if(c<=b)return new Bb;var d=this.y<a.y?a.y:this.y;a=this.get_bottom()>a.get_bottom()?a.get_bottom():this.get_bottom();return a<=d?new Bb:new Bb(b,d,c-b,a-d)},intersects:function(a){var b=this.x<a.x?a.x:this.x;if((this.get_right()>a.get_right()?a.get_right():this.get_right())<=b)return!1;b=this.y<a.y?a.y:this.y;return(this.get_bottom()>a.get_bottom()?a.get_bottom():this.get_bottom())>
b},isEmpty:function(){return 0>=this.width?!0:0>=this.height},offset:function(a,b){this.x+=a;this.y+=b},offsetPoint:function(a){this.x+=a.x;this.y+=a.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},transform:function(a){var b=a.a*this.x+a.c*this.y,c=b,d=a.b*this.x+a.d*this.y,e=d,f=a.a*(this.x+this.width)+a.c*this.y,g=a.b*(this.x+this.width)+a.d*this.y;f<b&&(b=f);g<d&&(d=g);f>c&&(c=f);g>e&&(e=g);f=a.a*(this.x+this.width)+
a.c*(this.y+this.height);g=a.b*(this.x+this.width)+a.d*(this.y+this.height);f<b&&(b=f);g<d&&(d=g);f>c&&(c=f);g>e&&(e=g);f=a.a*this.x+a.c*(this.y+this.height);g=a.b*this.x+a.d*(this.y+this.height);f<b&&(b=f);g<d&&(d=g);f>c&&(c=f);g>e&&(e=g);return new Bb(b+a.tx,d+a.ty,c-b,e-d)},union:function(a){if(0==this.width||0==this.height)return a.clone();if(0==a.width||0==a.height)return this.clone();var b=this.x>a.x?a.x:this.x,c=this.get_right()<a.get_right()?a.get_right():this.get_right(),d=this.y>a.y?a.y:
this.y;a=this.get_bottom()<a.get_bottom()?a.get_bottom():this.get_bottom();return new Bb(b,d,c-b,a-d)},__contract:function(a,b,c,d){if(0!=this.width||0!=this.height)this.x<a&&(this.x=a),this.y<b&&(this.y=b),this.get_right()>a+c&&(this.width=a+c-this.x),this.get_bottom()>b+d&&(this.height=b+d-this.y)},__expand:function(a,b,c,d){if(0==this.width&&0==this.height)this.x=a,this.y=b,this.width=c,this.height=d;else{var e=this.get_right(),f=this.get_bottom();this.x>a&&(this.x=a);this.y>b&&(this.y=b);e<a+
c&&(this.width=a+c-this.x);f<b+d&&(this.height=b+d-this.y)}},__toFlashRectangle:function(){return null},get_bottom:function(){return this.y+this.height},set_bottom:function(a){this.height=a-this.y;return a},get_bottomRight:function(){return new vb(this.x+this.width,this.y+this.height)},set_bottomRight:function(a){this.width=a.x-this.x;this.height=a.y-this.y;return a.clone()},get_left:function(){return this.x},set_left:function(a){this.width-=a-this.x;return this.x=a},get_right:function(){return this.x+
this.width},set_right:function(a){this.width=a-this.x;return a},get_size:function(){return new vb(this.width,this.height)},set_size:function(a){this.width=a.x;this.height=a.y;return a.clone()},get_top:function(){return this.y},set_top:function(a){this.height-=a-this.y;return this.y=a},get_topLeft:function(){return new vb(this.x,this.y)},set_topLeft:function(a){this.x=a.x;this.y=a.y;return a.clone()},__class__:Bb,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",
get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var vb=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};k["lime.math.Vector2"]=vb;vb.__name__=["lime","math","Vector2"];vb.distance=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};vb.interpolate=function(a,b,c){return new vb(b.x+
c*(a.x-b.x),b.y+c*(a.y-b.y))};vb.polar=function(a,b){return new vb(a*Math.cos(b),a*Math.sin(b))};vb.prototype={length:null,x:null,y:null,add:function(a){return new vb(a.x+this.x,a.y+this.y)},clone:function(){return new vb(this.x,this.y)},equals:function(a){return null!=a&&a.x==this.x?a.y==this.y:!1},normalize:function(a){if(0!=this.x||0!=this.y)a/=Math.sqrt(this.x*this.x+this.y*this.y),this.x*=a,this.y*=a},offset:function(a,b){this.x+=a;this.y+=b},setTo:function(a,b){this.x=a;this.y=b},subtract:function(a){return new vb(this.x-
a.x,this.y-a.y)},__toFlashPoint:function(){return null},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:vb,__properties__:{get_length:"get_length"}};var db=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.w=d;this.x=a;this.y=b;this.z=c};k["lime.math.Vector4"]=db;db.__name__=["lime","math","Vector4"];db.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"};db.angleBetween=function(a,b){var c=new db(a.x,
a.y,a.z,a.w),d=Math.sqrt(c.x*c.x+c.y*c.y+c.z*c.z);0!=d&&(c.x/=d,c.y/=d,c.z/=d);var d=new db(b.x,b.y,b.z,b.w),e=Math.sqrt(d.x*d.x+d.y*d.y+d.z*d.z);0!=e&&(d.x/=e,d.y/=e,d.z/=e);return Math.acos(c.x*d.x+c.y*d.y+c.z*d.z)};db.distance=function(a,b){var c=b.x-a.x,d=b.y-a.y,e=b.z-a.z;return Math.sqrt(c*c+d*d+e*e)};db.get_X_AXIS=function(){return new db(1,0,0)};db.get_Y_AXIS=function(){return new db(0,1,0)};db.get_Z_AXIS=function(){return new db(0,0,1)};db.prototype={length:null,lengthSquared:null,w:null,
x:null,y:null,z:null,add:function(a){return new db(this.x+a.x,this.y+a.y,this.z+a.z)},clone:function(){return new db(this.x,this.y,this.z,this.w)},copyFrom:function(a){this.x=a.x;this.y=a.y;this.z=a.z},crossProduct:function(a){return new db(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x,1)},decrementBy:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z},dotProduct:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},equals:function(a,b){null==b&&(b=!1);return this.x==a.x&&this.y==
a.y&&this.z==a.z?b?this.w==a.w:!0:!1},incrementBy:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z},nearEquals:function(a,b,c){null==c&&(c=!1);return Math.abs(this.x-a.x)<b&&Math.abs(this.y-a.y)<b&&Math.abs(this.z-a.z)<b?c?Math.abs(this.w-a.w)<b:!0:!1},negate:function(){this.x*=-1;this.y*=-1;this.z*=-1},normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);0!=a&&(this.x/=a,this.y/=a,this.z/=a);return a},project:function(){this.x/=this.w;this.y/=this.w;this.z/=this.w},scaleBy:function(a){this.x*=
a;this.y*=a;this.z*=a},setTo:function(a,b,c){this.x=a;this.y=b;this.z=c},subtract:function(a){return new db(this.x-a.x,this.y-a.y,this.z-a.z)},toString:function(){return"Vector4("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:db,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var rb={};k["lime.math.color._ARGB.ARGB_Impl_"]=
rb;rb.__name__=["lime","math","color","_ARGB","ARGB_Impl_"];rb.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"};rb._new=function(a){null==a&&(a=0);return a};rb.create=function(a,b,c,d){return(a&255)<<24|(b&255)<<16|(c&255)<<8|d&255};rb.multiplyAlpha=function(a){0!=(a>>>24&255)&&255!=(a>>>24&255)&&(rb.a16=z.__alpha16[a>>>24&255])};rb.readUInt8=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);switch(d){case 0:a=(b[c+1]&
255)<<24|(b[c+2]&255)<<16|(b[c+3]&255)<<8|b[c]&255;break;case 1:a=(b[c+2]&255)<<24|(b[c+3]&255)<<16|(b[c]&255)<<8|b[c+1]&255;break;case 2:a=(b[c+1]&255)<<24|(b[c]&255)<<16|(b[c+3]&255)<<8|b[c+2]&255}e&&0!=(a>>>24&255)&&255!=(a>>>24&255)&&(rb.unmult=255/(a>>>24&255))};rb.set=function(a,b,c,d,e){};rb.unmultiplyAlpha=function(a){0!=(a>>>24&255)&&255!=(a>>>24&255)&&(rb.unmult=255/(a>>>24&255))};rb.writeUInt8=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);e&&(0==(a>>>24&255)?a=0:255!=(a>>>24&255)&&
(rb.a16=z.__alpha16[a>>>24&255],a=(a>>>24&255)<<24|((a>>>16&255)*rb.a16>>16&255)<<16|((a>>>8&255)*rb.a16>>16&255)<<8|(a&255)*rb.a16>>16&255));switch(d){case 0:b[c]=a>>>16&255;b[c+1]=a>>>8&255;b[c+2]=a&255;b[c+3]=a>>>24&255;break;case 1:b[c]=a>>>24&255;b[c+1]=a>>>16&255;b[c+2]=a>>>8&255;b[c+3]=a&255;break;case 2:b[c]=a&255,b[c+1]=a>>>8&255,b[c+2]=a>>>16&255,b[c+3]=a>>>24&255}};rb.__fromBGRA=function(a){return(a&255)<<24|(a>>>8&255)<<16|(a>>>16&255)<<8|a>>>24&255};rb.__fromRGBA=function(a){return(a&
255)<<24|(a>>>24&255)<<16|(a>>>16&255)<<8|a>>>8&255};rb.get_a=function(a){return a>>>24&255};rb.set_a=function(a,b){return b};rb.get_b=function(a){return a&255};rb.set_b=function(a,b){return b};rb.get_g=function(a){return a>>>8&255};rb.set_g=function(a,b){return b};rb.get_r=function(a){return a>>>16&255};rb.set_r=function(a,b){return b};var sb={};k["lime.math.color._BGRA.BGRA_Impl_"]=sb;sb.__name__=["lime","math","color","_BGRA","BGRA_Impl_"];sb.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",
get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"};sb._new=function(a){null==a&&(a=0);return a};sb.create=function(a,b,c,d){return(a&255)<<24|(b&255)<<16|(c&255)<<8|d&255};sb.multiplyAlpha=function(a){0!=(a&255)&&255!=(a&255)&&(sb.a16=z.__alpha16[a&255])};sb.readUInt8=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);switch(d){case 0:a=(b[c+2]&255)<<24|(b[c+1]&255)<<16|(b[c]&255)<<8|b[c+3]&255;break;case 1:a=(b[c+3]&255)<<24|(b[c+2]&255)<<16|(b[c+1]&255)<<8|b[c]&255;break;case 2:a=
(b[c]&255)<<24|(b[c+1]&255)<<16|(b[c+2]&255)<<8|b[c+3]&255}e&&0!=(a&255)&&255!=(a&255)&&(sb.unmult=255/(a&255))};sb.set=function(a,b,c,d,e){};sb.unmultiplyAlpha=function(a){0!=(a&255)&&255!=(a&255)&&(sb.unmult=255/(a&255))};sb.writeUInt8=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);e&&(0==(a&255)?a=0:255!=(a&255)&&(sb.a16=z.__alpha16[a&255],a=((a>>>24&255)*sb.a16>>16&255)<<24|((a>>>16&255)*sb.a16>>16&255)<<16|((a>>>8&255)*sb.a16>>16&255)<<8|a&255));switch(d){case 0:b[c]=a>>>8&255;b[c+1]=a>>>
16&255;b[c+2]=a>>>24&255;b[c+3]=a&255;break;case 1:b[c]=a&255;b[c+1]=a>>>8&255;b[c+2]=a>>>16&255;b[c+3]=a>>>24&255;break;case 2:b[c]=a>>>24&255,b[c+1]=a>>>16&255,b[c+2]=a>>>8&255,b[c+3]=a&255}};sb.__fromARGB=function(a){return(a&255)<<24|(a>>>8&255)<<16|(a>>>16&255)<<8|a>>>24&255};sb.__fromRGBA=function(a){return(a>>>8&255)<<24|(a>>>16&255)<<16|(a>>>24&255)<<8|a&255};sb.get_a=function(a){return a&255};sb.set_a=function(a,b){return b};sb.get_b=function(a){return a>>>24&255};sb.set_b=function(a,b){return b};
sb.get_g=function(a){return a>>>16&255};sb.set_g=function(a,b){return b};sb.get_r=function(a){return a>>>8&255};sb.set_r=function(a,b){return b};var z={};k["lime.math.color._RGBA.RGBA_Impl_"]=z;z.__name__=["lime","math","color","_RGBA","RGBA_Impl_"];z.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"};z._new=function(a){null==a&&(a=0);return a};z.create=function(a,b,c,d){return(a&255)<<24|(b&255)<<16|(c&255)<<8|d&255};z.multiplyAlpha=
function(a){0!=(a&255)&&255!=(a&255)&&(z.a16=z.__alpha16[a&255])};z.readUInt8=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);switch(d){case 0:a=(b[c]&255)<<24|(b[c+1]&255)<<16|(b[c+2]&255)<<8|b[c+3]&255;break;case 1:a=(b[c+1]&255)<<24|(b[c+2]&255)<<16|(b[c+3]&255)<<8|b[c]&255;break;case 2:a=(b[c+2]&255)<<24|(b[c+1]&255)<<16|(b[c]&255)<<8|b[c+3]&255}e&&0!=(a&255)&&255!=(a&255)&&(z.unmult=255/(a&255),Math.round((a>>>24&255)*z.unmult),Math.round((a>>>16&255)*z.unmult),Math.round((a>>>8&255)*z.unmult))};
z.set=function(a,b,c,d,e){};z.unmultiplyAlpha=function(a){0!=(a&255)&&255!=(a&255)&&(z.unmult=255/(a&255),Math.round((a>>>24&255)*z.unmult),Math.round((a>>>16&255)*z.unmult),Math.round((a>>>8&255)*z.unmult))};z.writeUInt8=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);e&&(0==(a&255)?0!=a&&(a=0):255!=(a&255)&&(z.a16=z.__alpha16[a&255],a=((a>>>24&255)*z.a16>>16&255)<<24|((a>>>16&255)*z.a16>>16&255)<<16|((a>>>8&255)*z.a16>>16&255)<<8|a&255));switch(d){case 0:b[c]=a>>>24&255;b[c+1]=a>>>16&255;b[c+
2]=a>>>8&255;b[c+3]=a&255;break;case 1:b[c]=a&255;b[c+1]=a>>>24&255;b[c+2]=a>>>16&255;b[c+3]=a>>>8&255;break;case 2:b[c]=a>>>8&255,b[c+1]=a>>>16&255,b[c+2]=a>>>24&255,b[c+3]=a&255}};z.__fromARGB=function(a){return(a>>>16&255)<<24|(a>>>8&255)<<16|(a&255)<<8|a>>>24&255};z.__fromBGRA=function(a){return(a>>>8&255)<<24|(a>>>16&255)<<16|(a>>>24&255)<<8|a&255};z.get_a=function(a){return a&255};z.set_a=function(a,b){return b};z.get_b=function(a){return a>>>8&255};z.set_b=function(a,b){return b};z.get_g=function(a){return a>>>
16&255};z.set_g=function(a,b){return b};z.get_r=function(a){return a>>>24&255};z.set_r=function(a,b){return b};var am=function(){this.EXPONENT_DISTANCE_CLAMPED=53254;this.EXPONENT_DISTANCE=53253;this.LINEAR_DISTANCE_CLAMPED=53252;this.LINEAR_DISTANCE=53251;this.INVERSE_DISTANCE_CLAMPED=53250;this.INVERSE_DISTANCE=53249;this.DISTANCE_MODEL=53248;this.DOPPLER_VELOCITY=49153;this.SPEED_OF_SOUND=49155;this.DOPPLER_FACTOR=49152;this.EXTENSIONS=45060;this.RENDERER=45059;this.VERSION=45058;this.VENDOR=45057;
this.OUT_OF_MEMORY=40965;this.INVALID_OPERATION=40964;this.INVALID_VALUE=40963;this.INVALID_ENUM=40962;this.INVALID_NAME=40961;this.NO_ERROR=0;this.SIZE=8196;this.CHANNELS=8195;this.BITS=8194;this.FREQUENCY=8193;this.FORMAT_STEREO16=4355;this.FORMAT_STEREO8=4354;this.FORMAT_MONO16=4353;this.FORMAT_MONO8=4352;this.UNDETERMINED=4144;this.STREAMING=4137;this.STATIC=4136;this.SOURCE_TYPE=4135;this.BYTE_OFFSET=4134;this.SAMPLE_OFFSET=4133;this.SEC_OFFSET=4132;this.MAX_DISTANCE=4131;this.CONE_OUTER_GAIN=
4130;this.ROLLOFF_FACTOR=4129;this.REFERENCE_DISTANCE=4128;this.BUFFERS_PROCESSED=4118;this.BUFFERS_QUEUED=4117;this.STOPPED=4116;this.PAUSED=4115;this.PLAYING=4114;this.INITIAL=4113;this.SOURCE_STATE=4112;this.ORIENTATION=4111;this.MAX_GAIN=4110;this.MIN_GAIN=4109;this.GAIN=4106;this.BUFFER=4105;this.LOOPING=4103;this.VELOCITY=4102;this.DIRECTION=4101;this.POSITION=4100;this.PITCH=4099;this.CONE_OUTER_ANGLE=4098;this.CONE_INNER_ANGLE=4097;this.SOURCE_RELATIVE=514;this.TRUE=1;this.NONE=this.FALSE=
0};k["lime.media.ALAudioContext"]=am;am.__name__=["lime","media","ALAudioContext"];am.prototype={NONE:null,FALSE:null,TRUE:null,SOURCE_RELATIVE:null,CONE_INNER_ANGLE:null,CONE_OUTER_ANGLE:null,PITCH:null,POSITION:null,DIRECTION:null,VELOCITY:null,LOOPING:null,BUFFER:null,GAIN:null,MIN_GAIN:null,MAX_GAIN:null,ORIENTATION:null,SOURCE_STATE:null,INITIAL:null,PLAYING:null,PAUSED:null,STOPPED:null,BUFFERS_QUEUED:null,BUFFERS_PROCESSED:null,REFERENCE_DISTANCE:null,ROLLOFF_FACTOR:null,CONE_OUTER_GAIN:null,
MAX_DISTANCE:null,SEC_OFFSET:null,SAMPLE_OFFSET:null,BYTE_OFFSET:null,SOURCE_TYPE:null,STATIC:null,STREAMING:null,UNDETERMINED:null,FORMAT_MONO8:null,FORMAT_MONO16:null,FORMAT_STEREO8:null,FORMAT_STEREO16:null,FREQUENCY:null,BITS:null,CHANNELS:null,SIZE:null,NO_ERROR:null,INVALID_NAME:null,INVALID_ENUM:null,INVALID_VALUE:null,INVALID_OPERATION:null,OUT_OF_MEMORY:null,VENDOR:null,VERSION:null,RENDERER:null,EXTENSIONS:null,DOPPLER_FACTOR:null,SPEED_OF_SOUND:null,DOPPLER_VELOCITY:null,DISTANCE_MODEL:null,
INVERSE_DISTANCE:null,INVERSE_DISTANCE_CLAMPED:null,LINEAR_DISTANCE:null,LINEAR_DISTANCE_CLAMPED:null,EXPONENT_DISTANCE:null,EXPONENT_DISTANCE_CLAMPED:null,bufferData:function(a,b,c,d,e){B.bufferData(a,b,c,d,e)},buffer3f:function(a,b,c,d,e){B.buffer3f(a,b,c,d,e)},buffer3i:function(a,b,c,d,e){B.buffer3i(a,b,c,d,e)},bufferf:function(a,b,c){B.bufferf(a,b,c)},bufferfv:function(a,b,c){B.bufferfv(a,b,c)},bufferi:function(a,b,c){B.bufferi(a,b,c)},bufferiv:function(a,b,c){B.bufferiv(a,b,c)},createSource:function(){return B.createSource()},
createBuffer:function(){return B.createBuffer()},deleteBuffer:function(a){B.deleteBuffer(a)},deleteBuffers:function(a){B.deleteBuffers(a)},deleteSource:function(a){B.deleteSource(a)},deleteSources:function(a){B.deleteSources(a)},disable:function(a){B.disable(a)},distanceModel:function(a){B.distanceModel(a)},dopplerFactor:function(a){B.dopplerFactor(a)},dopplerVelocity:function(a){B.dopplerVelocity(a)},enable:function(a){B.enable(a)},genSource:function(){return this.createSource()},genSources:function(a){return B.genSources(a)},
genBuffer:function(){return this.createBuffer()},genBuffers:function(a){return B.genBuffers(a)},getBoolean:function(a){return B.getBoolean(a)},getBooleanv:function(a,b){null==b&&(b=1);return B.getBooleanv(a,b)},getBuffer3f:function(a,b){return B.getBuffer3f(a,b)},getBuffer3i:function(a,b){return B.getBuffer3i(a,b)},getBufferf:function(a,b){return B.getBufferf(a,b)},getBufferfv:function(a,b,c){null==c&&(c=1);return B.getBufferfv(a,b,c)},getBufferi:function(a,b){return B.getBufferi(a,b)},getBufferiv:function(a,
b,c){null==c&&(c=1);return B.getBufferiv(a,b,c)},getDouble:function(a){return B.getDouble(a)},getDoublev:function(a,b){null==b&&(b=1);return B.getDoublev(a,b)},getEnumValue:function(a){return B.getEnumValue(a)},getError:function(){return B.getError()},getErrorString:function(){return B.getErrorString()},getFloat:function(a){return B.getFloat(a)},getFloatv:function(a,b){null==b&&(b=1);return B.getFloatv(a,b)},getInteger:function(a){return B.getInteger(a)},getIntegerv:function(a,b){null==b&&(b=1);return B.getIntegerv(a,
b)},getListener3f:function(a){return B.getListener3f(a)},getListener3i:function(a){return B.getListener3i(a)},getListenerf:function(a){return B.getListenerf(a)},getListenerfv:function(a,b){null==b&&(b=1);return B.getListenerfv(a,b)},getListeneri:function(a){return B.getListeneri(a)},getListeneriv:function(a,b){null==b&&(b=1);return B.getListeneriv(a,b)},getProcAddress:function(a){return B.getProcAddress(a)},getSource3f:function(a,b){return B.getSource3f(a,b)},getSourcef:function(a,b){return B.getSourcef(a,
b)},getSource3i:function(a,b){return B.getSource3i(a,b)},getSourcefv:function(a,b,c){return B.getSourcefv(a,b)},getSourcei:function(a,b){return B.getSourcei(a,b)},getSourceiv:function(a,b,c){null==c&&(c=1);return B.getSourceiv(a,b,c)},getString:function(a){return B.getString(a)},isBuffer:function(a){return B.isBuffer(a)},isEnabled:function(a){return B.isEnabled(a)},isExtensionPresent:function(a){return B.isExtensionPresent(a)},isSource:function(a){return B.isSource(a)},listener3f:function(a,b,c,d){B.listener3f(a,
b,c,d)},listener3i:function(a,b,c,d){B.listener3i(a,b,c,d)},listenerf:function(a,b){B.listenerf(a,b)},listenerfv:function(a,b){B.listenerfv(a,b)},listeneri:function(a,b){B.listeneri(a,b)},listeneriv:function(a,b){B.listeneriv(a,b)},source3f:function(a,b,c,d,e){B.source3f(a,b,c,d,e)},source3i:function(a,b,c,d,e){B.source3i(a,b,c,d,e)},sourcef:function(a,b,c){B.sourcef(a,b,c)},sourcefv:function(a,b,c){B.sourcefv(a,b,c)},sourcei:function(a,b,c){B.sourcei(a,b,c)},sourceiv:function(a,b,c){B.sourceiv(a,
b,c)},sourcePlay:function(a){B.sourcePlay(a)},sourcePlayv:function(a){B.sourcePlayv(a)},sourceStop:function(a){B.sourceStop(a)},sourceStopv:function(a){B.sourceStopv(a)},sourceRewind:function(a){B.sourceRewind(a)},sourceRewindv:function(a){B.sourceRewindv(a)},sourcePause:function(a){B.sourcePause(a)},sourcePausev:function(a){B.sourcePausev(a)},sourceQueueBuffer:function(a,b){B.sourceQueueBuffer(a,b)},sourceQueueBuffers:function(a,b,c){B.sourceQueueBuffers(a,b,c)},sourceUnqueueBuffer:function(a){return B.sourceUnqueueBuffer(a)},
sourceUnqueueBuffers:function(a,b){return B.sourceUnqueueBuffers(a,b)},speedOfSound:function(a){B.speedOfSound(a)},__class__:am};var bm=function(){this.ALL_DEVICES_SPECIFIER=4115;this.DEFAULT_ALL_DEVICES_SPECIFIER=4114;this.ENUMERATE_ALL_EXT=1;this.EXTENSIONS=4102;this.DEVICE_SPECIFIER=4101;this.DEFAULT_DEVICE_SPECIFIER=4100;this.ALL_ATTRIBUTES=4099;this.ATTRIBUTES_SIZE=4098;this.OUT_OF_MEMORY=40965;this.INVALID_VALUE=40964;this.INVALID_ENUM=40963;this.INVALID_CONTEXT=40962;this.INVALID_DEVICE=40961;
this.NO_ERROR=0;this.STEREO_SOURCES=4113;this.MONO_SOURCES=4112;this.SYNC=4105;this.REFRESH=4104;this.FREQUENCY=4103;this.TRUE=1;this.FALSE=0};k["lime.media.ALCAudioContext"]=bm;bm.__name__=["lime","media","ALCAudioContext"];bm.prototype={FALSE:null,TRUE:null,FREQUENCY:null,REFRESH:null,SYNC:null,MONO_SOURCES:null,STEREO_SOURCES:null,NO_ERROR:null,INVALID_DEVICE:null,INVALID_CONTEXT:null,INVALID_ENUM:null,INVALID_VALUE:null,OUT_OF_MEMORY:null,ATTRIBUTES_SIZE:null,ALL_ATTRIBUTES:null,DEFAULT_DEVICE_SPECIFIER:null,
DEVICE_SPECIFIER:null,EXTENSIONS:null,ENUMERATE_ALL_EXT:null,DEFAULT_ALL_DEVICES_SPECIFIER:null,ALL_DEVICES_SPECIFIER:null,closeDevice:function(a){return va.closeDevice(a)},createContext:function(a,b){return va.createContext(a,b)},destroyContext:function(a){va.destroyContext(a)},getContextsDevice:function(a){return va.getContextsDevice(a)},getCurrentContext:function(){return va.getCurrentContext()},getError:function(a){return va.getError(a)},getErrorString:function(a){return va.getErrorString(a)},
getIntegerv:function(a,b,c){null==c&&(c=1);return va.getIntegerv(a,b,c)},getString:function(a,b){return va.getString(a,b)},makeContextCurrent:function(a){return va.makeContextCurrent(a)},openDevice:function(a){return va.openDevice(a)},pauseDevice:function(a){va.pauseDevice(a)},processContext:function(a){va.processContext(a)},resumeDevice:function(a){va.resumeDevice(a)},suspendContext:function(a){va.suspendContext(a)},__class__:bm};var Kb=function(){};k["lime.media.AudioBuffer"]=Kb;Kb.__name__=["lime",
"media","AudioBuffer"];Kb.fromBytes=function(a){return null};Kb.fromFile=function(a){if(null==a)return null;var b=new Kb;b.__srcHowl=new Howl({src:[a]});return b};Kb.fromFiles=function(a){var b=new Kb;b.__srcHowl=new Howl({src:a});return b};Kb.fromVorbisFile=function(a){return null};Kb.loadFromFile=function(a){var b=new Jb,c=Kb.fromFile(a);null!=c?null!=c&&(c.__srcHowl.on("load",function(){b.complete(c)}),c.__srcHowl.on("loaderror",function(){b.error(null)}),c.__srcHowl.load()):b.error(null);return b.future};
Kb.loadFromFiles=function(a){var b=new Jb,c=Kb.fromFiles(a);null!=c?(c.__srcHowl.on("load",function(){b.complete(c)}),c.__srcHowl.on("loaderror",function(){b.error(null)}),c.__srcHowl.load()):b.error(null);return b.future};Kb.prototype={bitsPerSample:null,channels:null,data:null,sampleRate:null,__srcAudio:null,__srcBuffer:null,__srcCustom:null,__srcFMODSound:null,__srcHowl:null,__srcSound:null,__srcVorbisFile:null,dispose:function(){this.__srcHowl.unload()},get_src:function(){return this.__srcHowl},
set_src:function(a){return this.__srcHowl=a},__class__:Kb,__properties__:{set_src:"set_src",get_src:"get_src"}};var od=k["lime.media.AudioContext"]={__ename__:["lime","media","AudioContext"],__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};od.OPENAL=function(a,b){var c=["OPENAL",0,a,b];c.__enum__=od;c.toString=O;return c};od.HTML5=function(a){a=["HTML5",1,a];a.__enum__=od;a.toString=O;return a};od.WEB=function(a){a=["WEB",2,a];a.__enum__=od;a.toString=O;return a};od.FLASH=function(a){a=["FLASH",
3,a];a.__enum__=od;a.toString=O;return a};od.CUSTOM=function(a){a=["CUSTOM",4,a];a.__enum__=od;a.toString=O;return a};od.__empty_constructs__=[];var Jc=function(){};k["lime.media.AudioManager"]=Jc;Jc.__name__=["lime","media","AudioManager"];Jc.init=function(a){if(null==Jc.context)if(null==a)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,Jc.context=od.WEB(new AudioContext)}catch(b){Aa.lastException=b,Jc.context=od.HTML5(new Tk)}else Jc.context=a};Jc.resume=function(){if(null!=
Jc.context){var a=Jc.context;if(0==a[1]){var a=a[2],b=a.getCurrentContext();if(null!=b){var c=a.getContextsDevice(b);a.resumeDevice(c);a.processContext(b)}}}};Jc.shutdown=function(){if(null!=Jc.context){var a=Jc.context;if(0==a[1]){var a=a[2],b=a.getCurrentContext();if(null!=b){var c=a.getContextsDevice(b);a.makeContextCurrent(null);a.destroyContext(b);a.closeDevice(c)}}}};Jc.suspend=function(){if(null!=Jc.context){var a=Jc.context;if(0==a[1]){var a=a[2],b=a.getCurrentContext();null!=b&&(a.suspendContext(b),
b=a.getContextsDevice(b),a.pauseDevice(b))}}};var Uk=function(a,b,c,d){null==d&&(d=0);null==b&&(b=0);this.onComplete=new Tb;this.buffer=a;this.offset=b;this.backend=new Dk(this);null!=c&&0!=c&&this.set_length(c);this.set_loops(d);null!=a&&this.init()};k["lime.media.AudioSource"]=Uk;Uk.__name__=["lime","media","AudioSource"];Uk.prototype={onComplete:null,buffer:null,offset:null,backend:null,dispose:function(){this.backend.dispose()},init:function(){this.backend.init()},play:function(){this.backend.play()},
pause:function(){this.backend.pause()},stop:function(){this.backend.stop()},get_currentTime:function(){return this.backend.getCurrentTime()},set_currentTime:function(a){return this.backend.setCurrentTime(a)},get_gain:function(){return this.backend.getGain()},set_gain:function(a){return this.backend.setGain(a)},get_length:function(){return this.backend.getLength()},set_length:function(a){return this.backend.setLength(a)},get_loops:function(){return this.backend.getLoops()},set_loops:function(a){return this.backend.setLoops(a)},
get_position:function(){return this.backend.getPosition()},set_position:function(a){return this.backend.setPosition(a)},__class__:Uk,__properties__:{set_position:"set_position",get_position:"get_position",set_loops:"set_loops",get_loops:"get_loops",set_length:"set_length",get_length:"get_length",set_gain:"set_gain",get_gain:"get_gain",set_currentTime:"set_currentTime",get_currentTime:"get_currentTime"}};var cm=function(){};k["lime.media.FlashAudioContext"]=cm;cm.__name__=["lime","media","FlashAudioContext"];
cm.prototype={createBuffer:function(a,b){return null},getBytesLoaded:function(a){return 0},getBytesTotal:function(a){return 0},getID3:function(a){return null},getIsBuffering:function(a){return!1},getIsURLInaccessible:function(a){return!1},getLength:function(a){return 0},getURL:function(a){return null},close:function(a){},extract:function(a,b,c,d){return 0},load:function(a,b,c){},loadCompressedDataFromByteArray:function(a,b,c){},loadPCMFromByteArray:function(a,b,c,d,e,f){},play:function(a,b,c,d){return null},
__class__:cm};var Tk=function(){this.NETWORK_NO_SOURCE=3;this.NETWORK_LOADING=2;this.NETWORK_IDLE=1;this.HAVE_NOTHING=this.NETWORK_EMPTY=0;this.HAVE_METADATA=1;this.HAVE_FUTURE_DATA=3;this.HAVE_ENOUGH_DATA=4;this.HAVE_CURRENT_DATA=2};k["lime.media.HTML5AudioContext"]=Tk;Tk.__name__=["lime","media","HTML5AudioContext"];Tk.prototype={HAVE_CURRENT_DATA:null,HAVE_ENOUGH_DATA:null,HAVE_FUTURE_DATA:null,HAVE_METADATA:null,HAVE_NOTHING:null,NETWORK_EMPTY:null,NETWORK_IDLE:null,NETWORK_LOADING:null,NETWORK_NO_SOURCE:null,
canPlayType:function(a,b){return null!=a.__srcAudio?a.__srcAudio.canPlayType(b):null},createBuffer:function(a){var b=new Kb;b.__srcAudio=new Audio;b.__srcAudio.src=a;return b},getAutoplay:function(a){return null!=a.__srcAudio?a.__srcAudio.autoplay:!1},getBuffered:function(a){return null!=a.__srcAudio?a.__srcAudio.buffered:null},getCurrentSrc:function(a){return null!=a.__srcAudio?a.__srcAudio.currentSrc:null},getCurrentTime:function(a){return null!=a.__srcAudio?a.__srcAudio.currentTime:0},getDefaultPlaybackRate:function(a){return null!=
a.__srcAudio?a.__srcAudio.defaultPlaybackRate:1},getDuration:function(a){return null!=a.__srcAudio?a.__srcAudio.duration:0},getEnded:function(a){return null!=a.__srcAudio?a.__srcAudio.ended:!1},getError:function(a){return null!=a.__srcAudio?a.__srcAudio.error:null},getLoop:function(a){return null!=a.__srcAudio?a.__srcAudio.loop:!1},getMuted:function(a){return null!=a.__srcAudio?a.__srcAudio.muted:!1},getNetworkState:function(a){return null!=a.__srcAudio?a.__srcAudio.networkState:0},getPaused:function(a){return null!=
a.__srcAudio?a.__srcAudio.paused:!1},getPlaybackRate:function(a){return null!=a.__srcAudio?a.__srcAudio.playbackRate:1},getPlayed:function(a){return null!=a.__srcAudio?a.__srcAudio.played:null},getPreload:function(a){return null!=a.__srcAudio?a.__srcAudio.preload:null},getReadyState:function(a){return null!=a.__srcAudio?a.__srcAudio.readyState:0},getSeekable:function(a){return null!=a.__srcAudio?a.__srcAudio.seekable:null},getSeeking:function(a){return null!=a.__srcAudio?a.__srcAudio.seeking:!1},
getSrc:function(a){return null!=a.__srcAudio?a.__srcAudio.src:null},getStartTime:function(a){return null!=a.__srcAudio?a.__srcAudio.playbackRate:0},getVolume:function(a){return null!=a.__srcAudio?a.__srcAudio.volume:1},load:function(a){null!=a.__srcAudio&&a.__srcAudio.load()},pause:function(a){null!=a.__srcAudio&&a.__srcAudio.pause()},play:function(a){null!=a.__srcAudio&&a.__srcAudio.play()},setAutoplay:function(a,b){null!=a.__srcAudio&&(a.__srcAudio.autoplay=b)},setCurrentTime:function(a,b){null!=
a.__srcAudio&&(a.__srcAudio.currentTime=b)},setDefaultPlaybackRate:function(a,b){null!=a.__srcAudio&&(a.__srcAudio.defaultPlaybackRate=b)},setLoop:function(a,b){null!=a.__srcAudio&&(a.__srcAudio.loop=b)},setMuted:function(a,b){null!=a.__srcAudio&&(a.__srcAudio.muted=b)},setPlaybackRate:function(a,b){null!=a.__srcAudio&&(a.__srcAudio.playbackRate=b)},setPreload:function(a,b){null!=a.__srcAudio&&(a.__srcAudio.preload=b)},setSrc:function(a,b){null!=a.__srcAudio&&(a.__srcAudio.src=b)},setVolume:function(a,
b){null!=a.__srcAudio&&(a.__srcAudio.volume=b)},__class__:Tk};var dm=function(){};k["lime.media.codecs.vorbis.VorbisComment"]=dm;dm.__name__=["lime","media","codecs","vorbis","VorbisComment"];dm.prototype={userComments:null,vendor:null,__class__:dm};var Ii=function(a){this.handle=a};k["lime.media.codecs.vorbis.VorbisFile"]=Ii;Ii.__name__=["lime","media","codecs","vorbis","VorbisFile"];Ii.fromBytes=function(a){return null};Ii.fromFile=function(a){return null};Ii.prototype={bitstream:null,handle:null,
bitrate:function(a){return 0},bitrateInstant:function(){return 0},clear:function(){},comment:function(a){return null},crosslap:function(a){return 0},info:function(a){return null},pcmSeek:function(a){return 0},pcmSeekLap:function(a){return 0},pcmSeekPage:function(a){return 0},pcmSeekPageLap:function(a){return 0},pcmTell:function(){return new Y(0,0)},pcmTotal:function(a){return new Y(0,0)},rawSeek:function(a){return 0},rawSeekLap:function(a){return 0},rawTell:function(){return new Y(0,0)},rawTotal:function(a){return new Y(0,
0)},read:function(a,b,c,d,e,f){return 0},readFloat:function(a,b){return 0},seekable:function(){return!1},serialNumber:function(a){return 0},streams:function(){return 0},timeSeek:function(a){return 0},timeSeekLap:function(a){return 0},timeSeekPage:function(a){return 0},timeSeekPageLap:function(a){return 0},timeTell:function(){return 0},timeTotal:function(a){return 0},__class__:Ii};var em=function(){};k["lime.media.codecs.vorbis.VorbisInfo"]=em;em.__name__=["lime","media","codecs","vorbis","VorbisInfo"];
em.prototype={bitrateLower:null,bitrateNominal:null,bitrateUpper:null,channels:null,rate:null,version:null,__class__:em};var B=function(){};k["lime.media.openal.AL"]=B;B.__name__=["lime","media","openal","AL"];B.bufferData=function(a,b,c,d,e){};B.buffer3f=function(a,b,c,d,e){};B.buffer3i=function(a,b,c,d,e){};B.bufferf=function(a,b,c){};B.bufferfv=function(a,b,c){};B.bufferi=function(a,b,c){};B.bufferiv=function(a,b,c){};B.createBuffer=function(){return null};B.createSource=function(){return null};
B.deleteBuffer=function(a){};B.deleteBuffers=function(a){};B.deleteSource=function(a){};B.deleteSources=function(a){};B.disable=function(a){};B.distanceModel=function(a){};B.dopplerFactor=function(a){};B.dopplerVelocity=function(a){};B.enable=function(a){};B.genSource=function(){return null};B.genSources=function(a){return null};B.genBuffer=function(){return null};B.genBuffers=function(a){return null};B.getBoolean=function(a){return!1};B.getBooleanv=function(a,b){return null};B.getBuffer3f=function(a,
b){return null};B.getBuffer3i=function(a,b){return null};B.getBufferf=function(a,b){return 0};B.getBufferfv=function(a,b,c){return null};B.getBufferi=function(a,b){return 0};B.getBufferiv=function(a,b,c){return null};B.getDouble=function(a){return 0};B.getDoublev=function(a,b){return null};B.getEnumValue=function(a){return 0};B.getError=function(){return 0};B.getErrorString=function(){switch(B.getError()){case 40961:return"INVALID_NAME: Invalid parameter name";case 40962:return"INVALID_ENUM: Invalid enum value";
case 40963:return"INVALID_VALUE: Invalid parameter value";case 40964:return"INVALID_OPERATION: Illegal operation or call";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}};B.getFloat=function(a){return 0};B.getFloatv=function(a,b){return null};B.getInteger=function(a){return 0};B.getIntegerv=function(a,b){return null};B.getListener3f=function(a){return null};B.getListener3i=function(a){return null};B.getListenerf=function(a){return 0};B.getListenerfv=function(a,b){return null};
B.getListeneri=function(a){return 0};B.getListeneriv=function(a,b){return null};B.getParameter=function(a){return null};B.getProcAddress=function(a){return null};B.getSource3f=function(a,b){return null};B.getSourcef=function(a,b){return 0};B.getSource3i=function(a,b){return null};B.getSourcefv=function(a,b,c){return null};B.getSourcei=function(a,b){return 0};B.getSourceiv=function(a,b,c){return null};B.getString=function(a){return null};B.isBuffer=function(a){return!1};B.isEnabled=function(a){return!1};
B.isExtensionPresent=function(a){return!1};B.isSource=function(a){return!1};B.listener3f=function(a,b,c,d){};B.listener3i=function(a,b,c,d){};B.listenerf=function(a,b){};B.listenerfv=function(a,b){};B.listeneri=function(a,b){};B.listeneriv=function(a,b){};B.source3f=function(a,b,c,d,e){};B.source3i=function(a,b,c,d,e){};B.sourcef=function(a,b,c){};B.sourcefv=function(a,b,c){};B.sourcei=function(a,b,c){};B.sourceiv=function(a,b,c){};B.sourcePlay=function(a){};B.sourcePlayv=function(a){};B.sourceStop=
function(a){};B.sourceStopv=function(a){};B.sourceRewind=function(a){};B.sourceRewindv=function(a){};B.sourcePause=function(a){};B.sourcePausev=function(a){};B.sourceQueueBuffer=function(a,b){};B.sourceQueueBuffers=function(a,b,c){};B.sourceUnqueueBuffer=function(a){return 0};B.sourceUnqueueBuffers=function(a,b){return null};B.speedOfSound=function(a){};var ym={};k["lime.media.openal._ALBuffer.ALBuffer_Impl_"]=ym;ym.__name__=["lime","media","openal","_ALBuffer","ALBuffer_Impl_"];ym._new=function(a){return a};
var va=function(){};k["lime.media.openal.ALC"]=va;va.__name__=["lime","media","openal","ALC"];va.closeDevice=function(a){return!1};va.createContext=function(a,b){return null};va.destroyContext=function(a){};va.getContextsDevice=function(a){return null};va.getCurrentContext=function(){return null};va.getError=function(a){return 0};va.getErrorString=function(a){switch(va.getError(a)){case 40961:return"INVALID_DEVICE: Invalid device (or no device?)";case 40962:return"INVALID_CONTEXT: Invalid context (or no context?)";
case 40963:return"INVALID_ENUM: Invalid enum value";case 40964:return"INVALID_VALUE: Invalid param value";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}};va.getIntegerv=function(a,b,c){return null};va.getString=function(a,b){return null};va.makeContextCurrent=function(a){return!1};va.openDevice=function(a){return null};va.pauseDevice=function(a){};va.processContext=function(a){};va.resumeDevice=function(a){};va.suspendContext=function(a){};var zm={};k["lime.media.openal._ALContext.ALContext_Impl_"]=
zm;zm.__name__=["lime","media","openal","_ALContext","ALContext_Impl_"];zm._new=function(a){return a};var Am={};k["lime.media.openal._ALDevice.ALDevice_Impl_"]=Am;Am.__name__=["lime","media","openal","_ALDevice","ALDevice_Impl_"];Am._new=function(a){return a};var Bm={};k["lime.media.openal._ALSource.ALSource_Impl_"]=Bm;Bm.__name__=["lime","media","openal","_ALSource","ALSource_Impl_"];Bm._new=function(a){return a};var Vk=function(){};k["lime.net._IHTTPRequest"]=Vk;Vk.__name__=["lime","net","_IHTTPRequest"];
Vk.prototype={contentType:null,data:null,enableResponseHeaders:null,followRedirects:null,formData:null,headers:null,method:null,responseHeaders:null,responseStatus:null,timeout:null,uri:null,userAgent:null,cancel:null,__class__:Vk};var Lc=function(a){this.uri=a;this.contentType="application/x-www-form-urlencoded";this.followRedirects=!0;this.formData=new pa;this.headers=[];this.method="GET";this.timeout=3E4;this.backend=new Ta;this.backend.init(this)};k["lime.net._HTTPRequest.AbstractHTTPRequest"]=
Lc;Lc.__name__=["lime","net","_HTTPRequest","AbstractHTTPRequest"];Lc.__interfaces__=[Vk];Lc.prototype={contentType:null,data:null,enableResponseHeaders:null,followRedirects:null,formData:null,headers:null,method:null,responseData:null,responseHeaders:null,responseStatus:null,timeout:null,uri:null,userAgent:null,backend:null,cancel:function(){this.backend.cancel()},load:function(a){return null},__class__:Lc};var Wk=function(a){Lc.call(this,a)};k["lime.net.HTTPRequest"]=Wk;Wk.__name__=["lime","net",
"HTTPRequest"];Wk.__super__=Lc;Wk.prototype=t(Lc.prototype,{__class__:Wk});var pe=function(a){Lc.call(this,a)};k["lime.net._HTTPRequest_Bytes"]=pe;pe.__name__=["lime","net","_HTTPRequest_Bytes"];pe.__super__=Lc;pe.prototype=t(Lc.prototype,{fromBytes:function(a){return a},load:function(a){var b=this;null!=a&&(this.uri=a);var c=new Jb;a=this.backend.loadData(this.uri);a.onProgress(n(c,c.progress));a.onError(n(c,c.error));a.onComplete(function(a){b.responseData=b.fromBytes(a);c.complete(b.responseData)});
return c.future},__class__:pe});var Og=function(a){Lc.call(this,a)};k["lime.net._HTTPRequest_String"]=Og;Og.__name__=["lime","net","_HTTPRequest_String"];Og.__super__=Lc;Og.prototype=t(Lc.prototype,{load:function(a){var b=this;null!=a&&(this.uri=a);var c=new Jb;a=this.backend.loadText(this.uri);a.onProgress(n(c,c.progress));a.onError(n(c,c.error));a.onComplete(function(a){b.responseData=a;c.complete(b.responseData)});return c.future},__class__:Og});var yi=function(a,b){null==b&&(b="");this.name=a;
this.value=b};k["lime.net.HTTPRequestHeader"]=yi;yi.__name__=["lime","net","HTTPRequestHeader"];yi.prototype={name:null,value:null,__class__:yi};var Ji=function(a){Lc.call(this,a)};k["lime.net._HTTPRequest_lime_text_Font"]=Ji;Ji.__name__=["lime","net","_HTTPRequest_lime_text_Font"];Ji.__super__=pe;Ji.prototype=t(pe.prototype,{fromBytes:function(a){return Eb.fromBytes(a)},__class__:Ji});var Ki=function(a){Lc.call(this,a)};k["lime.net._HTTPRequest_lime_utils_Bytes"]=Ki;Ki.__name__=["lime","net","_HTTPRequest_lime_utils_Bytes"];
Ki.__super__=pe;Ki.prototype=t(pe.prototype,{fromBytes:function(a){return Lb.fromBytes(a)},__class__:Ki});var Li=function(a){Lc.call(this,a)};k["lime.net._HTTPRequest_openfl_utils_ByteArray"]=Li;Li.__name__=["lime","net","_HTTPRequest_openfl_utils_ByteArray"];Li.__super__=pe;Li.prototype=t(pe.prototype,{fromBytes:function(a){return ka.fromBytes(a)},__class__:Li});var qe=function(){};k["lime.system.CFFI"]=qe;qe.__name__=["lime","system","CFFI"];qe.load=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=
0);return qe.enabled?null:H.makeVarArgs(function(a){return{}})};qe.__findHaxelib=function(a){return""};qe.__loaderTrace=function(a){};qe.__sysName=function(){return null};qe.__tryLoad=function(a,b,c,d){return null};var Pa={};k["lime.system._CFFIPointer.CFFIPointer_Impl_"]=Pa;Pa.__name__=["lime","system","_CFFIPointer","CFFIPointer_Impl_"];Pa._new=function(a){return a};Pa.get=function(a){return 0};Pa.equals=function(a,b){return Pa.get(a)==b};Pa.equalsPointer=function(a,b){return Pa.get(a)==Pa.get(b)};
Pa.greaterThan=function(a,b){return Pa.get(a)>b};Pa.greaterThanPointer=function(a,b){return Pa.get(a)>Pa.get(b)};Pa.greaterThanOrEqual=function(a,b){return Pa.get(a)>=b};Pa.greaterThanOrEqualPointer=function(a,b){return Pa.get(a)>=Pa.get(b)};Pa.lessThan=function(a,b){return Pa.get(a)<b};Pa.lessThanPointer=function(a,b){return Pa.get(a)<Pa.get(b)};Pa.lessThanOrEqual=function(a,b){return Pa.get(a)<=b};Pa.lessThanOrEqualPointer=function(a,b){return Pa.get(a)<=Pa.get(b)};Pa.notEquals=function(a,b){return Pa.get(a)!=
b};Pa.notEqualsPointer=function(a,b){return Pa.get(a)!=Pa.get(b)};var Ld=function(){};k["lime.system.Clipboard"]=Ld;Ld.__name__=["lime","system","Clipboard"];Ld.__properties__={set_text:"set_text",get_text:"get_text"};Ld.get_text=function(){return Ld._text};Ld.set_text=function(a){Ld._text=a;var b=mc.current.__windows[0];null!=b&&b.backend.setClipboard(a);return a};var Xk=function(){};k["lime.system.Display"]=Xk;Xk.__name__=["lime","system","Display"];Xk.prototype={bounds:null,currentMode:null,id:null,
dpi:null,name:null,supportedModes:null,__class__:Xk};var Yk=function(a,b,c,d){this.width=a;this.height=b;this.refreshRate=c;this.pixelFormat=d};k["lime.system.DisplayMode"]=Yk;Yk.__name__=["lime","system","DisplayMode"];Yk.prototype={height:null,pixelFormat:null,refreshRate:null,width:null,__class__:Yk};var Od=k["lime.system.Endian"]={__ename__:["lime","system","Endian"],__constructs__:["LITTLE_ENDIAN","BIG_ENDIAN"]};Od.LITTLE_ENDIAN=["LITTLE_ENDIAN",0];Od.LITTLE_ENDIAN.toString=O;Od.LITTLE_ENDIAN.__enum__=
Od;Od.BIG_ENDIAN=["BIG_ENDIAN",1];Od.BIG_ENDIAN.toString=O;Od.BIG_ENDIAN.__enum__=Od;Od.__empty_constructs__=[Od.LITTLE_ENDIAN,Od.BIG_ENDIAN];var ec=function(){};k["lime.system.JNI"]=ec;ec.__name__=["lime","system","JNI"];ec.callMember=function(a,b,c){switch(c.length){case 0:return a(b);case 1:return a(b,c[0]);case 2:return a(b,c[0],c[1]);case 3:return a(b,c[0],c[1],c[2]);case 4:return a(b,c[0],c[1],c[2],c[3]);case 5:return a(b,c[0],c[1],c[2],c[3],c[4]);case 6:return a(b,c[0],c[1],c[2],c[3],c[4],
c[5]);case 7:return a(b,c[0],c[1],c[2],c[3],c[4],c[5],c[6]);default:return null}};ec.callStatic=function(a,b){switch(b.length){case 0:return a();case 1:return a(b[0]);case 2:return a(b[0],b[1]);case 3:return a(b[0],b[1],b[2]);case 4:return a(b[0],b[1],b[2],b[3]);case 5:return a(b[0],b[1],b[2],b[3],b[4]);case 6:return a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);default:return null}};ec.createMemberField=function(a,b,c){ec.init();return null};ec.createMemberMethod=
function(a,b,c,d,e){ec.init();return null};ec.createStaticField=function(a,b,c){ec.init();return null};ec.createStaticMethod=function(a,b,c,d,e){ec.init();return null};ec.getEnv=function(){ec.init();return null};ec.init=function(){ec.initialized||(ec.initialized=!0)};ec.onCallback=function(a,b,c){b=H.field(a,b);return null!=b?b.apply(a,c):null};ec.postUICallback=function(a){a()};var fm=function(a){this.field=a};k["lime.system.JNIMemberField"]=fm;fm.__name__=["lime","system","JNIMemberField"];fm.prototype=
{field:null,get:function(a){return null},set:function(a,b){return b},__class__:fm};var gm=function(a){this.field=a};k["lime.system.JNIStaticField"]=gm;gm.__name__=["lime","system","JNIStaticField"];gm.prototype={field:null,get:function(){return null},set:function(a){return a},__class__:gm};var hm=function(a){this.method=a};k["lime.system.JNIMethod"]=hm;hm.__name__=["lime","system","JNIMethod"];hm.prototype={method:null,callMember:function(a){return null},callStatic:function(a){return null},getMemberMethod:function(a){return a?
n(this,this.callMember):H.makeVarArgs(n(this,this.callMember))},getStaticMethod:function(a){return a?n(this,this.callStatic):H.makeVarArgs(n(this,this.callStatic))},__class__:hm};var mb={};k["lime.system._Locale.Locale_Impl_"]=mb;mb.__name__=["lime","system","_Locale","Locale_Impl_"];mb.__properties__={get_region:"get_region",get_language:"get_language",get_systemLocale:"get_systemLocale",set_currentLocale:"set_currentLocale",get_currentLocale:"get_currentLocale"};mb._new=function(a){return a};mb.equals=
function(a,b){var c=mb.get_language(a),d=mb.get_region(a),e=mb.get_language(b),f=mb.get_region(b),g=c==e,k=d==f;g||null==c||null==e||(g=c.toLowerCase()==e.toLowerCase());k||null==d||null==f||(k=d.toLowerCase()==f.toLowerCase());return g?k:!1};mb.__init=function(){if(null==mb.__systemLocale){var a=null,a=navigator.language;mb.__systemLocale=null!=a?a:"en-US";mb.set_currentLocale(mb.__systemLocale)}};mb.get_language=function(a){if(null!=a){var b=a.indexOf("_");if(-1<b)return a.substring(0,b);b=a.indexOf("-");
if(-1<b)return a.substring(0,b)}return a};mb.get_region=function(a){if(null!=a){var b=a.indexOf("_"),c=a.indexOf("."),d=a.indexOf("-");if(-1<b)return-1<c?a.substring(b+1,c):a.substring(b+1);if(-1<d)return-1<c?a.substring(d+1,c):a.substring(d+1)}return null};mb.get_currentLocale=function(){mb.__init();return mb.currentLocale};mb.set_currentLocale=function(a){mb.__init();return mb.currentLocale=a};mb.get_systemLocale=function(){mb.__init();return mb.__systemLocale};var za=function(){};k["lime.system.System"]=
za;za.__name__=["lime","system","System"];za.__properties__={get_userDirectory:"get_userDirectory",get_numDisplays:"get_numDisplays",get_fontsDirectory:"get_fontsDirectory",get_endianness:"get_endianness",get_documentsDirectory:"get_documentsDirectory",get_desktopDirectory:"get_desktopDirectory",get_applicationStorageDirectory:"get_applicationStorageDirectory",get_applicationDirectory:"get_applicationDirectory",set_allowScreenTimeout:"set_allowScreenTimeout",get_allowScreenTimeout:"get_allowScreenTimeout"};
za.embed=Ze.lime.embed=function(a,b,c,d,e){if(null!=za.__applicationEntryPoint&&null!=za.__applicationConfig){var f=za.__applicationEntryPoint;if(null!=u[a]?f.existsReserved(a):f.h.hasOwnProperty(a))if(f=null,f="string"==typeof b?window.document.getElementById(b):null==b?window.document.createElement("div"):b,null==f)window.console.log("[lime.embed] ERROR: Cannot find target element: "+q.string(b));else{null==c&&(c=0);null==d&&(d=0);b=za.__applicationConfig;var g=null!=u[a]?b.getReserved(a):b.h[a];
b={};za.__copyMissingFields(b,g);if(null!=e){b.windows=[];e instanceof Array&&null==e.__enum__?b.windows=e:b.windows[0]=e;for(var k=0,m=b.windows.length;k<m;){var h=k++;h<g.windows.length&&za.__copyMissingFields(b.windows[h],g.windows[h]);za.__copyMissingFields(b.windows[h].parameters,g.windows[h].parameters);"string"==typeof e.background&&(h=fa.replace(q.string(e.background),"#",""),-1<h.indexOf("0x")?e.background=q.parseInt(h):e.background=q.parseInt("0x"+h))}}H.field(b.windows[0],"rootPath")&&
(b.rootPath=H.field(b.windows[0],"rootPath"),b.assetsPrefix=b.rootPath,H.deleteField(b.windows[0],"rootPath"));H.field(b.windows[0],"assetsPrefix")&&(b.rootPath=H.field(b.windows[0],"assetsPrefix"),b.assetsPrefix=b.rootPath,H.deleteField(b.windows[0],"assetsPrefix"));b.windows[0].element=f;b.windows[0].width=c;b.windows[0].height=d;c=za.__applicationEntryPoint;(null!=u[a]?c.getReserved(a):c.h[a])(b)}}};za.exit=function(a){};za.getDisplay=function(a){return 0==a?(a=new Xk,a.id=0,a.name="Generic Display",
a.dpi=96*window.devicePixelRatio,a.currentMode=new Yk(window.screen.width,window.screen.height,60,1),a.supportedModes=[a.currentMode],a.bounds=new Bb(0,0,a.currentMode.width,a.currentMode.height),a):null};za.getTimer=function(){return(new Date).getTime()};za.load=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=0);return qe.load(a,b,c,d)};za.openFile=function(a){null!=a&&window.open(a,"_blank")};za.openURL=function(a,b){null==b&&(b="_blank");null!=a&&window.open(a,b)};za.__copyMissingFields=function(a,
b){if(null!=b&&null!=a)for(var c=0,d=H.fields(b);c<d.length;){var e=d[c];++c;Object.prototype.hasOwnProperty.call(a,e)||(a[e]=H.field(b,e))}};za.__getDirectory=function(a){return null};za.__registerEntryPoint=function(a,b,c){null==za.__applicationConfig&&(za.__applicationConfig=new pa);null==za.__applicationEntryPoint&&(za.__applicationEntryPoint=new pa);var d=za.__applicationEntryPoint;null!=u[a]?d.setReserved(a,b):d.h[a]=b;b=za.__applicationConfig;null!=u[a]?b.setReserved(a,c):b.h[a]=c};za.get_allowScreenTimeout=
function(){return!0};za.set_allowScreenTimeout=function(a){return!0};za.get_applicationDirectory=function(){return za.__getDirectory(0)};za.get_applicationStorageDirectory=function(){return za.__getDirectory(1)};za.get_desktopDirectory=function(){return za.__getDirectory(2)};za.get_documentsDirectory=function(){return za.__getDirectory(3)};za.get_fontsDirectory=function(){return za.__getDirectory(4)};za.get_numDisplays=function(){return 1};za.get_userDirectory=function(){return za.__getDirectory(5)};
za.get_endianness=function(){return Od.LITTLE_ENDIAN};var Hk=function(a,b){null==b&&(b=1);null==a&&(a=0);this.onProgress=new Of;this.onError=new Of;this.onComplete=new Of;this.doWork=new Of;this.minThreads=a;this.maxThreads=b;this.currentThreads=0};k["lime.system.ThreadPool"]=Hk;Hk.__name__=["lime","system","ThreadPool"];Hk.prototype={currentThreads:null,doWork:null,maxThreads:null,minThreads:null,onComplete:null,onError:null,onProgress:null,queue:function(a){this.doWork.dispatch(a)},sendComplete:function(a){this.onComplete.dispatch(a)},
sendError:function(a){this.onError.dispatch(a)},sendProgress:function(a){this.onProgress.dispatch(a)},__class__:Hk};var yb=k["lime.system._ThreadPool.ThreadPoolMessageType"]={__ename__:["lime","system","_ThreadPool","ThreadPoolMessageType"],__constructs__:["COMPLETE","ERROR","EXIT","PROGRESS","WORK"]};yb.COMPLETE=["COMPLETE",0];yb.COMPLETE.toString=O;yb.COMPLETE.__enum__=yb;yb.ERROR=["ERROR",1];yb.ERROR.toString=O;yb.ERROR.__enum__=yb;yb.EXIT=["EXIT",2];yb.EXIT.toString=O;yb.EXIT.__enum__=yb;yb.PROGRESS=
["PROGRESS",3];yb.PROGRESS.toString=O;yb.PROGRESS.__enum__=yb;yb.WORK=["WORK",4];yb.WORK.toString=O;yb.WORK.__enum__=yb;yb.__empty_constructs__=[yb.COMPLETE,yb.ERROR,yb.EXIT,yb.PROGRESS,yb.WORK];var im=function(a,b){this.type=a;this.state=b};k["lime.system._ThreadPool.ThreadPoolMessage"]=im;im.__name__=["lime","system","_ThreadPool","ThreadPoolMessage"];im.prototype={state:null,type:null,__class__:im};var Eb=function(a){null!=a&&(this.name=a);null!=this.__fontPath&&this.__fromFile(this.__fontPath)};
k["lime.text.Font"]=Eb;Eb.__name__=["lime","text","Font"];Eb.fromBytes=function(a){if(null==a)return null;var b=new Eb;b.__fromBytes(a);return b};Eb.fromFile=function(a){if(null==a)return null;var b=new Eb;b.__fromFile(a);return b};Eb.loadFromBytes=function(a){return Ha.withValue(Eb.fromBytes(a))};Eb.loadFromFile=function(a){return(new Ji).load(a).then(function(a){return null!=a?Ha.withValue(a):Ha.withError("")})};Eb.loadFromName=function(a){return(new Eb).__loadFromName(a)};Eb.__makeLoaderNode=function(a){var b=
window.document.createElement("span");b.innerHTML="giItT1WQy@!-/#";var c=b.style;c.position="absolute";c.left="-10000px";c.top="-10000px";c.fontSize="300px";c.fontFamily=a;c.fontVariant="normal";c.fontStyle="normal";c.fontWeight="normal";c.letterSpacing="0";window.document.body.appendChild(b);return b};Eb.prototype={ascender:null,descender:null,height:null,name:null,numGlyphs:null,src:null,underlinePosition:null,underlineThickness:null,unitsPerEM:null,__fontPath:null,decompose:function(){return null},
getGlyph:function(a){return-1},getGlyphs:function(a){return null},getGlyphMetrics:function(a){return null},renderGlyph:function(a,b){return null},renderGlyphs:function(a,b){return null},__fromBytes:function(a){this.__fontPath=null},__fromFile:function(a){this.__fontPath=a},__loadFromName:function(a){var b=this,c=new Jb;this.name=a;var d=window.navigator.userAgent.toLowerCase();if(0<=d.indexOf(" safari/")&&0>d.indexOf(" chrome/")||!window.document.fonts||(Pd=window.document.fonts,!n(Pd,Pd.load))){var e=
Eb.__makeLoaderNode("sans-serif"),f=Eb.__makeLoaderNode("serif"),g=e.offsetWidth,k=f.offsetWidth;e.style.fontFamily="'"+a+"', sans-serif";f.style.fontFamily="'"+a+"', serif";var m=null,h=!1;a=function(){if(e.offsetWidth!=g||f.offsetWidth!=k){if(!h)return h=!0,!1;null!=m&&window.clearInterval(m);e.parentNode.removeChild(e);f.parentNode.removeChild(f);f=e=null;c.complete(b);return!0}return!1};a()||(m=window.setInterval(a,50))}else window.document.fonts.load("1em '"+a+"'").then(function(a){c.complete(b)});
return c.future},__setSize:function(a){},get_ascender:function(){return 0},get_descender:function(){return 0},get_height:function(){return 0},get_numGlyphs:function(){return 0},get_underlinePosition:function(){return 0},get_underlineThickness:function(){return 0},get_unitsPerEM:function(){return 0},__class__:Eb,__properties__:{get_unitsPerEM:"get_unitsPerEM",get_underlineThickness:"get_underlineThickness",get_underlinePosition:"get_underlinePosition",get_numGlyphs:"get_numGlyphs",get_height:"get_height",
get_descender:"get_descender",get_ascender:"get_ascender"}};var Cm={};k["lime.text._Glyph.Glyph_Impl_"]=Cm;Cm.__name__=["lime","text","_Glyph","Glyph_Impl_"];Cm._new=function(a){return a};var jm=function(){};k["lime.text.GlyphMetrics"]=jm;jm.__name__=["lime","text","GlyphMetrics"];jm.prototype={advance:null,height:null,horizontalBearing:null,verticalBearing:null,__class__:jm};var km=function(a,b,c){this.glyph=a;this.advance=b;this.offset=null!=c?c:new vb};k["lime.text.GlyphPosition"]=km;km.__name__=
["lime","text","GlyphPosition"];km.prototype={advance:null,glyph:null,offset:null,__class__:km};var ed={};k["lime.text._TextDirection.TextDirection_Impl_"]=ed;ed.__name__=["lime","text","_TextDirection","TextDirection_Impl_"];ed.__properties__={get_vertical:"get_vertical",get_horizontal:"get_horizontal",get_forward:"get_forward",get_backward:"get_backward"};ed.reverse=function(a){};ed.toString=function(a){switch(a){case 4:return"leftToRight";case 5:return"rightToLeft";case 6:return"topToBottom";case 7:return"bottomToTop";
default:return""}};ed.get_backward=function(a){return 5==(a&-3)};ed.get_forward=function(a){return 4==(a&-3)};ed.get_horizontal=function(a){return 4==(a&-2)};ed.get_vertical=function(a){return 6==(a&-2)};var lm=function(a,b,c,d,e,f){null==f&&(f="en");null==e&&(e="Zyyy");null==d&&(d=4);null==c&&(c=12);null==a&&(a="");this.set_text(a);this.set_font(b);this.set_size(c);this.__direction=d;this.__script=e;this.__language=f;this.positions=[];this.__dirty=!0};k["lime.text.TextLayout"]=lm;lm.__name__=["lime",
"text","TextLayout"];lm.prototype={font:null,glyphs:null,positions:null,size:null,text:null,__dirty:null,__buffer:null,__direction:null,__handle:null,__language:null,__script:null,__position:function(){this.positions=[]},get_positions:function(){this.__dirty&&(this.__dirty=!1,this.__position());return this.positions},get_direction:function(){return this.__direction},set_direction:function(a){if(a==this.__direction)return a;this.__direction=a;this.__dirty=!0;return a},set_font:function(a){if(a==this.font)return a;
this.font=a;this.__dirty=!0;return a},get_glyphs:function(){for(var a=[],b=0,c=this.get_positions();b<c.length;){var d=c[b];++b;a.push(d.glyph)}return a},get_language:function(){return this.__language},set_language:function(a){if(a==this.__language)return a;this.__language=a;this.__dirty=!0;return a},get_script:function(){return this.__script},set_script:function(a){if(a==this.__script)return a;this.__script=a;this.__dirty=!0;return a},set_size:function(a){if(a==this.size)return a;this.size=a;this.__dirty=
!0;return a},set_text:function(a){if(a==this.text)return a;this.text=a;this.__dirty=!0;return a},__class__:lm,__properties__:{set_text:"set_text",set_size:"set_size",set_script:"set_script",get_script:"get_script",get_positions:"get_positions",set_language:"set_language",get_language:"get_language",get_glyphs:"get_glyphs",set_font:"set_font",set_direction:"set_direction",get_direction:"get_direction"}};var M={};k["lime.text._TextScript.TextScript_Impl_"]=M;M.__name__=["lime","text","_TextScript",
"TextScript_Impl_"];M.__properties__={get_rightToLeft:"get_rightToLeft"};M.get_rightToLeft=function(a){switch(a){case "Arab":case "Armi":case "Avst":case "Cprt":case "Hebr":case "Khar":case "Lydi":case "Mand":case "Nkoo":case "Orkh":case "Phli":case "Phlp":case "Phnx":case "Samr":case "Sarb":case "Syrc":case "Thaa":return!0;default:return!1}};var wb=function(a){this.onDisconnect=new Tb;this.onButtonUp=new Ei;this.onButtonDown=new Ei;this.onAxisMove=new Lk;this.id=a;this.connected=!0};k["lime.ui.Gamepad"]=
wb;wb.__name__=["lime","ui","Gamepad"];wb.addMappings=function(a){};wb.__connect=function(a){if(!wb.devices.h.hasOwnProperty(a)){var b=new wb(a);wb.devices.h[a]=b;wb.onConnect.dispatch(b)}};wb.__disconnect=function(a){var b=wb.devices.h[a];null!=b&&(b.connected=!1);wb.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};wb.prototype={connected:null,id:null,onAxisMove:null,onButtonDown:null,onButtonUp:null,onDisconnect:null,get_guid:function(){return cb.__getDeviceData()[this.id].id},get_name:function(){return cb.__getDeviceData()[this.id].id},
__class__:wb,__properties__:{get_name:"get_name",get_guid:"get_guid"}};var nf={};k["lime.ui._GamepadAxis.GamepadAxis_Impl_"]=nf;nf.__name__=["lime","ui","_GamepadAxis","GamepadAxis_Impl_"];nf.toString=function(a){switch(a){case 0:return"LEFT_X";case 1:return"LEFT_Y";case 2:return"RIGHT_X";case 3:return"RIGHT_Y";case 4:return"TRIGGER_LEFT";case 5:return"TRIGGER_RIGHT";default:return"UNKNOWN ("+a+")"}};var Dc={};k["lime.ui._GamepadButton.GamepadButton_Impl_"]=Dc;Dc.__name__=["lime","ui","_GamepadButton",
"GamepadButton_Impl_"];Dc.toString=function(a){switch(a){case 0:return"A";case 1:return"B";case 2:return"X";case 3:return"Y";case 4:return"BACK";case 5:return"GUIDE";case 6:return"START";case 7:return"LEFT_STICK";case 8:return"RIGHT_STICK";case 9:return"LEFT_SHOULDER";case 10:return"RIGHT_SHOULDER";case 11:return"DPAD_UP";case 12:return"DPAD_DOWN";case 13:return"DPAD_LEFT";case 14:return"DPAD_RIGHT";default:return"UNKNOWN ("+a+")"}};var cb=function(a){this.onTrackballMove=new Ci;this.onHatMove=new Ik;
this.onDisconnect=new Tb;this.onButtonUp=new Nf;this.onButtonDown=new Nf;this.onAxisMove=new Ci;this.id=a;this.connected=!0};k["lime.ui.Joystick"]=cb;cb.__name__=["lime","ui","Joystick"];cb.__connect=function(a){if(!cb.devices.h.hasOwnProperty(a)){var b=new cb(a);cb.devices.h[a]=b;cb.onConnect.dispatch(b)}};cb.__disconnect=function(a){var b=cb.devices.h[a];null!=b&&(b.connected=!1);cb.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};cb.__getDeviceData=function(){return navigator.getGamepads?
navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null};cb.prototype={connected:null,id:null,onAxisMove:null,onButtonDown:null,onButtonUp:null,onDisconnect:null,onHatMove:null,onTrackballMove:null,get_guid:function(){return cb.__getDeviceData()[this.id].id},get_name:function(){return cb.__getDeviceData()[this.id].id},get_numAxes:function(){return cb.__getDeviceData()[this.id].axes.length},get_numButtons:function(){return cb.__getDeviceData()[this.id].buttons.length},
get_numHats:function(){return 0},get_numTrackballs:function(){return 0},__class__:cb,__properties__:{get_numTrackballs:"get_numTrackballs",get_numHats:"get_numHats",get_numButtons:"get_numButtons",get_numAxes:"get_numAxes",get_name:"get_name",get_guid:"get_guid"}};var Ub={};k["lime.ui._JoystickHatPosition.JoystickHatPosition_Impl_"]=Ub;Ub.__name__=["lime","ui","_JoystickHatPosition","JoystickHatPosition_Impl_"];Ub.__properties__={set_up:"set_up",get_up:"get_up",set_right:"set_right",get_right:"get_right",
set_left:"set_left",get_left:"get_left",set_down:"set_down",get_down:"get_down",set_center:"set_center",get_center:"get_center"};Ub._new=function(a){return a};Ub.get_center=function(a){return 0==a};Ub.set_center=function(a,b){return b};Ub.get_down=function(a){return 0<(a&4)};Ub.set_down=function(a,b){return b};Ub.get_left=function(a){return 0<(a&8)};Ub.set_left=function(a,b){return b};Ub.get_right=function(a){return 0<(a&2)};Ub.set_right=function(a,b){return b};Ub.get_up=function(a){return 0<(a&1)};
Ub.set_up=function(a,b){return b};var w={};k["lime.ui._KeyCode.KeyCode_Impl_"]=w;w.__name__=["lime","ui","_KeyCode","KeyCode_Impl_"];w.fromScanCode=function(a){return 0};w.toScanCode=function(a){return 0};w.gt=function(a,b){return a>b};w.gte=function(a,b){return a>=b};w.lt=function(a,b){return a<b};w.lte=function(a,b){return a<=b};w.plus=function(a,b){return a+b};var qa={};k["lime.ui._KeyModifier.KeyModifier_Impl_"]=qa;qa.__name__=["lime","ui","_KeyModifier","KeyModifier_Impl_"];qa.__properties__=
{set_shiftKey:"set_shiftKey",get_shiftKey:"get_shiftKey",set_numLock:"set_numLock",get_numLock:"get_numLock",set_metaKey:"set_metaKey",get_metaKey:"get_metaKey",set_ctrlKey:"set_ctrlKey",get_ctrlKey:"get_ctrlKey",set_capsLock:"set_capsLock",get_capsLock:"get_capsLock",set_altKey:"set_altKey",get_altKey:"get_altKey"};qa.get_altKey=function(a){return 0>=(a&256)?0<(a&512):!0};qa.set_altKey=function(a,b){return b};qa.get_capsLock=function(a){return 0>=(a&8192)?0<(a&8192):!0};qa.set_capsLock=function(a,
b){return b};qa.get_ctrlKey=function(a){return 0>=(a&64)?0<(a&128):!0};qa.set_ctrlKey=function(a,b){return b};qa.get_metaKey=function(a){return 0>=(a&1024)?0<(a&2048):!0};qa.set_metaKey=function(a,b){return b};qa.get_numLock=function(a){return 0>=(a&4096)?0<(a&4096):!0};qa.set_numLock=function(a,b){return b};qa.get_shiftKey=function(a){return 0>=(a&1)?0<(a&2):!0};qa.set_shiftKey=function(a,b){return b};var nc=function(){};k["lime.ui.Mouse"]=nc;nc.__name__=["lime","ui","Mouse"];nc.__properties__={set_lock:"set_lock",
get_lock:"get_lock",set_cursor:"set_cursor",get_cursor:"get_cursor"};nc.hide=function(){lb.hide()};nc.show=function(){lb.show()};nc.warp=function(a,b,c){lb.warp(a,b,c)};nc.get_cursor=function(){return lb.get_cursor()};nc.set_cursor=function(a){return lb.set_cursor(a)};nc.get_lock=function(){return lb.get_lock()};nc.set_lock=function(a){return lb.set_lock(a)};var da=k["lime.ui.MouseCursor"]={__ename__:["lime","ui","MouseCursor"],__constructs__:"ARROW CROSSHAIR DEFAULT MOVE POINTER RESIZE_NESW RESIZE_NS RESIZE_NWSE RESIZE_WE TEXT WAIT WAIT_ARROW CUSTOM".split(" ")};
da.ARROW=["ARROW",0];da.ARROW.toString=O;da.ARROW.__enum__=da;da.CROSSHAIR=["CROSSHAIR",1];da.CROSSHAIR.toString=O;da.CROSSHAIR.__enum__=da;da.DEFAULT=["DEFAULT",2];da.DEFAULT.toString=O;da.DEFAULT.__enum__=da;da.MOVE=["MOVE",3];da.MOVE.toString=O;da.MOVE.__enum__=da;da.POINTER=["POINTER",4];da.POINTER.toString=O;da.POINTER.__enum__=da;da.RESIZE_NESW=["RESIZE_NESW",5];da.RESIZE_NESW.toString=O;da.RESIZE_NESW.__enum__=da;da.RESIZE_NS=["RESIZE_NS",6];da.RESIZE_NS.toString=O;da.RESIZE_NS.__enum__=da;
da.RESIZE_NWSE=["RESIZE_NWSE",7];da.RESIZE_NWSE.toString=O;da.RESIZE_NWSE.__enum__=da;da.RESIZE_WE=["RESIZE_WE",8];da.RESIZE_WE.toString=O;da.RESIZE_WE.__enum__=da;da.TEXT=["TEXT",9];da.TEXT.toString=O;da.TEXT.__enum__=da;da.WAIT=["WAIT",10];da.WAIT.toString=O;da.WAIT.__enum__=da;da.WAIT_ARROW=["WAIT_ARROW",11];da.WAIT_ARROW.toString=O;da.WAIT_ARROW.__enum__=da;da.CUSTOM=["CUSTOM",12];da.CUSTOM.toString=O;da.CUSTOM.__enum__=da;da.__empty_constructs__=[da.ARROW,da.CROSSHAIR,da.DEFAULT,da.MOVE,da.POINTER,
da.RESIZE_NESW,da.RESIZE_NS,da.RESIZE_NWSE,da.RESIZE_WE,da.TEXT,da.WAIT,da.WAIT_ARROW,da.CUSTOM];var E={};k["lime.ui._ScanCode.ScanCode_Impl_"]=E;E.__name__=["lime","ui","_ScanCode","ScanCode_Impl_"];E.fromKeyCode=function(a){return w.toScanCode(a)};E.toKeyCode=function(a){return w.fromScanCode(a)};E.gt=function(a,b){return a>b};E.gte=function(a,b){return a>=b};E.lt=function(a,b){return a<b};E.lte=function(a,b){return a<=b};E.plus=function(a,b){return a+b};var Sb=function(a,b,c,d,e,f,g){this.x=a;
this.y=b;this.id=c;this.dx=d;this.dy=e;this.pressure=f;this.device=g};k["lime.ui.Touch"]=Sb;Sb.__name__=["lime","ui","Touch"];Sb.prototype={device:null,dx:null,dy:null,id:null,pressure:null,x:null,y:null,__class__:Sb};var lf=function(a){this.onTextInput=new Di;this.onTextEdit=new Jk;this.onRestore=new Tb;this.onResize=new Ai;this.onMove=new Pf;this.onMouseWheel=new Pf;this.onMouseUp=new Bi;this.onMouseMoveRelative=new Pf;this.onMouseMove=new Pf;this.onMouseDown=new Bi;this.onMinimize=new Tb;this.onLeave=
new Tb;this.onKeyUp=new Fi;this.onKeyDown=new Fi;this.onFullscreen=new Tb;this.onFocusOut=new Tb;this.onFocusIn=new Tb;this.onEnter=new Tb;this.onDropFile=new Di;this.onDeactivate=new Tb;this.onCreate=new Tb;this.onClose=new Tb;this.onActivate=new Tb;this.config=a;this.__height=this.__width=0;this.__fullscreen=!1;this.__scale=1;this.__y=this.__x=0;this.__title="";this.id=-1;null!=a&&(Object.prototype.hasOwnProperty.call(a,"width")&&(this.__width=a.width),Object.prototype.hasOwnProperty.call(a,"height")&&
(this.__height=a.height),Object.prototype.hasOwnProperty.call(a,"x")&&(this.__x=a.x),Object.prototype.hasOwnProperty.call(a,"y")&&(this.__y=a.y),Object.prototype.hasOwnProperty.call(a,"fullscreen")&&(this.__fullscreen=a.fullscreen),Object.prototype.hasOwnProperty.call(a,"borderless")&&(this.__borderless=a.borderless),Object.prototype.hasOwnProperty.call(a,"resizable")&&(this.__resizable=a.resizable),Object.prototype.hasOwnProperty.call(a,"title")&&(this.__title=a.title));this.backend=new ua(this)};
k["lime.ui.Window"]=lf;lf.__name__=["lime","ui","Window"];lf.prototype={application:null,config:null,display:null,id:null,onActivate:null,onClose:null,onCreate:null,onDeactivate:null,onDropFile:null,onEnter:null,onFocusIn:null,onFocusOut:null,onFullscreen:null,onKeyDown:null,onKeyUp:null,onLeave:null,onMinimize:null,onMouseDown:null,onMouseMove:null,onMouseMoveRelative:null,onMouseUp:null,onMouseWheel:null,onMove:null,onResize:null,onRestore:null,onTextEdit:null,onTextInput:null,renderer:null,scale:null,
stage:null,backend:null,__borderless:null,__fullscreen:null,__height:null,__maximized:null,__minimized:null,__resizable:null,__scale:null,__title:null,__width:null,__x:null,__y:null,alert:function(a,b){this.backend.alert(a,b)},close:function(){this.backend.close()},create:function(a){this.application=a;this.backend.create(a);null!=this.renderer&&this.renderer.create()},focus:function(){this.backend.focus()},move:function(a,b){this.backend.move(a,b);this.__x=a;this.__y=b},resize:function(a,b){this.backend.resize(a,
b);this.__width=a;this.__height=b},setIcon:function(a){null!=a&&this.backend.setIcon(a)},toString:function(){return"[object Window]"},get_display:function(){return this.backend.getDisplay()},get_displayMode:function(){return this.backend.getDisplayMode()},set_displayMode:function(a){return this.backend.setDisplayMode(a)},get_borderless:function(){return this.__borderless},set_borderless:function(a){return this.__borderless=this.backend.setBorderless(a)},get_enableTextEvents:function(){return this.backend.getEnableTextEvents()},
set_enableTextEvents:function(a){return this.backend.setEnableTextEvents(a)},get_fullscreen:function(){return this.__fullscreen},set_fullscreen:function(a){return this.__fullscreen=this.backend.setFullscreen(a)},get_height:function(){return this.__height},set_height:function(a){this.resize(this.__width,a);return this.__height},get_maximized:function(){return this.__maximized},set_maximized:function(a){this.__minimized=!1;return this.__maximized=this.backend.setMaximized(a)},get_minimized:function(){return this.__minimized},
set_minimized:function(a){this.__maximized=!1;return this.__minimized=this.backend.setMinimized(a)},get_resizable:function(){return this.__resizable},set_resizable:function(a){return this.__resizable=this.backend.setResizable(a)},get_scale:function(){return this.__scale},get_title:function(){return this.__title},set_title:function(a){return this.__title=this.backend.setTitle(a)},get_width:function(){return this.__width},set_width:function(a){this.resize(a,this.__height);return this.__width},get_x:function(){return this.__x},
set_x:function(a){this.move(a,this.__y);return this.__x},get_y:function(){return this.__y},set_y:function(a){this.move(this.__x,a);return this.__y},__class__:lf,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_title:"set_title",get_title:"get_title",get_scale:"get_scale",set_resizable:"set_resizable",get_resizable:"get_resizable",set_minimized:"set_minimized",get_minimized:"get_minimized",set_maximized:"set_maximized",get_maximized:"get_maximized",
set_height:"set_height",get_height:"get_height",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_enableTextEvents:"set_enableTextEvents",get_enableTextEvents:"get_enableTextEvents",set_displayMode:"set_displayMode",get_displayMode:"get_displayMode",get_display:"get_display",set_borderless:"set_borderless",get_borderless:"get_borderless"}};var Mi=k["lime.utils.TAError"]={__ename__:["lime","utils","TAError"],__constructs__:["RangeError"]};Mi.RangeError=["RangeError",0];Mi.RangeError.toString=
O;Mi.RangeError.__enum__=Mi;Mi.__empty_constructs__=[Mi.RangeError];var Zk=function(){this.enabled=!0;this.audio=new pa;this.font=new pa;this.image=new pa;this.version=682159};k["lime.utils.AssetCache"]=Zk;Zk.__name__=["lime","utils","AssetCache"];Zk.prototype={audio:null,enabled:null,image:null,font:null,version:null,exists:function(a,b){if("IMAGE"==b||null==b){var c=this.image;if(null!=u[a]?c.existsReserved(a):c.h.hasOwnProperty(a))return!0}if("FONT"==b||null==b)if(c=this.font,null!=u[a]?c.existsReserved(a):
c.h.hasOwnProperty(a))return!0;if("SOUND"==b||"MUSIC"==b||null==b)if(c=this.audio,null!=u[a]?c.existsReserved(a):c.h.hasOwnProperty(a))return!0;return!1},set:function(a,b,c){switch(b){case "FONT":this.font.set(a,c);break;case "IMAGE":if(!y.__instanceof(c,ta))throw new F("Cannot cache non-Image asset: "+q.string(c)+" as Image");this.image.set(a,c);break;case "MUSIC":case "SOUND":if(!y.__instanceof(c,Kb))throw new F("Cannot cache non-AudioBuffer asset: "+q.string(c)+" as AudioBuffer");this.audio.set(a,
c);break;default:throw new F(b+" assets are not cachable");}},clear:function(a){if(null==a)this.audio=new pa,this.font=new pa,this.image=new pa;else{for(var b=this.audio.keys();b.hasNext();){var c=b.next();fa.startsWith(c,a)&&this.audio.remove(c)}for(b=this.font.keys();b.hasNext();)c=b.next(),fa.startsWith(c,a)&&this.font.remove(c);for(b=this.image.keys();b.hasNext();)c=b.next(),fa.startsWith(c,a)&&this.image.remove(c)}},__class__:Zk};var Hb=function(){this.types=new pa;this.sizes=new pa;this.preload=
new pa;this.paths=new pa;this.pathGroups=new pa;this.classTypes=new pa;this.cachedText=new pa;this.cachedImages=new pa;this.cachedFonts=new pa;this.cachedBytes=new pa;this.cachedAudioBuffers=new pa;this.onChange=new Tb;this.bytesTotal=this.bytesLoaded=0};k["lime.utils.AssetLibrary"]=Hb;Hb.__name__=["lime","utils","AssetLibrary"];Hb.fromBytes=function(a,b){return Hb.fromManifest(hb.fromBytes(a,b))};Hb.fromFile=function(a,b){return Hb.fromManifest(hb.fromFile(a,b))};Hb.fromManifest=function(a){if(null==
a)return null;var b=null;if(null==a.libraryType)b=new Hb;else if(b=sa.resolveClass(a.libraryType),null!=b)b=sa.createInstance(b,a.libraryArgs);else return La.warn("Could not find library type: "+a.libraryType,{fileName:"AssetLibrary.hx",lineNumber:138,className:"lime.utils.AssetLibrary",methodName:"fromManifest"}),null;b.__fromManifest(a);return b};Hb.loadFromBytes=function(a,b){return hb.loadFromBytes(a,b).then(function(a){return Hb.loadFromManifest(a)})};Hb.loadFromFile=function(a,b){return hb.loadFromFile(a,
b).then(function(a){return Hb.loadFromManifest(a)})};Hb.loadFromManifest=function(a){a=Hb.fromManifest(a);return null!=a?a.load():Ha.withError("Could not load asset manifest")};Hb.prototype={onChange:null,assetsLoaded:null,assetsTotal:null,bytesLoaded:null,bytesLoadedCache:null,bytesTotal:null,cachedAudioBuffers:null,cachedBytes:null,cachedFonts:null,cachedImages:null,cachedText:null,classTypes:null,loaded:null,pathGroups:null,paths:null,preload:null,promise:null,sizes:null,types:null,exists:function(a,
b){var c=null!=b?y.__cast(b,String):null,d=this.types,d=null!=u[a]?d.getReserved(a):d.h[a];return null==d||d!=c&&("SOUND"!=c&&"MUSIC"!=c||"MUSIC"!=d&&"SOUND"!=d)&&"BINARY"!=c&&null!=c&&("BINARY"!=d||"TEXT"!=c)?!1:!0},getAsset:function(a,b){switch(b){case "BINARY":return this.getBytes(a);case "FONT":return this.getFont(a);case "IMAGE":return this.getImage(a);case "MUSIC":case "SOUND":return this.getAudioBuffer(a);case "TEMPLATE":throw new F("Not sure how to get template: "+a);case "TEXT":return this.getText(a);
default:throw new F("Unknown asset type: "+b);}},getAudioBuffer:function(a){var b=this.cachedAudioBuffers;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedAudioBuffers,null!=u[a]?b.getReserved(a):b.h[a];b=this.classTypes;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,Kb.fromBytes(y.__cast(sa.createInstance(null!=u[a]?b.getReserved(a):b.h[a],[]),na));b=this.paths;return Kb.fromFile(null!=u[a]?b.getReserved(a):b.h[a])},getBytes:function(a){var b=
this.cachedBytes;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedBytes,null!=u[a]?b.getReserved(a):b.h[a];b=this.cachedText;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a)){var b=this.cachedText,b=Lb.ofString(null!=u[a]?b.getReserved(a):b.h[a]),c=this.cachedBytes;null!=u[a]?c.setReserved(a,b):c.h[a]=b;return b}b=this.classTypes;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,y.__cast(sa.createInstance(null!=u[a]?b.getReserved(a):
b.h[a],[]),na);b=this.paths;return Lb.fromFile(null!=u[a]?b.getReserved(a):b.h[a])},getFont:function(a){var b=this.cachedFonts;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedFonts,null!=u[a]?b.getReserved(a):b.h[a];b=this.classTypes;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,y.__cast(sa.createInstance(null!=u[a]?b.getReserved(a):b.h[a],[]),Eb);b=this.paths;return Eb.fromFile(null!=u[a]?b.getReserved(a):b.h[a])},getImage:function(a){var b=
this.cachedImages;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedImages,null!=u[a]?b.getReserved(a):b.h[a];b=this.classTypes;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,y.__cast(sa.createInstance(null!=u[a]?b.getReserved(a):b.h[a],[]),ta);b=this.paths;return ta.fromFile(null!=u[a]?b.getReserved(a):b.h[a])},getPath:function(a){var b=this.paths;return null!=u[a]?b.getReserved(a):b.h[a]},getText:function(a){var b=this.cachedText;if(null!=
u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedText,null!=u[a]?b.getReserved(a):b.h[a];a=this.getBytes(a);return null==a?null:a.getString(0,a.length)},isLocal:function(a,b){var c=this.classTypes;if(null!=u[a]?c.existsReserved(a):c.h.hasOwnProperty(a))return!0;switch(null!=b?y.__cast(b,String):null){case "IMAGE":return this.cachedImages.exists(a);case "MUSIC":case "SOUND":return this.cachedAudioBuffers.exists(a);default:return this.cachedBytes.exists(a)?!0:this.cachedText.exists(a)}},
list:function(a){for(var b=null!=a?y.__cast(a,String):null,c=[],d=this.types.keys();d.hasNext();){var e=d.next();(null==b||this.exists(e,a))&&c.push(e)}return c},loadAsset:function(a,b){switch(b){case "BINARY":return this.loadBytes(a);case "FONT":return this.loadFont(a);case "IMAGE":return this.loadImage(a);case "MUSIC":case "SOUND":return this.loadAudioBuffer(a);case "TEMPLATE":throw new F("Not sure how to load template: "+a);case "TEXT":return this.loadText(a);default:throw new F("Unknown asset type: "+
b);}},load:function(){if(this.loaded)return Ha.withValue(this);if(null==this.promise){this.promise=new Jb;this.bytesLoadedCache=new pa;this.assetsLoaded=0;this.assetsTotal=1;for(var a=this.preload.keys();a.hasNext();){var b=a.next(),c=this.preload;if(null!=u[b]?c.getReserved(b):c.h[b])if(c=this.types,La.verbose("Preloading asset: "+b+" ["+(null!=u[b]?c.getReserved(b):c.h[b])+"]",{fileName:"AssetLibrary.hx",lineNumber:434,className:"lime.utils.AssetLibrary",methodName:"load"}),c=this.types.get(b),
null!=c)switch(c){case "BINARY":this.assetsTotal++;c=this.loadBytes(b);c.onProgress(function(a,b){return function(c,g){b[0](a[0],c,g)}}([b],[n(this,this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[n(this,this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[n(this,this.loadBytes_onComplete)]));break;case "FONT":this.assetsTotal++;c=this.loadFont(b);c.onProgress(function(a,b){return function(c,g){b[0](a[0],c,g)}}([b],[n(this,
this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[n(this,this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[n(this,this.loadFont_onComplete)]));break;case "IMAGE":this.assetsTotal++;c=this.loadImage(b);c.onProgress(function(a,b){return function(c,g){b[0](a[0],c,g)}}([b],[n(this,this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[n(this,this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],
c)}}([b],[n(this,this.loadImage_onComplete)]));break;case "MUSIC":case "SOUND":this.assetsTotal++;c=this.loadAudioBuffer(b);c.onProgress(function(a,b){return function(c,g){b[0](a[0],c,g)}}([b],[n(this,this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[n(this,this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[n(this,this.loadAudioBuffer_onComplete)]));break;case "TEXT":this.assetsTotal++,c=this.loadText(b),c.onProgress(function(a,
b){return function(c,g){b[0](a[0],c,g)}}([b],[n(this,this.load_onProgress)])),c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[n(this,this.load_onError)])),c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[n(this,this.loadText_onComplete)]))}}this.__assetLoaded(null)}return this.promise.future},loadAudioBuffer:function(a){var b=this.cachedAudioBuffers;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedAudioBuffers,Ha.withValue(null!=u[a]?b.getReserved(a):
b.h[a]);b=this.classTypes;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,Ha.withValue(sa.createInstance(null!=u[a]?b.getReserved(a):b.h[a],[]));b=this.pathGroups;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.pathGroups,Kb.loadFromFiles(null!=u[a]?b.getReserved(a):b.h[a]);b=this.paths;return Kb.loadFromFile(null!=u[a]?b.getReserved(a):b.h[a])},loadBytes:function(a){var b=this.cachedBytes;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=
this.cachedBytes,Ha.withValue(null!=u[a]?b.getReserved(a):b.h[a]);b=this.classTypes;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,Ha.withValue(sa.createInstance(null!=u[a]?b.getReserved(a):b.h[a],[]));b=this.paths;return Lb.loadFromFile(null!=u[a]?b.getReserved(a):b.h[a])},loadFont:function(a){var b=this.cachedFonts;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedFonts,Ha.withValue(null!=u[a]?b.getReserved(a):b.h[a]);b=this.classTypes;
if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,a=sa.createInstance(null!=u[a]?b.getReserved(a):b.h[a],[]),Eb.loadFromName(a.name);b=this.paths;return Eb.loadFromName(null!=u[a]?b.getReserved(a):b.h[a])},loadImage:function(a){var b=this.cachedImages;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedImages,Ha.withValue(null!=u[a]?b.getReserved(a):b.h[a]);b=this.classTypes;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,
Ha.withValue(sa.createInstance(null!=u[a]?b.getReserved(a):b.h[a],[]));b=this.paths;return ta.loadFromFile(null!=u[a]?b.getReserved(a):b.h[a])},loadText:function(a){var b=this.cachedText;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedText,Ha.withValue(null!=u[a]?b.getReserved(a):b.h[a]);b=this.cachedBytes;(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))?b=!0:(b=this.classTypes,b=null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a));if(b){b=this.getBytes(a);if(null==
b)return Ha.withValue(null);var b=b.getString(0,b.length),c=this.cachedText;null!=u[a]?c.setReserved(a,b):c.h[a]=b;return Ha.withValue(b)}b=new Og;c=this.paths;return b.load(null!=u[a]?c.getReserved(a):c.h[a])},unload:function(){},__assetLoaded:function(a){this.assetsLoaded++;if(null!=a){var b=this.types;La.verbose("Loaded asset: "+a+" ["+(null!=u[a]?b.getReserved(a):b.h[a])+"] ("+(this.assetsLoaded-1)+"/"+(this.assetsTotal-1)+")",{fileName:"AssetLibrary.hx",lineNumber:680,className:"lime.utils.AssetLibrary",
methodName:"__assetLoaded"})}if(null!=a){var b=this.sizes,b=null!=u[a]?b.getReserved(a):b.h[a],c=this.bytesLoadedCache;(null!=u[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?(c=this.bytesLoadedCache,c=null!=u[a]?c.getReserved(a):c.h[a],c<b&&(this.bytesLoaded+=b-c)):this.bytesLoaded+=b;c=this.bytesLoadedCache;null!=u[a]?c.setReserved(a,b):c.h[a]=b}this.assetsLoaded<this.assetsTotal?this.promise.progress(this.bytesLoaded,this.bytesTotal):(this.loaded=!0,this.promise.progress(this.bytesTotal,this.bytesTotal),
this.promise.complete(this))},__fromManifest:function(a){var b=2<=a.version,c,d,e,f=a.rootPath;null==f&&(f="");""!=f&&(f+="/");for(var g=0,k=a.assets;g<k.length;){var m=k[g];++g;c=b?m.size:100;d=m.id;if(Object.prototype.hasOwnProperty.call(m,"path")){var h=this.paths;e=f+q.string(H.field(m,"path"));null!=u[d]?h.setReserved(d,e):h.h[d]=e}if(Object.prototype.hasOwnProperty.call(m,"pathGroup")){e=H.field(m,"pathGroup");for(var h=0,l=e.length;h<l;){var n=h++;e[n]=f+e[n]}h=this.pathGroups;null!=u[d]?h.setReserved(d,
e):h.h[d]=e}e=this.sizes;null!=u[d]?e.setReserved(d,c):e.h[d]=c;c=m.type;e=this.types;null!=u[d]?e.setReserved(d,c):e.h[d]=c;Object.prototype.hasOwnProperty.call(m,"preload")&&(e=this.preload,c=H.field(m,"preload"),null!=u[d]?e.setReserved(d,c):e.h[d]=c);Object.prototype.hasOwnProperty.call(m,"className")&&(c=this.classTypes,m=sa.resolveClass(H.field(m,"className")),null!=u[d]?c.setReserved(d,m):c.h[d]=m)}b=this.bytesTotal=0;for(a=a.assets;b<a.length;)d=a[b],++b,d=d.id,f=this.preload,(null!=u[d]?
f.existsReserved(d):f.h.hasOwnProperty(d))?(f=this.preload,f=null!=u[d]?f.getReserved(d):f.h[d]):f=!1,f&&(f=this.sizes,this.bytesTotal+=null!=u[d]?f.getReserved(d):f.h[d])},loadAudioBuffer_onComplete:function(a,b){var c=this.cachedAudioBuffers;null!=u[a]?c.setReserved(a,b):c.h[a]=b;c=this.pathGroups;if(null!=u[a]?c.existsReserved(a):c.h.hasOwnProperty(a))for(var c=this.pathGroups,c=null!=u[a]?c.getReserved(a):c.h[a],d=this.pathGroups.keys();d.hasNext();){var e=d.next();if(e!=a)for(var f=0;f<c.length;){var g=
c[f];++f;var k=this.pathGroups;if(-1<(null!=u[e]?k.getReserved(e):k.h[e]).indexOf(g)){f=this.cachedAudioBuffers;null!=u[e]?f.setReserved(e,b):f.h[e]=b;break}}}this.__assetLoaded(a)},loadBytes_onComplete:function(a,b){var c=this.cachedBytes;null!=u[a]?c.setReserved(a,b):c.h[a]=b;this.__assetLoaded(a)},loadFont_onComplete:function(a,b){var c=this.cachedFonts;null!=u[a]?c.setReserved(a,b):c.h[a]=b;this.__assetLoaded(a)},loadImage_onComplete:function(a,b){var c=this.cachedImages;null!=u[a]?c.setReserved(a,
b):c.h[a]=b;this.__assetLoaded(a)},loadText_onComplete:function(a,b){var c=this.cachedText;null!=u[a]?c.setReserved(a,b):c.h[a]=b;this.__assetLoaded(a)},load_onError:function(a,b){null!=b&&""!=b?this.promise.error('Error loading asset "'+a+'": '+q.string(b)):this.promise.error('Error loading asset "'+a+'"')},load_onProgress:function(a,b,c){if(0<b){var d=this.sizes,d=null!=u[a]?d.getReserved(a):d.h[a];0<c?(b/=c,1<b&&(b=1),b=Math.floor(b*d)):b>d&&(b=d);c=this.bytesLoadedCache;(null!=u[a]?c.existsReserved(a):
c.h.hasOwnProperty(a))?(c=this.bytesLoadedCache,c=null!=u[a]?c.getReserved(a):c.h[a],b!=c&&(this.bytesLoaded+=b-c)):this.bytesLoaded+=b;c=this.bytesLoadedCache;null!=u[a]?c.setReserved(a,b):c.h[a]=b;this.promise.progress(this.bytesLoaded,this.bytesTotal)}},__class__:Hb};var hb=function(){this.assets=[];this.libraryArgs=[];this.version=2};k["lime.utils.AssetManifest"]=hb;hb.__name__=["lime","utils","AssetManifest"];hb.fromBytes=function(a,b){return null!=a?hb.parse(a.getString(0,a.length),b):null};
hb.fromFile=function(a,b){a=hb.__resolvePath(a);b=hb.__resolveRootPath(b,a);return null==a?null:hb.fromBytes(Lb.fromFile(a),b)};hb.loadFromBytes=function(a,b){return Ha.withValue(hb.fromBytes(a,b))};hb.loadFromFile=function(a,b){a=hb.__resolvePath(a);b=hb.__resolveRootPath(b,a);return null==a?null:Lb.loadFromFile(a).then(function(a){return Ha.withValue(hb.fromBytes(a,b))})};hb.parse=function(a,b){if(null==a||""==a)return null;var c=JSON.parse(a),d=new hb;d.name=c.name;d.libraryType=c.libraryType;
d.libraryArgs=c.libraryArgs;d.assets=Bc.run(c.assets);null!=b&&(d.rootPath=b);return d};hb.__resolvePath=function(a){if(null==a)return null;var b=a.indexOf("?"),c;c=-1<b?W.substr(a,0,b):a;for(fa.replace(c,"\\","/");fa.endsWith(c,"/");)c=W.substr(c,0,c.length-1);return fa.endsWith(c,".bundle")?-1<b?c+"/library.json"+W.substr(a,b,null):c+"/library.json":a};hb.__resolveRootPath=function(a,b){if(null!=a)return a;var c=b.indexOf("?");a=-1<c?W.substr(b,0,c):b;for(fa.replace(a,"\\","/");fa.endsWith(a,"/");){if("/"==
a)return a;a=W.substr(a,0,a.length-1)}return fa.endsWith(a,".bundle")?a:Mf.directory(a)};hb.prototype={assets:null,libraryArgs:null,libraryType:null,name:null,rootPath:null,version:null,serialize:function(){var a={};a.version=this.version;a.libraryType=this.libraryType;a.libraryArgs=this.libraryArgs;a.name=this.name;a.assets=Ac.run(this.assets);return JSON.stringify(a)},__class__:hb};var Q=function(){};k["lime.utils.Assets"]=Q;Q.__name__=["lime","utils","Assets"];Q.exists=function(a,b){null==b&&(b=
"BINARY");var c,d;c=a.indexOf(":");d=a.substring(0,c);c=a.substring(c+1);d=Q.getLibrary(d);return null!=d?d.exists(c,b):!1};Q.getAsset=function(a,b,c){if(c&&Q.cache.enabled)switch(b){case "BINARY":case "TEXT":c=!1;break;case "FONT":var d=Q.cache.font.get(a);if(null!=d)return d;break;case "IMAGE":d=Q.cache.image.get(a);if(Q.isValidImage(d))return d;break;case "MUSIC":case "SOUND":d=Q.cache.audio.get(a);if(Q.isValidAudio(d))return d;break;case "TEMPLATE":throw new F("Not sure how to get template: "+
a);default:return null}var e,f;e=a.indexOf(":");d=a.substring(0,e);e=a.substring(e+1);f=Q.getLibrary(d);if(null!=f)if(f.exists(e,b)){if(f.isLocal(e,b))return d=f.getAsset(e,b),c&&Q.cache.enabled&&Q.cache.set(a,b,d),d;La.error(b+' asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:160,className:"lime.utils.Assets",methodName:"getAsset"})}else La.error("There is no "+b+' asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:166,className:"lime.utils.Assets",methodName:"getAsset"});
else La.error(Q.__libraryNotFound(d),{fileName:"Assets.hx",lineNumber:172,className:"lime.utils.Assets",methodName:"getAsset"});return null};Q.getAudioBuffer=function(a,b){null==b&&(b=!0);return Q.getAsset(a,"SOUND",b)};Q.getBytes=function(a){return Q.getAsset(a,"BINARY",!1)};Q.getFont=function(a,b){null==b&&(b=!0);return Q.getAsset(a,"FONT",b)};Q.getImage=function(a,b){null==b&&(b=!0);return Q.getAsset(a,"IMAGE",b)};Q.getLibrary=function(a){if(null==a||""==a)a="default";var b=Q.libraries;return null!=
u[a]?b.getReserved(a):b.h[a]};Q.getPath=function(a){var b,c,d;b=a.indexOf(":");c=a.substring(0,b);b=a.substring(b+1);d=Q.getLibrary(c);if(null!=d){if(d.exists(b,null))return d.getPath(b);La.error('There is no asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:269,className:"lime.utils.Assets",methodName:"getPath"})}else La.error(Q.__libraryNotFound(c),{fileName:"Assets.hx",lineNumber:275,className:"lime.utils.Assets",methodName:"getPath"});return null};Q.getText=function(a){return Q.getAsset(a,
"TEXT",!1)};Q.isLocal=function(a,b,c){null==c&&(c=!0);if(c&&Q.cache.enabled&&Q.cache.exists(a,b))return!0;var d=a.indexOf(":");c=a.substring(0,d);a=a.substring(d+1);c=Q.getLibrary(c);return null!=c?c.isLocal(a,b):!1};Q.isValidAudio=function(a){return null!=a};Q.isValidImage=function(a){return null!=a?null!=a.buffer:!1};Q.list=function(a){for(var b=[],c=Q.libraries,c=new Dh(c,c.arrayKeys());c.hasNext();){var d=c.next().list(a);null!=d&&(b=b.concat(d))}return b};Q.loadAsset=function(a,b,c){if(c&&Q.cache.enabled)switch(b){case "BINARY":case "TEXT":c=
!1;break;case "FONT":var d=Q.cache.font.get(a);if(null!=d)return Ha.withValue(d);break;case "IMAGE":d=Q.cache.image.get(a);if(Q.isValidImage(d))return Ha.withValue(d);break;case "MUSIC":case "SOUND":d=Q.cache.audio.get(a);if(Q.isValidAudio(d))return Ha.withValue(d);break;case "TEMPLATE":throw new F("Not sure how to get template: "+a);default:return null}var e,f;e=a.indexOf(":");d=a.substring(0,e);e=a.substring(e+1);f=Q.getLibrary(d);if(null!=f){if(f.exists(e,b)){d=f.loadAsset(e,b);if(c&&Q.cache.enabled)d.onComplete(function(c){Q.cache.set(a,
b,c)});return d}return Ha.withError("There is no "+b+' asset with an ID of "'+a+'"')}return Ha.withError(Q.__libraryNotFound(d))};Q.loadAudioBuffer=function(a,b){null==b&&(b=!0);return Q.loadAsset(a,"SOUND",b)};Q.loadBytes=function(a){return Q.loadAsset(a,"BINARY",!1)};Q.loadFont=function(a,b){null==b&&(b=!0);return Q.loadAsset(a,"FONT",b)};Q.loadImage=function(a,b){null==b&&(b=!0);return Q.loadAsset(a,"IMAGE",b)};Q.loadLibrary=function(a){var b=new Jb,c=Q.getLibrary(a);if(null!=c)return c.load();
var c=a,d=null,e=Q.libraryPaths;(null!=u[a]?e.existsReserved(a):e.h.hasOwnProperty(a))?(c=Q.libraryPaths,c=null!=u[a]?c.getReserved(a):c.h[a],d=Q.defaultRootPath):fa.endsWith(c,".bundle")&&(c+="/library.json");hb.loadFromFile(c,d).onComplete(function(c){if(null==c)b.error('Cannot parse asset manifest for library "'+a+'"');else if(c=Hb.fromManifest(c),null==c)b.error('Cannot open library "'+a+'"');else{var d=Q.libraries;null!=u[a]?d.setReserved(a,c):d.h[a]=c;c.onChange.add((Pd=Q.onChange,n(Pd,Pd.dispatch)));
c=c.load();b.completeWith(c)}}).onError(function(c){b.error('There is no asset library with an ID of "'+a+'"')});return b.future};Q.loadText=function(a){return Q.loadAsset(a,"TEXT",!1)};Q.registerLibrary=function(a,b){var c=Q.libraries;if(null!=u[a]?c.existsReserved(a):c.h.hasOwnProperty(a)){c=Q.libraries;if((null!=u[a]?c.getReserved(a):c.h[a])==b)return;Q.unloadLibrary(a)}null!=b&&b.onChange.add(Q.library_onChange);c=Q.libraries;null!=u[a]?c.setReserved(a,b):c.h[a]=b};Q.unloadLibrary=function(a){var b=
Q.libraries,b=null!=u[a]?b.getReserved(a):b.h[a];null!=b&&(Q.cache.clear(a+":"),b.onChange.remove(Q.library_onChange),b.unload());Q.libraries.remove(a)};Q.__libraryNotFound=function(a){if(null==a||""==a)a="default";return null==mc.current||null==mc.current.__preloader||mc.current.__preloader.complete?'There is no asset library named "'+a+'"':'There is no asset library named "'+a+'", or it is not yet preloaded'};Q.library_onChange=function(){Q.cache.clear();Q.onChange.dispatch()};var mm=function(a){var b=
a.indexOf(":");this.libraryName=a.substring(0,b);this.symbolName=a.substring(b+1);this.library=Q.getLibrary(this.libraryName)};k["lime.utils._Assets.LibrarySymbol"]=mm;mm.__name__=["lime","utils","_Assets","LibrarySymbol"];mm.prototype={library:null,libraryName:null,symbolName:null,isLocal:function(a){return this.library.isLocal(this.symbolName,a)},exists:function(a){return this.library.exists(this.symbolName,a)},__class__:mm};var fc={};k["lime.utils._BytePointer.BytePointer_Impl_"]=fc;fc.__name__=
["lime","utils","_BytePointer","BytePointer_Impl_"];fc._new=function(a,b){null==b&&(b=0);return new Yc(a,b)};fc.set=function(a,b,c,d,e){null!=d&&(b=na.ofData(d));null!=b||null==c?(a.bytes=b,a.offset=null!=e?e:0):(a.bytes=na.ofData(c.buffer),a.offset=null!=e?c.byteOffset+e:c.byteOffset)};fc.__arrayGet=function(a,b){return null!=a.bytes?a.bytes.b[b+a.offset]:0};fc.__arraySet=function(a,b,c){null==a.bytes&&(a.bytes.b[b+a.offset]=c&255);return c};fc.fromArrayBufferView=function(a){return null==a?null:
new Yc(na.ofData(a.buffer),a.byteOffset)};fc.fromArrayBuffer=function(a){return null==a?null:new Yc(na.ofData(a),0)};fc.fromBytes=function(a){return new Yc(a,0)};fc.fromBytesData=function(a){return null==a?new Yc(null,0):new Yc(na.ofData(a),0)};fc.fromFile=function(a){return new Yc(Lb.fromFile(a),0)};fc.fromLimeBytes=function(a){return new Yc(a,0)};fc.toUInt8Array=function(a){var b=a.bytes.b.bufferValue;a=a.offset/8|0;return null!=b?new Fa(b,a):null};fc.toUInt8ClampedArray=function(a){if(null==a||
null==a.bytes)return null;var b=a.bytes.b.bufferValue;a=a.offset/8|0;return null!=b?new Uint8ClampedArray(b,a):null};fc.toInt8Array=function(a){if(null==a||null==a.bytes)return null;var b=a.bytes.b.bufferValue;a=a.offset/8|0;return null!=b?new Int8Array(b,a):null};fc.toUInt16Array=function(a){if(null==a||null==a.bytes)return null;var b=a.bytes.b.bufferValue;a=a.offset/16|0;return null!=b?new Uint16Array(b,a):null};fc.toInt16Array=function(a){if(null==a||null==a.bytes)return null;var b=a.bytes.b.bufferValue;
a=a.offset/16|0;return null!=b?new Int16Array(b,a):null};fc.toUInt32Array=function(a){if(null==a||null==a.bytes)return null;var b=a.bytes.b.bufferValue;a=a.offset/32|0;return null!=b?new Uint32Array(b,a):null};fc.toInt32Array=function(a){if(null==a||null==a.bytes)return null;var b=a.bytes.b.bufferValue;a=a.offset/32|0;return null!=b?new Int32Array(b,a):null};fc.toFloat32Array=function(a){if(null==a||null==a.bytes)return null;var b=a.bytes.b.bufferValue;a=a.offset/32|0;return null!=b?new ra(b,a):null};
fc.toFloat64Array=function(a){if(null==a||null==a.bytes)return null;var b=a.bytes.b.bufferValue;a=a.offset/64|0;return null!=b?new nm(b,a):null};var Yc=function(a,b){this.bytes=a;this.offset=b};k["lime.utils.BytePointerData"]=Yc;Yc.__name__=["lime","utils","BytePointerData"];Yc.prototype={bytes:null,offset:null,__class__:Yc};var Lb={};k["lime.utils._Bytes.Bytes_Impl_"]=Lb;Lb.__name__=["lime","utils","_Bytes","Bytes_Impl_"];Lb._new=function(a,b){return new na(b)};Lb.alloc=function(a){a=new na(new Ea(a));
return Lb._new(a.length,a.b.bufferValue)};Lb.fastGet=function(a,b){return a.bytes[b]};Lb.fromBytes=function(a){return null==a?null:Lb._new(a.length,a.b.bufferValue)};Lb.fromFile=function(a){return null};Lb.loadFromBytes=function(a){return Ha.withValue(Lb.fromBytes(a))};Lb.loadFromFile=function(a){return(new Ki).load(a)};Lb.ofData=function(a){a=na.ofData(a);return Lb._new(a.length,a.b.bufferValue)};Lb.ofString=function(a){a=na.ofString(a);return Lb._new(a.length,a.b.bufferValue)};var ba={};k["lime.utils._DataPointer.DataPointer_Impl_"]=
ba;ba.__name__=["lime","utils","_DataPointer","DataPointer_Impl_"];ba._new=function(a){return a};ba.fromInt=function(a){return ba._new(a)};ba.fromFloat=function(a){return ba._new(a)};ba.fromBytesPointer=function(a){return ba.fromBytes(a.bytes)};ba.fromArrayBufferView=function(a){return ba._new(a)};ba.fromArrayBuffer=function(a){return ba._new(a)};ba.fromBytes=function(a){return ba.fromArrayBuffer(a.b.bufferValue)};ba.fromBytesData=function(a){return ba.fromArrayBuffer(a)};ba.fromLimeBytes=function(a){return ba.fromBytes(a)};
ba.fromCFFIPointer=function(a){return null};ba.fromFile=function(a){return null};ba.__withOffset=function(a,b){return null};ba.equals=function(a,b){return a==b};ba.equalsPointer=function(a,b){return a==b};ba.greaterThan=function(a,b){return a>b};ba.greaterThanPointer=function(a,b){return Pa.get(a)>Pa.get(b)};ba.greaterThanOrEqual=function(a,b){return a>=b};ba.greaterThanOrEqualPointer=function(a,b){return Pa.get(a)>=Pa.get(b)};ba.lessThan=function(a,b){return a<b};ba.lessThanPointer=function(a,b){return Pa.get(a)<
Pa.get(b)};ba.lessThanOrEqual=function(a,b){return a<=b};ba.lessThanOrEqualPointer=function(a,b){return Pa.get(a)<=Pa.get(b)};ba.notEquals=function(a,b){return a!=b};ba.notEqualsPointer=function(a,b){return a!=b};ba.plus=function(a,b){return ba.__withOffset(a,b)};ba.plusPointer=function(a,b){return ba.__withOffset(a,b|0)};ba.minus=function(a,b){return ba.__withOffset(a,-b)};ba.minusPointer=function(a,b){return ba.__withOffset(a,-(b|0))};var Ni={};k["lime.utils._Float32Array.Float32Array_Impl_"]=Ni;
Ni.__name__=["lime","utils","_Float32Array","Float32Array_Impl_"];Ni.fromBytes=function(a,b,c){null==b&&(b=0);return null==b?new ra(a.b.bufferValue):null==c?new ra(a.b.bufferValue,b):new ra(a.b.bufferValue,b,c)};Ni.toBytes=function(a){return new na(new Fa(a.buffer))};Ni.toString=function(a){return null!=a?"Float32Array [byteLength:"+a.byteLength+", length:"+a.length+"]":null};var Oi={};k["lime.utils._Float64Array.Float64Array_Impl_"]=Oi;Oi.__name__=["lime","utils","_Float64Array","Float64Array_Impl_"];
Oi.fromBytes=function(a,b,c){null==b&&(b=0);return null==b?new nm(a.b.bufferValue):null==c?new nm(a.b.bufferValue,b):new nm(a.b.bufferValue,b,c)};Oi.toBytes=function(a){return new na(new Fa(a.buffer))};Oi.toString=function(a){return null!=a?"Float64Array [byteLength:"+a.byteLength+", length:"+a.length+"]":null};var Pg=function(){};k["lime.utils.GLUtils"]=Pg;Pg.__name__=["lime","utils","GLUtils"];Pg.compileShader=function(a,b){var c=g.context.__context.createShader(b);g.context.__context.shaderSource(c,
a);g.context.__context.compileShader(c);if(0==g.context.__context.getShaderParameter(c,35713)){var d;switch(b){case 35632:d="Error compiling fragment shader";break;case 35633:d="Error compiling vertex shader";break;default:d="Error compiling unknown shader type"}d+="\n"+g.context.__context.getShaderInfoLog(c);La.error(d,{fileName:"GLUtils.hx",lineNumber:35,className:"lime.utils.GLUtils",methodName:"compileShader"})}return c};Pg.createProgram=function(a,b){var c=Pg.compileShader(a,35633),d=Pg.compileShader(b,
35632),e=g.context.__context.createProgram();g.context.__context.attachShader(e,c);g.context.__context.attachShader(e,d);g.context.__context.linkProgram(e);0==g.context.__context.getProgramParameter(e,35714)&&La.error("Unable to initialize the shader program",{fileName:"GLUtils.hx",lineNumber:56,className:"lime.utils.GLUtils",methodName:"createProgram"});return e};var Pi={};k["lime.utils._Int16Array.Int16Array_Impl_"]=Pi;Pi.__name__=["lime","utils","_Int16Array","Int16Array_Impl_"];Pi.fromBytes=function(a,
b,c){null==b&&(b=0);return null==b?new Int16Array(a.b.bufferValue):null==c?new Int16Array(a.b.bufferValue,b):new Int16Array(a.b.bufferValue,b,c)};Pi.toBytes=function(a){return new na(new Fa(a.buffer))};Pi.toString=function(a){return null!=a?"Int16Array [byteLength:"+a.byteLength+", length:"+a.length+"]":null};var Qi={};k["lime.utils._Int32Array.Int32Array_Impl_"]=Qi;Qi.__name__=["lime","utils","_Int32Array","Int32Array_Impl_"];Qi.fromBytes=function(a,b,c){null==b&&(b=0);return null==b?new Int32Array(a.b.bufferValue):
null==c?new Int32Array(a.b.bufferValue,b):new Int32Array(a.b.bufferValue,b,c)};Qi.toBytes=function(a){return new na(new Fa(a.buffer))};Qi.toString=function(a){return null!=a?"Int32Array [byteLength:"+a.byteLength+", length:"+a.length+"]":null};var Ri={};k["lime.utils._Int8Array.Int8Array_Impl_"]=Ri;Ri.__name__=["lime","utils","_Int8Array","Int8Array_Impl_"];Ri.fromBytes=function(a,b,c){null==b&&(b=0);return new Int8Array(a.b.bufferValue,b,c)};Ri.toBytes=function(a){return new na(new Fa(a.buffer))};
Ri.toString=function(a){return null!=a?"Int8Array [byteLength:"+a.byteLength+", length:"+a.length+"]":null};var La=function(){};k["lime.utils.Log"]=La;La.__name__=["lime","utils","Log"];La.debug=function(a,b){4<=La.level&&console.log("["+b.className+"] "+a)};La.error=function(a,b){if(1<=La.level){var c="["+b.className+"] ERROR: "+a;if(La.throwErrors)throw new F(c);console.log(c)}};La.info=function(a,b){3<=La.level&&console.log("["+b.className+"] "+a)};La.print=function(a){console.log(a)};La.println=
function(a){console.log(a)};La.verbose=function(a,b){5<=La.level&&console.log("["+b.className+"] "+a)};La.warn=function(a,b){2<=La.level&&console.log("["+b.className+"] WARNING: "+a)};var Qd={};k["lime.utils._Log.LogLevel_Impl_"]=Qd;Qd.__name__=["lime","utils","_Log","LogLevel_Impl_"];Qd.gt=function(a,b){return a>b};Qd.gte=function(a,b){return a>=b};Qd.lt=function(a,b){return a<b};Qd.lte=function(a,b){return a<=b};var Si={};k["lime.utils._UInt16Array.UInt16Array_Impl_"]=Si;Si.__name__=["lime","utils",
"_UInt16Array","UInt16Array_Impl_"];Si.fromBytes=function(a,b,c){null==b&&(b=0);return null==b?new Uint16Array(a.b.bufferValue):null==c?new Uint16Array(a.b.bufferValue,b):new Uint16Array(a.b.bufferValue,b,c)};Si.toBytes=function(a){return new na(new Fa(a.buffer))};Si.toString=function(a){return null!=a?"UInt16Array [byteLength:"+a.byteLength+", length:"+a.length+"]":null};var Ti={};k["lime.utils._UInt32Array.UInt32Array_Impl_"]=Ti;Ti.__name__=["lime","utils","_UInt32Array","UInt32Array_Impl_"];Ti.fromBytes=
function(a,b,c){null==b&&(b=0);return null==b?new Uint32Array(a.b.bufferValue):null==c?new Uint32Array(a.b.bufferValue,b):new Uint32Array(a.b.bufferValue,b,c)};Ti.toBytes=function(a){return new na(new Fa(a.buffer))};Ti.toString=function(a){return null!=a?"UInt32Array [byteLength:"+a.byteLength+", length:"+a.length+"]":null};var Ui={};k["lime.utils._UInt8Array.UInt8Array_Impl_"]=Ui;Ui.__name__=["lime","utils","_UInt8Array","UInt8Array_Impl_"];Ui.fromBytes=function(a,b,c){return null==b?new Fa(a.b.bufferValue):
null==c?new Fa(a.b.bufferValue,b):new Fa(a.b.bufferValue,b,c)};Ui.toBytes=function(a){return new na(new Fa(a.buffer))};Ui.toString=function(a){return null!=a?"UInt8Array [byteLength:"+a.byteLength+", length:"+a.length+"]":null};var Qg={};k["lime.utils._UInt8ClampedArray.UInt8ClampedArray_Impl_"]=Qg;Qg.__name__=["lime","utils","_UInt8ClampedArray","UInt8ClampedArray_Impl_"];Qg.fromBytes=function(a,b,c){null==b&&(b=0);return null==b?new Uint8ClampedArray(a.b.bufferValue):null==c?new Uint8ClampedArray(a.b.bufferValue,
b):new Uint8ClampedArray(a.b.bufferValue,b,c)};Qg.toBytes=function(a){return new na(new Fa(a.buffer))};Qg.toString=function(a){return null!=a?"UInt8ClampedArray [byteLength:"+a.byteLength+", length:"+a.length+"]":null};Qg._clamp=function(a){a|=0;255<a&&(a=255);return 0>a?0:a};var Vi=function(){};k["lime.utils.compress.Deflate"]=Vi;Vi.__name__=["lime","utils","compress","Deflate"];Vi.compress=function(a){a=pako.deflateRaw(a.b.bufferValue);return na.ofData(a)};Vi.decompress=function(a){a=pako.inflateRaw(a.b.bufferValue);
return na.ofData(a)};var Wi=function(){};k["lime.utils.compress.LZMA"]=Wi;Wi.__name__=["lime","utils","compress","LZMA"];Wi.compress=function(a){return null};Wi.decompress=function(a){return null};var Xi=function(){};k["lime.utils.compress.Zlib"]=Xi;Xi.__name__=["lime","utils","compress","Zlib"];Xi.compress=function(a){a=pako.deflate(a.b.bufferValue);return na.ofData(a)};Xi.decompress=function(a){a=pako.inflate(a.b.bufferValue);return na.ofData(a)};var Qf=function(){};k["motion.actuators.IGenericActuator"]=
Qf;Qf.__name__=["motion","actuators","IGenericActuator"];Qf.prototype={autoVisible:null,delay:null,ease:null,onComplete:null,onRepeat:null,onUpdate:null,reflect:null,repeat:null,reverse:null,smartRotation:null,snapping:null,onPause:null,onResume:null,apply:null,move:null,pause:null,resume:null,stop:null,__class__:Qf};var Le=function(a,b,c){this._autoVisible=!0;this._delay=0;this._reflect=!1;this._repeat=0;this.special=this._snapping=this._smartRotation=this._reverse=!1;this.target=a;this.properties=
c;this.duration=b;this._ease=ya.defaultEase};k["motion.actuators.GenericActuator"]=Le;Le.__name__=["motion","actuators","GenericActuator"];Le.__interfaces__=[Qf];Le.prototype={duration:null,id:null,properties:null,target:null,_autoVisible:null,_delay:null,_ease:null,_onComplete:null,_onCompleteParams:null,_onRepeat:null,_onRepeatParams:null,_onUpdate:null,_onUpdateParams:null,_onResume:null,_onResumeParams:null,_onPause:null,_onPauseParams:null,_reflect:null,_repeat:null,_reverse:null,_smartRotation:null,
_snapping:null,special:null,apply:function(){for(var a=0,b=H.fields(this.properties);a<b.length;){var c=b[a];++a;Object.prototype.hasOwnProperty.call(this.target,c)?this.target[c]=H.field(this.properties,c):H.setProperty(this.target,c,H.field(this.properties,c))}},autoVisible:function(a){null==a&&(a=!0);this._autoVisible=a;return this},callMethod:function(a,b){null==b&&(b=[]);return a.apply(a,b)},change:function(){if(null!=this._onUpdate){var a=this._onUpdate,b=this._onUpdateParams;null==b&&(b=[]);
a.apply(a,b)}},complete:function(a){null==a&&(a=!0);if(a&&(this.change(),null!=this._onComplete)){a=this._onComplete;var b=this._onCompleteParams;null==b&&(b=[]);a.apply(a,b)}ya.unload(this)},delay:function(a){this._delay=a;return this},ease:function(a){this._ease=a;return this},move:function(){},onComplete:function(a,b){this._onComplete=a;this._onCompleteParams=null==b?[]:b;0==this.duration&&this.complete();return this},onRepeat:function(a,b){this._onRepeat=a;this._onRepeatParams=null==b?[]:b;return this},
onUpdate:function(a,b){this._onUpdate=a;this._onUpdateParams=null==b?[]:b;return this},onPause:function(a,b){this._onPause=a;this._onPauseParams=null==b?[]:b;return this},onResume:function(a,b){this._onResume=a;this._onResumeParams=null==b?[]:b;return this},pause:function(){if(null!=this._onPause){var a=this._onPause,b=this._onPauseParams;null==b&&(b=[]);a.apply(a,b)}},reflect:function(a){null==a&&(a=!0);this._reflect=a;this.special=!0;return this},repeat:function(a){null==a&&(a=-1);this._repeat=
a;return this},resume:function(){if(null!=this._onResume){var a=this._onResume,b=this._onResumeParams;null==b&&(b=[]);a.apply(a,b)}},reverse:function(a){null==a&&(a=!0);this._reverse=a;this.special=!0;return this},smartRotation:function(a){null==a&&(a=!0);this._smartRotation=a;this.special=!0;return this},snapping:function(a){null==a&&(a=!0);this._snapping=a;this.special=!0;return this},stop:function(a,b,c){},__class__:Le};var Za=function(a,b,c){this.active=!0;this.propertyDetails=[];this.toggleVisible=
this.setVisible=this.initialized=this.cacheVisible=this.paused=this.sendChange=!1;this.startTime=ia.getTimer()/1E3;Le.call(this,a,b,c);Za.addedEvent||(Za.addedEvent=!0,ia.current.stage.addEventListener("enterFrame",Za.stage_onEnterFrame))};k["motion.actuators.SimpleActuator"]=Za;Za.__name__=["motion","actuators","SimpleActuator"];Za.stage_onEnterFrame=function(a){a=ia.getTimer()/1E3;for(var b,c=0,d=0,e=Za.actuatorsLength;d<e;)d++,b=Za.actuators[c],null!=b&&b.active?(a>=b.timeOffset&&b.update(a),++c):
(Za.actuators.splice(c,1),--Za.actuatorsLength)};Za.__super__=Le;Za.prototype=t(Le.prototype,{setField_openfl_geom_Transform:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:H.setProperty(a,b,c)},setField_motion_actuators_TransformActuator_T:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:H.setProperty(a,b,c)},setField_motion_actuators_MotionPathActuator_T:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:H.setProperty(a,b,c)},setField_openfl_display_DisplayObject:function(a,
b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:H.setProperty(a,b,c)},setField_motion_actuators_SimpleActuator_T:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:H.setProperty(a,b,c)},timeOffset:null,active:null,cacheVisible:null,detailsLength:null,initialized:null,paused:null,pauseTime:null,propertyDetails:null,sendChange:null,setVisible:null,startTime:null,toggleVisible:null,autoVisible:function(a){null==a&&(a=!0);this._autoVisible=a;if(!a&&(this.toggleVisible=!1,this.setVisible)){a=
this.target;var b=this.cacheVisible;Object.prototype.hasOwnProperty.call(a,"visible")?a.visible=b:H.setProperty(a,"visible",b)}return this},delay:function(a){this._delay=a;this.timeOffset=this.startTime+a;return this},getField:function(a,b){var c=null;return c=Object.prototype.hasOwnProperty.call(a,b)?H.field(a,b):H.getProperty(a,b)},initialize:function(){for(var a,b=0,c=H.fields(this.properties);b<c.length;){var d=c[b];++b;var e=!0;!Object.prototype.hasOwnProperty.call(this.target,d)||this.target.__properties__&&
this.target.__properties__["set_"+d]?(e=!1,a=H.getProperty(this.target,d)):a=H.field(this.target,d);if("number"==typeof a){var f=this.properties,g=null,f=g=Object.prototype.hasOwnProperty.call(f,d)?H.field(f,d):H.getProperty(f,d);null==a&&(a=0);null==f&&(f=0);a=new pd(this.target,d,a,f-a,e);this.propertyDetails.push(a)}}this.detailsLength=this.propertyDetails.length;this.initialized=!0},move:function(){this.toggleVisible=Object.prototype.hasOwnProperty.call(this.properties,"alpha")&&y.__instanceof(this.target,
aa);var a;if(this.toggleVisible&&0!=this.properties.alpha){a=this.target;var b=null,b=Object.prototype.hasOwnProperty.call(a,"visible")?H.field(a,"visible"):H.getProperty(a,"visible");a=!b}else a=!1;a&&(this.setVisible=!0,a=this.target,b=null,this.cacheVisible=b=Object.prototype.hasOwnProperty.call(a,"visible")?H.field(a,"visible"):H.getProperty(a,"visible"),a=this.target,Object.prototype.hasOwnProperty.call(a,"visible")?a.visible=!0:H.setProperty(a,"visible",!0));this.timeOffset=this.startTime;Za.actuators.push(this);
++Za.actuatorsLength},onUpdate:function(a,b){this._onUpdate=a;this._onUpdateParams=null==b?[]:b;this.sendChange=!0;return this},pause:function(){this.paused||(this.paused=!0,Le.prototype.pause.call(this),this.pauseTime=ia.getTimer())},resume:function(){this.paused&&(this.paused=!1,this.timeOffset+=(ia.getTimer()-this.pauseTime)/1E3,Le.prototype.resume.call(this))},setProperty:function(a,b){a.isField?a.target[a.propertyName]=b:H.setProperty(a.target,a.propertyName,b)},stop:function(a,b,c){if(this.active)if(null==
a)this.active=!1,b&&this.apply(),this.complete(c);else{var d=0;for(a=H.fields(a);d<a.length;){var e=a[d];++d;if(Object.prototype.hasOwnProperty.call(this.properties,e)){this.active=!1;b&&this.apply();this.complete(c);break}}}},update:function(a){if(!this.paused){var b,c,d=(a-this.timeOffset)/this.duration;1<d&&(d=1);this.initialized||this.initialize();if(this.special){c=this._reverse?this._ease.calculate(1-d):this._ease.calculate(d);for(var e,f=0,g=this.detailsLength;f<g;)b=f++,b=this.propertyDetails[b],
!this._smartRotation||"rotation"!=b.propertyName&&"rotationX"!=b.propertyName&&"rotationY"!=b.propertyName&&"rotationZ"!=b.propertyName?e=b.start+b.change*c:(e=b.change%360,180<e?e-=360:-180>e&&(e+=360),e=b.start+e*c),this._snapping&&(e=Math.round(e)),b.isField?b.target[b.propertyName]=e:H.setProperty(b.target,b.propertyName,e)}else for(c=this._ease.calculate(d),f=0,g=this.detailsLength;f<g;)b=f++,b=this.propertyDetails[b],e=b.start+b.change*c,b.isField?b.target[b.propertyName]=e:H.setProperty(b.target,
b.propertyName,e);if(1==d){if(0==this._repeat){this.active=!1;this.toggleVisible?(a=this.target,c=null,c=Object.prototype.hasOwnProperty.call(a,"alpha")?H.field(a,"alpha"):H.getProperty(a,"alpha"),a=0==c):a=!1;a&&(a=this.target,Object.prototype.hasOwnProperty.call(a,"visible")?a.visible=!1:H.setProperty(a,"visible",!1));this.complete(!0);return}null!=this._onRepeat&&(c=this._onRepeat,d=this._onRepeatParams,null==d&&(d=[]),c.apply(c,d));this._reflect&&(this._reverse=!this._reverse);this.startTime=
a;this.timeOffset=this.startTime+this._delay;0<this._repeat&&this._repeat--}this.sendChange&&this.change()}},__class__:Za});var Rg=function(){};k["motion.easing.Expo"]=Rg;Rg.__name__=["motion","easing","Expo"];Rg.__properties__={get_easeOut:"get_easeOut",get_easeInOut:"get_easeInOut",get_easeIn:"get_easeIn"};Rg.get_easeIn=function(){return new Yi};Rg.get_easeInOut=function(){return new Zi};Rg.get_easeOut=function(){return new $i};var Me=function(){};k["motion.easing.IEasing"]=Me;Me.__name__=["motion",
"easing","IEasing"];Me.prototype={calculate:null,ease:null,__class__:Me};var $i=function(){};k["motion.easing.ExpoEaseOut"]=$i;$i.__name__=["motion","easing","ExpoEaseOut"];$i.__interfaces__=[Me];$i.prototype={calculate:function(a){return 1==a?1:1-Math.pow(2,-10*a)},ease:function(a,b,c,d){return a==d?b+c:c*(1-Math.pow(2,-10*a/d))+b},__class__:$i};var ya=function(){};k["motion.Actuate"]=ya;ya.__name__=["motion","Actuate"];ya.apply=function(a,b,c){ya.stop(a,b);null==c&&(c=ya.defaultActuator);a=sa.createInstance(c,
[a,0,b]);a.apply();return a};ya.effects=function(a,b,c){null==c&&(c=!0);return new $k(a,b,c)};ya.getLibrary=function(a,b){null==b&&(b=!0);null==ya.targetLibraries.h.__keys__[a.__id__]&&b&&ya.targetLibraries.set(a,[]);return ya.targetLibraries.h[a.__id__]};ya.isActive=function(){for(var a=!1,b=ya.targetLibraries.iterator();b.hasNext();){b.next();a=!0;break}return a};ya.motionPath=function(a,b,c,d){null==d&&(d=!0);return ya.tween(a,b,c,d,aj)};ya.pause=function(a){if(y.__instanceof(a,Qf))a.pause();else if(a=
ya.getLibrary(a,!1),null!=a)for(var b=0;b<a.length;){var c=a[b];++b;c.pause()}};ya.pauseAll=function(){for(var a=ya.targetLibraries.iterator();a.hasNext();)for(var b=a.next(),c=0;c<b.length;){var d=b[c];++c;d.pause()}};ya.reset=function(){for(var a=ya.targetLibraries.iterator();a.hasNext();)for(var b=a.next(),c=b.length-1;0<=c;)b[c].stop(null,!1,!1),--c;ya.targetLibraries=new ac};ya.resume=function(a){if(y.__instanceof(a,Qf))a.resume();else if(a=ya.getLibrary(a,!1),null!=a)for(var b=0;b<a.length;){var c=
a[b];++b;c.resume()}};ya.resumeAll=function(){for(var a=ya.targetLibraries.iterator();a.hasNext();)for(var b=a.next(),c=0;c<b.length;){var d=b[c];++c;d.resume()}};ya.stop=function(a,b,c,d){null==d&&(d=!0);null==c&&(c=!1);if(null!=a)if(y.__instanceof(a,Qf))a.stop(null,c,d);else if(a=ya.getLibrary(a,!1),null!=a){if("string"==typeof b){var e={};e[b]=null;b=e}else if(b instanceof Array&&null==b.__enum__){var e={},f=0;for(b=y.__cast(b,Array);f<b.length;){var g=b[f];++f;e[g]=null}b=e}for(e=a.length-1;0<=
e;)a[e].stop(b,c,d),--e}};ya.timer=function(a,b){return ya.tween(new bj(0),a,new bj(1),!1,b)};ya.transform=function(a,b,c){null==c&&(c=!0);null==b&&(b=0);return new al(a,b,c)};ya.tween=function(a,b,c,d,e){null==d&&(d=!0);if(null!=a){if(0<b){null==e&&(e=ya.defaultActuator);a=sa.createInstance(e,[a,b,c]);b=ya.getLibrary(a.target);if(d){for(d=b.length-1;0<=d;)b[d].stop(a.properties,!1,!1),--d;b=ya.getLibrary(a.target)}b.push(a);a.move();return a}return ya.apply(a,c,e)}return null};ya.unload=function(a){var b=
a.target;null!=ya.targetLibraries.h.__keys__[b.__id__]&&(W.remove(ya.targetLibraries.h[b.__id__],a),0==ya.targetLibraries.h[b.__id__].length&&ya.targetLibraries.remove(b))};ya.update=function(a,b,c,d,e){null==e&&(e=!0);return ya.tween(a,b,{start:c,end:d},e,cj)};var $k=function(a,b,c){this.target=a;this.duration=b;this.overwrite=c};k["motion._Actuate.EffectsOptions"]=$k;$k.__name__=["motion","_Actuate","EffectsOptions"];$k.prototype={duration:null,overwrite:null,target:null,filter:function(a,b){b.filter=
a;return ya.tween(this.target,this.duration,b,this.overwrite,dj)},__class__:$k};var al=function(a,b,c){this.target=a;this.duration=b;this.overwrite=c};k["motion._Actuate.TransformOptions"]=al;al.__name__=["motion","_Actuate","TransformOptions"];al.prototype={duration:null,overwrite:null,target:null,color:function(a,b,c){null==b&&(b=1);null==a&&(a=0);a={colorValue:a,colorStrength:b};null!=c&&(a.colorAlpha=c);return ya.tween(this.target,this.duration,a,this.overwrite,Sg)},sound:function(a,b){var c=
{};null!=a&&(c.soundVolume=a);null!=b&&(c.soundPan=b);return ya.tween(this.target,this.duration,c,this.overwrite,Sg)},__class__:al};var bj=function(a){this.progress=a};k["motion._Actuate.TweenTimer"]=bj;bj.__name__=["motion","_Actuate","TweenTimer"];bj.prototype={progress:null,__class__:bj};var om=function(){this._x=new Tg;this._y=new Tg;this._rotation=null};k["motion.MotionPath"]=om;om.__name__=["motion","MotionPath"];om.prototype={rotation:null,x:null,y:null,_rotation:null,_x:null,_y:null,bezier:function(a,
b,c,d,e){null==e&&(e=1);this._x.addPath(new of(a,c,e));this._y.addPath(new of(b,d,e));return this},line:function(a,b,c){null==c&&(c=1);this._x.addPath(new Ug(a,c));this._y.addPath(new Ug(b,c));return this},get_rotation:function(){null==this._rotation&&(this._rotation=new ej(this._x,this._y));return this._rotation},get_x:function(){return this._x},get_y:function(){return this._y},__class__:om,__properties__:{get_y:"get_y",get_x:"get_x",get_rotation:"get_rotation"}};var pf=function(){};k["motion.IComponentPath"]=
pf;pf.__name__=["motion","IComponentPath"];pf.prototype={get_end:null,end:null,start:null,calculate:null,__class__:pf,__properties__:{get_end:"get_end"}};var Tg=function(){this.paths=[];this.totalStrength=this.start=0};k["motion.ComponentPath"]=Tg;Tg.__name__=["motion","ComponentPath"];Tg.__interfaces__=[pf];Tg.prototype={start:null,end:null,paths:null,totalStrength:null,addPath:function(a){this.paths.push(a);this.totalStrength+=a.strength},calculate:function(a){if(1==this.paths.length)return this.paths[0].calculate(this.start,
a);a*=this.totalStrength;for(var b=this.start,c=0,d=this.paths;c<d.length;){var e=d[c];++c;if(a>e.strength)a-=e.strength,b=e.end;else return e.calculate(b,a/e.strength)}return 0},get_end:function(){return 0<this.paths.length?this.paths[this.paths.length-1].end:this.start},__class__:Tg,__properties__:{get_end:"get_end"}};var of=function(a,b,c){this.end=a;this.control=b;this.strength=c};k["motion.BezierPath"]=of;of.__name__=["motion","BezierPath"];of.prototype={control:null,end:null,strength:null,calculate:function(a,
b){return(1-b)*(1-b)*a+2*(1-b)*b*this.control+b*b*this.end},__class__:of};var Ug=function(a,b){of.call(this,a,0,b)};k["motion.LinearPath"]=Ug;Ug.__name__=["motion","LinearPath"];Ug.__super__=of;Ug.prototype=t(of.prototype,{calculate:function(a,b){return a+b*(this.end-a)},__class__:Ug});var ej=function(a,b){this.step=.01;this._x=a;this._y=b;this.offset=0;this.start=this.calculate(0)};k["motion.RotationPath"]=ej;ej.__name__=["motion","RotationPath"];ej.__interfaces__=[pf];ej.prototype={end:null,offset:null,
start:null,step:null,_x:null,_y:null,calculate:function(a){var b=this._x.calculate(a)-this._x.calculate(a+this.step);a=this._y.calculate(a)-this._y.calculate(a+this.step);b=Math.atan2(a,b)*(180/Math.PI);return b=(b+this.offset)%360},get_end:function(){return this.calculate(1)},__class__:ej,__properties__:{get_end:"get_end"}};var dj=function(a,b,c){this.filterIndex=-1;Za.call(this,a,b,c);if(y.__instanceof(c.filter,wm))for(this.filterClass=c.filter,0==a.get_filters().length&&a.set_filters([sa.createInstance(this.filterClass,
[])]),b=0,a=a.get_filters();b<a.length;)c=a[b],++b,y.__instanceof(c,this.filterClass)&&(this.filter=c);else this.filterIndex=c.filter,this.filter=a.get_filters()[this.filterIndex]};k["motion.actuators.FilterActuator"]=dj;dj.__name__=["motion","actuators","FilterActuator"];dj.__super__=Za;dj.prototype=t(Za.prototype,{filter:null,filterClass:null,filterIndex:null,apply:function(){for(var a=0,b=H.fields(this.properties);a<b.length;){var c=b[a];++a;"filter"!=c&&(this.filter[c]=H.field(this.properties,
c))}a=this.target;b=null;a=b=Object.prototype.hasOwnProperty.call(a,"filters")?H.field(a,"filters"):H.getProperty(a,"filters");a[this.properties.filter]=this.filter;b=this.target;Object.prototype.hasOwnProperty.call(b,"filters")?b.filters=a:H.setProperty(b,"filters",a)},initialize:function(){for(var a,b,c=0,d=H.fields(this.properties);c<d.length;)if(a=d[c],++c,"filter"!=a){b=this.filter;var e=null;b=e=Object.prototype.hasOwnProperty.call(b,a)?H.field(b,a):H.getProperty(b,a);a=new pd(this.filter,a,
b,H.field(this.properties,a)-b);this.propertyDetails.push(a)}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(a){Za.prototype.update.call(this,a);a=this.target.get_filters();if(-1<this.filterIndex)a[this.properties.filter]=this.filter;else for(var b=0,c=a.length;b<c;){var d=b++;y.__instanceof(a[d],this.filterClass)&&(a[d]=this.filter)}b=this.target;Object.prototype.hasOwnProperty.call(b,"filters")?b.filters=a:H.setProperty(b,"filters",a)},__class__:dj});var cj=function(a,
b,c){this.currentParameters=[];this.tweenProperties={};Za.call(this,a,b,c);Object.prototype.hasOwnProperty.call(c,"start")||(this.properties.start=[]);Object.prototype.hasOwnProperty.call(c,"end")||(this.properties.end=this.properties.start);a=0;for(b=this.properties.start.length;a<b;)c=a++,this.currentParameters.push(this.properties.start[c])};k["motion.actuators.MethodActuator"]=cj;cj.__name__=["motion","actuators","MethodActuator"];cj.__super__=Za;cj.prototype=t(Za.prototype,{currentParameters:null,
tweenProperties:null,apply:function(){var a=this.target,b=this.properties.end;null==b&&(b=[]);a.apply(a,b)},complete:function(a){null==a&&(a=!0);for(var b=0,c=this.properties.start.length;b<c;){var d=b++;this.currentParameters[d]=H.field(this.tweenProperties,"param"+d)}b=this.target;c=this.currentParameters;null==c&&(c=[]);b.apply(b,c);Za.prototype.complete.call(this,a)},initialize:function(){for(var a,b,c=0,d=this.properties.start.length;c<d;){var e=c++;a="param"+e;b=this.properties.start[e];this.tweenProperties[a]=
b;if("number"==typeof b||"number"==typeof b&&(b|0)===b)a=new pd(this.tweenProperties,a,b,this.properties.end[e]-b),this.propertyDetails.push(a)}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(a){Za.prototype.update.call(this,a);if(this.active&&!this.paused){a=0;for(var b=this.properties.start.length;a<b;){var c=a++;this.currentParameters[c]=H.field(this.tweenProperties,"param"+c)}a=this.target;b=this.currentParameters;null==b&&(b=[]);a.apply(a,b)}},__class__:cj});
var aj=function(a,b,c){Za.call(this,a,b,c)};k["motion.actuators.MotionPathActuator"]=aj;aj.__name__=["motion","actuators","MotionPathActuator"];aj.__super__=Za;aj.prototype=t(Za.prototype,{apply:function(){for(var a=0,b=H.fields(this.properties);a<b.length;){var c=b[a];++a;Object.prototype.hasOwnProperty.call(this.target,c)?this.target[c]=y.__cast(H.field(this.properties,c),pf).get_end():H.setProperty(this.target,c,y.__cast(H.field(this.properties,c),pf).get_end())}},initialize:function(){for(var a,
b=0,c=H.fields(this.properties);b<c.length;){var d=c[b];++b;a=y.__cast(H.field(this.properties,d),pf);if(null!=a){var e=!0;Object.prototype.hasOwnProperty.call(this.target,d)?a.start=H.field(this.target,d):(e=!1,a.start=H.getProperty(this.target,d));a=new Rd(this.target,d,a,e);this.propertyDetails.push(a)}}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(a){if(!this.paused){var b,c=(a-this.timeOffset)/this.duration;1<c&&(c=1);this.initialized||this.initialize();
if(this.special){b=this._reverse?this._ease.calculate(1-c):this._ease.calculate(c);for(var d=0,e=this.propertyDetails;d<e.length;){var f=e[d];++d;this._snapping?f.isField?f.target[f.propertyName]=Math.round(y.__cast(f,Rd).path.calculate(b)):H.setProperty(f.target,f.propertyName,Math.round(y.__cast(f,Rd).path.calculate(b))):f.isField?f.target[f.propertyName]=y.__cast(f,Rd).path.calculate(b):H.setProperty(f.target,f.propertyName,y.__cast(f,Rd).path.calculate(b))}}else for(b=this._ease.calculate(c),
d=0,e=this.propertyDetails;d<e.length;)f=e[d],++d,f.isField?f.target[f.propertyName]=y.__cast(f,Rd).path.calculate(b):H.setProperty(f.target,f.propertyName,y.__cast(f,Rd).path.calculate(b));if(1==c){if(0==this._repeat){this.active=!1;this.toggleVisible?(a=this.target,b=null,b=Object.prototype.hasOwnProperty.call(a,"alpha")?H.field(a,"alpha"):H.getProperty(a,"alpha"),a=0==b):a=!1;a&&(a=this.target,Object.prototype.hasOwnProperty.call(a,"visible")?a.visible=!1:H.setProperty(a,"visible",!1));this.complete(!0);
return}null!=this._onRepeat&&(b=this._onRepeat,c=this._onRepeatParams,null==c&&(c=[]),b.apply(b,c));this._reflect&&(this._reverse=!this._reverse);this.startTime=a;this.timeOffset=this.startTime+this._delay;0<this._repeat&&this._repeat--}this.sendChange&&this.change()}},__class__:aj});var pd=function(a,b,c,d,e){null==e&&(e=!0);this.target=a;this.propertyName=b;this.start=c;this.change=d;this.isField=e};k["motion.actuators.PropertyDetails"]=pd;pd.__name__=["motion","actuators","PropertyDetails"];pd.prototype=
{change:null,isField:null,propertyName:null,start:null,target:null,__class__:pd};var Rd=function(a,b,c,d){null==d&&(d=!0);pd.call(this,a,b,0,0,d);this.path=c};k["motion.actuators.PropertyPathDetails"]=Rd;Rd.__name__=["motion","actuators","PropertyPathDetails"];Rd.__super__=pd;Rd.prototype=t(pd.prototype,{path:null,__class__:Rd});var Sg=function(a,b,c){Za.call(this,a,b,c)};k["motion.actuators.TransformActuator"]=Sg;Sg.__name__=["motion","actuators","TransformActuator"];Sg.__super__=Za;Sg.prototype=
t(Za.prototype,{endColorTransform:null,endSoundTransform:null,tweenColorTransform:null,tweenSoundTransform:null,apply:function(){this.initialize();if(null!=this.endColorTransform){var a=this.target,b=null,a=b=Object.prototype.hasOwnProperty.call(a,"transform")?H.field(a,"transform"):H.getProperty(a,"transform"),b=this.endColorTransform;Object.prototype.hasOwnProperty.call(a,"colorTransform")?a.colorTransform=b:H.setProperty(a,"colorTransform",b)}null!=this.endSoundTransform&&(a=this.target,b=this.endSoundTransform,
Object.prototype.hasOwnProperty.call(a,"soundTransform")?a.soundTransform=b:H.setProperty(a,"soundTransform",b))},initialize:function(){Object.prototype.hasOwnProperty.call(this.properties,"colorValue")&&y.__instanceof(this.target,aa)&&this.initializeColor();(Object.prototype.hasOwnProperty.call(this.properties,"soundVolume")||Object.prototype.hasOwnProperty.call(this.properties,"soundPan"))&&this.initializeSound();this.detailsLength=this.propertyDetails.length;this.initialized=!0},initializeColor:function(){this.endColorTransform=
new Ob;var a=this.properties.colorValue,b=this.properties.colorStrength;if(1>b){var c;.5>b?(c=1,b*=2):(c=1-2*(b-.5),b=1);this.endColorTransform.redMultiplier=c;this.endColorTransform.greenMultiplier=c;this.endColorTransform.blueMultiplier=c;this.endColorTransform.redOffset=b*(a>>16&255);this.endColorTransform.greenOffset=b*(a>>8&255);this.endColorTransform.blueOffset=b*(a&255)}else this.endColorTransform.redMultiplier=0,this.endColorTransform.greenMultiplier=0,this.endColorTransform.blueMultiplier=
0,this.endColorTransform.redOffset=a>>16&255,this.endColorTransform.greenOffset=a>>8&255,this.endColorTransform.blueOffset=a&255;a="redMultiplier greenMultiplier blueMultiplier redOffset greenOffset blueOffset".split(" ");Object.prototype.hasOwnProperty.call(this.properties,"colorAlpha")?(this.endColorTransform.alphaMultiplier=this.properties.colorAlpha,a.push("alphaMultiplier")):(c=this.target,b=null,b=Object.prototype.hasOwnProperty.call(c,"alpha")?H.field(c,"alpha"):H.getProperty(c,"alpha"),this.endColorTransform.alphaMultiplier=
b);c=this.target;b=null;c=b=Object.prototype.hasOwnProperty.call(c,"transform")?H.field(c,"transform"):H.getProperty(c,"transform");b=null;c=b=Object.prototype.hasOwnProperty.call(c,"colorTransform")?H.field(c,"colorTransform"):H.getProperty(c,"colorTransform");this.tweenColorTransform=new Ob;for(var d,e,b=0;b<a.length;){d=a[b];++b;e=null;e=Object.prototype.hasOwnProperty.call(c,d)?H.field(c,d):H.getProperty(c,d);var f=this.tweenColorTransform,g=this.endColorTransform,k=null,k=Object.prototype.hasOwnProperty.call(g,
d)?H.field(g,d):H.getProperty(g,d);d=new pd(f,d,e,k-e);this.propertyDetails.push(d)}},initializeSound:function(){var a=this.target,b=null,b=Object.prototype.hasOwnProperty.call(a,"soundTransform")?H.field(a,"soundTransform"):H.getProperty(a,"soundTransform");null==b&&(a=this.target,b=new qd,Object.prototype.hasOwnProperty.call(a,"soundTransform")?a.soundTransform=b:H.setProperty(a,"soundTransform",b));var a=this.target,b=null,a=b=Object.prototype.hasOwnProperty.call(a,"soundTransform")?H.field(a,
"soundTransform"):H.getProperty(a,"soundTransform"),b=this.target,c=null;this.endSoundTransform=c=Object.prototype.hasOwnProperty.call(b,"soundTransform")?H.field(b,"soundTransform"):H.getProperty(b,"soundTransform");this.tweenSoundTransform=new qd;Object.prototype.hasOwnProperty.call(this.properties,"soundVolume")&&(this.endSoundTransform.volume=this.properties.soundVolume,this.propertyDetails.push(new pd(this.tweenSoundTransform,"volume",a.volume,this.endSoundTransform.volume-a.volume)));Object.prototype.hasOwnProperty.call(this.properties,
"soundPan")&&(this.endSoundTransform.pan=this.properties.soundPan,this.propertyDetails.push(new pd(this.tweenSoundTransform,"pan",a.pan,this.endSoundTransform.pan-a.pan)))},update:function(a){Za.prototype.update.call(this,a);if(null!=this.endColorTransform){a=this.target;var b=null;a=b=Object.prototype.hasOwnProperty.call(a,"transform")?H.field(a,"transform"):H.getProperty(a,"transform");b=this.tweenColorTransform;Object.prototype.hasOwnProperty.call(a,"colorTransform")?a.colorTransform=b:H.setProperty(a,
"colorTransform",b)}null!=this.endSoundTransform&&(a=this.target,b=this.tweenSoundTransform,Object.prototype.hasOwnProperty.call(a,"soundTransform")?a.soundTransform=b:H.setProperty(a,"soundTransform",b))},__class__:Sg});var Yi=function(){};k["motion.easing.ExpoEaseIn"]=Yi;Yi.__name__=["motion","easing","ExpoEaseIn"];Yi.__interfaces__=[Me];Yi.prototype={calculate:function(a){return 0==a?0:Math.pow(2,10*(a-1))},ease:function(a,b,c,d){return 0==a?b:c*Math.pow(2,10*(a/d-1))+b},__class__:Yi};var Zi=function(){};
k["motion.easing.ExpoEaseInOut"]=Zi;Zi.__name__=["motion","easing","ExpoEaseInOut"];Zi.__interfaces__=[Me];Zi.prototype={calculate:function(a){return 0==a?0:1==a?1:1>(a/=.5)?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*--a))},ease:function(a,b,c,d){return 0==a?b:a==d?b+c:1>(a/=d/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(2-Math.pow(2,-10*--a))+b},__class__:Zi};var Vg=function(){};k["motion.easing.Quad"]=Vg;Vg.__name__=["motion","easing","Quad"];Vg.__properties__={get_easeOut:"get_easeOut",get_easeInOut:"get_easeInOut",
get_easeIn:"get_easeIn"};Vg.get_easeIn=function(){return new fj};Vg.get_easeInOut=function(){return new gj};Vg.get_easeOut=function(){return new hj};var fj=function(){};k["motion.easing.QuadEaseIn"]=fj;fj.__name__=["motion","easing","QuadEaseIn"];fj.__interfaces__=[Me];fj.prototype={calculate:function(a){return a*a},ease:function(a,b,c,d){return c*(a/=d)*a+b},__class__:fj};var gj=function(){};k["motion.easing.QuadEaseInOut"]=gj;gj.__name__=["motion","easing","QuadEaseInOut"];gj.__interfaces__=[Me];
gj.prototype={calculate:function(a){return 1>(a*=2)?.5*a*a:-.5*((a-1)*(a-3)-1)},ease:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a+b:-c/2*((a-1)*(a-3)-1)+b},__class__:gj};var hj=function(){};k["motion.easing.QuadEaseOut"]=hj;hj.__name__=["motion","easing","QuadEaseOut"];hj.__interfaces__=[Me];hj.prototype={calculate:function(a){return-a*(a-2)},ease:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},__class__:hj};var Oc=function(){wa.call(this);this.__currentFrame=0;this.__currentLabels=[];this.__totalFrames=
0;this.enabled=!0;null!=Oc.__initSymbol&&(this.__swf=Oc.__initSWF,this.__symbol=Oc.__initSymbol,Oc.__initSWF=null,Oc.__initSymbol=null,this.__fromSymbol(this.__swf,this.__symbol))};k["openfl.display.MovieClip"]=Oc;Oc.__name__=["openfl","display","MovieClip"];Oc.__super__=wa;Oc.prototype=t(wa.prototype,{enabled:null,__currentFrame:null,__currentFrameLabel:null,__currentLabel:null,__currentLabels:null,__frameScripts:null,__frameTime:null,__lastUpdate:null,__maskCount:null,__objectDepths:null,__objects:null,
__playing:null,__swf:null,__symbol:null,__timeElapsed:null,__totalFrames:null,__zeroSymbol:null,addFrameScript:function(a,b){null!=b?(null==this.__frameScripts&&(this.__frameScripts=new Ib),this.__frameScripts.h[a]=b):null!=this.__frameScripts&&this.__frameScripts.remove(a)},gotoAndPlay:function(a,b){null!=this.__symbol&&(this.__currentFrame=this.__getFrame(a),this.__updateFrame(),this.play())},gotoAndStop:function(a,b){null!=this.__symbol&&(this.__currentFrame=this.__getFrame(a),this.__updateFrame(),
this.stop())},nextFrame:function(){if(null!=this.__symbol){var a=this.__currentFrame+1;a>this.__totalFrames&&(a=this.__totalFrames);this.gotoAndStop(a)}},play:function(){null!=this.__symbol&&!this.__playing&&1<this.__totalFrames&&(this.__playing=!0,this.__frameTime=1E3/this.__swf.frameRate|0,this.__timeElapsed=0)},prevFrame:function(){if(null!=this.__symbol){var a=this.__currentFrame-1;1>a&&(a=1);this.gotoAndStop(a)}},stop:function(){null!=this.__symbol&&this.__playing&&(this.__playing=!1)},__applyTween:function(a,
b,c){return a+(b-a)*c},__enterFrame:function(a){if(null!=this.__symbol&&this.__playing){this.__timeElapsed+=a;var b=Math.floor(this.__timeElapsed/this.__frameTime);this.__timeElapsed%=this.__frameTime;if(null!=this.__frameScripts)for(var c=0;c<b&&(c++,this.__currentFrame++,this.__currentFrame>this.__totalFrames&&(this.__currentFrame=1),!this.__frameScripts.h.hasOwnProperty(this.__currentFrame-1)||(this.__frameScripts.h[this.__currentFrame-1](),this.__playing)););else for(this.__currentFrame+=b;this.__currentFrame>
this.__totalFrames;)this.__currentFrame-=this.__totalFrames;this.__updateFrame()}wa.prototype.__enterFrame.call(this,a)},__fromSymbol:function(a,b){if(null==this.__objects){this.__swf=a;this.__symbol=b;this.__lastUpdate=-1;this.__maskCount=0;this.__objectDepths=[];this.__objects=new Ib;this.__zeroSymbol=-1;this.__currentFrame=1;this.__totalFrames=this.__symbol.frames.length;for(var c=0,d=this.__symbol.frames.length;c<d;){var e=c++;null!=this.__symbol.frames[e].label&&this.__currentLabels.push(new ij(this.__symbol.frames[e].label,
e+1))}this.__updateFrame();c=0;for(d=sa.getInstanceFields(y.getClass(this));c<d.length;){e=d[c];++c;for(var f=0,g=this.__children;f<g.length;){var k=g[f];++f;k.get_name()==e&&(this[e]=k)}}1<this.__totalFrames&&this.play()}},__getFrame:function(a){if("number"==typeof a&&(a|0)===a)return 1>a?1:a>this.__totalFrames?this.__totalFrames:a;if("string"==typeof a)for(var b=0,c=this.__currentLabels;b<c.length;){var d=c[b];++b;if(d.get_name()==a)return d.get_frame()}return 1},__placeObject:function(a,b){null!=
b.name&&a.set_name(b.name);null!=b.matrix&&a.get_transform().set_matrix(b.matrix);null!=b.colorTransform&&a.get_transform().set_colorTransform(b.colorTransform);if(null!=b.filters){for(var c=[],d=0,e=b.filters;d<e.length;){var f=e[d];++d;switch(f[1]){case 0:c.push(new Ne(f[2],f[3],f[4]));break;case 1:c.push(new Oe(f[2]));break;case 2:c.push(new Wg(f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12]));break;case 3:c.push(new Zc(f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9]))}}a.set_filters(c)}a.set_visible(b.visible)},
__renderFrame:function(a){var b=this.__lastUpdate-1;if(b>a){for(var c,d=0;d<this.__objectDepths.length;){b=this.__objectDepths[d];c=!1;for(var e=0,f=this.__symbol.frames[0].objects;e<f.length;){var g=f[e];++e;if(g.id==b.id){c=!0;break}}c?++d:(b.displayObject.parent==this&&this.removeChild(b.displayObject),0<b.clipDepth&&this.__maskCount--,0>this.__maskCount&&(this.__maskCount=0),this.__objectDepths.splice(d,1))}b=0}var k;c=!1;for(a+=1;b<a;)if(d=b++,!(0>d))for(e=this.__symbol.frames[d],d=0,f=e.objects;d<
f.length;)if(g=f[d],++d,g.type!=Mc.DESTROY)0==g.id&&g.symbol!=this.__zeroSymbol&&(e=this.__objects.h[0],null!=e&&e.displayObject.parent==this&&this.removeChild(e.displayObject),W.remove(this.__objectDepths,this.__objects.h[0]),this.__zeroSymbol=g.symbol),k=null,this.__objects.h.hasOwnProperty(g.id)?(e=this.__objects.h[g.id],k=e.displayObject,null==e.displayObject.parent&&(0<g.clipDepth&&this.__maskCount++,this.__objectDepths.push(e),c=!0)):(this.__swf.symbols.h.hasOwnProperty(g.symbol)&&(e=this.__swf.symbols.h[g.symbol],
k=e.__createObject(this.__swf)),null!=k&&(e=new bl(g.id,g.depth,g.clipDepth,k),0<g.clipDepth&&this.__maskCount++,this.__objectDepths.push(e),this.__objects.h[g.id]=e,c=!0)),null!=k&&this.__placeObject(k,g);else if(this.__objects.h.hasOwnProperty(g.id)){e=this.__objects.h[g.id];if(null!=e){e.displayObject.parent==this&&this.removeChild(e.displayObject);if(0<e.clipDepth)for(this.__maskCount--,c=0,g=this.__objectDepths;c<g.length;)k=g[c],++c,k.displayObject.get_mask()==e.displayObject&&k.displayObject.set_mask(null);
W.remove(this.__objectDepths,e)}c=!0}if(c)for(this.__objectDepths.sort(n(this,this.__sortTimelineDepth)),b=this.__objectDepths.length-1;0<=b;)e=this.__objectDepths[b],this.addChildAt(e.displayObject,0),--b;if(0<this.__maskCount)for(a=0,c=this.__objectDepths;a<c.length;)if(d=c[a],++a,0<d.clipDepth)for(b=d.displayObject,e=0,f=this.__objectDepths;e<f.length;)if(g=f[e],++e,g.depth<=d.clipDepth)g.depth>=d.depth&&g.displayObject.set_mask(b);else break},__sortTimelineDepth:function(a,b){return a.depth-b.depth},
__stopAllMovieClips:function(){wa.prototype.__stopAllMovieClips.call(this);this.stop()},__updateFrame:function(){if(this.__currentFrame!=this.__lastUpdate){var a=this.__currentFrame-1;if(-1<a){this.__currentFrameLabel=this.__symbol.frames.length>a&&null!=this.__symbol.frames[a]?this.__symbol.frames[a].label:null;if(null!=this.__currentFrameLabel)this.__currentLabel=this.__currentFrameLabel;else if(this.__currentFrame!=this.__lastUpdate+1){this.__currentLabel=null;for(var b=0,c=this.__currentLabels;b<
c.length;){var d=c[b];++b;if(d.get_frame()<=this.__currentFrame)this.__currentLabel=d.get_name();else break}}this.__renderFrame(a)}this.__renderDirty=!0;aa.__worldRenderDirty++}this.__lastUpdate=this.__currentFrame},get_currentFrame:function(){return this.__currentFrame},get_currentFrameLabel:function(){return this.__currentFrameLabel},get_currentLabel:function(){return this.__currentLabel},get_currentLabels:function(){return this.__currentLabels},get_framesLoaded:function(){return this.__totalFrames},
get_totalFrames:function(){return this.__totalFrames},__class__:Oc,__properties__:t(wa.prototype.__properties__,{get_totalFrames:"get_totalFrames",get_framesLoaded:"get_framesLoaded",get_currentLabels:"get_currentLabels",get_currentLabel:"get_currentLabel",get_currentFrameLabel:"get_currentFrameLabel",get_currentFrame:"get_currentFrame"})});var ia=function(){};k["openfl.Lib"]=ia;ia.__name__=["openfl","Lib"];ia.as=function(a,b){return y.__instanceof(a,b)?a:null};ia.attach=function(a){return new Oc};
ia.getTimer=function(){return za.getTimer()};ia.getURL=function(a,b){null==b&&(b="_blank");za.openURL(a.url,b)};ia.notImplemented=function(a){var b=a.className+"."+a.methodName,c=ia.__sentWarnings;(null!=u[b]?c.existsReserved(b):c.h.hasOwnProperty(b))||(c=ia.__sentWarnings,null!=u[b]?c.setReserved(b,!0):c.h[b]=!0,La.warn(a.methodName+" is not implemented",a))};ia.preventDefaultTouchMove=function(){window.document.addEventListener("touchmove",function(a){a.preventDefault()},!1)};ia.trace=function(a){xk.trace(a,
{fileName:"Lib.hx",lineNumber:151,className:"openfl.Lib",methodName:"trace"})};var qf=function(){};k["openfl._Vector.IVector"]=qf;qf.__name__=["openfl","_Vector","IVector"];qf.prototype={get_length:null,set_length:null,fixed:null,concat:null,copy:null,get:null,indexOf:null,insertAt:null,iterator:null,join:null,lastIndexOf:null,pop:null,push:null,reverse:null,set:null,shift:null,slice:null,sort:null,splice:null,toString:null,unshift:null,__class__:qf,__properties__:{set_length:"set_length",get_length:"get_length"}};
var Cd=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};k["openfl._Vector.BoolVector"]=Cd;Cd.__name__=["openfl","_Vector","BoolVector"];Cd.__interfaces__=[qf];Cd.prototype={fixed:null,__array:null,concat:function(a){return null==a?new Cd(null,null,this.__array.slice()):new Cd(null,null,this.__array.concat(y.__cast(a,Cd).__array))},copy:function(){return new Cd(null,this.fixed,this.__array.slice())},get:function(a){return a>=this.__array.length?!1:this.__array[a]},
indexOf:function(a,b){null==b&&(b=0);for(var c=b,d=this.__array.length;c<d;){var e=c++;if(this.__array[e]==a)return e}return-1},insertAt:function(a,b){(!this.fixed||a<this.__array.length)&&this.__array.splice(a,0,b)},iterator:function(){return W.iter(this.__array)},join:function(a){return this.__array.join(a)},lastIndexOf:function(a,b){null==b&&(b=0);for(var c=this.__array.length-1;c>=b;){if(this.__array[c]==a)return c;--c}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(a){return this.fixed?
this.__array.length:this.__array.push(a)},reverse:function(){this.__array.reverse()},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(a,b){null==b&&(b=16777215);null==a&&(a=0);return new Cd(null,null,this.__array.slice(a,b))},sort:function(a){this.__array.sort(a)},splice:function(a,b){return new Cd(null,null,this.__array.splice(a,b))},toString:function(){return this.__array.toString()},unshift:function(a){this.fixed||
this.__array.unshift(a)},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=!1}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:Cd,__properties__:{set_length:"set_length",get_length:"get_length"}};var Ed=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};k["openfl._Vector.FloatVector"]=Ed;Ed.__name__=
["openfl","_Vector","FloatVector"];Ed.__interfaces__=[qf];Ed.prototype={fixed:null,__array:null,concat:function(a){return null==a?new Ed(null,null,this.__array.slice()):new Ed(null,null,this.__array.concat(y.__cast(a,Ed).__array))},copy:function(){return new Ed(null,this.fixed,this.__array.slice())},get:function(a){return this.__array[a]},indexOf:function(a,b){null==b&&(b=0);for(var c=b,d=this.__array.length;c<d;){var e=c++;if(this.__array[e]==a)return e}return-1},insertAt:function(a,b){(!this.fixed||
a<this.__array.length)&&this.__array.splice(a,0,b)},iterator:function(){return W.iter(this.__array)},join:function(a){return this.__array.join(a)},lastIndexOf:function(a,b){null==b&&(b=0);for(var c=this.__array.length-1;c>=b;){if(this.__array[c]==a)return c;--c}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},reverse:function(){this.__array.reverse()},set:function(a,b){return!this.fixed||a<this.__array.length?
this.__array[a]=b:b},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(a,b){null==b&&(b=16777215);null==a&&(a=0);return new Ed(null,null,this.__array.slice(a,b))},sort:function(a){this.__array.sort(a)},splice:function(a,b){return new Ed(null,null,this.__array.splice(a,b))},toString:function(){return this.__array.toString()},unshift:function(a){this.fixed||this.__array.unshift(a)},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=
this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=0}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:Ed,__properties__:{set_length:"set_length",get_length:"get_length"}};var Fd=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};k["openfl._Vector.FunctionVector"]=Fd;Fd.__name__=["openfl","_Vector","FunctionVector"];Fd.__interfaces__=[qf];Fd.prototype={fixed:null,__array:null,concat:function(a){return null==
a?new Fd(null,null,this.__array.slice()):new Fd(null,null,this.__array.concat(y.__cast(a,Fd).__array))},copy:function(){return new Fd(null,this.fixed,this.__array.slice())},get:function(a){return a>=this.__array.length?null:this.__array[a]},indexOf:function(a,b){null==b&&(b=0);for(var c=b,d=this.__array.length;c<d;){var e=c++;if(H.compareMethods(this.__array[e],a))return e}return-1},insertAt:function(a,b){(!this.fixed||a<this.__array.length)&&this.__array.splice(a,0,b)},iterator:function(){return W.iter(this.__array)},
join:function(a){return this.__array.join(a)},lastIndexOf:function(a,b){null==b&&(b=0);for(var c=this.__array.length-1;c>=b;){if(H.compareMethods(this.__array[c],a))return c;--c}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},reverse:function(){this.__array.reverse()},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},shift:function(){return this.fixed?null:this.__array.shift()},
slice:function(a,b){null==b&&(b=16777215);null==a&&(a=0);return new Fd(null,null,this.__array.slice(a,b))},sort:function(a){this.__array.sort(a)},splice:function(a,b){return new Fd(null,null,this.__array.splice(a,b))},toString:function(){return this.__array.toString()},unshift:function(a){this.fixed||this.__array.unshift(a)},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=null}else for(;this.__array.length>
a;)this.__array.pop()}return this.__array.length},__class__:Fd,__properties__:{set_length:"set_length",get_length:"get_length"}};var Dd=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};k["openfl._Vector.IntVector"]=Dd;Dd.__name__=["openfl","_Vector","IntVector"];Dd.__interfaces__=[qf];Dd.prototype={fixed:null,__array:null,concat:function(a){return null==a?new Dd(null,null,this.__array.slice()):new Dd(null,null,this.__array.concat(y.__cast(a,Dd).__array))},
copy:function(){return new Dd(null,this.fixed,this.__array.slice())},get:function(a){return this.__array[a]},indexOf:function(a,b){null==b&&(b=0);for(var c=b,d=this.__array.length;c<d;){var e=c++;if(this.__array[e]==a)return e}return-1},insertAt:function(a,b){(!this.fixed||a<this.__array.length)&&this.__array.splice(a,0,b)},iterator:function(){return W.iter(this.__array)},join:function(a){return this.__array.join(a)},lastIndexOf:function(a,b){null==b&&(b=0);for(var c=this.__array.length-1;c>=b;){if(this.__array[c]==
a)return c;--c}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},reverse:function(){this.__array.reverse()},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(a,b){null==b&&(b=16777215);null==a&&(a=0);return new Dd(null,null,this.__array.slice(a,b))},sort:function(a){this.__array.sort(a)},splice:function(a,
b){return new Dd(null,null,this.__array.splice(a,b))},toString:function(){return this.__array.toString()},unshift:function(a){this.fixed||this.__array.unshift(a)},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=0}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:Dd,__properties__:{set_length:"set_length",get_length:"get_length"}};var Gd=
function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};k["openfl._Vector.ObjectVector"]=Gd;Gd.__name__=["openfl","_Vector","ObjectVector"];Gd.__interfaces__=[qf];Gd.prototype={fixed:null,__array:null,concat:function(a){return null==a?new Gd(null,null,this.__array.slice()):new Gd(null,null,this.__array.concat(y.__cast(a,Gd).__array))},copy:function(){return new Gd(null,null,this.__array.slice())},get:function(a){return this.__array[a]},indexOf:function(a,b){null==
b&&(b=0);for(var c=b,d=this.__array.length;c<d;){var e=c++;if(this.__array[e]==a)return e}return-1},insertAt:function(a,b){(!this.fixed||a<this.__array.length)&&this.__array.splice(a,0,b)},iterator:function(){return W.iter(this.__array)},join:function(a){return this.__array.join(a)},lastIndexOf:function(a,b){null==b&&(b=0);for(var c=this.__array.length-1;c>=b;){if(this.__array[c]==a)return c;--c}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(a){return this.fixed?
this.__array.length:this.__array.push(a)},reverse:function(){this.__array.reverse()},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(a,b){null==b&&(b=16777215);null==a&&(a=0);return new Gd(null,null,this.__array.slice(a,b))},sort:function(a){this.__array.sort(a)},splice:function(a,b){return new Gd(null,null,this.__array.splice(a,b))},toString:function(){return this.__array.toString()},unshift:function(a){this.fixed||
this.__array.unshift(a)},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;)b++,this.__array.push(null);else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:Gd,__properties__:{set_length:"set_length",get_length:"get_length"}};var jj=function(){};k["openfl._internal.renderer.AbstractBlendModeManager"]=jj;jj.__name__=["openfl","_internal","renderer","AbstractBlendModeManager"];
jj.prototype={setBlendMode:function(a){},__class__:jj};var kj=function(a){this.renderSession=a};k["openfl._internal.renderer.AbstractFilterManager"]=kj;kj.__name__=["openfl","_internal","renderer","AbstractFilterManager"];kj.prototype={renderSession:null,pushObject:function(a){return null},popObject:function(a){},__class__:kj};var Pe=function(a){this.renderSession=a};k["openfl._internal.renderer.AbstractMaskManager"]=Pe;Pe.__name__=["openfl","_internal","renderer","AbstractMaskManager"];Pe.prototype=
{renderSession:null,pushMask:function(a){},pushObject:function(a,b){},pushRect:function(a,b){},popMask:function(){},popObject:function(a,b){},popRect:function(){},saveState:function(){},restoreState:function(){},__class__:Pe};var oc=function(a){this.stage=a;this.width=a.stageWidth;this.height=a.stageHeight};k["openfl._internal.renderer.AbstractRenderer"]=oc;oc.__name__=["openfl","_internal","renderer","AbstractRenderer"];oc.prototype={height:null,width:null,transparent:null,viewport:null,renderSession:null,
stage:null,clear:function(){},render:function(){},resize:function(a,b){this.width=a;this.height=b},__class__:oc};var lj=function(){};k["openfl._internal.renderer.AbstractShaderManager"]=lj;lj.__name__=["openfl","_internal","renderer","AbstractShaderManager"];lj.prototype={currentShader:null,defaultShader:null,setShader:function(a){},__class__:lj};var pc=function(){null==pc.empty?(this.types=[],this.b=[],this.i=[],this.f=[],this.o=[],this.ff=[],this.ii=[],this.copyOnWrite=!0):this.clear()};k["openfl._internal.renderer.DrawCommandBuffer"]=
pc;pc.__name__=["openfl","_internal","renderer","DrawCommandBuffer"];pc.prototype={types:null,b:null,copyOnWrite:null,f:null,ff:null,i:null,ii:null,o:null,append:function(a){if(0==this.get_length())return this.types=a.types,this.b=a.b,this.i=a.i,this.f=a.f,this.o=a.o,this.ff=a.ff,this.ii=a.ii,this.copyOnWrite=a.copyOnWrite=!0,a;for(var b=new Sd(a),c=0,d=a.types;c<d.length;){var e=d[c];++c;switch(e[1]){case 0:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=
4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.BEGIN_BITMAP_FILL;e=b;this.beginBitmapFill(e.buffer.o[e.oPos],e.buffer.o[e.oPos+
1],e.buffer.b[e.bPos],e.buffer.b[e.bPos+1]);break;case 1:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=
1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.BEGIN_FILL;e=b;this.beginFill(e.buffer.i[e.iPos],e.buffer.f[e.fPos]);break;case 2:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=
2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.BEGIN_GRADIENT_FILL;e=b;this.beginGradientFill(e.buffer.o[e.oPos],e.buffer.ii[e.iiPos],e.buffer.ff[e.ffPos],e.buffer.ii[e.iiPos+1],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3],e.buffer.f[e.fPos]);break;case 3:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;
case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.CUBIC_CURVE_TO;e=b;this.cubicCurveTo(e.buffer.f[e.fPos],
e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],e.buffer.f[e.fPos+5]);break;case 4:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=
1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.CURVE_TO;e=b;this.curveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 5:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=
4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.DRAW_CIRCLE;e=b;this.drawCircle(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2]);break;case 6:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=
2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.DRAW_ELLIPSE;e=b;this.drawEllipse(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+
2],e.buffer.f[e.fPos+3]);break;case 7:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=
2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.DRAW_RECT;e=b;this.drawRect(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 8:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=
2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.DRAW_ROUND_RECT;e=b;this.drawRoundRect(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],e.buffer.o[e.oPos]);break;case 10:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;
b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.DRAW_TRIANGLES;e=b;this.drawTriangles(e.buffer.o[e.oPos],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+
2],e.buffer.o[e.oPos+3]);break;case 11:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=
2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.END_FILL;this.endFill();break;case 12:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=
4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.LINE_BITMAP_STYLE;e=b;this.lineBitmapStyle(e.buffer.o[e.oPos],e.buffer.o[e.oPos+1],e.buffer.b[e.bPos],e.buffer.b[e.bPos+1]);break;case 13:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;
case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.LINE_GRADIENT_STYLE;e=b;this.lineGradientStyle(e.buffer.o[e.oPos],e.buffer.ii[e.iiPos],e.buffer.ff[e.ffPos],e.buffer.ii[e.iiPos+1],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3],e.buffer.f[e.fPos]);break;case 14:switch(b.prev[1]){case 0:b.oPos+=
2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.LINE_STYLE;
e=b;this.lineStyle(e.buffer.o[e.oPos],e.buffer.i[e.iPos],e.buffer.f[e.fPos],e.buffer.b[e.bPos],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3],e.buffer.f[e.fPos+1]);break;case 15:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;
case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.LINE_TO;e=b;this.lineTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1]);break;case 16:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;
case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.MOVE_TO;e=b;this.moveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1]);break;case 17:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;
b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.OVERRIDE_MATRIX;e=b;this.overrideMatrix(e.buffer.o[e.oPos])}}b.destroy();
return a},beginBitmapFill:function(a,b,c,d){this.prepareWrite();this.types.push(x.BEGIN_BITMAP_FILL);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},beginFill:function(a,b){this.prepareWrite();this.types.push(x.BEGIN_FILL);this.i.push(a);this.f.push(b)},beginGradientFill:function(a,b,c,d,e,f,g,k){this.prepareWrite();this.types.push(x.BEGIN_GRADIENT_FILL);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.f.push(k)},clear:function(){this.types=
pc.empty.types;this.b=pc.empty.b;this.i=pc.empty.i;this.f=pc.empty.f;this.o=pc.empty.o;this.ff=pc.empty.ff;this.ii=pc.empty.ii;this.copyOnWrite=!0},copy:function(){var a=new pc;a.append(this);return a},cubicCurveTo:function(a,b,c,d,e,f){this.prepareWrite();this.types.push(x.CUBIC_CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(e);this.f.push(f)},curveTo:function(a,b,c,d){this.prepareWrite();this.types.push(x.CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);
this.f.push(d)},destroy:function(){this.clear();this.ii=this.ff=this.o=this.f=this.i=this.b=this.types=null},drawCircle:function(a,b,c){this.prepareWrite();this.types.push(x.DRAW_CIRCLE);this.f.push(a);this.f.push(b);this.f.push(c)},drawEllipse:function(a,b,c,d){this.prepareWrite();this.types.push(x.DRAW_ELLIPSE);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawRect:function(a,b,c,d){this.prepareWrite();this.types.push(x.DRAW_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},
drawRoundRect:function(a,b,c,d,e,f){this.prepareWrite();this.types.push(x.DRAW_ROUND_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(e);this.o.push(f)},drawTriangles:function(a,b,c,d){this.prepareWrite();this.types.push(x.DRAW_TRIANGLES);this.o.push(a);this.o.push(b);this.o.push(c);this.o.push(d)},endFill:function(){this.prepareWrite();this.types.push(x.END_FILL)},lineBitmapStyle:function(a,b,c,d){this.prepareWrite();this.types.push(x.LINE_BITMAP_STYLE);this.o.push(a);
this.o.push(b);this.b.push(c);this.b.push(d)},lineGradientStyle:function(a,b,c,d,e,f,g,k){this.prepareWrite();this.types.push(x.LINE_GRADIENT_STYLE);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.f.push(k)},lineStyle:function(a,b,c,d,e,f,g,k){this.prepareWrite();this.types.push(x.LINE_STYLE);this.o.push(a);this.i.push(b);this.f.push(c);this.b.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.f.push(k)},lineTo:function(a,b){this.prepareWrite();
this.types.push(x.LINE_TO);this.f.push(a);this.f.push(b)},moveTo:function(a,b){this.prepareWrite();this.types.push(x.MOVE_TO);this.f.push(a);this.f.push(b)},prepareWrite:function(){this.copyOnWrite&&(this.types=this.types.slice(),this.b=this.b.slice(),this.i=this.i.slice(),this.f=this.f.slice(),this.o=this.o.slice(),this.ff=this.ff.slice(),this.ii=this.ii.slice(),this.copyOnWrite=!1)},overrideMatrix:function(a){this.prepareWrite();this.types.push(x.OVERRIDE_MATRIX);this.o.push(a)},get_length:function(){return this.types.length},
__class__:pc,__properties__:{get_length:"get_length"}};var Sd=function(a){this.buffer=a;this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0;this.prev=x.UNKNOWN};k["openfl._internal.renderer.DrawCommandReader"]=Sd;Sd.__name__=["openfl","_internal","renderer","DrawCommandReader"];Sd.prototype={buffer:null,bPos:null,iiPos:null,iPos:null,ffPos:null,fPos:null,oPos:null,prev:null,tsPos:null,advance:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=
1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=
2;break;case 17:this.oPos+=1}},bool:function(a){return this.buffer.b[this.bPos+a]},destroy:function(){this.buffer=null;this.reset()},fArr:function(a){return this.buffer.ff[this.ffPos+a]},"float":function(a){return this.buffer.f[this.fPos+a]},iArr:function(a){return this.buffer.ii[this.iiPos+a]},"int":function(a){return this.buffer.i[this.iPos+a]},obj:function(a){return this.buffer.o[this.oPos+a]},readBeginBitmapFill:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=
1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=
2;break;case 17:this.oPos+=1}this.prev=x.BEGIN_BITMAP_FILL;return this},readBeginFill:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=
4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=x.BEGIN_FILL;return this},readBeginGradientFill:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;
case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=x.BEGIN_GRADIENT_FILL;return this},readCubicCurveTo:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=
1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=
2;break;case 17:this.oPos+=1}this.prev=x.CUBIC_CURVE_TO;return this},readCurveTo:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=
4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=x.CURVE_TO;return this},readDrawCircle:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=
4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=x.DRAW_CIRCLE;return this},readDrawEllipse:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=
1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=
1}this.prev=x.DRAW_ELLIPSE;return this},readDrawRect:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;
this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=x.DRAW_RECT;return this},readDrawRoundRect:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;
break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=x.DRAW_ROUND_RECT;return this},readDrawTriangles:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=
1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=
1}this.prev=x.DRAW_TRIANGLES;return this},readEndFill:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;
this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=x.END_FILL;return this},readLineBitmapStyle:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=
4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=x.LINE_BITMAP_STYLE;return this},readLineGradientStyle:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=
1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=
2;break;case 17:this.oPos+=1}this.prev=x.LINE_GRADIENT_STYLE;return this},readLineStyle:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;
case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=x.LINE_STYLE;return this},readLineTo:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=
3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=x.LINE_TO;return this},readMoveTo:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=
1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=
2;break;case 17:this.oPos+=1}this.prev=x.MOVE_TO;return this},readOverrideMatrix:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=
4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=x.OVERRIDE_MATRIX;return this},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},skip:function(a){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;
break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=a},__class__:Sd};var Rf={};k["openfl._internal.renderer._DrawCommandReader.BeginBitmapFillView_Impl_"]=
Rf;Rf.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginBitmapFillView_Impl_"];Rf.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"};Rf._new=function(a){return a};Rf.get_bitmap=function(a){return a.buffer.o[a.oPos]};Rf.get_matrix=function(a){return a.buffer.o[a.oPos+1]};Rf.get_repeat=function(a){return a.buffer.b[a.bPos]};Rf.get_smooth=function(a){return a.buffer.b[a.bPos+1]};var mj={};k["openfl._internal.renderer._DrawCommandReader.BeginFillView_Impl_"]=
mj;mj.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginFillView_Impl_"];mj.__properties__={get_alpha:"get_alpha",get_color:"get_color"};mj._new=function(a){return a};mj.get_color=function(a){return a.buffer.i[a.iPos]};mj.get_alpha=function(a){return a.buffer.f[a.fPos]};var Td={};k["openfl._internal.renderer._DrawCommandReader.BeginGradientFillView_Impl_"]=Td;Td.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginGradientFillView_Impl_"];Td.__properties__={get_focalPointRatio:"get_focalPointRatio",
get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"};Td._new=function(a){return a};Td.get_type=function(a){return a.buffer.o[a.oPos]};Td.get_colors=function(a){return a.buffer.ii[a.iiPos]};Td.get_alphas=function(a){return a.buffer.ff[a.ffPos]};Td.get_ratios=function(a){return a.buffer.ii[a.iiPos+1]};Td.get_matrix=function(a){return a.buffer.o[a.oPos+
1]};Td.get_spreadMethod=function(a){return a.buffer.o[a.oPos+2]};Td.get_interpolationMethod=function(a){return a.buffer.o[a.oPos+3]};Td.get_focalPointRatio=function(a){return a.buffer.f[a.fPos]};var Qe={};k["openfl._internal.renderer._DrawCommandReader.CubicCurveToView_Impl_"]=Qe;Qe.__name__=["openfl","_internal","renderer","_DrawCommandReader","CubicCurveToView_Impl_"];Qe.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY2:"get_controlY2",get_controlX2:"get_controlX2",
get_controlY1:"get_controlY1",get_controlX1:"get_controlX1"};Qe._new=function(a){return a};Qe.get_controlX1=function(a){return a.buffer.f[a.fPos]};Qe.get_controlY1=function(a){return a.buffer.f[a.fPos+1]};Qe.get_controlX2=function(a){return a.buffer.f[a.fPos+2]};Qe.get_controlY2=function(a){return a.buffer.f[a.fPos+3]};Qe.get_anchorX=function(a){return a.buffer.f[a.fPos+4]};Qe.get_anchorY=function(a){return a.buffer.f[a.fPos+5]};var Sf={};k["openfl._internal.renderer._DrawCommandReader.CurveToView_Impl_"]=
Sf;Sf.__name__=["openfl","_internal","renderer","_DrawCommandReader","CurveToView_Impl_"];Sf.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY:"get_controlY",get_controlX:"get_controlX"};Sf._new=function(a){return a};Sf.get_controlX=function(a){return a.buffer.f[a.fPos]};Sf.get_controlY=function(a){return a.buffer.f[a.fPos+1]};Sf.get_anchorX=function(a){return a.buffer.f[a.fPos+2]};Sf.get_anchorY=function(a){return a.buffer.f[a.fPos+3]};var Xg={};k["openfl._internal.renderer._DrawCommandReader.DrawCircleView_Impl_"]=
Xg;Xg.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawCircleView_Impl_"];Xg.__properties__={get_radius:"get_radius",get_y:"get_y",get_x:"get_x"};Xg._new=function(a){return a};Xg.get_x=function(a){return a.buffer.f[a.fPos]};Xg.get_y=function(a){return a.buffer.f[a.fPos+1]};Xg.get_radius=function(a){return a.buffer.f[a.fPos+2]};var Tf={};k["openfl._internal.renderer._DrawCommandReader.DrawEllipseView_Impl_"]=Tf;Tf.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawEllipseView_Impl_"];
Tf.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};Tf._new=function(a){return a};Tf.get_x=function(a){return a.buffer.f[a.fPos]};Tf.get_y=function(a){return a.buffer.f[a.fPos+1]};Tf.get_width=function(a){return a.buffer.f[a.fPos+2]};Tf.get_height=function(a){return a.buffer.f[a.fPos+3]};var Uf={};k["openfl._internal.renderer._DrawCommandReader.DrawRectView_Impl_"]=Uf;Uf.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRectView_Impl_"];
Uf.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};Uf._new=function(a){return a};Uf.get_x=function(a){return a.buffer.f[a.fPos]};Uf.get_y=function(a){return a.buffer.f[a.fPos+1]};Uf.get_width=function(a){return a.buffer.f[a.fPos+2]};Uf.get_height=function(a){return a.buffer.f[a.fPos+3]};var Re={};k["openfl._internal.renderer._DrawCommandReader.DrawRoundRectView_Impl_"]=Re;Re.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRoundRectView_Impl_"];
Re.__properties__={get_ellipseHeight:"get_ellipseHeight",get_ellipseWidth:"get_ellipseWidth",get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};Re._new=function(a){return a};Re.get_x=function(a){return a.buffer.f[a.fPos]};Re.get_y=function(a){return a.buffer.f[a.fPos+1]};Re.get_width=function(a){return a.buffer.f[a.fPos+2]};Re.get_height=function(a){return a.buffer.f[a.fPos+3]};Re.get_ellipseWidth=function(a){return a.buffer.f[a.fPos+4]};Re.get_ellipseHeight=function(a){return a.buffer.o[a.oPos]};
var Vf={};k["openfl._internal.renderer._DrawCommandReader.DrawTrianglesView_Impl_"]=Vf;Vf.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawTrianglesView_Impl_"];Vf.__properties__={get_culling:"get_culling",get_uvtData:"get_uvtData",get_indices:"get_indices",get_vertices:"get_vertices"};Vf._new=function(a){return a};Vf.get_vertices=function(a){return a.buffer.o[a.oPos]};Vf.get_indices=function(a){return a.buffer.o[a.oPos+1]};Vf.get_uvtData=function(a){return a.buffer.o[a.oPos+2]};
Vf.get_culling=function(a){return a.buffer.o[a.oPos+3]};var Dm={};k["openfl._internal.renderer._DrawCommandReader.EndFillView_Impl_"]=Dm;Dm.__name__=["openfl","_internal","renderer","_DrawCommandReader","EndFillView_Impl_"];Dm._new=function(a){return a};var Wf={};k["openfl._internal.renderer._DrawCommandReader.LineBitmapStyleView_Impl_"]=Wf;Wf.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineBitmapStyleView_Impl_"];Wf.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",
get_matrix:"get_matrix",get_bitmap:"get_bitmap"};Wf._new=function(a){return a};Wf.get_bitmap=function(a){return a.buffer.o[a.oPos]};Wf.get_matrix=function(a){return a.buffer.o[a.oPos+1]};Wf.get_repeat=function(a){return a.buffer.b[a.bPos]};Wf.get_smooth=function(a){return a.buffer.b[a.bPos+1]};var Ud={};k["openfl._internal.renderer._DrawCommandReader.LineGradientStyleView_Impl_"]=Ud;Ud.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineGradientStyleView_Impl_"];Ud.__properties__=
{get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"};Ud._new=function(a){return a};Ud.get_type=function(a){return a.buffer.o[a.oPos]};Ud.get_colors=function(a){return a.buffer.ii[a.iiPos]};Ud.get_alphas=function(a){return a.buffer.ff[a.ffPos]};Ud.get_ratios=function(a){return a.buffer.ii[a.iiPos+1]};Ud.get_matrix=
function(a){return a.buffer.o[a.oPos+1]};Ud.get_spreadMethod=function(a){return a.buffer.o[a.oPos+2]};Ud.get_interpolationMethod=function(a){return a.buffer.o[a.oPos+3]};Ud.get_focalPointRatio=function(a){return a.buffer.f[a.fPos]};var Vd={};k["openfl._internal.renderer._DrawCommandReader.LineStyleView_Impl_"]=Vd;Vd.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineStyleView_Impl_"];Vd.__properties__={get_miterLimit:"get_miterLimit",get_joints:"get_joints",get_caps:"get_caps",get_scaleMode:"get_scaleMode",
get_pixelHinting:"get_pixelHinting",get_alpha:"get_alpha",get_color:"get_color",get_thickness:"get_thickness"};Vd._new=function(a){return a};Vd.get_thickness=function(a){return a.buffer.o[a.oPos]};Vd.get_color=function(a){return a.buffer.i[a.iPos]};Vd.get_alpha=function(a){return a.buffer.f[a.fPos]};Vd.get_pixelHinting=function(a){return a.buffer.b[a.bPos]};Vd.get_scaleMode=function(a){return a.buffer.o[a.oPos+1]};Vd.get_caps=function(a){return a.buffer.o[a.oPos+2]};Vd.get_joints=function(a){return a.buffer.o[a.oPos+
3]};Vd.get_miterLimit=function(a){return a.buffer.f[a.fPos+1]};var nj={};k["openfl._internal.renderer._DrawCommandReader.LineToView_Impl_"]=nj;nj.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineToView_Impl_"];nj.__properties__={get_y:"get_y",get_x:"get_x"};nj._new=function(a){return a};nj.get_x=function(a){return a.buffer.f[a.fPos]};nj.get_y=function(a){return a.buffer.f[a.fPos+1]};var oj={};k["openfl._internal.renderer._DrawCommandReader.MoveToView_Impl_"]=oj;oj.__name__=["openfl",
"_internal","renderer","_DrawCommandReader","MoveToView_Impl_"];oj.__properties__={get_y:"get_y",get_x:"get_x"};oj._new=function(a){return a};oj.get_x=function(a){return a.buffer.f[a.fPos]};oj.get_y=function(a){return a.buffer.f[a.fPos+1]};var cl={};k["openfl._internal.renderer._DrawCommandReader.OverrideMatrixView_Impl_"]=cl;cl.__name__=["openfl","_internal","renderer","_DrawCommandReader","OverrideMatrixView_Impl_"];cl.__properties__={get_matrix:"get_matrix"};cl._new=function(a){return a};cl.get_matrix=
function(a){return a.buffer.o[a.oPos]};var x=k["openfl._internal.renderer.DrawCommandType"]={__ename__:["openfl","_internal","renderer","DrawCommandType"],__constructs__:"BEGIN_BITMAP_FILL BEGIN_FILL BEGIN_GRADIENT_FILL CUBIC_CURVE_TO CURVE_TO DRAW_CIRCLE DRAW_ELLIPSE DRAW_RECT DRAW_ROUND_RECT DRAW_TILES DRAW_TRIANGLES END_FILL LINE_BITMAP_STYLE LINE_GRADIENT_STYLE LINE_STYLE LINE_TO MOVE_TO OVERRIDE_MATRIX UNKNOWN".split(" ")};x.BEGIN_BITMAP_FILL=["BEGIN_BITMAP_FILL",0];x.BEGIN_BITMAP_FILL.toString=
O;x.BEGIN_BITMAP_FILL.__enum__=x;x.BEGIN_FILL=["BEGIN_FILL",1];x.BEGIN_FILL.toString=O;x.BEGIN_FILL.__enum__=x;x.BEGIN_GRADIENT_FILL=["BEGIN_GRADIENT_FILL",2];x.BEGIN_GRADIENT_FILL.toString=O;x.BEGIN_GRADIENT_FILL.__enum__=x;x.CUBIC_CURVE_TO=["CUBIC_CURVE_TO",3];x.CUBIC_CURVE_TO.toString=O;x.CUBIC_CURVE_TO.__enum__=x;x.CURVE_TO=["CURVE_TO",4];x.CURVE_TO.toString=O;x.CURVE_TO.__enum__=x;x.DRAW_CIRCLE=["DRAW_CIRCLE",5];x.DRAW_CIRCLE.toString=O;x.DRAW_CIRCLE.__enum__=x;x.DRAW_ELLIPSE=["DRAW_ELLIPSE",
6];x.DRAW_ELLIPSE.toString=O;x.DRAW_ELLIPSE.__enum__=x;x.DRAW_RECT=["DRAW_RECT",7];x.DRAW_RECT.toString=O;x.DRAW_RECT.__enum__=x;x.DRAW_ROUND_RECT=["DRAW_ROUND_RECT",8];x.DRAW_ROUND_RECT.toString=O;x.DRAW_ROUND_RECT.__enum__=x;x.DRAW_TILES=["DRAW_TILES",9];x.DRAW_TILES.toString=O;x.DRAW_TILES.__enum__=x;x.DRAW_TRIANGLES=["DRAW_TRIANGLES",10];x.DRAW_TRIANGLES.toString=O;x.DRAW_TRIANGLES.__enum__=x;x.END_FILL=["END_FILL",11];x.END_FILL.toString=O;x.END_FILL.__enum__=x;x.LINE_BITMAP_STYLE=["LINE_BITMAP_STYLE",
12];x.LINE_BITMAP_STYLE.toString=O;x.LINE_BITMAP_STYLE.__enum__=x;x.LINE_GRADIENT_STYLE=["LINE_GRADIENT_STYLE",13];x.LINE_GRADIENT_STYLE.toString=O;x.LINE_GRADIENT_STYLE.__enum__=x;x.LINE_STYLE=["LINE_STYLE",14];x.LINE_STYLE.toString=O;x.LINE_STYLE.__enum__=x;x.LINE_TO=["LINE_TO",15];x.LINE_TO.toString=O;x.LINE_TO.__enum__=x;x.MOVE_TO=["MOVE_TO",16];x.MOVE_TO.toString=O;x.MOVE_TO.__enum__=x;x.OVERRIDE_MATRIX=["OVERRIDE_MATRIX",17];x.OVERRIDE_MATRIX.toString=O;x.OVERRIDE_MATRIX.__enum__=x;x.UNKNOWN=
["UNKNOWN",18];x.UNKNOWN.toString=O;x.UNKNOWN.__enum__=x;x.__empty_constructs__=[x.BEGIN_BITMAP_FILL,x.BEGIN_FILL,x.BEGIN_GRADIENT_FILL,x.CUBIC_CURVE_TO,x.CURVE_TO,x.DRAW_CIRCLE,x.DRAW_ELLIPSE,x.DRAW_RECT,x.DRAW_ROUND_RECT,x.DRAW_TILES,x.DRAW_TRIANGLES,x.END_FILL,x.LINE_BITMAP_STYLE,x.LINE_GRADIENT_STYLE,x.LINE_STYLE,x.LINE_TO,x.MOVE_TO,x.OVERRIDE_MATRIX,x.UNKNOWN];var Yg=function(){this.activeTextures=0;this.allowSmoothing=!0};k["openfl._internal.renderer.RenderSession"]=Yg;Yg.__name__=["openfl",
"_internal","renderer","RenderSession"];Yg.prototype={allowSmoothing:null,cairo:null,context:null,element:null,gl:null,renderer:null,roundPixels:null,transformProperty:null,transformOriginProperty:null,upscaled:null,vendorPrefix:null,projectionMatrix:null,z:null,drawCount:null,currentBlendMode:null,activeTextures:null,blendModeManager:null,filterManager:null,maskManager:null,shaderManager:null,__class__:Yg};var Em=function(){};k["openfl._internal.renderer.cairo.CairoBitmap"]=Em;Em.__name__=["openfl",
"_internal","renderer","cairo","CairoBitmap"];Em.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=b.cairo;if(null!=a.bitmapData&&a.bitmapData.__isValid){b.maskManager.pushObject(a);var d=a.__renderTransform;b.roundPixels?(d=d.__toMatrix3(),d.tx=Math.round(d.tx),d.ty=Math.round(d.ty),c.set_matrix(d)):c.set_matrix(d.__toMatrix3());d=a.bitmapData.getSurface();null!=d&&(d=gb.createForSurface(d),gb.set_filter(d,b.allowSmoothing&&a.smoothing?1:3),c.set_source(d),1==a.__worldAlpha?c.paint():
c.paintWithAlpha(a.__worldAlpha));b.maskManager.popObject(a)}}};var Fm=function(){};k["openfl._internal.renderer.cairo.CairoDisplayObject"]=Fm;Fm.__name__=["openfl","_internal","renderer","cairo","CairoDisplayObject"];Fm.render=function(a,b){};var I=function(){};k["openfl._internal.renderer.cairo.CairoGraphics"]=I;I.__name__=["openfl","_internal","renderer","cairo","CairoGraphics"];I.closePath=function(a){null==a&&(a=!1);null!=I.strokePattern&&(a||I.cairo.closePath(),I.cairo.set_source(I.strokePattern),
I.hitTesting||I.cairo.strokePreserve(),a&&I.cairo.closePath(),I.cairo.newPath())};I.createGradientPattern=function(a,b,c,d,e,f,g,k){f=null;switch(a){case 0:null==e&&(e=new Ma);f=e.transformPoint(new Ka(-819.2,0));e=e.transformPoint(new Ka(819.2,0));f.x+=I.graphics.__bounds.x;e.x+=I.graphics.__bounds.x;f.y+=I.graphics.__bounds.y;e.y+=I.graphics.__bounds.y;f=gb.createLinear(f.x,f.y,e.x,e.y);break;case 1:null==e&&(e=new Ma),f=e.transformPoint(new Ka(1638.4,0)),a=e.tx+I.graphics.__bounds.x,g=e.ty+I.graphics.__bounds.y,
f=gb.createRadial(a,g,0,a,g,Math.abs((f.x-e.tx)/2))}e=0;for(a=b.length;e<a;){var m=e++,h=b[m];g=c[m];k=((h&16711680)>>>16)/255;var l=((h&65280)>>>8)/255,h=(h&255)/255,m=d[m]/255;0>m&&(m=0);1<m&&(m=1);gb.addColorStopRGBA(f,m,k,l,h,g)}b=gb.get_matrix(f);b.tx=I.bounds.x;b.ty=I.bounds.y;gb.set_matrix(f,b);return f};I.createImagePattern=function(a,b,c,d){a=gb.createForSurface(a.getSurface());gb.set_filter(a,d&&I.allowSmoothing?1:3);c&&gb.set_extend(a,1);I.fillPatternMatrix=b;return a};I.drawRoundRect=
function(a,b,c,d,e,f){null==f&&(f=e);e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=a+c;d=b+d;var g=-e+e*I.SIN45,k=-e+e*I.TAN22,m=-f+f*I.SIN45,h=-f+f*I.TAN22;I.cairo.moveTo(c,d-f);I.quadraticCurveTo(c,d+h,c+g,d+m);I.quadraticCurveTo(c+k,d,c-e,d);I.cairo.lineTo(a+e,d);I.quadraticCurveTo(a-k,d,a-g,d+m);I.quadraticCurveTo(a,d+h,a,d-f);I.cairo.lineTo(a,b+f);I.quadraticCurveTo(a,b-h,a-g,b-m);I.quadraticCurveTo(a-k,b,a+e,b);I.cairo.lineTo(c-e,b);I.quadraticCurveTo(c+k,b,c+g,b-m);I.quadraticCurveTo(c,b-h,c,
b+f);I.cairo.lineTo(c,d-f)};I.endFill=function(){I.cairo.newPath();I.playCommands(I.fillCommands,!1);I.fillCommands.clear()};I.endStroke=function(){I.cairo.newPath();I.playCommands(I.strokeCommands,!0);I.cairo.closePath();I.strokeCommands.clear()};I.hitTest=function(a,b,c){return!1};I.isCCW=function(a,b,c,d,e,f){return 0>(c-a)*(f-b)-(d-b)*(e-a)};I.normalizeUVT=function(a,b){null==b&&(b=!1);for(var c=-Infinity,d=-Infinity,e=a.get_length(),f=1,g=e+1;f<g;)d=f++,b&&0==d%3||(d=a.get(d-1),c<d&&(c=d));if(!b)return{max:c,
uvt:a};f=D.toFloatVector(null);g=1;for(e+=1;g<e;)d=g++,b&&0==d%3||f.push(a.get(d-1));return{max:c,uvt:f}};I.playCommands=function(a,b){null==b&&(b=!1);if(0!=a.get_length()){I.bounds=I.graphics.__bounds;var c=I.bounds.x,d=I.bounds.y,e=0,f=0,g=!1,k=0,m=0;I.cairo.set_fillRule(1);I.cairo.set_antialias(3);var h=!1,l=new Sd(a),q=0,A=a.types;try{for(;q<A.length;){var n=A[q];++q;switch(n[1]){case 0:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=
2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=x.BEGIN_BITMAP_FILL;var v=l;I.fillPattern=I.createImagePattern(v.buffer.o[v.oPos],v.buffer.o[v.oPos+
1],v.buffer.b[v.bPos],v.buffer.b[v.bPos+1]);I.bitmapFill=v.buffer.o[v.oPos];I.bitmapRepeat=v.buffer.b[v.bPos];I.hasFill=!0;break;case 1:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=
2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=x.BEGIN_FILL;v=l;.005>v.buffer.f[v.fPos]?I.hasFill=!1:(null!=I.fillPattern&&(I.fillPatternMatrix=null),I.fillPattern=gb.createRGBA(((v.buffer.i[v.iPos]&16711680)>>>16)/255,((v.buffer.i[v.iPos]&65280)>>>8)/255,(v.buffer.i[v.iPos]&255)/255,v.buffer.f[v.fPos]),I.hasFill=!0);I.bitmapFill=null;break;case 2:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=
2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=x.BEGIN_GRADIENT_FILL;
v=l;null!=I.fillPattern&&(I.fillPatternMatrix=null);I.fillPattern=I.createGradientPattern(v.buffer.o[v.oPos],v.buffer.ii[v.iiPos],v.buffer.ff[v.ffPos],v.buffer.ii[v.iiPos+1],v.buffer.o[v.oPos+1],v.buffer.o[v.oPos+2],v.buffer.o[v.oPos+3],v.buffer.f[v.fPos]);I.hasFill=!0;I.bitmapFill=null;break;case 3:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=
3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=x.CUBIC_CURVE_TO;v=l;h=!0;I.cairo.curveTo(v.buffer.f[v.fPos]-c,v.buffer.f[v.fPos+1]-d,v.buffer.f[v.fPos+2]-c,v.buffer.f[v.fPos+3]-d,v.buffer.f[v.fPos+4]-c,v.buffer.f[v.fPos+
5]-d);break;case 4:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=
2;break;case 17:l.oPos+=1}l.prev=x.CURVE_TO;v=l;h=!0;I.quadraticCurveTo(v.buffer.f[v.fPos]-c,v.buffer.f[v.fPos+1]-d,v.buffer.f[v.fPos+2]-c,v.buffer.f[v.fPos+3]-d);break;case 5:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=
2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=x.DRAW_CIRCLE;v=l;h=!0;I.cairo.moveTo(v.buffer.f[v.fPos]-c+v.buffer.f[v.fPos+2],v.buffer.f[v.fPos+1]-d);I.cairo.arc(v.buffer.f[v.fPos]-c,v.buffer.f[v.fPos+1]-d,v.buffer.f[v.fPos+2],0,2*Math.PI);break;case 6:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=
4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=x.DRAW_ELLIPSE;var v=l,h=!0,r=v.buffer.f[v.fPos],t=v.buffer.f[v.fPos+1],
u=v.buffer.f[v.fPos+2],w=v.buffer.f[v.fPos+3],r=r-c,t=t-d,v=u/2*.5522848,y=w/2*.5522848,z=r+u,B=t+w,E=r+u/2,F=t+w/2;I.cairo.moveTo(r,F);I.cairo.curveTo(r,F-y,E-v,t,E,t);I.cairo.curveTo(E+v,t,z,F-y,z,F);I.cairo.curveTo(z,F+y,E+v,B,E,B);I.cairo.curveTo(E-v,B,r,F+y,r,F);break;case 7:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=
4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=x.DRAW_RECT;v=l;h=!0;I.cairo.rectangle(v.buffer.f[v.fPos]-c,v.buffer.f[v.fPos+1]-d,v.buffer.f[v.fPos+2],v.buffer.f[v.fPos+3]);break;case 8:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=
1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=x.DRAW_ROUND_RECT;v=l;h=!0;I.drawRoundRect(v.buffer.f[v.fPos]-
c,v.buffer.f[v.fPos+1]-d,v.buffer.f[v.fPos+2],v.buffer.f[v.fPos+3],v.buffer.f[v.fPos+4],v.buffer.o[v.oPos]);break;case 10:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=
1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=x.DRAW_TRIANGLES;var v=l,G=v.buffer.o[v.oPos],H=v.buffer.o[v.oPos+1],J=v.buffer.o[v.oPos+2],L=null==I.bitmapFill;if(L&&null!=J)throw"__break__";var z=y=0,N=I.graphics.__renderTransform.__toMatrix3();if(!L){if(null==J)for(var J=D.toFloatVector(null),B=0,O=G.get_length()/2|0;B<O;){var M=B++;J.push(G.get(2*M)/I.bitmapFill.width);J.push(G.get(2*M+1)/I.bitmapFill.height)}var P=
v.buffer.o[v.oPos+2].get_length()!=G.get_length(),Q=I.normalizeUVT(J,P),R=Q.max,J=Q.uvt;1<R?(y=I.bounds.width|0,z=I.bounds.height|0):(y=I.bitmapFill.width,z=I.bitmapFill.height)}var B=0,K=H.get_length(),S,T,W,V,Y,aa,ca,Z,fa,X,ba,ea,da,ga,ha,ma,na,ia,ja,la,ka,oa,pa,ra,qa,sa,Ba,ua;for(I.cairo.set_antialias(1);B<K;){S=B;T=B+1;W=B+2;V=2*H.get(S);Y=2*H.get(S)+1;aa=2*H.get(T);ca=2*H.get(T)+1;Z=2*H.get(W);fa=2*H.get(W)+1;X=G.get(V);ba=G.get(Y);ea=G.get(aa);da=G.get(ca);ga=G.get(Z);ha=G.get(fa);switch(v.buffer.o[v.oPos+
3]){case 0:if(0>(ea-X)*(ha-ba)-(da-ba)*(ga-X)){B+=3;continue}break;case 2:if(!(0>(ea-X)*(ha-ba)-(da-ba)*(ga-X))){B+=3;continue}}if(L)I.cairo.newPath(),I.cairo.moveTo(X,ba),I.cairo.lineTo(ea,da),I.cairo.lineTo(ga,ha),I.cairo.closePath(),I.hitTesting||I.cairo.fillPreserve();else if(I.cairo.set_matrix(I.graphics.__renderTransform.__toMatrix3()),I.cairo.newPath(),I.cairo.moveTo(X,ba),I.cairo.lineTo(ea,da),I.cairo.lineTo(ga,ha),I.cairo.closePath(),ma=J.get(V)*y,ia=J.get(aa)*y,la=J.get(Z)*y,na=J.get(Y)*
z,ja=J.get(ca)*z,ka=J.get(fa)*z,oa=ma*(ka-ja)-ia*ka+la*ja+(ia-la)*na,0!=oa){X*=N.a;ea*=N.a;ga*=N.a;ba*=N.d;da*=N.d;ha*=N.d;pa=-(na*(ga-ea)-ja*ga+ka*ea+(ja-ka)*X)/oa;ra=(ja*ha+na*(da-ha)-ka*da+(ka-ja)*ba)/oa;qa=(ma*(ga-ea)-ia*ga+la*ea+(ia-la)*X)/oa;sa=-(ia*ha+ma*(da-ha)-la*da+(la-ia)*ba)/oa;Ba=(ma*(ka*ea-ja*ga)+na*(ia*ga-la*ea)+(la*ja-ia*ka)*X)/oa;ua=(ma*(ka*da-ja*ha)+na*(ia*ha-la*da)+(la*ja-ia*ka)*ba)/oa;var ya=new De(pa,ra,qa,sa,Ba,ua);I.cairo.set_matrix(ya);I.cairo.set_source(I.fillPattern);I.hitTesting||
I.cairo.fill()}B+=3}break;case 12:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=
2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=x.LINE_BITMAP_STYLE;v=l;b&&I.hasStroke&&I.closePath();I.cairo.moveTo(e-c,f-d);I.strokePattern=I.createImagePattern(v.buffer.o[v.oPos],v.buffer.o[v.oPos+1],v.buffer.b[v.bPos],v.buffer.b[v.bPos+1]);I.hasStroke=!0;break;case 13:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=
4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=x.LINE_GRADIENT_STYLE;v=l;b&&I.hasStroke&&I.closePath();I.cairo.moveTo(e-c,f-d);I.strokePattern=I.createGradientPattern(v.buffer.o[v.oPos],v.buffer.ii[v.iiPos],v.buffer.ff[v.ffPos],v.buffer.ii[v.iiPos+
1],v.buffer.o[v.oPos+1],v.buffer.o[v.oPos+2],v.buffer.o[v.oPos+3],v.buffer.f[v.fPos]);I.hasStroke=!0;break;case 14:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=
1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=x.LINE_STYLE;v=l;b&&I.hasStroke&&I.closePath(!0);I.cairo.moveTo(e-c,f-d);if(null==v.buffer.o[v.oPos])I.hasStroke=!1;else{I.hasStroke=!0;I.cairo.set_lineWidth(0<v.buffer.o[v.oPos]?v.buffer.o[v.oPos]:1);if(null==v.buffer.o[v.oPos+3])I.cairo.set_lineJoin(1);else{var ta;switch(v.buffer.o[v.oPos+3]){case 0:ta=2;break;case 1:ta=0;break;default:ta=1}I.cairo.set_lineJoin(ta)}if(null==
v.buffer.o[v.oPos+2])I.cairo.set_lineCap(1);else{var va;switch(v.buffer.o[v.oPos+2]){case 0:va=0;break;case 2:va=2;break;default:va=1}I.cairo.set_lineCap(va)}I.cairo.set_miterLimit(v.buffer.f[v.fPos+1]);var za=((v.buffer.i[v.iPos]&16711680)>>>16)/255,Aa=((v.buffer.i[v.iPos]&65280)>>>8)/255,wa=(v.buffer.i[v.iPos]&255)/255;I.strokePattern=1==v.buffer.f[v.fPos]?gb.createRGB(za,Aa,wa):gb.createRGBA(za,Aa,wa,v.buffer.f[v.fPos])}break;case 15:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=
1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=x.LINE_TO;v=l;h=!0;I.cairo.lineTo(v.buffer.f[v.fPos]-
c,v.buffer.f[v.fPos+1]-d);e=v.buffer.f[v.fPos];f=v.buffer.f[v.fPos+1];break;case 16:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=
4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=x.MOVE_TO;v=l;I.cairo.moveTo(v.buffer.f[v.fPos]-c,v.buffer.f[v.fPos+1]-d);e=v.buffer.f[v.fPos];f=v.buffer.f[v.fPos+1];g=!0;k=v.buffer.f[v.fPos];m=v.buffer.f[v.fPos+1];break;default:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=
4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=n}}}catch(xa){if("__break__"!=xa)throw xa;}l.destroy();h&&(b&&I.hasStroke&&(I.hasFill&&g?I.cairo.lineTo(k-c,m-d):g&&e==k&&f==m&&I.closePath(!0),I.cairo.set_source(I.strokePattern),I.hitTesting||I.cairo.strokePreserve()),
!b&&I.hasFill&&(I.cairo.translate(-I.bounds.x,-I.bounds.y),null!=I.fillPatternMatrix&&(c=I.fillPatternMatrix.clone(),c.invert(),null!=I.pendingMatrix&&c.concat(I.pendingMatrix),gb.set_matrix(I.fillPattern,c.__toMatrix3())),I.cairo.set_source(I.fillPattern),null!=I.pendingMatrix?(I.cairo.transform(I.pendingMatrix.__toMatrix3()),I.hitTesting||I.cairo.fillPreserve(),I.cairo.transform(I.inversePendingMatrix.__toMatrix3())):I.hitTesting||I.cairo.fillPreserve(),I.cairo.translate(I.bounds.x,I.bounds.y),
I.cairo.closePath()))}};I.quadraticCurveTo=function(a,b,c,d){var e=null;I.cairo.get_hasCurrentPoint()?e=I.cairo.get_currentPoint():(I.cairo.moveTo(a,b),e=new vb(a,b));I.cairo.curveTo(e.x+.6666666666666666*(a-e.x),e.y+.6666666666666666*(b-e.y),c+.6666666666666666*(a-c),d+.6666666666666666*(b-d),c,d)};I.render=function(a,b,c){};I.renderMask=function(a,b){if(0!=a.__commands.get_length()){for(var c=b.cairo,d=new Sd(a.__commands),e=0,f=a.__commands.types;e<f.length;){var g=f[e];++e;switch(g[1]){case 3:switch(d.prev[1]){case 0:d.oPos+=
2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.CUBIC_CURVE_TO;
g=d;c.curveTo(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0,g.buffer.f[g.fPos+2]-0,g.buffer.f[g.fPos+3]-0,g.buffer.f[g.fPos+4]-0,g.buffer.f[g.fPos+5]-0);break;case 4:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=
2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.CURVE_TO;g=d;I.quadraticCurveTo(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0,g.buffer.f[g.fPos+2]-0,g.buffer.f[g.fPos+3]-0);break;case 5:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=
4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.DRAW_CIRCLE;g=d;c.arc(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0,g.buffer.f[g.fPos+2],0,2*Math.PI);break;case 6:switch(d.prev[1]){case 0:d.oPos+=2;
d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.DRAW_ELLIPSE;
var k=d,g=k.buffer.f[k.fPos],m=k.buffer.f[k.fPos+1],h=k.buffer.f[k.fPos+2],l=k.buffer.f[k.fPos+3],g=g-0,m=m-0,k=h/2*.5522848,q=l/2*.5522848,A=g+h,n=m+l,h=g+h/2,l=m+l/2;c.moveTo(g,l);c.curveTo(g,l-q,h-k,m,h,m);c.curveTo(h+k,m,A,l-q,A,l);c.curveTo(A,l+q,h+k,n,h,n);c.curveTo(h-k,n,g,l+q,g,l);break;case 7:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=
3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.DRAW_RECT;g=d;c.rectangle(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0,g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);break;case 8:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;
break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.DRAW_ROUND_RECT;
g=d;I.drawRoundRect(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0,g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.o[g.oPos]);break;case 15:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;
case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.LINE_TO;g=d;c.lineTo(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0);break;case 16:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=
4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.MOVE_TO;g=d;c.moveTo(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0);break;default:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;
case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=g}}d.destroy()}};var dl=function(a,b){oc.call(this,a)};k["openfl._internal.renderer.cairo.CairoRenderer"]=dl;dl.__name__=
["openfl","_internal","renderer","cairo","CairoRenderer"];dl.__super__=oc;dl.prototype=t(oc.prototype,{cairo:null,clear:function(){for(var a=0,b=this.stage.stage3Ds;a<b.get_length();){var c=b.get(a);++a;c.__renderCairo(this.stage,this.renderSession)}},render:function(){this.renderSession.allowSmoothing=2!=this.stage.quality;this.cairo.identityMatrix();this.stage.__clearBeforeRender&&(this.cairo.setSourceRGB(this.stage.__colorSplit[0],this.stage.__colorSplit[1],this.stage.__colorSplit[2]),this.cairo.paint());
this.stage.__renderCairo(this.renderSession)},__class__:dl});var Gm=function(){};k["openfl._internal.renderer.cairo.CairoTextField"]=Gm;Gm.__name__=["openfl","_internal","renderer","cairo","CairoTextField"];Gm.render=function(a,b,c){};var Hm=function(){};k["openfl._internal.renderer.canvas.CanvasBitmap"]=Hm;Hm.__name__=["openfl","_internal","renderer","canvas","CanvasBitmap"];Hm.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=b.context;if(null!=a.bitmapData&&a.bitmapData.__isValid){b.maskManager.pushObject(a,
!1);S.convertToCanvas(a.bitmapData.image);c.globalAlpha=a.__worldAlpha;var d=a.__renderTransform,e=a.__scrollRect;b.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);b.allowSmoothing&&a.smoothing||(c.mozImageSmoothingEnabled=!1,c.msImageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1);null==e?c.drawImage(a.bitmapData.image.get_src(),0,0):c.drawImage(a.bitmapData.image.get_src(),e.x,e.y,e.width,e.height,e.x,e.y,e.width,e.height);b.allowSmoothing&&a.smoothing||
(c.mozImageSmoothingEnabled=!0,c.msImageSmoothingEnabled=!0,c.imageSmoothingEnabled=!0);b.maskManager.popObject(a,!1)}}};var Im=function(){};k["openfl._internal.renderer.canvas.CanvasDisplayObject"]=Im;Im.__name__=["openfl","_internal","renderer","canvas","CanvasDisplayObject"];Im.render=function(a,b){if(!(null==a.opaqueBackground&&null==a.__graphics||!a.__renderable||0>=a.__worldAlpha)){if(null!=a.opaqueBackground&&0<a.get_width()&&0<a.get_height()){b.maskManager.pushObject(a);var c=b.context,d=
a.__renderTransform;b.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);d=a.opaqueBackground;c.fillStyle="rgb("+(d>>>16&255)+","+(d>>>8&255)+","+(d&255)+")";c.fillRect(0,0,a.get_width(),a.get_height());b.maskManager.popObject(a)}if(null!=a.__graphics&&a.__renderable&&!(0>=a.__worldAlpha)&&(c=a.__graphics,null!=c)){r.render(c,b,a.__renderTransform);var e=c.__width,f=c.__height;if(null!=c.__canvas){var d=b.context,g=a.__scrollRect;0<e&&0<f&&(null==g||
0<g.width&&0<g.height)&&(b.maskManager.pushObject(a),d.globalAlpha=a.__worldAlpha,e=c.__worldTransform,b.roundPixels?d.setTransform(e.a,e.b,e.c,e.d,e.tx|0,e.ty|0):d.setTransform(e.a,e.b,e.c,e.d,e.tx,e.ty),d.drawImage(c.__canvas,0,0),b.maskManager.popObject(a))}}}};var r=function(){};k["openfl._internal.renderer.canvas.CanvasGraphics"]=r;r.__name__=["openfl","_internal","renderer","canvas","CanvasGraphics"];r.closePath=function(a){null==a&&(a=!1);null!=r.context.strokeStyle&&(a||r.context.closePath(),
r.context.stroke(),a&&r.context.closePath(),r.context.beginPath())};r.createBitmapFill=function(a,b,c){S.convertToCanvas(a.image);r.setSmoothing(c);return r.context.createPattern(a.image.get_src(),b?"repeat":"no-repeat")};r.createGradientPattern=function(a,b,c,d,e,f,g,k){f=null;switch(a){case 0:e=null!=e?e:new Ma;f=e.transformPoint(new Ka(-819.2,0));e=e.transformPoint(new Ka(819.2,0));f=r.context.createLinearGradient(f.x,f.y,e.x,e.y);break;case 1:null==e&&(e=new Ma),f=e.transformPoint(new Ka(1638.4,
0)),f=r.context.createRadialGradient(e.tx,e.ty,0,e.tx,e.ty,Math.abs((f.x-e.tx)/2))}e=0;for(a=b.length;e<a;){var m=e++,h=b[m];g=c[m];k=(h&16711680)>>>16;var l=(h&65280)>>>8,h=h&255,m=d[m]/255;0>m&&(m=0);1<m&&(m=1);f.addColorStop(m,"rgba("+k+", "+l+", "+h+", "+g+")")}return f};r.createTempPatternCanvas=function(a,b,c,d){var e=window.document.createElement("canvas"),f=e.getContext("2d");e.width=c;e.height=d;a=a.image.get_src();f.fillStyle=f.createPattern(a,b?"repeat":"no-repeat");f.beginPath();f.moveTo(0,
0);f.lineTo(0,d);f.lineTo(c,d);f.lineTo(c,0);f.lineTo(0,0);f.closePath();r.hitTesting||f.fill();return e};r.drawRoundRect=function(a,b,c,d,e,f){null==f&&(f=e);e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=a+c;d=b+d;var g=-e+e*r.SIN45,k=-e+e*r.TAN22,m=-f+f*r.SIN45,h=-f+f*r.TAN22;r.context.moveTo(c,d-f);r.context.quadraticCurveTo(c,d+h,c+g,d+m);r.context.quadraticCurveTo(c+k,d,c-e,d);r.context.lineTo(a+e,d);r.context.quadraticCurveTo(a-k,d,a-g,d+m);r.context.quadraticCurveTo(a,d+h,a,d-f);r.context.lineTo(a,
b+f);r.context.quadraticCurveTo(a,b-h,a-g,b-m);r.context.quadraticCurveTo(a-k,b,a+e,b);r.context.lineTo(c-e,b);r.context.quadraticCurveTo(c+k,b,c+g,b-m);r.context.quadraticCurveTo(c,b-h,c,b+f);r.context.lineTo(c,d-f)};r.endFill=function(){r.context.beginPath();r.playCommands(r.fillCommands,!1);r.fillCommands.clear()};r.endStroke=function(){r.context.beginPath();r.playCommands(r.strokeCommands,!0);r.context.closePath();r.strokeCommands.clear()};r.hitTest=function(a,b,c){r.bounds=a.__bounds;r.graphics=
a;if(!(0==a.__commands.get_length()||null==r.bounds||0>=r.bounds.width||0>=r.bounds.height)){r.hitTesting=!0;var d=a.__renderTransform,e=b*d.b+c*d.d+d.ty;b=b*d.a+c*d.c+d.tx;b-=r.bounds.x*d.a+r.bounds.y*d.c+d.tx;c=e-(r.bounds.x*d.b+r.bounds.y*d.d+d.ty);var e=a.__canvas,f=a.__context;a.__canvas=r.hitTestCanvas;a.__context=r.hitTestContext;r.context=a.__context;r.context.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);r.fillCommands.clear();r.strokeCommands.clear();r.hasFill=!1;r.hasStroke=!1;r.bitmapFill=null;
r.bitmapRepeat=!1;for(var d=new Sd(a.__commands),g=0,k=a.__commands.types;g<k.length;){var m=k[g];++g;switch(m[1]){case 0:case 1:case 2:r.endFill();r.endStroke();if(r.hasFill&&r.context.isPointInPath(b,c)||r.hasStroke&&r.context.isPointInStroke(b,c))return d.destroy(),a.__canvas=e,a.__context=f,!0;if(m==x.BEGIN_BITMAP_FILL){switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=
4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.BEGIN_BITMAP_FILL;m=d;r.fillCommands.beginBitmapFill(m.buffer.o[m.oPos],m.buffer.o[m.oPos+1],m.buffer.b[m.bPos],m.buffer.b[m.bPos+1]);r.strokeCommands.beginBitmapFill(m.buffer.o[m.oPos],
m.buffer.o[m.oPos+1],m.buffer.b[m.bPos],m.buffer.b[m.bPos+1])}else if(m==x.BEGIN_GRADIENT_FILL){switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=
4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.BEGIN_GRADIENT_FILL;m=d;r.fillCommands.beginGradientFill(m.buffer.o[m.oPos],m.buffer.ii[m.iiPos],m.buffer.ff[m.ffPos],m.buffer.ii[m.iiPos+1],m.buffer.o[m.oPos+1],m.buffer.o[m.oPos+2],m.buffer.o[m.oPos+3],m.buffer.f[m.fPos]);r.strokeCommands.beginGradientFill(m.buffer.o[m.oPos],m.buffer.ii[m.iiPos],m.buffer.ff[m.ffPos],m.buffer.ii[m.iiPos+1],m.buffer.o[m.oPos+1],m.buffer.o[m.oPos+2],m.buffer.o[m.oPos+
3],m.buffer.f[m.fPos])}else{switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;
break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.BEGIN_FILL;m=d;r.fillCommands.beginFill(m.buffer.i[m.iPos],1);r.strokeCommands.beginFill(m.buffer.i[m.iPos],1)}break;case 3:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=
2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.CUBIC_CURVE_TO;m=d;r.fillCommands.cubicCurveTo(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3],m.buffer.f[m.fPos+4],m.buffer.f[m.fPos+5]);r.strokeCommands.cubicCurveTo(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3],m.buffer.f[m.fPos+
4],m.buffer.f[m.fPos+5]);break;case 4:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=
2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.CURVE_TO;m=d;r.fillCommands.curveTo(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3]);r.strokeCommands.curveTo(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3]);break;case 5:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;
break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.DRAW_CIRCLE;m=d;r.fillCommands.drawCircle(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2]);r.strokeCommands.drawCircle(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+
2]);break;case 6:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=
2;break;case 17:d.oPos+=1}d.prev=x.DRAW_ELLIPSE;m=d;r.fillCommands.drawEllipse(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3]);r.strokeCommands.drawEllipse(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3]);break;case 7:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=
4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.DRAW_RECT;m=d;r.fillCommands.drawRect(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3]);r.strokeCommands.drawRect(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+
2],m.buffer.f[m.fPos+3]);break;case 8:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=
2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.DRAW_ROUND_RECT;m=d;r.fillCommands.drawRoundRect(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3],m.buffer.f[m.fPos+4],m.buffer.o[m.oPos]);r.strokeCommands.drawRoundRect(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3],m.buffer.f[m.fPos+4],m.buffer.o[m.oPos]);break;case 11:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=
2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.END_FILL;r.endFill();r.endStroke();if(r.hasFill&&r.context.isPointInPath(b,c)||r.hasStroke&&
r.context.isPointInStroke(b,c))return d.destroy(),a.__canvas=e,a.__context=f,!0;r.hasFill=!1;r.bitmapFill=null;break;case 12:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=
1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.LINE_BITMAP_STYLE;m=d;r.strokeCommands.lineBitmapStyle(m.buffer.o[m.oPos],m.buffer.o[m.oPos+1],m.buffer.b[m.bPos],m.buffer.b[m.bPos+1]);break;case 13:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;
case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.LINE_GRADIENT_STYLE;m=d;r.strokeCommands.lineGradientStyle(m.buffer.o[m.oPos],m.buffer.ii[m.iiPos],m.buffer.ff[m.ffPos],m.buffer.ii[m.iiPos+1],m.buffer.o[m.oPos+1],m.buffer.o[m.oPos+
2],m.buffer.o[m.oPos+3],m.buffer.f[m.fPos]);break;case 14:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=
1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.LINE_STYLE;m=d;r.strokeCommands.lineStyle(m.buffer.o[m.oPos],m.buffer.i[m.iPos],1,m.buffer.b[m.bPos],m.buffer.o[m.oPos+1],m.buffer.o[m.oPos+2],m.buffer.o[m.oPos+3],m.buffer.f[m.fPos+1]);break;case 15:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=
4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.LINE_TO;m=d;r.fillCommands.lineTo(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1]);r.strokeCommands.lineTo(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1]);break;case 16:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=
2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=x.MOVE_TO;m=d;r.fillCommands.moveTo(m.buffer.f[m.fPos],
m.buffer.f[m.fPos+1]);r.strokeCommands.moveTo(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1]);break;default:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;
case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=m}}0<r.fillCommands.get_length()&&r.endFill();0<r.strokeCommands.get_length()&&r.endStroke();d.destroy();if(r.hasFill&&r.context.isPointInPath(b,c)||r.hasStroke&&r.context.isPointInStroke(b,c))return a.__canvas=e,a.__context=f,!0;a.__canvas=e;a.__context=f}return!1};r.isCCW=function(a,b,c,d,e,f){return 0>(c-a)*(f-b)-(d-b)*(e-a)};r.normalizeUVT=function(a,b){null==b&&(b=!1);
for(var c=-Infinity,d=-Infinity,e=a.get_length(),f=1,g=e+1;f<g;)d=f++,b&&0==d%3||(d=a.get(d-1),c<d&&(c=d));if(!b)return{max:c,uvt:a};f=D.toFloatVector(null);g=1;for(e+=1;g<e;)d=g++,b&&0==d%3||f.push(a.get(d-1));return{max:c,uvt:f}};r.playCommands=function(a,b){null==b&&(b=!1);r.bounds=r.graphics.__bounds;var c=r.bounds.x,d=r.bounds.y,e=0,f=0,g=!1,k=0,m=0;r.setSmoothing(!0);for(var h=new Sd(a),l=0,q=a.types;l<q.length;){var n=q[l];++l;switch(n[1]){case 0:switch(h.prev[1]){case 0:h.oPos+=2;h.bPos+=
2;break;case 1:h.iPos+=1;h.fPos+=1;break;case 2:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 3:h.fPos+=6;break;case 4:h.fPos+=4;break;case 5:h.fPos+=3;break;case 6:h.fPos+=4;break;case 7:h.fPos+=4;break;case 8:h.fPos+=5;h.oPos+=1;break;case 10:h.oPos+=4;break;case 12:h.oPos+=2;h.bPos+=2;break;case 13:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 14:h.oPos+=4;h.iPos+=1;h.fPos+=2;h.bPos+=1;break;case 15:h.fPos+=2;break;case 16:h.fPos+=2;break;case 17:h.oPos+=1}h.prev=x.BEGIN_BITMAP_FILL;
n=h;r.bitmapFill=n.buffer.o[n.oPos];r.context.fillStyle=r.createBitmapFill(n.buffer.o[n.oPos],!0,n.buffer.b[n.bPos+1]);r.hasFill=!0;null!=n.buffer.o[n.oPos+1]?(r.pendingMatrix=n.buffer.o[n.oPos+1],r.inversePendingMatrix=n.buffer.o[n.oPos+1].clone(),r.inversePendingMatrix.invert()):(r.pendingMatrix=null,r.inversePendingMatrix=null);break;case 1:switch(h.prev[1]){case 0:h.oPos+=2;h.bPos+=2;break;case 1:h.iPos+=1;h.fPos+=1;break;case 2:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 3:h.fPos+=6;
break;case 4:h.fPos+=4;break;case 5:h.fPos+=3;break;case 6:h.fPos+=4;break;case 7:h.fPos+=4;break;case 8:h.fPos+=5;h.oPos+=1;break;case 10:h.oPos+=4;break;case 12:h.oPos+=2;h.bPos+=2;break;case 13:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 14:h.oPos+=4;h.iPos+=1;h.fPos+=2;h.bPos+=1;break;case 15:h.fPos+=2;break;case 16:h.fPos+=2;break;case 17:h.oPos+=1}h.prev=x.BEGIN_FILL;n=h;.005>n.buffer.f[n.fPos]?r.hasFill=!1:(1==n.buffer.f[n.fPos]?(n=fa.hex(n.buffer.i[n.iPos]&16777215,6),r.context.fillStyle=
"#"+n):r.context.fillStyle="rgba("+((n.buffer.i[n.iPos]&16711680)>>>16)+", "+((n.buffer.i[n.iPos]&65280)>>>8)+", "+(n.buffer.i[n.iPos]&255)+", "+n.buffer.f[n.fPos]+")",r.bitmapFill=null,r.setSmoothing(!0),r.hasFill=!0);break;case 2:switch(h.prev[1]){case 0:h.oPos+=2;h.bPos+=2;break;case 1:h.iPos+=1;h.fPos+=1;break;case 2:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 3:h.fPos+=6;break;case 4:h.fPos+=4;break;case 5:h.fPos+=3;break;case 6:h.fPos+=4;break;case 7:h.fPos+=4;break;case 8:h.fPos+=
5;h.oPos+=1;break;case 10:h.oPos+=4;break;case 12:h.oPos+=2;h.bPos+=2;break;case 13:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 14:h.oPos+=4;h.iPos+=1;h.fPos+=2;h.bPos+=1;break;case 15:h.fPos+=2;break;case 16:h.fPos+=2;break;case 17:h.oPos+=1}h.prev=x.BEGIN_GRADIENT_FILL;n=h;r.context.fillStyle=r.createGradientPattern(n.buffer.o[n.oPos],n.buffer.ii[n.iiPos],n.buffer.ff[n.ffPos],n.buffer.ii[n.iiPos+1],n.buffer.o[n.oPos+1],n.buffer.o[n.oPos+2],n.buffer.o[n.oPos+3],n.buffer.f[n.fPos]);r.bitmapFill=
null;r.setSmoothing(!0);r.hasFill=!0;break;case 3:switch(h.prev[1]){case 0:h.oPos+=2;h.bPos+=2;break;case 1:h.iPos+=1;h.fPos+=1;break;case 2:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 3:h.fPos+=6;break;case 4:h.fPos+=4;break;case 5:h.fPos+=3;break;case 6:h.fPos+=4;break;case 7:h.fPos+=4;break;case 8:h.fPos+=5;h.oPos+=1;break;case 10:h.oPos+=4;break;case 12:h.oPos+=2;h.bPos+=2;break;case 13:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 14:h.oPos+=4;h.iPos+=1;h.fPos+=2;h.bPos+=1;break;
case 15:h.fPos+=2;break;case 16:h.fPos+=2;break;case 17:h.oPos+=1}h.prev=x.CUBIC_CURVE_TO;n=h;r.context.bezierCurveTo(n.buffer.f[n.fPos]-c,n.buffer.f[n.fPos+1]-d,n.buffer.f[n.fPos+2]-c,n.buffer.f[n.fPos+3]-d,n.buffer.f[n.fPos+4]-c,n.buffer.f[n.fPos+5]-d);break;case 4:switch(h.prev[1]){case 0:h.oPos+=2;h.bPos+=2;break;case 1:h.iPos+=1;h.fPos+=1;break;case 2:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 3:h.fPos+=6;break;case 4:h.fPos+=4;break;case 5:h.fPos+=3;break;case 6:h.fPos+=4;break;case 7:h.fPos+=
4;break;case 8:h.fPos+=5;h.oPos+=1;break;case 10:h.oPos+=4;break;case 12:h.oPos+=2;h.bPos+=2;break;case 13:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 14:h.oPos+=4;h.iPos+=1;h.fPos+=2;h.bPos+=1;break;case 15:h.fPos+=2;break;case 16:h.fPos+=2;break;case 17:h.oPos+=1}h.prev=x.CURVE_TO;n=h;r.context.quadraticCurveTo(n.buffer.f[n.fPos]-c,n.buffer.f[n.fPos+1]-d,n.buffer.f[n.fPos+2]-c,n.buffer.f[n.fPos+3]-d);break;case 5:switch(h.prev[1]){case 0:h.oPos+=2;h.bPos+=2;break;case 1:h.iPos+=1;h.fPos+=
1;break;case 2:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 3:h.fPos+=6;break;case 4:h.fPos+=4;break;case 5:h.fPos+=3;break;case 6:h.fPos+=4;break;case 7:h.fPos+=4;break;case 8:h.fPos+=5;h.oPos+=1;break;case 10:h.oPos+=4;break;case 12:h.oPos+=2;h.bPos+=2;break;case 13:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 14:h.oPos+=4;h.iPos+=1;h.fPos+=2;h.bPos+=1;break;case 15:h.fPos+=2;break;case 16:h.fPos+=2;break;case 17:h.oPos+=1}h.prev=x.DRAW_CIRCLE;n=h;r.context.moveTo(n.buffer.f[n.fPos]-
c+n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+1]-d);r.context.arc(n.buffer.f[n.fPos]-c,n.buffer.f[n.fPos+1]-d,n.buffer.f[n.fPos+2],0,2*Math.PI,!0);break;case 6:switch(h.prev[1]){case 0:h.oPos+=2;h.bPos+=2;break;case 1:h.iPos+=1;h.fPos+=1;break;case 2:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 3:h.fPos+=6;break;case 4:h.fPos+=4;break;case 5:h.fPos+=3;break;case 6:h.fPos+=4;break;case 7:h.fPos+=4;break;case 8:h.fPos+=5;h.oPos+=1;break;case 10:h.oPos+=4;break;case 12:h.oPos+=2;h.bPos+=2;break;case 13:h.oPos+=
4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 14:h.oPos+=4;h.iPos+=1;h.fPos+=2;h.bPos+=1;break;case 15:h.fPos+=2;break;case 16:h.fPos+=2;break;case 17:h.oPos+=1}h.prev=x.DRAW_ELLIPSE;var t=h,n=t.buffer.f[t.fPos],v=t.buffer.f[t.fPos+1],u=t.buffer.f[t.fPos+2],C=t.buffer.f[t.fPos+3],n=n-c,v=v-d,t=u/2*.5522848,w=C/2*.5522848,y=n+u,z=v+C,u=n+u/2,C=v+C/2;r.context.moveTo(n,C);r.context.bezierCurveTo(n,C-w,u-t,v,u,v);r.context.bezierCurveTo(u+t,v,y,C-w,y,C);r.context.bezierCurveTo(y,C+w,u+t,z,u,z);r.context.bezierCurveTo(u-
t,z,n,C+w,n,C);break;case 7:switch(h.prev[1]){case 0:h.oPos+=2;h.bPos+=2;break;case 1:h.iPos+=1;h.fPos+=1;break;case 2:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 3:h.fPos+=6;break;case 4:h.fPos+=4;break;case 5:h.fPos+=3;break;case 6:h.fPos+=4;break;case 7:h.fPos+=4;break;case 8:h.fPos+=5;h.oPos+=1;break;case 10:h.oPos+=4;break;case 12:h.oPos+=2;h.bPos+=2;break;case 13:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 14:h.oPos+=4;h.iPos+=1;h.fPos+=2;h.bPos+=1;break;case 15:h.fPos+=2;
break;case 16:h.fPos+=2;break;case 17:h.oPos+=1}h.prev=x.DRAW_RECT;n=h;v=!1;null==r.bitmapFill||r.hitTesting||(z=y=u=t=0,w=!0,null!=r.pendingMatrix?0!=r.pendingMatrix.b||0!=r.pendingMatrix.c?w=!1:(y=r.inversePendingMatrix.transformPoint(new Ka(n.buffer.f[n.fPos],n.buffer.f[n.fPos+1])),u=r.inversePendingMatrix.transformPoint(new Ka(n.buffer.f[n.fPos]+n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+1]+n.buffer.f[n.fPos+3])),t=y.y,z=y.x,y=u.y,u=u.x):(t=n.buffer.f[n.fPos+1],z=n.buffer.f[n.fPos],y=n.buffer.f[n.fPos+
1]+n.buffer.f[n.fPos+3],u=n.buffer.f[n.fPos]+n.buffer.f[n.fPos+2]),w&&0<=t&&0<=z&&u<=r.bitmapFill.width&&y<=r.bitmapFill.height&&(v=!0,r.hitTesting||r.context.drawImage(r.bitmapFill.image.get_src(),z,t,u-z,y-t,n.buffer.f[n.fPos]-c,n.buffer.f[n.fPos+1]-d,n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3])));v||r.context.rect(n.buffer.f[n.fPos]-c,n.buffer.f[n.fPos+1]-d,n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3]);break;case 8:switch(h.prev[1]){case 0:h.oPos+=2;h.bPos+=2;break;case 1:h.iPos+=1;h.fPos+=1;break;
case 2:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 3:h.fPos+=6;break;case 4:h.fPos+=4;break;case 5:h.fPos+=3;break;case 6:h.fPos+=4;break;case 7:h.fPos+=4;break;case 8:h.fPos+=5;h.oPos+=1;break;case 10:h.oPos+=4;break;case 12:h.oPos+=2;h.bPos+=2;break;case 13:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 14:h.oPos+=4;h.iPos+=1;h.fPos+=2;h.bPos+=1;break;case 15:h.fPos+=2;break;case 16:h.fPos+=2;break;case 17:h.oPos+=1}h.prev=x.DRAW_ROUND_RECT;n=h;r.drawRoundRect(n.buffer.f[n.fPos]-
c,n.buffer.f[n.fPos+1]-d,n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3],n.buffer.f[n.fPos+4],n.buffer.o[n.oPos]);break;case 12:switch(h.prev[1]){case 0:h.oPos+=2;h.bPos+=2;break;case 1:h.iPos+=1;h.fPos+=1;break;case 2:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 3:h.fPos+=6;break;case 4:h.fPos+=4;break;case 5:h.fPos+=3;break;case 6:h.fPos+=4;break;case 7:h.fPos+=4;break;case 8:h.fPos+=5;h.oPos+=1;break;case 10:h.oPos+=4;break;case 12:h.oPos+=2;h.bPos+=2;break;case 13:h.oPos+=4;h.iiPos+=2;h.ffPos+=
1;h.fPos+=1;break;case 14:h.oPos+=4;h.iPos+=1;h.fPos+=2;h.bPos+=1;break;case 15:h.fPos+=2;break;case 16:h.fPos+=2;break;case 17:h.oPos+=1}h.prev=x.LINE_BITMAP_STYLE;n=h;b&&r.hasStroke&&r.closePath();r.context.moveTo(e-c,f-d);r.context.strokeStyle=r.createBitmapFill(n.buffer.o[n.oPos],n.buffer.b[n.bPos],n.buffer.b[n.bPos+1]);r.hasStroke=!0;break;case 13:switch(h.prev[1]){case 0:h.oPos+=2;h.bPos+=2;break;case 1:h.iPos+=1;h.fPos+=1;break;case 2:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 3:h.fPos+=
6;break;case 4:h.fPos+=4;break;case 5:h.fPos+=3;break;case 6:h.fPos+=4;break;case 7:h.fPos+=4;break;case 8:h.fPos+=5;h.oPos+=1;break;case 10:h.oPos+=4;break;case 12:h.oPos+=2;h.bPos+=2;break;case 13:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 14:h.oPos+=4;h.iPos+=1;h.fPos+=2;h.bPos+=1;break;case 15:h.fPos+=2;break;case 16:h.fPos+=2;break;case 17:h.oPos+=1}h.prev=x.LINE_GRADIENT_STYLE;n=h;b&&r.hasStroke&&r.closePath();r.context.moveTo(e-c,f-d);r.context.strokeStyle=r.createGradientPattern(n.buffer.o[n.oPos],
n.buffer.ii[n.iiPos],n.buffer.ff[n.ffPos],n.buffer.ii[n.iiPos+1],n.buffer.o[n.oPos+1],n.buffer.o[n.oPos+2],n.buffer.o[n.oPos+3],n.buffer.f[n.fPos]);r.setSmoothing(!0);r.hasStroke=!0;break;case 14:switch(h.prev[1]){case 0:h.oPos+=2;h.bPos+=2;break;case 1:h.iPos+=1;h.fPos+=1;break;case 2:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 3:h.fPos+=6;break;case 4:h.fPos+=4;break;case 5:h.fPos+=3;break;case 6:h.fPos+=4;break;case 7:h.fPos+=4;break;case 8:h.fPos+=5;h.oPos+=1;break;case 10:h.oPos+=4;
break;case 12:h.oPos+=2;h.bPos+=2;break;case 13:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 14:h.oPos+=4;h.iPos+=1;h.fPos+=2;h.bPos+=1;break;case 15:h.fPos+=2;break;case 16:h.fPos+=2;break;case 17:h.oPos+=1}h.prev=x.LINE_STYLE;n=h;b&&r.hasStroke&&r.closePath(!0);r.context.moveTo(e-c,f-d);null==n.buffer.o[n.oPos]?r.hasStroke=!1:(r.context.lineWidth=0<n.buffer.o[n.oPos]?n.buffer.o[n.oPos]:1,v=null==n.buffer.o[n.oPos+3]?"round":Xf.toString(n.buffer.o[n.oPos+3]).toLowerCase(),r.context.lineJoin=
v,v=null==n.buffer.o[n.oPos+2]?"round":0==n.buffer.o[n.oPos+2]?"butt":Yf.toString(n.buffer.o[n.oPos+2]).toLowerCase(),r.context.lineCap=v,r.context.miterLimit=n.buffer.f[n.fPos+1],1==n.buffer.f[n.fPos]?(n=fa.hex(n.buffer.i[n.iPos]&16777215,6),r.context.strokeStyle="#"+n):r.context.strokeStyle="rgba("+((n.buffer.i[n.iPos]&16711680)>>>16)+", "+((n.buffer.i[n.iPos]&65280)>>>8)+", "+(n.buffer.i[n.iPos]&255)+", "+n.buffer.f[n.fPos]+")",r.setSmoothing(!0),r.hasStroke=!0);break;case 15:switch(h.prev[1]){case 0:h.oPos+=
2;h.bPos+=2;break;case 1:h.iPos+=1;h.fPos+=1;break;case 2:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 3:h.fPos+=6;break;case 4:h.fPos+=4;break;case 5:h.fPos+=3;break;case 6:h.fPos+=4;break;case 7:h.fPos+=4;break;case 8:h.fPos+=5;h.oPos+=1;break;case 10:h.oPos+=4;break;case 12:h.oPos+=2;h.bPos+=2;break;case 13:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 14:h.oPos+=4;h.iPos+=1;h.fPos+=2;h.bPos+=1;break;case 15:h.fPos+=2;break;case 16:h.fPos+=2;break;case 17:h.oPos+=1}h.prev=x.LINE_TO;
f=h;r.context.lineTo(f.buffer.f[f.fPos]-c,f.buffer.f[f.fPos+1]-d);e=f.buffer.f[f.fPos];f=f.buffer.f[f.fPos+1];break;case 16:switch(h.prev[1]){case 0:h.oPos+=2;h.bPos+=2;break;case 1:h.iPos+=1;h.fPos+=1;break;case 2:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 3:h.fPos+=6;break;case 4:h.fPos+=4;break;case 5:h.fPos+=3;break;case 6:h.fPos+=4;break;case 7:h.fPos+=4;break;case 8:h.fPos+=5;h.oPos+=1;break;case 10:h.oPos+=4;break;case 12:h.oPos+=2;h.bPos+=2;break;case 13:h.oPos+=4;h.iiPos+=2;h.ffPos+=
1;h.fPos+=1;break;case 14:h.oPos+=4;h.iPos+=1;h.fPos+=2;h.bPos+=1;break;case 15:h.fPos+=2;break;case 16:h.fPos+=2;break;case 17:h.oPos+=1}h.prev=x.MOVE_TO;m=h;r.context.moveTo(m.buffer.f[m.fPos]-c,m.buffer.f[m.fPos+1]-d);e=m.buffer.f[m.fPos];f=m.buffer.f[m.fPos+1];g=!0;k=m.buffer.f[m.fPos];m=m.buffer.f[m.fPos+1];break;default:switch(h.prev[1]){case 0:h.oPos+=2;h.bPos+=2;break;case 1:h.iPos+=1;h.fPos+=1;break;case 2:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 3:h.fPos+=6;break;case 4:h.fPos+=
4;break;case 5:h.fPos+=3;break;case 6:h.fPos+=4;break;case 7:h.fPos+=4;break;case 8:h.fPos+=5;h.oPos+=1;break;case 10:h.oPos+=4;break;case 12:h.oPos+=2;h.bPos+=2;break;case 13:h.oPos+=4;h.iiPos+=2;h.ffPos+=1;h.fPos+=1;break;case 14:h.oPos+=4;h.iPos+=1;h.fPos+=2;h.bPos+=1;break;case 15:h.fPos+=2;break;case 16:h.fPos+=2;break;case 17:h.oPos+=1}h.prev=n}}h.destroy();b&&r.hasStroke&&(r.hasFill&&g?r.context.lineTo(k-c,m-d):g&&e==k&&f==m&&r.closePath(!0),r.hitTesting||r.context.stroke());b||!r.hasFill&&
null==r.bitmapFill||(r.context.translate(-r.bounds.x,-r.bounds.y),null!=r.pendingMatrix?(r.context.transform(r.pendingMatrix.a,r.pendingMatrix.b,r.pendingMatrix.c,r.pendingMatrix.d,r.pendingMatrix.tx,r.pendingMatrix.ty),r.hitTesting||r.context.fill(),r.context.transform(r.inversePendingMatrix.a,r.inversePendingMatrix.b,r.inversePendingMatrix.c,r.inversePendingMatrix.d,r.inversePendingMatrix.tx,r.inversePendingMatrix.ty)):r.hitTesting||r.context.fill(),r.context.translate(r.bounds.x,r.bounds.y),r.context.closePath())};
r.render=function(a,b,c){a.__update();if(a.__dirty){r.hitTesting=!1;r.graphics=a;r.allowSmoothing=b.allowSmoothing;r.bounds=a.__bounds;b=a.__width;c=a.__height;if(!a.__visible||0==a.__commands.get_length()||null==r.bounds||1>b||1>c)a.__canvas=null,a.__context=null,a.__bitmap=null;else{null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));r.context=a.__context;var d=a.__renderTransform,e=a.__canvas,f=window.devicePixelRatio||1,g=b*f|0,f=c*f|
0;e.width==g&&e.height==f?r.context.clearRect(0,0,g,f):(e.width=b,e.height=c);r.context.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);r.fillCommands.clear();r.strokeCommands.clear();r.hasFill=!1;r.hasStroke=!1;r.bitmapFill=null;r.bitmapRepeat=!1;b=new Sd(a.__commands);c=0;d=a.__commands.types;try{for(;c<d.length;){var k=d[c];++c;switch(k[1]){case 0:case 1:case 2:r.endFill();r.endStroke();if(k==x.BEGIN_BITMAP_FILL){switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=
4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.BEGIN_BITMAP_FILL;e=b;r.fillCommands.beginBitmapFill(e.buffer.o[e.oPos],
e.buffer.o[e.oPos+1],e.buffer.b[e.bPos],e.buffer.b[e.bPos+1]);r.strokeCommands.beginBitmapFill(e.buffer.o[e.oPos],e.buffer.o[e.oPos+1],e.buffer.b[e.bPos],e.buffer.b[e.bPos+1])}else if(k==x.BEGIN_GRADIENT_FILL){switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=
4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.BEGIN_GRADIENT_FILL;e=b;r.fillCommands.beginGradientFill(e.buffer.o[e.oPos],e.buffer.ii[e.iiPos],e.buffer.ff[e.ffPos],e.buffer.ii[e.iiPos+1],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3],e.buffer.f[e.fPos]);r.strokeCommands.beginGradientFill(e.buffer.o[e.oPos],
e.buffer.ii[e.iiPos],e.buffer.ff[e.ffPos],e.buffer.ii[e.iiPos+1],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3],e.buffer.f[e.fPos])}else{switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=
4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.BEGIN_FILL;e=b;r.fillCommands.beginFill(e.buffer.i[e.iPos],e.buffer.f[e.fPos]);r.strokeCommands.beginFill(e.buffer.i[e.iPos],e.buffer.f[e.fPos])}break;case 3:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=
4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.CUBIC_CURVE_TO;e=b;r.fillCommands.cubicCurveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],
e.buffer.f[e.fPos+5]);r.strokeCommands.cubicCurveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],e.buffer.f[e.fPos+5]);break;case 4:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;
case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.CURVE_TO;e=b;r.fillCommands.curveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);r.strokeCommands.curveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 5:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=
2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.DRAW_CIRCLE;e=
b;r.fillCommands.drawCircle(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2]);r.strokeCommands.drawCircle(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2]);break;case 6:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;
case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.DRAW_ELLIPSE;e=b;r.fillCommands.drawEllipse(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);r.strokeCommands.drawEllipse(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 7:switch(b.prev[1]){case 0:b.oPos+=
2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.DRAW_RECT;
e=b;r.fillCommands.drawRect(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);r.strokeCommands.drawRect(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 8:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=
5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.DRAW_ROUND_RECT;e=b;r.fillCommands.drawRoundRect(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],e.buffer.o[e.oPos]);r.strokeCommands.drawRoundRect(e.buffer.f[e.fPos],e.buffer.f[e.fPos+
1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],e.buffer.o[e.oPos]);break;case 10:r.endFill();r.endStroke();switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=
1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.DRAW_TRIANGLES;var e=b,m=e.buffer.o[e.oPos],h=e.buffer.o[e.oPos+1],l=e.buffer.o[e.oPos+2],g=null,n=null==r.bitmapFill;if(n&&null!=l)throw"__break__";if(!n){if(null==l)for(var l=D.toFloatVector(null),f=0,q=m.get_length()/2|0;f<q;){var t=f++;l.push(m.get(2*t)/r.bitmapFill.width);l.push(m.get(2*t+1)/r.bitmapFill.height)}var v=l.get_length()!=m.get_length(),
u=r.normalizeUVT(l,v),C=u.max,l=u.uvt,g=1<C?r.createTempPatternCanvas(r.bitmapFill,r.bitmapRepeat,r.bounds.width|0,r.bounds.height|0):r.createTempPatternCanvas(r.bitmapFill,r.bitmapRepeat,r.bitmapFill.width,r.bitmapFill.height)}for(var f=0,w=h.get_length(),y,z,B,E,F,G,I,H,J,L,N,O,M,P,Q,S,R,K,T,W,V,X,Y,ba,aa,ea,ca,da;f<w;){y=f;z=f+1;B=f+2;E=2*h.get(y);F=2*h.get(y)+1;G=2*h.get(z);I=2*h.get(z)+1;H=2*h.get(B);J=2*h.get(B)+1;L=m.get(E);N=m.get(F);O=m.get(G);M=m.get(I);P=m.get(H);Q=m.get(J);switch(e.buffer.o[e.oPos+
3]){case 0:if(0>(O-L)*(Q-N)-(M-N)*(P-L)){f+=3;continue}break;case 2:if(!(0>(O-L)*(Q-N)-(M-N)*(P-L))){f+=3;continue}}n?(r.context.beginPath(),r.context.moveTo(L,N),r.context.lineTo(O,M),r.context.lineTo(P,Q),r.context.closePath(),r.hitTesting||r.context.fill()):(r.context.save(),r.context.beginPath(),r.context.moveTo(L,N),r.context.lineTo(O,M),r.context.lineTo(P,Q),r.context.closePath(),r.context.clip(),S=l.get(E)*g.width,K=l.get(G)*g.width,W=l.get(H)*g.width,R=l.get(F)*g.height,T=l.get(I)*g.height,
V=l.get(J)*g.height,X=S*(V-T)-K*V+W*T+(K-W)*R,0!=X&&(Y=-(R*(P-O)-T*P+V*O+(T-V)*L)/X,ba=(T*Q+R*(M-Q)-V*M+(V-T)*N)/X,aa=(S*(P-O)-K*P+W*O+(K-W)*L)/X,ea=-(K*Q+S*(M-Q)-W*M+(W-K)*N)/X,ca=(S*(V*O-T*P)+R*(K*P-W*O)+(W*T-K*V)*L)/X,da=(S*(V*M-T*Q)+R*(K*Q-W*M)+(W*T-K*V)*N)/X,r.context.transform(Y,ba,aa,ea,ca,da),r.context.drawImage(g,0,0),r.context.restore()));f+=3}break;case 11:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=
1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.END_FILL;r.endFill();r.endStroke();r.hasFill=!1;r.bitmapFill=null;break;case 12:switch(b.prev[1]){case 0:b.oPos+=
2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.LINE_BITMAP_STYLE;
e=b;r.strokeCommands.lineBitmapStyle(e.buffer.o[e.oPos],e.buffer.o[e.oPos+1],e.buffer.b[e.bPos],e.buffer.b[e.bPos+1]);break;case 13:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=
2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.LINE_GRADIENT_STYLE;e=b;r.strokeCommands.lineGradientStyle(e.buffer.o[e.oPos],e.buffer.ii[e.iiPos],e.buffer.ff[e.ffPos],e.buffer.ii[e.iiPos+1],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3],e.buffer.f[e.fPos]);break;case 14:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=
2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.LINE_STYLE;e=b;r.strokeCommands.lineStyle(e.buffer.o[e.oPos],e.buffer.i[e.iPos],e.buffer.f[e.fPos],
e.buffer.b[e.bPos],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3],e.buffer.f[e.fPos+1]);break;case 15:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=
1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.LINE_TO;e=b;r.fillCommands.lineTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1]);r.strokeCommands.lineTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1]);break;case 16:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=
3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.MOVE_TO;e=b;r.fillCommands.moveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1]);r.strokeCommands.moveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1]);break;default:switch(b.prev[1]){case 0:b.oPos+=
2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=k}}}catch(Z){if("__break__"!=
Z)throw Z;}0<r.fillCommands.get_length()&&r.endFill();0<r.strokeCommands.get_length()&&r.endStroke();b.destroy();a.__bitmap=ma.fromCanvas(a.__canvas)}a.set___dirty(!1)}};r.renderMask=function(a,b){if(0!=a.__commands.get_length()){r.context=b.context;for(var c=new Sd(a.__commands),d=0,e=a.__commands.types;d<e.length;){var f=e[d];++d;switch(f[1]){case 3:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=
6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=x.CUBIC_CURVE_TO;f=c;r.context.bezierCurveTo(f.buffer.f[f.fPos]-0,f.buffer.f[f.fPos+1]-0,f.buffer.f[f.fPos+2]-0,f.buffer.f[f.fPos+
3]-0,f.buffer.f[f.fPos+4]-0,f.buffer.f[f.fPos+5]-0);break;case 4:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=
2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=x.CURVE_TO;f=c;r.context.quadraticCurveTo(f.buffer.f[f.fPos]-0,f.buffer.f[f.fPos+1]-0,f.buffer.f[f.fPos+2]-0,f.buffer.f[f.fPos+3]-0);break;case 5:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=
5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=x.DRAW_CIRCLE;f=c;r.context.arc(f.buffer.f[f.fPos]-0,f.buffer.f[f.fPos+1]-0,f.buffer.f[f.fPos+2],0,2*Math.PI,!0);break;case 6:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=
1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=x.DRAW_ELLIPSE;var g=c,f=g.buffer.f[g.fPos],k=g.buffer.f[g.fPos+1],m=g.buffer.f[g.fPos+2],h=g.buffer.f[g.fPos+
3],f=f-0,k=k-0,g=m/2*.5522848,l=h/2*.5522848,n=f+m,q=k+h,m=f+m/2,h=k+h/2;r.context.moveTo(f,h);r.context.bezierCurveTo(f,h-l,m-g,k,m,k);r.context.bezierCurveTo(m+g,k,n,h-l,n,h);r.context.bezierCurveTo(n,h+l,m+g,q,m,q);r.context.bezierCurveTo(m-g,q,f,h+l,f,h);break;case 7:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;
case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=x.DRAW_RECT;f=c;r.context.rect(f.buffer.f[f.fPos]-0,f.buffer.f[f.fPos+1]-0,f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 8:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=
1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=x.DRAW_ROUND_RECT;f=c;r.drawRoundRect(f.buffer.f[f.fPos]-
0,f.buffer.f[f.fPos+1]-0,f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.o[f.oPos]);break;case 15:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=
1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=x.LINE_TO;f=c;r.context.lineTo(f.buffer.f[f.fPos]-0,f.buffer.f[f.fPos+1]-0);break;case 16:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=
5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=x.MOVE_TO;f=c;r.context.moveTo(f.buffer.f[f.fPos]-0,f.buffer.f[f.fPos+1]-0);break;default:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=
6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=f}}c.destroy()}};r.setSmoothing=function(a){r.allowSmoothing||(a=!1);r.context.imageSmoothingEnabled!=a&&(r.context.mozImageSmoothingEnabled=
a,r.context.msImageSmoothingEnabled=a,r.context.imageSmoothingEnabled=a)};var Zg=function(a){this.renderSession=a};k["openfl._internal.renderer.canvas.CanvasMaskManager"]=Zg;Zg.__name__=["openfl","_internal","renderer","canvas","CanvasMaskManager"];Zg.__super__=Pe;Zg.prototype=t(Pe.prototype,{pushMask:function(a){var b=this.renderSession.context;b.save();var c=a.__getRenderTransform();b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.beginPath();a.__renderCanvasMask(this.renderSession);b.clip()},pushObject:function(a,
b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},pushRect:function(a,b){var c=this.renderSession.context;c.save();c.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty);c.beginPath();c.rect(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.context.restore()},popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},popRect:function(){this.renderSession.context.restore()},
__class__:Zg});var pj=function(a,b){oc.call(this,a);this.context=b;this.renderSession=new Yg;this.renderSession.context=b;this.renderSession.renderer=this;this.renderSession.maskManager=new Zg(this.renderSession)};k["openfl._internal.renderer.canvas.CanvasRenderer"]=pj;pj.__name__=["openfl","_internal","renderer","canvas","CanvasRenderer"];pj.__super__=oc;pj.prototype=t(oc.prototype,{context:null,clear:function(){for(var a=0,b=this.stage.stage3Ds;a<b.get_length();){var c=b.get(a);++a;c.__renderCanvas(this.stage,
this.renderSession)}},render:function(){this.renderSession.allowSmoothing=2!=this.stage.quality;this.context.setTransform(1,0,0,1,0,0);this.context.globalAlpha=1;!this.stage.__transparent&&this.stage.__clearBeforeRender?(this.context.fillStyle=this.stage.__colorString,this.context.fillRect(0,0,this.stage.stageWidth*this.stage.window.__scale,this.stage.stageHeight*this.stage.window.__scale)):this.stage.__transparent&&this.stage.__clearBeforeRender&&this.context.clearRect(0,0,this.stage.stageWidth*
this.stage.window.__scale,this.stage.stageHeight*this.stage.window.__scale);this.stage.__renderCanvas(this.renderSession)},__class__:pj});var Jm=function(){};k["openfl._internal.renderer.canvas.CanvasShape"]=Jm;Jm.__name__=["openfl","_internal","renderer","canvas","CanvasShape"];Jm.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=a.__graphics;if(null!=c){r.render(c,b,a.__renderTransform);var d=c.__width,e=c.__height;if(null!=c.__canvas){var f=b.context,g=a.__scrollRect;0<d&&0<e&&
(null==g||0<g.width&&0<g.height)&&(b.maskManager.pushObject(a),f.globalAlpha=a.__worldAlpha,d=c.__worldTransform,b.roundPixels?f.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):f.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty),f.drawImage(c.__canvas,0,0),b.maskManager.popObject(a))}}}};var N=function(){};k["openfl._internal.renderer.canvas.CanvasTextField"]=N;N.__name__=["openfl","_internal","renderer","canvas","CanvasTextField"];N.disableInputMode=function(a){};N.enableInputMode=function(a){if(null==a.__hiddenInput){a.__hiddenInput=
window.document.createElement("input");var b=a.__hiddenInput;b.type="text";b.style.position="absolute";b.style.opacity="0";b.style.color="transparent";b.style.left="0px";b.style.top="50%";(new Ba("(iPad|iPhone|iPod).*OS 8_","gi")).match(window.navigator.userAgent)?(b.style.fontSize="0px",b.style.width="0px",b.style.height="0px"):(b.style.width="1px",b.style.height="1px");b.style.pointerEvents="none";b.style.zIndex="-10000000";0<a.maxChars&&(b.maxLength=a.maxChars);window.document.body.appendChild(b);
b.value=a.text}};N.render=function(a,b,c){var d=a.__textEngine,e=d.bounds;c=a.__graphics;a.__dirty&&(a.__updateLayout(),null==c.__bounds&&(c.__bounds=new ha),c.__bounds.copyFrom(e));c.__update();if(a.__dirty||c.__dirty){var f=c.__width,g=c.__height;if(!(null!=d.text&&""!=d.text||d.background||d.border||d.__hasFocus||1==d.type&&d.selectable)||(0>=d.width||0>=d.height)&&2!=d.autoSize)a.__graphics.__canvas=null,a.__graphics.__context=null,a.__graphics.__bitmap=null,a.__graphics.set___dirty(!1),a.__dirty=
!1;else{null==a.__graphics.__canvas&&(a.__graphics.__canvas=window.document.createElement("canvas"),a.__graphics.__context=a.__graphics.__canvas.getContext("2d"));N.context=c.__context;var k=c.__renderTransform;c.__canvas.width=f;c.__canvas.height=g;N.context.setTransform(k.a,k.b,k.c,k.d,k.tx,k.ty);null==N.clearRect&&(N.clearRect="undefined"!==typeof navigator&&"undefined"!==typeof navigator.isCocoonJS);N.clearRect&&N.context.clearRect(0,0,c.__canvas.width,c.__canvas.height);if(null!=d.text&&""!=
d.text||d.__hasFocus){f=d.text;!b.allowSmoothing||0==d.antiAliasType&&400==d.sharpness?(c.__context.mozImageSmoothingEnabled=!1,c.__context.msImageSmoothingEnabled=!1,c.__context.imageSmoothingEnabled=!1):(c.__context.mozImageSmoothingEnabled=!0,c.__context.msImageSmoothingEnabled=!0,c.__context.imageSmoothingEnabled=!0);if(d.border||d.background)N.context.rect(.5,.5,e.width-1,e.height-1),d.background&&(b=fa.hex(d.backgroundColor&16777215,6),N.context.fillStyle="#"+b,N.context.fill()),d.border&&(N.context.lineWidth=
1,b=fa.hex(d.borderColor&16777215,6),N.context.strokeStyle="#"+b,N.context.stroke());N.context.textBaseline="top";N.context.textAlign="start";b=-a.get_scrollH();g=e=0;for(k=a.get_scrollV()-1;g<k;)var m=g++,e=e-d.lineHeights.get(m);for(var h,g=0,k=(new Ba("(iPad|iPhone|iPod|Firefox)","g")).match(window.navigator.userAgent),m=0,l=d.layoutGroups;m<l.get_length();){var n=l.get(m);++m;if(!(n.lineIndex<a.get_scrollV()-1)){if(n.lineIndex>a.get_scrollV()+d.bottomScrollV-2)break;N.context.font=Qa.getFont(n.format);
h=fa.hex(n.format.color&16777215,6);N.context.fillStyle="#"+h;k&&(g=.185*n.format.size);if(null!=a.__filters&&0<a.__filters.length&&y.__instanceof(a.__filters[0],Zc)){h=a.__filters[0];var q=N.context.globalAlpha;N.context.globalAlpha=q*h.alpha;var r=fa.hex(h.color&16777215,6);N.context.strokeStyle="#"+r;N.context.lineWidth=Math.max(h.blurX,h.blurY);N.context.strokeText(f.substring(n.startIndex,n.endIndex),n.offsetX+b,n.offsetY+g+e);N.context.strokeStyle=null;N.context.globalAlpha=q}N.context.fillText(f.substring(n.startIndex,
n.endIndex),n.offsetX+b,n.offsetY+g+e);if(-1<a.__caretIndex&&d.selectable)if(a.__selectionIndex==a.__caretIndex){if(a.__showCursor&&n.startIndex<=a.__caretIndex&&n.endIndex>=a.__caretIndex){q=h=0;for(r=a.__caretIndex-n.startIndex;q<r;){var v=q++;if(n.advances.length<=v)break;h+=n.advances[v]}N.context.fillRect(n.offsetX+h,n.offsetY,1,n.height)}}else if(n.startIndex<=a.__caretIndex&&n.endIndex>=a.__caretIndex||n.startIndex<=a.__selectionIndex&&n.endIndex>=a.__selectionIndex||n.startIndex>a.__caretIndex&&
n.endIndex<a.__selectionIndex||n.startIndex>a.__selectionIndex&&n.endIndex<a.__caretIndex)h=Math.min(a.__selectionIndex,a.__caretIndex)|0,q=Math.max(a.__selectionIndex,a.__caretIndex)|0,n.startIndex>h&&(h=n.startIndex),n.endIndex<q&&(q=n.endIndex),r=a.getCharBoundaries(h),q>=d.text.length?(v=a.getCharBoundaries(d.text.length-1),v.x+=v.width+2):v=a.getCharBoundaries(q),null!=r&&null!=v&&(N.context.fillStyle="#000000",N.context.fillRect(r.x,r.y,v.x-r.x,n.height),N.context.fillStyle="#FFFFFF",N.context.fillText(f.substring(h,
q),b+r.x,n.offsetY+g+e))}}}else{if(d.border||d.background)d.border?N.context.rect(.5,.5,e.width-1,e.height-1):N.context.rect(0,0,e.width,e.height),d.background&&(f=fa.hex(d.backgroundColor&16777215,6),N.context.fillStyle="#"+f,N.context.fill()),d.border&&(N.context.lineWidth=1,N.context.lineCap="square",f=fa.hex(d.borderColor&16777215,6),N.context.strokeStyle="#"+f,N.context.stroke());if(-1<a.__caretIndex&&d.selectable&&a.__showCursor){f=-a.get_scrollH();e=b=0;for(g=a.get_scrollV()-1;e<g;)k=e++,b-=
d.lineHeights.get(k);N.context.beginPath();d=fa.hex(a.get_defaultTextFormat().color&16777215,6);N.context.strokeStyle="#"+d;N.context.moveTo(f+2.5,b+2.5);N.context.lineWidth=1;N.context.lineTo(f+2.5,b+Qa.getFormatHeight(a.get_defaultTextFormat())-1);N.context.stroke();N.context.closePath()}}c.__bitmap=ma.fromCanvas(a.__graphics.__canvas);c.__visible=!0;a.__dirty=!1;c.set___dirty(!1)}}};var el=function(a,b){oc.call(this,a);throw new F("ConsoleRenderer not supported");};k["openfl._internal.renderer.console.ConsoleRenderer"]=
el;el.__name__=["openfl","_internal","renderer","console","ConsoleRenderer"];el.__super__=oc;el.prototype=t(oc.prototype,{render:function(){},__class__:el});var $g=function(){};k["openfl._internal.renderer.dom.DOMBitmap"]=$g;$g.__name__=["openfl","_internal","renderer","dom","DOMBitmap"];$g.render=function(a,b){null!=a.stage&&a.__worldVisible&&a.__renderable&&null!=a.bitmapData&&a.bitmapData.__isValid?(b.maskManager.pushObject(a),null!=a.bitmapData.image.buffer.__srcImage?$g.renderImage(a,b):$g.renderCanvas(a,
b),b.maskManager.popObject(a)):(null!=a.__image&&(b.element.removeChild(a.__image),a.__image=null,a.__style=null),null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null,a.__style=null))};$g.renderCanvas=function(a,b){null!=a.__image&&(b.element.removeChild(a.__image),a.__image=null);null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"),a.__imageVersion=-1,b.allowSmoothing&&a.smoothing||(a.__context.mozImageSmoothingEnabled=!1,a.__context.msImageSmoothingEnabled=
!1,a.__context.imageSmoothingEnabled=!1),Mb.initializeElement(a,a.__canvas,b));a.__imageVersion!=a.bitmapData.image.version&&(S.convertToCanvas(a.bitmapData.image),a.__canvas.width=a.bitmapData.width,a.__canvas.height=a.bitmapData.height,a.__context.drawImage(a.bitmapData.image.buffer.__srcCanvas,0,0),a.__imageVersion=a.bitmapData.image.version);Mb.updateClip(a,b);Mb.applyStyle(a,b,!0,!0,!0)};$g.renderImage=function(a,b){null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null);null==
a.__image&&(a.__image=window.document.createElement("img"),a.__image.src=a.bitmapData.image.buffer.__srcImage.src,Mb.initializeElement(a,a.__image,b));Mb.updateClip(a,b);Mb.applyStyle(a,b,!0,!0,!0)};var Km=function(){};k["openfl._internal.renderer.dom.DOMDisplayObject"]=Km;Km.__name__=["openfl","_internal","renderer","dom","DOMDisplayObject"];Km.render=function(a,b){null!=a.opaqueBackground&&0<a.get_width()&&a.get_height();var c=a.__graphics;if(null!=a.stage&&a.__worldVisible&&a.__renderable&&null!=
c){r.render(c,b,a.__renderTransform);if(c.__dirty||a.__worldAlphaChanged||a.__canvas!=c.__canvas)null!=c.__canvas?a.__canvas!=c.__canvas&&(null!=a.__canvas&&b.element.removeChild(a.__canvas),a.__canvas=c.__canvas,a.__context=c.__context,Mb.initializeElement(a,a.__canvas,b)):null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null,a.__style=null);if(null!=a.__canvas){b.maskManager.pushObject(a);var d=a.__renderTransform;a.__renderTransform=c.__worldTransform;c.__transformDirty&&(c.__transformDirty=
!1,a.__renderTransformChanged=!0);Mb.updateClip(a,b);Mb.applyStyle(a,b,!0,!0,!0);a.__renderTransform=d;b.maskManager.popObject(a)}}else null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null,a.__style=null)};var fl=function(a){this.renderSession=a;this.clipRects=[];this.numClipRects=0};k["openfl._internal.renderer.dom.DOMMaskManager"]=fl;fl.__name__=["openfl","_internal","renderer","dom","DOMMaskManager"];fl.__super__=Pe;fl.prototype=t(Pe.prototype,{currentClipRect:null,clipRects:null,
numClipRects:null,pushMask:function(a){this.pushRect(a.getBounds(a),a.__getRenderTransform())},pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},pushRect:function(a,b){this.numClipRects==this.clipRects.length&&(this.clipRects[this.numClipRects]=new ha);var c=this.clipRects[this.numClipRects];a.__transform(c,b);if(0<this.numClipRects){var d=this.clipRects[this.numClipRects-1];c.__contract(d.x,
d.y,d.width,d.height)}0>c.height&&(c.height=0);0>c.width&&(c.width=0);this.currentClipRect=c;this.numClipRects++},popMask:function(){this.popRect()},popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},popRect:function(){0<this.numClipRects&&(this.numClipRects--,this.currentClipRect=0<this.numClipRects?this.clipRects[this.numClipRects-1]:null)},updateClip:function(a){if(null==this.currentClipRect)a.__worldClipChanged=null!=a.__worldClip,a.__worldClip=
null;else{null==a.__worldClip&&(a.__worldClip=new ha);var b=ha.__temp,c=Ma.__temp;c.copyFrom(a.__renderTransform);c.invert();this.currentClipRect.__transform(b,c);b.equals(a.__worldClip)?a.__worldClipChanged=!1:(a.__worldClip.copyFrom(b),a.__worldClipChanged=!0)}},__class__:fl});var Mb=function(a,b){oc.call(this,a)};k["openfl._internal.renderer.dom.DOMRenderer"]=Mb;Mb.__name__=["openfl","_internal","renderer","dom","DOMRenderer"];Mb.applyStyle=function(a,b,c,d,e){var f=a.__style;c&&a.__renderTransformChanged&&
(c=a.__renderTransform,f.setProperty(b.transformProperty,b.roundPixels?"matrix3d("+c.a+", "+c.b+", 0, 0, "+c.c+", "+c.d+", 0, 0, 0, 0, 1, 0, "+(c.tx|0)+", "+(c.ty|0)+", 0, 1)":"matrix3d("+c.a+", "+c.b+", 0, 0, "+c.c+", "+c.d+", 0, 0, 0, 0, 1, 0, "+c.tx+", "+c.ty+", 0, 1)",null));a.__worldZ!=++b.z&&(a.__worldZ=b.z,f.setProperty("z-index",null==a.__worldZ?"null":""+a.__worldZ,null));d&&a.__worldAlphaChanged&&(1>a.__worldAlpha?f.setProperty("opacity",null==a.__worldAlpha?"null":""+a.__worldAlpha,null):
f.removeProperty("opacity"));e&&a.__worldClipChanged&&(null==a.__worldClip?f.removeProperty("clip"):(a=a.__worldClip,f.setProperty("clip","rect("+a.y+"px, "+a.get_right()+"px, "+a.get_bottom()+"px, "+a.x+"px)",null)))};Mb.initializeElement=function(a,b,c){var d=a.__style=b.style;d.setProperty("position","absolute",null);d.setProperty("top","0",null);d.setProperty("left","0",null);d.setProperty(c.transformOriginProperty,"0 0 0",null);c.element.appendChild(b);a.__worldAlphaChanged=!0;a.__renderTransformChanged=
!0;a.__worldVisibleChanged=!0;a.__worldClipChanged=!0;a.__worldClip=null;a.__worldZ=-1};Mb.updateClip=function(a,b){b.maskManager.updateClip(a)};Mb.__super__=oc;Mb.prototype=t(oc.prototype,{element:null,clear:function(){for(var a=0,b=this.stage.stage3Ds;a<b.get_length();){var c=b.get(a);++a;c.__renderDOM(this.stage,this.renderSession)}},render:function(){this.renderSession.allowSmoothing=2!=this.stage.quality;this.element.style.background=this.stage.__transparent?"none":this.stage.__colorString;this.renderSession.z=
1;this.stage.__renderDOM(this.renderSession)},__class__:Mb});var Lm=function(){};k["openfl._internal.renderer.dom.DOMShape"]=Lm;Lm.__name__=["openfl","_internal","renderer","dom","DOMShape"];Lm.render=function(a,b){var c=a.__graphics;if(null!=a.stage&&a.__worldVisible&&a.__renderable&&null!=c){r.render(c,b,a.__renderTransform);if(c.__dirty||a.__worldAlphaChanged||a.__canvas!=c.__canvas)null!=c.__canvas?a.__canvas!=c.__canvas&&(null!=a.__canvas&&b.element.removeChild(a.__canvas),a.__canvas=c.__canvas,
a.__context=c.__context,Mb.initializeElement(a,a.__canvas,b)):null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null,a.__style=null);if(null!=a.__canvas){b.maskManager.pushObject(a);var d=a.__renderTransform;a.__renderTransform=c.__worldTransform;c.__transformDirty&&(c.__transformDirty=!1,a.__renderTransformChanged=!0);Mb.updateClip(a,b);Mb.applyStyle(a,b,!0,!0,!0);a.__renderTransform=d;b.maskManager.popObject(a)}}else null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=
null,a.__style=null)};var Vb=function(){};k["openfl._internal.renderer.dom.DOMTextField"]=Vb;Vb.__name__=["openfl","_internal","renderer","dom","DOMTextField"];Vb.measureText=function(a){var b=a.__textEngine,c=a.__div;null==c&&(c=window.document.createElement("div"),c.innerHTML=b.text.replace(RegExp("\n","g"),"<br>"),c.style.setProperty("font",Qa.getFont(a.__textFormat),null),c.style.setProperty("pointer-events","none",null),c.style.position="absolute",c.style.top="110%",window.document.body.appendChild(c));
b.__measuredWidth=c.clientWidth;null==a.__div&&(c.style.width=q.string(b.width-4)+"px");b.__measuredHeight=c.clientHeight;null==a.__div&&window.document.body.removeChild(c)};Vb.render=function(a,b){var c=a.__textEngine;if(null!=a.stage&&a.__worldVisible&&a.__renderable){if(a.__dirty||a.__renderTransformChanged||null==a.__div)if(""!=c.text||c.background||c.border||1==c.type){null==a.__div&&(a.__div=window.document.createElement("div"),Mb.initializeElement(a,a.__div,b),a.__style.setProperty("outline",
"none",null),a.__div.addEventListener("input",function(b){b.preventDefault();a.get_htmlText()!=a.__div.innerHTML&&(a.set_htmlText(a.__div.innerHTML),a.__dirty=!1)},!0));c.wordWrap?a.__style.setProperty("word-wrap","break-word",null):a.__style.setProperty("white-space","nowrap",null);a.__style.setProperty("overflow","hidden",null);c.selectable?(a.__style.setProperty("cursor","text",null),a.__style.setProperty("-webkit-user-select","text",null),a.__style.setProperty("-moz-user-select","text",null),
a.__style.setProperty("-ms-user-select","text",null),a.__style.setProperty("-o-user-select","text",null)):a.__style.setProperty("cursor","inherit",null);a.__div.contentEditable=1==c.type;var d=a.__style;c.background?d.setProperty("background-color","#"+fa.hex(c.backgroundColor&16777215,6),null):d.removeProperty("background-color");var e=c.width,f=c.height,g=1,k=a.__textFormat.size,m=k,h=a.__renderTransform;if(1!=h.a||1!=h.d)h.a==h.d?(g=h.a,h.a=h.d=1):h.a>h.d?(g=h.a,h.d/=h.a,h.a=1):(g=h.d,h.a/=h.d,
h.d=1),m*=g,e=Math.ceil(e*g),f=Math.ceil(f*g);a.__textFormat.size=m;var h=c.text,l=0;if(a.__isHTML){for(var n=h;Vb.__regexFont.match(n);){var n=Vb.__regexFont.matched(0),q="";Vb.__regexFace.match(n)&&(q+="font-family:'"+Vb.__getAttributeMatch(Vb.__regexFace)+"';");Vb.__regexColor.match(n)&&(q+="color:#"+Vb.__getAttributeMatch(Vb.__regexColor)+";");if(Vb.__regexSize.match(n))var l=Vb.__getAttributeMatch(Vb.__regexSize),r=W.cca(l,0),l=parseFloat(l)*g,q=q+("font-size:"+(43==r||45==r?m+l:l)+"px;");h=
fa.replace(h,n,"<span style='"+q+"'>");n=Vb.__regexFont.matchedRight()}h=h.replace(Vb.__regexCloseFont.r,"</span>")}else h=fa.htmlEscape(h);h=fa.replace(h,"<p ","<p style='margin-top:0; margin-bottom:0;' ");g=a.__textFormat.leading;a.__textFormat.leading+=l|0;m=h.replace(RegExp("\r\n","g"),"<br>");a.__div.innerHTML=m;m=a.__div.innerHTML.replace(RegExp("\n","g"),"<br>");a.__div.innerHTML=m;m=a.__div.innerHTML.replace(RegExp("\r","g"),"<br>");a.__div.innerHTML=m;d.setProperty("font",Qa.getFont(a.__textFormat),
null);a.__textFormat.size=k;a.__textFormat.leading=g;d.setProperty("top","3px",null);c.border?(d.setProperty("border","solid 1px #"+fa.hex(c.borderColor&16777215,6),null),a.__renderTransform.translate(-1,-1),a.__renderTransformChanged=!0,a.__transformDirty=!0):""!=d.border&&(d.removeProperty("border"),a.__renderTransformChanged=!0);d.setProperty("color","#"+fa.hex(a.__textFormat.color&16777215,6),null);d.setProperty("width",e+"px",null);d.setProperty("height",f+"px",null);switch(a.__textFormat.align){case 0:d.setProperty("text-align",
"center",null);break;case 4:d.setProperty("text-align","right",null);break;default:d.setProperty("text-align","left",null)}a.__dirty=!1}else null!=a.__div&&(b.element.removeChild(a.__div),a.__div=null);null!=a.__div&&(Mb.updateClip(a,b),Mb.applyStyle(a,b,!0,!0,!0))}else null!=a.__div&&(b.element.removeChild(a.__div),a.__div=null,a.__style=null)};Vb.__getAttributeMatch=function(a){return null!=a.matched(2)?a.matched(2):a.matched(3)};var Mm=function(){};k["openfl._internal.renderer.opengl.GLBitmap"]=
Mm;Mm.__name__=["openfl","_internal","renderer","opengl","GLBitmap"];Mm.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)&&null!=a.bitmapData&&a.bitmapData.__isValid){var c=b.renderer,d=b.gl;b.blendModeManager.setBlendMode(a.get_blendMode());b.maskManager.pushObject(a);var e=b.filterManager.pushObject(a);e.get_data().uImage0.input=a.bitmapData;var f=b.allowSmoothing&&(a.smoothing||b.upscaled);e.get_data().uImage0.smoothing=f;e.get_data().uMatrix.value=c.getMatrix(a.__renderTransform);b.shaderManager.setShader(e);
c=d.ARRAY_BUFFER;f=a.bitmapData.getBuffer(d,a.__worldAlpha);d.__context.bindBuffer(c,f);var c=e.get_data().aPosition.index,f=d.FLOAT,g=ba.fromInt(0);d.__context.vertexAttribPointer(c,3,f,!1,24,g);c=e.get_data().aTexCoord.index;f=d.FLOAT;g=ba.fromInt(12);d.__context.vertexAttribPointer(c,2,f,!1,24,g);e=e.get_data().aAlpha.index;c=d.FLOAT;f=ba.fromInt(20);d.__context.vertexAttribPointer(e,1,c,!1,24,f);d.__context.drawArrays(d.TRIANGLE_STRIP,0,4);b.filterManager.popObject(a);b.maskManager.popObject(a)}};
var qj=function(a){this.gl=a;this.setBlendMode(10);a.__context.enable(a.BLEND)};k["openfl._internal.renderer.opengl.GLBlendModeManager"]=qj;qj.__name__=["openfl","_internal","renderer","opengl","GLBlendModeManager"];qj.__super__=jj;qj.prototype=t(jj.prototype,{currentBlendMode:null,gl:null,setBlendMode:function(a){if(this.currentBlendMode!=a)switch(this.currentBlendMode=a,a){case 0:this.gl.__context.blendEquation(this.gl.FUNC_ADD);this.gl.__context.blendFunc(this.gl.ONE,this.gl.ONE);break;case 9:this.gl.__context.blendEquation(this.gl.FUNC_ADD);
this.gl.__context.blendFunc(this.gl.DST_COLOR,this.gl.ONE_MINUS_SRC_ALPHA);break;case 12:this.gl.__context.blendEquation(this.gl.FUNC_ADD);this.gl.__context.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_COLOR);break;case 14:this.gl.__context.blendEquation(this.gl.FUNC_REVERSE_SUBTRACT);this.gl.__context.blendFunc(this.gl.ONE,this.gl.ONE);break;default:this.gl.__context.blendEquation(this.gl.FUNC_ADD),this.gl.__context.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA)}},__class__:qj});var Nm=function(){};
k["openfl._internal.renderer.opengl.GLDisplayObject"]=Nm;Nm.__name__=["openfl","_internal","renderer","opengl","GLDisplayObject"];Nm.render=function(a,b){if(!(null==a.opaqueBackground&&null==a.__graphics||!a.__renderable||0>=a.__worldAlpha)){if(null!=a.opaqueBackground&&0<a.get_width()&&0<a.get_height()){b.maskManager.pushObject(a);var c=b.gl,d=ha.__temp;d.setTo(0,0,a.get_width(),a.get_height());b.maskManager.pushRect(d,a.__renderTransform);d=a.opaqueBackground;c.__context.clearColor((d>>>16&255)/
255,(d>>>8&255)/255,(d&255)/255,1);c.__context.clear(c.COLOR_BUFFER_BIT);b.maskManager.popRect();b.maskManager.popObject(a)}if(null!=a.__graphics&&a.__renderable&&!(0>=a.__worldAlpha)){var e=a.__graphics;if(null!=e&&(r.render(e,b,a.__renderTransform),null!=e.__bitmap&&e.__visible)){var f=b.renderer,c=b.gl;b.blendModeManager.setBlendMode(a.get_blendMode());b.maskManager.pushObject(a);d=b.filterManager.pushObject(a);d.get_data().uImage0.input=e.__bitmap;d.get_data().uImage0.smoothing=b.allowSmoothing;
d.get_data().uMatrix.value=f.getMatrix(e.__worldTransform);b.shaderManager.setShader(d);f=c.ARRAY_BUFFER;e=e.__bitmap.getBuffer(c,a.__worldAlpha);c.__context.bindBuffer(f,e);var e=d.get_data().aPosition.index,f=c.FLOAT,g=ba.fromInt(0);c.__context.vertexAttribPointer(e,3,f,!1,24,g);e=d.get_data().aTexCoord.index;f=c.FLOAT;g=ba.fromInt(12);c.__context.vertexAttribPointer(e,2,f,!1,24,g);d=d.get_data().aAlpha.index;e=c.FLOAT;f=ba.fromInt(20);c.__context.vertexAttribPointer(d,1,e,!1,24,f);c.__context.drawArrays(c.TRIANGLE_STRIP,
0,4);b.filterManager.popObject(a);b.maskManager.popObject(a)}}}};var rj=function(a,b){this.renderSession=b;this.renderer=a;this.gl=b.gl;this.filterDepth=0;this.matrix=new Ma};k["openfl._internal.renderer.opengl.GLFilterManager"]=rj;rj.__name__=["openfl","_internal","renderer","opengl","GLFilterManager"];rj.__super__=kj;rj.prototype=t(kj.prototype,{filterDepth:null,gl:null,matrix:null,renderer:null,pushObject:function(a){if(null!=a.__filters&&0<a.__filters.length){if(y.__instanceof(a.__filters[0],
Zc)&&y.__instanceof(a,ea))return this.renderSession.shaderManager.defaultShader;if(1==a.__filters.length&&0==a.__filters[0].__numPasses)return a.__filters[0].__initShader(this.renderSession,0);this.renderer.getRenderTarget(!0);this.filterDepth++}return this.renderSession.shaderManager.defaultShader},popObject:function(a){if(null!=a.__filters&&0<a.__filters.length&&(!y.__instanceof(a.__filters[0],Zc)||!y.__instanceof(a,ea))){var b=0;if(1<a.__filters.length||0<a.__filters[0].__numPasses)for(var b=a.__filters.length,
c=0,d=a.__filters;c<d.length;){var e=d[c];++c;b+=0<e.__numPasses?e.__numPasses-1:0}if(0<b)for(var f,b=0,c=a.__filters;b<c.length;){d=c[b];++b;if(0<d.__numPasses)for(var e=0,g=d.__numPasses;e<g;)f=e++,a=this.renderer.currentRenderTarget,this.renderer.getRenderTarget(!0),f=d.__initShader(this.renderSession,f),this.renderPass(a,f);else a=this.renderer.currentRenderTarget,this.renderer.getRenderTarget(!0),f=d.__initShader(this.renderSession,0),this.renderPass(a,f);this.filterDepth--;this.renderer.getRenderTarget(0<
this.filterDepth);this.renderPass(this.renderer.currentRenderTarget,this.renderSession.shaderManager.defaultShader)}else this.filterDepth--}},renderPass:function(a,b){b.get_data().uImage0.input=a;var c=this.renderSession.allowSmoothing&&this.renderSession.upscaled;b.get_data().uImage0.smoothing=c;b.get_data().uMatrix.value=this.renderer.getMatrix(this.matrix);this.renderSession.shaderManager.setShader(b);var c=this.gl,d=this.gl.ARRAY_BUFFER,e=a.getBuffer(this.gl,1);c.__context.bindBuffer(d,e);var c=
this.gl,d=b.get_data().aPosition.index,e=this.gl.FLOAT,f=ba.fromInt(0);c.__context.vertexAttribPointer(d,3,e,!1,24,f);c=this.gl;d=b.get_data().aTexCoord.index;e=this.gl.FLOAT;f=ba.fromInt(12);c.__context.vertexAttribPointer(d,2,e,!1,24,f);c=this.gl;d=b.get_data().aAlpha.index;e=this.gl.FLOAT;f=ba.fromInt(20);c.__context.vertexAttribPointer(d,1,e,!1,24,f);this.gl.__context.drawArrays(this.gl.TRIANGLE_STRIP,0,4)},__class__:rj});var sj=function(a){this.renderSession=a;this.gl=a.gl;this.clipRects=[];
this.numClipRects=0;this.tempRect=new ha};k["openfl._internal.renderer.opengl.GLMaskManager"]=sj;sj.__name__=["openfl","_internal","renderer","opengl","GLMaskManager"];sj.__super__=Pe;sj.prototype=t(Pe.prototype,{clipRects:null,gl:null,numClipRects:null,tempRect:null,pushMask:function(a){this.pushRect(a.getBounds(a),a.__getRenderTransform())},pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},
pushRect:function(a,b){this.numClipRects==this.clipRects.length&&(this.clipRects[this.numClipRects]=new ha);var c=this.clipRects[this.numClipRects];a.__transform(c,b);if(0<this.numClipRects){var d=this.clipRects[this.numClipRects-1];c.__contract(d.x,d.y,d.width,d.height)}0>c.height&&(c.height=0);0>c.width&&(c.width=0);this.scissorRect(c);this.numClipRects++},popMask:function(){this.popRect()},popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},
popRect:function(){0<this.numClipRects&&(this.numClipRects--,0<this.numClipRects?this.scissorRect(this.clipRects[this.numClipRects-1]):this.scissorRect())},scissorRect:function(a){if(null!=a){var b=this.renderSession.renderer;this.gl.__context.enable(this.gl.SCISSOR_TEST);var c=this.tempRect;a.__transform(c,b.displayMatrix);a=Math.floor(c.x);var b=Math.floor(b.height-c.y-c.height),d=Math.ceil(c.width),c=Math.ceil(c.height);0>d&&(d=0);0>c&&(c=0);this.gl.__context.scissor(a,b,d,c)}else this.gl.__context.disable(this.gl.SCISSOR_TEST)},
__class__:sj});var Zf=function(a,b,c){null==c&&(c=!0);oc.call(this,a);this.gl=b;this.flipped=c;this.matrix=P._new();this.values=[];this.renderSession=new Yg;this.renderSession.gl=b;this.renderSession.renderer=this;this.renderSession.blendModeManager=new qj(b);this.renderSession.filterManager=new rj(this,this.renderSession);this.renderSession.shaderManager=new tj(b);this.renderSession.maskManager=new sj(this.renderSession);null!=a.window&&(null==a.stage3Ds.get(0).context3D&&a.stage3Ds.get(0).__createContext(a,
this.renderSession),this.resize(Math.ceil(a.window.__width*a.window.__scale),Math.ceil(a.window.__height*a.window.__scale)))};k["openfl._internal.renderer.opengl.GLRenderer"]=Zf;Zf.__name__=["openfl","_internal","renderer","opengl","GLRenderer"];Zf.__super__=oc;Zf.prototype=t(oc.prototype,{projection:null,projectionFlipped:null,currentRenderTarget:null,displayHeight:null,displayMatrix:null,displayWidth:null,flipped:null,gl:null,matrix:null,renderTargetA:null,renderTargetB:null,offsetX:null,offsetY:null,
values:null,clear:function(){this.stage.__transparent?this.gl.__context.clearColor(0,0,0,0):this.gl.__context.clearColor(this.stage.__colorSplit[0],this.stage.__colorSplit[1],this.stage.__colorSplit[2],1);this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT);for(var a=0,b=this.stage.stage3Ds;a<b.get_length();){var c=b.get(a);++a;c.__renderGL(this.stage,this.renderSession)}},getCacheObject:function(){},getMatrix:function(a){var b=Ma.__temp;b.copyFrom(a);b.concat(this.displayMatrix);this.renderSession.roundPixels&&
(b.tx=Math.round(b.tx),b.ty=Math.round(b.ty));P.identity(this.matrix);P.set(this.matrix,0,b.a);P.set(this.matrix,1,b.b);P.set(this.matrix,4,b.c);P.set(this.matrix,5,b.d);P.set(this.matrix,12,b.tx);P.set(this.matrix,13,b.ty);P.append(this.matrix,this.flipped?this.projectionFlipped:this.projection);for(a=0;16>a;)b=a++,this.values[b]=P.get(this.matrix,b);return this.values},getRenderTarget:function(a){if(a){if(null==this.renderTargetA){this.renderTargetA=ma.fromTexture(this.stage.stage3Ds.get(0).context3D.createRectangleTexture(this.width,
this.height,1,!0));a=this.gl;var b=this.gl.TEXTURE_2D,c=this.renderTargetA.getTexture(this.gl);a.__context.bindTexture(b,c);this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE);this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE)}null==this.renderTargetB&&(this.renderTargetB=ma.fromTexture(this.stage.stage3Ds.get(0).context3D.createRectangleTexture(this.width,this.height,1,!0)),a=this.gl,b=this.gl.TEXTURE_2D,c=
this.renderTargetB.getTexture(this.gl),a.__context.bindTexture(b,c),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE));this.currentRenderTarget=this.currentRenderTarget==this.renderTargetA?this.renderTargetB:this.renderTargetA;a=this.gl;b=this.gl.FRAMEBUFFER;c=this.currentRenderTarget.__getFramebuffer(this.gl);a.__context.bindFramebuffer(b,c);this.gl.__context.viewport(0,
0,this.width,this.height);this.gl.__context.clearColor(0,0,0,0);this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT);this.flipped=!1}else this.gl.__context.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.flipped=!0},render:function(){this.gl.__context.viewport(this.offsetX,this.offsetY,this.displayWidth,this.displayHeight);this.renderSession.allowSmoothing=2!=this.stage.quality;this.renderSession.upscaled=1!=this.displayMatrix.a||1!=this.displayMatrix.d;this.stage.__renderGL(this.renderSession);if(0<
this.offsetX||0<this.offsetY)this.gl.__context.clearColor(0,0,0,1),this.gl.__context.enable(this.gl.SCISSOR_TEST),0<this.offsetX&&(this.gl.__context.scissor(0,0,this.offsetX,this.height),this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT),this.gl.__context.scissor(this.offsetX+this.displayWidth,0,this.width,this.height),this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT)),0<this.offsetY&&(this.gl.__context.scissor(0,0,this.width,this.offsetY),this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT),this.gl.__context.scissor(0,
this.offsetY+this.displayHeight,this.width,this.height),this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT)),this.gl.__context.disable(this.gl.SCISSOR_TEST)},resize:function(a,b){oc.prototype.resize.call(this,a,b);if(0<a&&0<b){if(null!=this.renderTargetA&&(this.renderTargetA.width!=a||this.renderTargetA.height!=b)){this.renderTargetA=ma.fromTexture(this.stage.stage3Ds.get(0).context3D.createRectangleTexture(a,b,1,!0));var c=this.gl,d=this.gl.TEXTURE_2D,e=this.renderTargetA.getTexture(this.gl);c.__context.bindTexture(d,
e);this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE);this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE)}null==this.renderTargetB||this.renderTargetB.width==a&&this.renderTargetB.height==b||(this.renderTargetB=ma.fromTexture(this.stage.stage3Ds.get(0).context3D.createRectangleTexture(a,b,1,!0)),c=this.gl,d=this.gl.TEXTURE_2D,e=this.renderTargetB.getTexture(this.gl),c.__context.bindTexture(d,e),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,
this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE))}c=this.displayMatrix=this.stage.__displayMatrix;this.offsetX=Math.round(0*c.a+0*c.c+c.tx);c=this.displayMatrix;this.offsetY=Math.round(0*c.b+0*c.d+c.ty);c=this.displayMatrix;this.displayWidth=Math.round(this.stage.stageWidth*c.a+0*c.c+c.tx-this.offsetX);c=this.displayMatrix;this.displayHeight=Math.round(0*c.b+this.stage.stageHeight*c.d+c.ty-this.offsetY);
this.projection=P.createOrtho(this.offsetX,this.displayWidth+this.offsetX,this.offsetY,this.displayHeight+this.offsetY,-1E3,1E3);this.projectionFlipped=P.createOrtho(this.offsetX,this.displayWidth+this.offsetX,this.displayHeight+this.offsetY,this.offsetY,-1E3,1E3)},__class__:Zf});var tj=function(a){this.gl=a;this.defaultShader=new Tc;this.defaultShader.gl=a;this.defaultShader.__init()};k["openfl._internal.renderer.opengl.GLShaderManager"]=tj;tj.__name__=["openfl","_internal","renderer","opengl","GLShaderManager"];
tj.__super__=lj;tj.prototype=t(lj.prototype,{gl:null,setShader:function(a){this.currentShader==a?null!=this.currentShader&&this.currentShader.__update():(null!=this.currentShader&&this.currentShader.__disable(),null==a?(this.currentShader=null,this.gl.__context.useProgram(null)):(this.currentShader=a,null==this.currentShader.gl&&(this.currentShader.gl=this.gl,this.currentShader.__init()),this.gl.__context.useProgram(a.glProgram),this.currentShader.__enable(),this.currentShader.__update()))},__class__:tj});
var Om=function(){};k["openfl._internal.renderer.opengl.GLShape"]=Om;Om.__name__=["openfl","_internal","renderer","opengl","GLShape"];Om.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=a.__graphics;if(null!=c&&(r.render(c,b,a.__renderTransform),null!=c.__bitmap&&c.__visible)){var d=b.renderer,e=b.gl;b.blendModeManager.setBlendMode(a.get_blendMode());b.maskManager.pushObject(a);var f=b.filterManager.pushObject(a);f.get_data().uImage0.input=c.__bitmap;f.get_data().uImage0.smoothing=
b.allowSmoothing;f.get_data().uMatrix.value=d.getMatrix(c.__worldTransform);b.shaderManager.setShader(f);d=e.ARRAY_BUFFER;c=c.__bitmap.getBuffer(e,a.__worldAlpha);e.__context.bindBuffer(d,c);var c=f.get_data().aPosition.index,d=e.FLOAT,g=ba.fromInt(0);e.__context.vertexAttribPointer(c,3,d,!1,24,g);c=f.get_data().aTexCoord.index;d=e.FLOAT;g=ba.fromInt(12);e.__context.vertexAttribPointer(c,2,d,!1,24,g);f=f.get_data().aAlpha.index;c=e.FLOAT;d=ba.fromInt(20);e.__context.vertexAttribPointer(f,1,c,!1,24,
d);e.__context.drawArrays(e.TRIANGLE_STRIP,0,4);b.filterManager.popObject(a);b.maskManager.popObject(a)}}};var Pm=function(){};k["openfl._internal.renderer.opengl.GLStage3D"]=Pm;Pm.__name__=["openfl","_internal","renderer","opengl","GLStage3D"];Pm.render=function(a,b){null!=a.context3D&&(b.blendModeManager.setBlendMode(null),null!=b.shaderManager.currentShader&&(b.shaderManager.setShader(null),null!=a.context3D.__program&&a.context3D.__program.__use()));b.gl.__context.getError()};var vc=function(){};
k["openfl._internal.stage3D.AGALConverter"]=vc;vc.__name__=["openfl","_internal","stage3D","AGALConverter"];vc.prefixFromType=function(a,b){switch(a){case 0:return"va";case 1:return b==qc.VERTEX?"vc":"fc";case 2:return b==qc.VERTEX?"vt":"ft";case 3:return"output_";case 4:return"v";case 5:return"sampler";default:throw new F(new nb("Invalid data!"));}};vc.readUInt64=function(a){var b=a.readInt();a=a.readInt();return new Y(a,b)};vc.convertToGLSL=function(a,b){a.position=0;a.__endian=1;var c=a.readByte()&
255;if(176==c)return a.readUTF();if(160!=c)throw new F(new nb("Magic value must be 0xA0, may not be AGAL"));if(1!=a.readInt())throw new F(new nb("Version must be 1"));if(161!=(a.readByte()&255))throw new F(new nb("Shader type ID must be 0xA1"));for(var c=0==(a.readByte()&255)?qc.VERTEX:qc.FRAGMENT,d=new gl,e="";a.position<ka.get_length(a);){var f=a.readInt(),p=a.readUnsignedInt(),k=vc.readUInt64(a),m=vc.readUInt64(a),p=ah.parse(p,c),k=$f.parse(k,c,p.mask),h=$f.parse(m,c,p.mask),e=e+"\t";switch(f){case 0:e+=
q.string(p.toGLSL()+" = "+k.toGLSL()+"; // mov");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);break;case 1:e+=q.string(p.toGLSL()+" = "+k.toGLSL()+" + "+h.toGLSL()+"; // add");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);d.addSR(h,L.VECTOR_4);break;case 2:e+=q.string(p.toGLSL()+" = "+k.toGLSL()+" - "+h.toGLSL()+"; // sub");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);d.addSR(h,L.VECTOR_4);break;case 3:e+=q.string(p.toGLSL()+" = "+k.toGLSL()+" * "+h.toGLSL()+"; // mul");d.addDR(p,L.VECTOR_4);d.addSR(k,
L.VECTOR_4);d.addSR(h,L.VECTOR_4);break;case 4:e+=q.string(p.toGLSL()+" = "+k.toGLSL()+" / "+h.toGLSL()+"; // div");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);d.addSR(h,L.VECTOR_4);break;case 5:e+=q.string(p.toGLSL()+" = vec4(1) / "+k.toGLSL()+", "+h.toGLSL()+"; // rcp (untested)");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);break;case 6:e+=q.string(p.toGLSL()+" = min("+k.toGLSL()+", "+h.toGLSL()+"); // min");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);d.addSR(h,L.VECTOR_4);break;case 7:e+=q.string(p.toGLSL()+
" = max("+k.toGLSL()+", "+h.toGLSL()+"); // max");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);d.addSR(h,L.VECTOR_4);break;case 8:e+=q.string(p.toGLSL()+" = fract("+k.toGLSL()+"); // frc");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);break;case 9:e+=q.string(p.toGLSL()+" = sqrt("+k.toGLSL()+"); // sqrt");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);break;case 10:e+=q.string(p.toGLSL()+" = inversesqrt("+k.toGLSL()+"); // rsq");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);break;case 11:e+=q.string(p.toGLSL()+
" = pow("+k.toGLSL()+", "+h.toGLSL()+"); // pow");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);d.addSR(h,L.VECTOR_4);break;case 12:e+=q.string(p.toGLSL()+" = log2("+k.toGLSL()+"); // log");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);break;case 13:e+=q.string(p.toGLSL()+" = exp2("+k.toGLSL()+"); // exp");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);break;case 14:e+=q.string(p.toGLSL()+" = normalize("+k.toGLSL()+"); // normalize");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);break;case 15:e+=q.string(p.toGLSL()+
" = sin("+k.toGLSL()+"); // sin");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);break;case 16:e+=q.string(p.toGLSL()+" = cos("+k.toGLSL()+"); // cos");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);break;case 17:k.sourceMask=h.sourceMask=7;e+=q.string(p.toGLSL()+" = cross(vec3("+k.toGLSL()+"), vec3("+h.toGLSL()+")); // crs");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);d.addSR(h,L.VECTOR_4);break;case 18:k.sourceMask=h.sourceMask=7;e+=q.string(p.toGLSL()+" = vec4(dot(vec3("+k.toGLSL()+"), vec3("+h.toGLSL()+
")))"+p.getWriteMask()+"; // dp3");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);d.addSR(h,L.VECTOR_4);break;case 19:k.sourceMask=h.sourceMask=15;e+=q.string(p.toGLSL()+" = vec4(dot(vec4("+k.toGLSL()+"), vec4("+h.toGLSL()+")))"+p.getWriteMask()+"; // dp4");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);d.addSR(h,L.VECTOR_4);break;case 20:e+=q.string(p.toGLSL()+" = abs("+k.toGLSL()+"); // abs");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);break;case 21:e+=q.string(p.toGLSL()+" = -"+k.toGLSL()+"; // neg");
d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);break;case 22:e+=q.string(p.toGLSL()+" = clamp("+k.toGLSL()+", 0.0, 1.0); // saturate");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);break;case 23:f=d.getRegisterUsage(h);f!=L.VECTOR_4&&f!=L.VECTOR_4_ARRAY?(e+=q.string(p.toGLSL()+" = "+k.toGLSL()+" * mat3("+h.toGLSL(!1)+"); // m33"),d.addDR(p,L.VECTOR_4),d.addSR(k,L.VECTOR_4),d.addSR(h,L.MATRIX_4_4)):(k.sourceMask=h.sourceMask=7,e+=q.string(p.toGLSL()+" = vec3(dot("+k.toGLSL(!0)+","+h.toGLSL(!0,0)+"), dot("+
k.toGLSL(!0)+","+h.toGLSL(!0,1)+"),dot("+k.toGLSL(!0)+","+h.toGLSL(!0,2)+")); // m33"),d.addDR(p,L.VECTOR_4),d.addSR(k,L.VECTOR_4),d.addSR(h,L.VECTOR_4,0),d.addSR(h,L.VECTOR_4,1),d.addSR(h,L.VECTOR_4,2));break;case 24:f=d.getRegisterUsage(h);f!=L.VECTOR_4&&f!=L.VECTOR_4_ARRAY?(e+=q.string(p.toGLSL()+" = "+k.toGLSL()+" * "+h.toGLSL(!1)+"; // m44"),d.addDR(p,L.VECTOR_4),d.addSR(k,L.VECTOR_4),d.addSR(h,L.MATRIX_4_4)):(k.sourceMask=h.sourceMask=15,e+=q.string(p.toGLSL()+" = vec4(dot("+k.toGLSL(!0)+","+
h.toGLSL(!0,0)+"), dot("+k.toGLSL(!0)+","+h.toGLSL(!0,1)+"), dot("+k.toGLSL(!0)+","+h.toGLSL(!0,2)+"), dot("+k.toGLSL(!0)+","+h.toGLSL(!0,3)+")); // m44"),d.addDR(p,L.VECTOR_4),d.addSR(k,L.VECTOR_4),d.addSR(h,L.VECTOR_4,0),d.addSR(h,L.VECTOR_4,1),d.addSR(h,L.VECTOR_4,2),d.addSR(h,L.VECTOR_4,3));break;case 25:p.mask&=7;f=d.getRegisterUsage(h);f!=L.VECTOR_4&&f!=L.VECTOR_4_ARRAY?(e+=q.string(p.toGLSL()+" = "+k.toGLSL()+" * "+h.toGLSL(!1)+"; // m34"),d.addDR(p,L.VECTOR_4),d.addSR(k,L.VECTOR_4),d.addSR(h,
L.MATRIX_4_4)):(k.sourceMask=h.sourceMask=15,e+=q.string(p.toGLSL()+" = vec3(dot("+k.toGLSL(!0)+","+h.toGLSL(!0,0)+"), dot("+k.toGLSL(!0)+","+h.toGLSL(!0,1)+"),dot("+k.toGLSL(!0)+","+h.toGLSL(!0,2)+")); // m34"),d.addDR(p,L.VECTOR_4),d.addSR(k,L.VECTOR_4),d.addSR(h,L.VECTOR_4,0),d.addSR(h,L.VECTOR_4,1),d.addSR(h,L.VECTOR_4,2));break;case 39:k.sourceMask=15;e+=q.string("if (any(lessThan("+k.toGLSL()+", vec4(0)))) discard;");d.addSR(k,L.VECTOR_4);break;case 40:h=bh.parse(m,c);switch(h.d){case 0:k.sourceMask=
3;d.addSaR(h,L.SAMPLER_2D);e+=q.string(p.toGLSL()+" = texture2D("+h.toGLSL()+", "+k.toGLSL()+"); // tex");break;case 1:k.sourceMask=7,e+=q.string(p.toGLSL()+" = textureCube("+h.toGLSL()+", "+k.toGLSL()+"); // tex"),d.addSaR(h,L.SAMPLER_CUBE)}d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);null!=b&&(b[h.n]=h.toSamplerState());break;case 41:k.sourceMask=h.sourceMask=15;e+=q.string(p.toGLSL()+" = vec4(greaterThanEqual("+k.toGLSL()+", "+h.toGLSL()+"))"+p.getWriteMask()+"; // ste");d.addDR(p,L.VECTOR_4);d.addSR(k,
L.VECTOR_4);d.addSR(h,L.VECTOR_4);break;case 42:k.sourceMask=h.sourceMask=15;e+=q.string(p.toGLSL()+" = vec4(lessThan("+k.toGLSL()+", "+h.toGLSL()+"))"+p.getWriteMask()+"; // slt");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);d.addSR(h,L.VECTOR_4);break;case 44:k.sourceMask=h.sourceMask=15;e+=q.string(p.toGLSL()+" = vec4(equal("+k.toGLSL()+", "+h.toGLSL()+"))"+p.getWriteMask()+"; // seq");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);d.addSR(h,L.VECTOR_4);break;case 45:k.sourceMask=h.sourceMask=15;e+=
q.string(p.toGLSL()+" = vec4(notEqual("+k.toGLSL()+", "+h.toGLSL()+"))"+p.getWriteMask()+"; // sne");d.addDR(p,L.VECTOR_4);d.addSR(k,L.VECTOR_4);d.addSR(h,L.VECTOR_4);break;default:throw new F(new nb("Opcode "+f));}e+="\n"}null==vc.limitedProfile&&(p=g.context.__context.getParameter(7938),vc.limitedProfile=-1<p.indexOf("OpenGL ES")||-1<p.indexOf("WebGL"));p=""+q.string("// AGAL "+(c==qc.VERTEX?"vertex":"fragment")+" shader\n");p=vc.limitedProfile?p+"#version 100\nprecision highp float;\n":p+"#version 120\n";
p+=q.string(d.toGLSL(!1));c==qc.VERTEX&&(p+="uniform vec4 vcPositionScale;\n");p+="void main() {\n";p+=q.string(d.toGLSL(!0));p+=q.string(e);c==qc.VERTEX&&(p+="\tgl_Position *= vcPositionScale;\n");return p+="}\n"};var ah=function(){};k["openfl._internal.stage3D._AGALConverter.DestRegister"]=ah;ah.__name__=["openfl","_internal","stage3D","_AGALConverter","DestRegister"];ah.parse=function(a,b){var c=new ah;c.programType=b;c.type=a>>>24&15;c.mask=a>>>16&15;c.n=a&65535;return c};ah.prototype={mask:null,
n:null,programType:null,type:null,getWriteMask:function(){var a=".";0!=(this.mask&1)&&(a+="x");0!=(this.mask&2)&&(a+="y");0!=(this.mask&4)&&(a+="z");0!=(this.mask&8)&&(a+="w");return a},toGLSL:function(a){null==a&&(a=!0);var b;b=3==this.type?this.programType==qc.VERTEX?"gl_Position":"gl_FragColor":vc.prefixFromType(this.type,this.programType)+this.n;a&&15!=this.mask&&(b+=this.getWriteMask());return b},__class__:ah};var qc=k["openfl._internal.stage3D._AGALConverter.ProgramType"]={__ename__:["openfl",
"_internal","stage3D","_AGALConverter","ProgramType"],__constructs__:["VERTEX","FRAGMENT"]};qc.VERTEX=["VERTEX",0];qc.VERTEX.toString=O;qc.VERTEX.__enum__=qc;qc.FRAGMENT=["FRAGMENT",1];qc.FRAGMENT.toString=O;qc.FRAGMENT.__enum__=qc;qc.__empty_constructs__=[qc.VERTEX,qc.FRAGMENT];var gl=function(){this.mEntries=[]};k["openfl._internal.stage3D.RegisterMap"]=gl;gl.__name__=["openfl","_internal","stage3D","RegisterMap"];gl.prototype={mEntries:null,add:function(a,b,c,d){for(var e=0,f=this.mEntries;e<f.length;){var g=
f[e];++e;if(g.type==a&&g.name==b&&g.number==c){if(g.usage!=d)throw new F(new nb("Cannot use register in multiple ways yet (mat4/vec4)"));return}}e=new hl;e.type=a;e.name=b;e.number=c;e.usage=d;this.mEntries.push(e)},addDR:function(a,b){this.add(a.type,a.toGLSL(!1),a.n,b)},addSaR:function(a,b){this.add(a.type,a.toGLSL(),a.n,b)},addSR:function(a,b,c){null==c&&(c=0);0!=a.d?(this.add(a.itype,vc.prefixFromType(a.itype,a.programType)+a.n,a.n,L.VECTOR_4),this.add(a.type,vc.prefixFromType(a.type,a.programType)+
a.o,a.o,L.VECTOR_4_ARRAY)):this.add(a.type,a.toGLSL(!1,c),a.n+c,b)},getRegisterUsage:function(a){return 0!=a.d?L.VECTOR_4_ARRAY:this.getUsage(a.type,a.toGLSL(!1),a.n)},getUsage:function(a,b,c){for(var d=0,e=this.mEntries;d<e.length;){var f=e[d];++d;if(f.type==a&&f.name==b&&f.number==c)return f.usage}return L.UNUSED},toGLSL:function(a){this.mEntries.sort(function(a,b){return a.number-b.number});for(var b=new ac,c,d=0,e=this.mEntries.length;d<e;){var f=d++;c=this.mEntries[f];c.usage==L.VECTOR_4_ARRAY&&
(f<this.mEntries.length-1?b.set(c,this.mEntries[f+1].number-c.number):b.set(c,128))}this.mEntries.sort(function(a,b){return y.__cast(a.type,zk)-y.__cast(b.type,zk)});d="";e=0;for(f=this.mEntries.length;e<f;)if(c=e++,c=this.mEntries[c],!(a&&2!=c.type||!a&&2==c.type)&&3!=c.type){switch(c.type){case 0:d+="attribute ";break;case 1:d+="uniform ";break;case 2:d+="\t";break;case 3:break;case 4:d+="varying ";break;case 5:d+="uniform ";break;default:throw new F(new nb);}switch(c.usage[1]){case 1:d+="vec4 ";
break;case 2:d+="mat4 ";break;case 3:d+="sampler2D ";break;case 5:d+="samplerCube ";break;case 6:d+="vec4 "}c.usage==L.SAMPLER_2D_ALPHA?(d+="sampler2D ",d+=q.string(c.name),d+=";\n",d+="uniform ",d+="sampler2D ",d+=q.string(c.name+"_alpha")):d=c.usage==L.VECTOR_4_ARRAY?d+q.string(c.name+"["+b.h[c.__id__]+"]"):d+q.string(c.name);d+=";\n"}return d},__class__:gl};var hl=function(){};k["openfl._internal.stage3D._AGALConverter.RegisterMapEntry"]=hl;hl.__name__=["openfl","_internal","stage3D","_AGALConverter",
"RegisterMapEntry"];hl.prototype={name:null,number:null,type:null,usage:null,__class__:hl};var L=k["openfl._internal.stage3D._AGALConverter.RegisterUsage"]={__ename__:["openfl","_internal","stage3D","_AGALConverter","RegisterUsage"],__constructs__:"UNUSED VECTOR_4 MATRIX_4_4 SAMPLER_2D SAMPLER_2D_ALPHA SAMPLER_CUBE VECTOR_4_ARRAY".split(" ")};L.UNUSED=["UNUSED",0];L.UNUSED.toString=O;L.UNUSED.__enum__=L;L.VECTOR_4=["VECTOR_4",1];L.VECTOR_4.toString=O;L.VECTOR_4.__enum__=L;L.MATRIX_4_4=["MATRIX_4_4",
2];L.MATRIX_4_4.toString=O;L.MATRIX_4_4.__enum__=L;L.SAMPLER_2D=["SAMPLER_2D",3];L.SAMPLER_2D.toString=O;L.SAMPLER_2D.__enum__=L;L.SAMPLER_2D_ALPHA=["SAMPLER_2D_ALPHA",4];L.SAMPLER_2D_ALPHA.toString=O;L.SAMPLER_2D_ALPHA.__enum__=L;L.SAMPLER_CUBE=["SAMPLER_CUBE",5];L.SAMPLER_CUBE.toString=O;L.SAMPLER_CUBE.__enum__=L;L.VECTOR_4_ARRAY=["VECTOR_4_ARRAY",6];L.VECTOR_4_ARRAY.toString=O;L.VECTOR_4_ARRAY.__enum__=L;L.__empty_constructs__=[L.UNUSED,L.VECTOR_4,L.MATRIX_4_4,L.SAMPLER_2D,L.SAMPLER_2D_ALPHA,L.SAMPLER_CUBE,
L.VECTOR_4_ARRAY];var bh=function(){};k["openfl._internal.stage3D._AGALConverter.SamplerRegister"]=bh;bh.__name__=["openfl","_internal","stage3D","_AGALConverter","SamplerRegister"];bh.parse=function(a,b){var c=new bh;c.programType=b;var d;d=60;d=0==d?new Y(a.high,a.low):32>d?new Y(a.high>>d,a.high<<32-d|a.low>>>d):new Y(a.high>>31,a.high>>d-32);var e=new Y(0,15);d=new Y(d.high&e.high,d.low&e.low);c.f=d.low;d=56;d=0==d?new Y(a.high,a.low):32>d?new Y(a.high>>d,a.high<<32-d|a.low>>>d):new Y(a.high>>
31,a.high>>d-32);e=new Y(0,15);d=new Y(d.high&e.high,d.low&e.low);c.m=d.low;d=52;d=0==d?new Y(a.high,a.low):32>d?new Y(a.high>>d,a.high<<32-d|a.low>>>d):new Y(a.high>>31,a.high>>d-32);e=new Y(0,15);d=new Y(d.high&e.high,d.low&e.low);c.w=d.low;d=48;d=0==d?new Y(a.high,a.low):32>d?new Y(a.high>>d,a.high<<32-d|a.low>>>d):new Y(a.high>>31,a.high>>d-32);e=new Y(0,15);d=new Y(d.high&e.high,d.low&e.low);c.s=d.low;d=44;d=0==d?new Y(a.high,a.low):32>d?new Y(a.high>>d,a.high<<32-d|a.low>>>d):new Y(a.high>>
31,a.high>>d-32);e=new Y(0,15);d=new Y(d.high&e.high,d.low&e.low);c.d=d.low;d=40;d=0==d?new Y(a.high,a.low):32>d?new Y(a.high>>d,a.high<<32-d|a.low>>>d):new Y(a.high>>31,a.high>>d-32);e=new Y(0,15);d=new Y(d.high&e.high,d.low&e.low);c.t=d.low;d=32;d=0==d?new Y(a.high,a.low):32>d?new Y(a.high>>d,a.high<<32-d|a.low>>>d):new Y(a.high>>31,a.high>>d-32);e=new Y(0,15);d=new Y(d.high&e.high,d.low&e.low);c.type=d.low;d=16;d=0==d?new Y(a.high,a.low):32>d?new Y(a.high>>d,a.high<<32-d|a.low>>>d):new Y(a.high>>
31,a.high>>d-32);e=new Y(0,255);d=new Y(d.high&e.high,d.low&e.low);c.b=d.low;d=new Y(0,65535);d=new Y(a.high&d.high,a.low&d.low);c.n=d.low;return c};bh.prototype={b:null,d:null,f:null,m:null,n:null,programType:null,s:null,t:null,type:null,w:null,toGLSL:function(){return vc.prefixFromType(this.type,this.programType)+this.n},toSamplerState:function(){var a=0,b=0,c=0,d=0;switch(this.f){case 0:a=9728;break;case 1:a=9729;break;default:throw new F(new nb);}switch(this.m){case 0:b=0!=this.f?9729:9728;break;
case 1:b=0!=this.f?9986:9984;break;case 2:b=0!=this.f?9987:9985;break;default:throw new F(new nb);}switch(this.w){case 0:d=c=33071;break;case 1:d=c=10497;break;default:throw new F(new nb);}return new uj(b,a,c,d,(this.b<<24>>24)/8,0,4==(this.s&4),1==(this.s&1))},__class__:bh};var $f=function(){};k["openfl._internal.stage3D._AGALConverter.SourceRegister"]=$f;$f.__name__=["openfl","_internal","stage3D","_AGALConverter","SourceRegister"];$f.parse=function(a,b,c){var d=new $f;d.programType=b;b=63;b=0==
b?new Y(a.high,a.low):32>b?new Y(a.high>>b,a.high<<32-b|a.low>>>b):new Y(a.high>>31,a.high>>b-32);var e=new Y(0,1);b=new Y(b.high&e.high,b.low&e.low);d.d=b.low;b=48;b=0==b?new Y(a.high,a.low):32>b?new Y(a.high>>b,a.high<<32-b|a.low>>>b):new Y(a.high>>31,a.high>>b-32);e=new Y(0,3);b=new Y(b.high&e.high,b.low&e.low);d.q=b.low;b=40;b=0==b?new Y(a.high,a.low):32>b?new Y(a.high>>b,a.high<<32-b|a.low>>>b):new Y(a.high>>31,a.high>>b-32);e=new Y(0,15);b=new Y(b.high&e.high,b.low&e.low);d.itype=b.low;b=32;
b=0==b?new Y(a.high,a.low):32>b?new Y(a.high>>b,a.high<<32-b|a.low>>>b):new Y(a.high>>31,a.high>>b-32);e=new Y(0,15);b=new Y(b.high&e.high,b.low&e.low);d.type=b.low;b=24;b=0==b?new Y(a.high,a.low):32>b?new Y(a.high>>b,a.high<<32-b|a.low>>>b):new Y(a.high>>31,a.high>>b-32);e=new Y(0,255);b=new Y(b.high&e.high,b.low&e.low);d.s=b.low;b=16;b=0==b?new Y(a.high,a.low):32>b?new Y(a.high>>b,a.high<<32-b|a.low>>>b):new Y(a.high>>31,a.high>>b-32);e=new Y(0,255);b=new Y(b.high&e.high,b.low&e.low);d.o=b.low;
b=new Y(0,65535);a=new Y(a.high&b.high,a.low&b.low);d.n=a.low;d.sourceMask=c;return d};$f.prototype={d:null,itype:null,n:null,o:null,programType:null,q:null,s:null,sourceMask:null,type:null,toGLSL:function(a,b){null==b&&(b=0);null==a&&(a=!0);if(3==this.type)return this.programType==qc.VERTEX?"gl_Position":"gl_FragColor";var c=228==this.s&&15==this.sourceMask,d="";if(5!=this.type&&!c)for(c=0;4>c;){var e=c++;if(0!=(this.sourceMask&1<<e))switch(this.s>>2*e&3){case 0:d+="x";break;case 1:d+="y";break;
case 2:d+="z";break;case 3:d+="w"}}c=vc.prefixFromType(this.type,this.programType);0==this.d?c+=this.n+b:(c+=this.o,e=String.fromCharCode(W.cca("x",0)+this.q),e=vc.prefixFromType(this.itype,this.programType)+this.n+"."+e,c+="[ int("+e+") +"+b+"]");a&&""!=d&&(c+="."+d);return c},__class__:$f};var ag=function(){this._registers=D.toFloatVector(null,4096);this.clearSettings()};k["openfl._internal.stage3D.Context3DStateCache"]=ag;ag.__name__=["openfl","_internal","stage3D","Context3DStateCache"];ag.prototype=
{_activeTexture:null,_activeVertexArray:null,_cullingMode:null,_depthTestCompareMode:null,_depthTestEnabled:null,_depthTestMask:null,_destBlendFactor:null,_program:null,_registers:null,_srcBlendFactor:null,_viewportHeight:null,_viewportOriginX:null,_viewportOriginY:null,_viewportWidth:null,clearRegisters:function(){for(var a=0;4096>a;){var b=a++;this._registers.set(b,-999999999)}},clearSettings:function(){this._destBlendFactor=this._srcBlendFactor=null;this._depthTestMask=this._depthTestEnabled=!1;
this._cullingMode=this._program=this._depthTestCompareMode=null;this._viewportHeight=this._viewportWidth=this._viewportOriginY=this._viewportOriginX=this._activeVertexArray=this._activeTexture=-1;this.clearRegisters()},updateActiveTextureSample:function(a){this._activeTexture=a;return!0},updateActiveVertexArray:function(a){this._activeVertexArray=a;return!0},updateBlendDestFactor:function(a){this._destBlendFactor=a;return!0},updateBlendSrcFactor:function(a){this._srcBlendFactor=a;return!0},updateCullingMode:function(a){this._cullingMode=
a;return!0},updateDepthCompareMode:function(a){this._depthTestCompareMode=a;return!0},updateDepthTestEnabled:function(a){this._depthTestEnabled=a;return!0},updateDepthTestMask:function(a){this._depthTestMask=a;return!0},updateProgram3D:function(a){this._program=a;return!0},updateRegisters:function(a,b,c){return!0},updateViewport:function(a,b,c,d){this._viewportOriginX=a;this._viewportOriginY=b;this._viewportWidth=c;this._viewportHeight=d;return!0},__class__:ag};var K=function(){};k["openfl._internal.stage3D.GLUtils"]=
K;K.__name__=["openfl","_internal","stage3D","GLUtils"];K.CheckGLError=function(){if(K.debug){var a=g.context.__context.getError();if(0!=a){switch(a){case 0:a="GL_NO_ERROR";break;case 1280:a="GL_INVALID_ENUM";break;case 1281:a="GL_INVALID_VALUE";break;case 1282:a="GL_INVALID_OPERATION";break;case 1285:a="GL_OUT_OF_MEMORY";break;case 1286:a="GL_INVALID_FRAMEBUFFER_OPERATION";break;default:a=null==a?"null":""+a}throw new F(new nb("Error calling openGL api. Error: "+a+"\n"));}}};var uj=function(a,b,
c,d,e,f,g,k,m){null==m&&(m=!1);null==k&&(k=!1);null==g&&(g=!1);null==f&&(f=0);null==e&&(e=0);this.set_minFilter(a);this.set_magFilter(b);this.set_wrapModeS(c);this.set_wrapModeT(d);this.set_lodBias(e);this.set_maxAniso(f);this.ignoreSampler=g;this.centroid=k;this.mipmapGenerated=m;this.__samplerDirty=!0};k["openfl._internal.stage3D.SamplerState"]=uj;uj.__name__=["openfl","_internal","stage3D","SamplerState"];uj.prototype={lodBias:null,magFilter:null,maxAniso:null,minFilter:null,wrapModeS:null,wrapModeT:null,
centroid:null,ignoreSampler:null,mipmapGenerated:null,__samplerDirty:null,copyFrom:function(a){null==a||a.ignoreSampler||(this.set_minFilter(a.minFilter),this.set_magFilter(a.magFilter),this.set_wrapModeS(a.wrapModeS),this.set_wrapModeT(a.wrapModeT),this.set_lodBias(a.lodBias),this.set_maxAniso(a.maxAniso),this.centroid=a.centroid,this.mipmapGenerated=a.mipmapGenerated)},equals:function(a){return this==a?!this.__samplerDirty:null==a?!1:this.minFilter==a.minFilter&&this.magFilter==a.magFilter&&this.wrapModeS==
a.wrapModeS&&this.wrapModeT==a.wrapModeT&&this.lodBias==a.lodBias&&this.maxAniso==a.maxAniso?this.mipmapGenerated==a.mipmapGenerated:!1},set_lodBias:function(a){this.lodBias!=a&&(this.__samplerDirty=!0);return this.lodBias=a},set_magFilter:function(a){this.magFilter!=a&&(this.__samplerDirty=!0);return this.magFilter=a},set_maxAniso:function(a){this.maxAniso!=a&&(this.__samplerDirty=!0);return this.maxAniso=a},set_minFilter:function(a){this.minFilter!=a&&(this.__samplerDirty=!0);return this.minFilter=
a},set_wrapModeS:function(a){this.wrapModeS!=a&&(this.__samplerDirty=!0);return this.wrapModeS=a},set_wrapModeT:function(a){this.wrapModeT!=a&&(this.__samplerDirty=!0);return this.wrapModeT=a},__class__:uj,__properties__:{set_wrapModeT:"set_wrapModeT",set_wrapModeS:"set_wrapModeS",set_minFilter:"set_minFilter",set_maxAniso:"set_maxAniso",set_magFilter:"set_magFilter",set_lodBias:"set_lodBias"}};var rf=k["openfl._internal.swf.FilterType"]={__ename__:["openfl","_internal","swf","FilterType"],__constructs__:["BlurFilter",
"ColorMatrixFilter","DropShadowFilter","GlowFilter"]};rf.BlurFilter=function(a,b,c){a=["BlurFilter",0,a,b,c];a.__enum__=rf;a.toString=O;return a};rf.ColorMatrixFilter=function(a){a=["ColorMatrixFilter",1,a];a.__enum__=rf;a.toString=O;return a};rf.DropShadowFilter=function(a,b,c,d,e,f,g,k,m,h,l){a=["DropShadowFilter",2,a,b,c,d,e,f,g,k,m,h,l];a.__enum__=rf;a.toString=O;return a};rf.GlowFilter=function(a,b,c,d,e,f,g,k){a=["GlowFilter",3,a,b,c,d,e,f,g,k];a.__enum__=rf;a.toString=O;return a};rf.__empty_constructs__=
[];var Wd=function(){this.symbols=new Ib};k["openfl._internal.swf.SWFLite"]=Wd;Wd.__name__=["openfl","_internal","swf","SWFLite"];Wd.resolveClass=function(a){var b=sa.resolveClass(a);null==b&&(b=sa.resolveClass(fa.replace(a,"openfl._legacy","openfl")));null==b&&(b=sa.resolveClass(fa.replace(a,"openfl._v2","openfl")));return b};Wd.resolveEnum=function(a){var b=sa.resolveEnum(a);null==b&&(b=sa.resolveEnum(fa.replace(a,"openfl._legacy","openfl")));null==b&&(b=sa.resolveEnum(fa.replace(a,"openfl._v2",
"openfl")));return b};Wd.unserialize=function(a){if(null==a)return null;a=new Bc(a);a.setResolver({resolveClass:Wd.resolveClass,resolveEnum:Wd.resolveEnum});return a.unserialize()};Wd.prototype={frameRate:null,library:null,root:null,symbols:null,createButton:function(a){return null},createMovieClip:function(a){null==a&&(a="");if(""==a)return this.root.__createObject(this);for(var b=this.symbols.iterator();b.hasNext();){var c=b.next();if(c.className==a&&y.__instanceof(c,ch))return y.__cast(c,ch).__createObject(this)}return null},
getBitmapData:function(a){for(var b=this.symbols.iterator();b.hasNext();){var c=b.next();if(c.className==a&&y.__instanceof(c,Xd))return ca.getBitmapData(c.path)}return null},hasSymbol:function(a){for(var b=this.symbols.iterator();b.hasNext();)if(b.next().className==a)return!0;return!1},serialize:function(){var a=new Ac;a.serialize(this);return a.toString()},__class__:Wd};var jb=function(){Hb.call(this)};k["openfl.utils.AssetLibrary"]=jb;jb.__name__=["openfl","utils","AssetLibrary"];jb.fromBytes=function(a,
b){return jb.fromManifest(hb.fromBytes(ka.toBytes(a),b))};jb.fromFile=function(a,b){return jb.fromManifest(hb.fromFile(a,b))};jb.fromManifest=function(a){a=Hb.fromManifest(a);return null!=a&&y.__instanceof(a,jb)?a:null};jb.loadFromBytes=function(a,b){return hb.loadFromBytes(ka.toBytes(a),b).then(function(a){return jb.loadFromManifest(a)})};jb.loadFromFile=function(a,b){return hb.loadFromFile(a,b).then(function(a){return jb.loadFromManifest(a)})};jb.loadFromManifest=function(a){a=jb.fromManifest(a);
return null!=a&&y.__instanceof(a,jb)?a.load().then(function(a){return Ha.withValue(a)}):Ha.withError("Could not load asset manifest")};jb.__super__=Hb;jb.prototype=t(Hb.prototype,{getMovieClip:function(a){return null},loadMovieClip:function(a){var b=this;return new Ha(function(){return b.getMovieClip(a)})},__class__:jb});var il=function(a){Hb.call(this);this.id=a;this.alphaCheck=new pa;this.imageClassNames=new pa;this.rootPath=""};k["openfl._internal.swf.SWFLiteLibrary"]=il;il.__name__=["openfl",
"_internal","swf","SWFLiteLibrary"];il.__super__=jb;il.prototype=t(jb.prototype,{alphaCheck:null,id:null,imageClassNames:null,preloading:null,rootPath:null,swf:null,exists:function(a,b){return null==this.swf?!1:""==a&&"MOVIE_CLIP"==b?!0:"IMAGE"!=b&&"MOVIE_CLIP"!=b||null==this.swf?!1:this.swf.hasSymbol(a)},getImage:function(a){var b=this.imageClassNames;if(null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a))b=this.imageClassNames,a=null!=u[a]?b.getReserved(a):b.h[a];b=this.alphaCheck;if(null!=u[a]?
!b.existsReserved(a):!b.h.hasOwnProperty(a))for(b=this.swf.symbols.iterator();b.hasNext();){var c=b.next();if(y.__instanceof(c,Xd)&&y.__cast(c,Xd).path==a&&null!=c.alpha)return b=jb.prototype.getImage.call(this,a),c=jb.prototype.getImage.call(this,c.alpha),this.__copyChannel(b,c),c=this.cachedImages,null!=u[a]?c.setReserved(a,b):c.h[a]=b,c=this.alphaCheck,null!=u[a]?c.setReserved(a,!0):c.h[a]=!0,b}return jb.prototype.getImage.call(this,a)},getMovieClip:function(a){return null!=this.swf?this.swf.createMovieClip(a):
null},isLocal:function(a,b){return!0},load:function(){var a=this;if(null!=this.id){var b=this.id,c=this.preload;null!=u[b]?c.setReserved(b,!0):c.h[b]=!0}var d=new Jb;this.preloading=!0;var e=function(b){var c=a.id,e=a.cachedText;null!=u[c]?e.setReserved(c,b):e.h[c]=b;a.swf=Wd.unserialize(b);a.swf.library=a;for(b=a.swf.symbols.iterator();b.hasNext();)if(c=b.next(),y.__instanceof(c,Xd)&&(e=c,null!=e.className)){var c=e.className,e=e.path,f=a.imageClassNames;null!=u[c]?f.setReserved(c,e):f.h[c]=e}b=
a.id;c=a.swf;e=Wd.instances;null!=u[b]?e.setReserved(b,c):e.h[b]=c;a.__load().onProgress(n(d,d.progress)).onError(n(d,d.error)).onComplete(function(b){a.preloading=!1;d.complete(a)})};if(ca.exists(this.id)){for(b=this.paths.keys();b.hasNext();){var c=b.next(),f=this.preload;null!=u[c]?f.setReserved(c,!0):f.h[c]=!0}this.loadText(this.id).onError(n(d,d.error)).onComplete(e)}else{for(b=this.paths.keys();b.hasNext();)c=b.next(),f=this.preload,null!=u[c]?f.setReserved(c,!0):f.h[c]=!0;var b=null!=this.rootPath&&
""!=this.rootPath?this.rootPath+"/"+this.id:this.id,g=new dh;g.addEventListener("complete",function(a){e(g.data)});g.addEventListener("ioError",function(a){d.error(a)});g.load(new vj(b))}return d.future},loadImage:function(a){var b=this,c=this.imageClassNames;if(null!=u[a]?c.existsReserved(a):c.h.hasOwnProperty(a))c=this.imageClassNames,a=null!=u[a]?c.getReserved(a):c.h[a];this.preloading?c=!1:(c=this.alphaCheck,c=!(null!=u[a]?c.existsReserved(a):c.h.hasOwnProperty(a)));if(c)for(c=this.swf.symbols.iterator();c.hasNext();){var d=
c.next();if(y.__instanceof(d,Xd)&&y.__cast(d,Xd).path==a&&(d=[d],null!=d[0].alpha))return c=[new Jb],this.__loadImage(a).onError((Pd=c[0],n(Pd,Pd.error))).onComplete(function(c,d){return function(g){b.__loadImage(d[0].alpha).onError((Pd=c[0],n(Pd,Pd.error))).onComplete(function(c){return function(d){b.__copyChannel(g,d);d=b.cachedImages;null!=u[a]?d.setReserved(a,g):d.h[a]=g;d=b.alphaCheck;null!=u[a]?d.setReserved(a,!0):d.h[a]=!0;c[0].complete(g)}}(c))}}(c,d)),c[0].future}return jb.prototype.loadImage.call(this,
a)},unload:function(){for(var a,b=this.swf.symbols.iterator();b.hasNext();)a=b.next(),y.__instanceof(a,Xd)&&ca.cache.removeBitmapData(a.path)},__copyChannel:function(a,b){null!=b&&a.copyChannel(b,b.get_rect(),new vb,$a.RED,$a.ALPHA);a.buffer.premultiplied=!0;a.set_premultiplied(!1)},__fromManifest:function(a){this.rootPath=a.rootPath;jb.prototype.__fromManifest.call(this,a)},__load:function(){return jb.prototype.load.call(this)},__loadImage:function(a){return jb.prototype.loadImage.call(this,a)},
__class__:il});var rc=k["openfl._internal.swf.ShapeCommand"]={__ename__:["openfl","_internal","swf","ShapeCommand"],__constructs__:"BeginBitmapFill BeginFill BeginGradientFill CurveTo EndFill LineStyle LineTo MoveTo".split(" ")};rc.BeginBitmapFill=function(a,b,c,d){a=["BeginBitmapFill",0,a,b,c,d];a.__enum__=rc;a.toString=O;return a};rc.BeginFill=function(a,b){var c=["BeginFill",1,a,b];c.__enum__=rc;c.toString=O;return c};rc.BeginGradientFill=function(a,b,c,d,e,f,g,k){a=["BeginGradientFill",2,a,b,
c,d,e,f,g,k];a.__enum__=rc;a.toString=O;return a};rc.CurveTo=function(a,b,c,d){a=["CurveTo",3,a,b,c,d];a.__enum__=rc;a.toString=O;return a};rc.EndFill=["EndFill",4];rc.EndFill.toString=O;rc.EndFill.__enum__=rc;rc.LineStyle=function(a,b,c,d,e,f,g,k){a=["LineStyle",5,a,b,c,d,e,f,g,k];a.__enum__=rc;a.toString=O;return a};rc.LineTo=function(a,b){var c=["LineTo",6,a,b];c.__enum__=rc;c.toString=O;return c};rc.MoveTo=function(a,b){var c=["MoveTo",7,a,b];c.__enum__=rc;c.toString=O;return c};rc.__empty_constructs__=
[rc.EndFill];var Ec=function(){};k["openfl._internal.symbols.SWFSymbol"]=Ec;Ec.__name__=["openfl","_internal","symbols","SWFSymbol"];Ec.prototype={className:null,id:null,__createObject:function(a){return null},__class__:Ec};var Xd=function(){};k["openfl._internal.symbols.BitmapSymbol"]=Xd;Xd.__name__=["openfl","_internal","symbols","BitmapSymbol"];Xd.__super__=Ec;Xd.prototype=t(Ec.prototype,{alpha:null,path:null,smooth:null,__createObject:function(a){return new re(ma.fromImage(a.library.getImage(this.path)),
1,0!=this.smooth)},__class__:Xd});var jl=function(){};k["openfl._internal.symbols.ButtonSymbol"]=jl;jl.__name__=["openfl","_internal","symbols","ButtonSymbol"];jl.__super__=Ec;jl.prototype=t(Ec.prototype,{downState:null,hitState:null,overState:null,upState:null,__createObject:function(a){var b=null;rd.__initSWF=a;rd.__initSymbol=this;null!=this.className&&(a=sa.resolveClass(this.className),null!=a&&(b=sa.createInstance(a,[])));null==b&&(b=new rd);return b},__class__:jl});var kl=function(){};k["openfl._internal.symbols.DynamicTextSymbol"]=
kl;kl.__name__=["openfl","_internal","symbols","DynamicTextSymbol"];kl.__super__=Ec;kl.prototype=t(Ec.prototype,{align:null,border:null,color:null,fontHeight:null,fontID:null,fontName:null,height:null,html:null,indent:null,input:null,leading:null,leftMargin:null,multiline:null,password:null,rightMargin:null,selectable:null,text:null,width:null,wordWrap:null,x:null,y:null,__createObject:function(a){var b=new ea;b.__fromSymbol(a,this);return b},__class__:kl});var ll=function(){};k["openfl._internal.symbols.FontSymbol"]=
ll;ll.__name__=["openfl","_internal","symbols","FontSymbol"];ll.__super__=Ec;ll.prototype=t(Ec.prototype,{advances:null,bold:null,codes:null,glyphs:null,italic:null,leading:null,name:null,__class__:ll});var ml=function(){};k["openfl._internal.symbols.ShapeSymbol"]=ml;ml.__name__=["openfl","_internal","symbols","ShapeSymbol"];ml.__super__=Ec;ml.prototype=t(Ec.prototype,{commands:null,rendered:null,__createObject:function(a){var b=new ob,c=b.get_graphics();if(null!=this.rendered)return c.copyFrom(this.rendered.get_graphics()),
b;for(var d=0,e=this.commands;d<e.length;){var f=e[d];++d;switch(f[1]){case 0:var g=f[5],k=f[4],m=f[3],f=a.symbols.get(f[2]),f=a.library.getImage(f.path);null!=f&&c.beginBitmapFill(ma.fromImage(f),m,k,g);break;case 1:c.beginFill(f[2],f[3]);break;case 2:c.beginGradientFill(f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9]);break;case 3:c.curveTo(f[2],f[3],f[4],f[5]);break;case 4:c.endFill();break;case 5:var g=f[9],k=f[8],m=f[7],h=f[6],l=f[5],n=f[4],q=f[3],f=f[2];null!=f?c.lineStyle(f,q,n,l,h,m,k,g):c.lineStyle();
break;case 6:c.lineTo(f[2],f[3]);break;case 7:c.moveTo(f[2],f[3])}}this.commands=null;this.rendered=new ob;this.rendered.get_graphics().copyFrom(b.get_graphics());return b},__class__:ml});var ch=function(){this.frames=[]};k["openfl._internal.symbols.SpriteSymbol"]=ch;ch.__name__=["openfl","_internal","symbols","SpriteSymbol"];ch.__super__=Ec;ch.prototype=t(Ec.prototype,{frames:null,__createObject:function(a){var b=null;Oc.__initSWF=a;Oc.__initSymbol=this;null!=this.className&&(a=sa.resolveClass(this.className),
null!=a&&(b=sa.createInstance(a,[])));null==b&&(b=new Oc);return b},__class__:ch});var nl=function(){};k["openfl._internal.symbols.StaticTextSymbol"]=nl;nl.__name__=["openfl","_internal","symbols","StaticTextSymbol"];nl.__super__=Ec;nl.prototype=t(Ec.prototype,{matrix:null,records:null,rendered:null,__createObject:function(a){var b=new ob,c=b.get_graphics();if(null!=this.rendered)return c.copyFrom(this.rendered.get_graphics()),b;if(null!=this.records)for(var d=null,e=16777215,f=this.matrix.tx,g=this.matrix.ty,
k=0,m=this.records;k<m.length;){var h=m[k];++k;null!=h.fontID&&(d=a.symbols.h[h.fontID]);null!=h.offsetX&&(f=this.matrix.tx+.05*h.offsetX);null!=h.offsetY&&(g=this.matrix.ty+.05*h.offsetY);null!=h.color&&(e=h.color);if(null!=d)for(var l=h.fontHeight/1024*.05,n,q=0,r=h.glyphs.length;q<r;){var v=q++;n=h.glyphs[v];var t=0;for(n=d.glyphs[n];t<n.length;){var u=n[t];++t;switch(u[1]){case 1:c.beginFill(e&16777215,(e>>24&255)/255);break;case 3:c.curveTo(u[2]*l+f,u[3]*l+g,u[4]*l+f,u[5]*l+g);break;case 4:c.endFill();
break;case 5:var w=u[9],y=u[8],z=u[7],B=u[6],x=u[5],D=u[4],E=u[3],u=u[2];null!=u?c.lineStyle(u,E,D,x,B,z,y,w):c.lineStyle();break;case 6:c.lineTo(u[2]*l+f,u[3]*l+g);break;case 7:c.moveTo(u[2]*l+f,u[3]*l+g)}}f+=.05*h.advances[v]}}this.records=null;this.rendered=new ob;this.rendered.get_graphics().copyFrom(b.get_graphics());return b},__class__:nl});var pm=function(){};k["openfl._internal.symbols.StaticTextRecord"]=pm;pm.__name__=["openfl","_internal","symbols","StaticTextRecord"];pm.prototype={advances:null,
color:null,fontHeight:null,fontID:null,glyphs:null,offsetX:null,offsetY:null,__class__:pm};var Qa=function(a){this.textField=a;this.height=this.width=100;this.set_text("");this.bounds=new ha(0,0,0,0);this.type=0;this.autoSize=2;this.embedFonts=!1;this.selectable=!0;this.borderColor=0;this.border=!1;this.backgroundColor=16777215;this.background=!1;this.gridFitType=1;this.maxChars=0;this.multiline=!1;this.scrollH=this.sharpness=0;this.scrollV=1;this.wordWrap=!1;this.lineAscents=D.toFloatVector(null);
this.lineBreaks=D.toIntVector(null);this.lineDescents=D.toFloatVector(null);this.lineLeadings=D.toFloatVector(null);this.lineHeights=D.toFloatVector(null);this.lineWidths=D.toFloatVector(null);this.layoutGroups=D.toObjectVector(null);this.textFormatRanges=D.toObjectVector(null);Qa.__canvas=window.document.createElement("canvas");Qa.__context=Qa.__canvas.getContext("2d")};k["openfl._internal.text.TextEngine"]=Qa;Qa.__name__=["openfl","_internal","text","TextEngine"];Qa.findFont=function(a){return null};
Qa.getFormatHeight=function(a){Qa.__context.font=Qa.getFont(a);return a.size+.185*a.size+a.leading};Qa.getFont=function(a){var b=a.italic?"italic ":"normal ",b=b+"normal "+(a.bold?"bold ":"normal "),b=b+(a.size+"px"),b=b+("/"+(a.leading+a.size+3)+"px ");switch(a.font){case "_sans":a="sans-serif";break;case "_serif":a="serif";break;case "_typewriter":a="monospace";break;default:a="'"+a.font.replace(/^[\s'"]+(.*)[\s'"]+$/,"$1")+"'"}return b+=""+a};Qa.getFontInstance=function(a){return null};Qa.prototype=
{antiAliasType:null,autoSize:null,background:null,backgroundColor:null,border:null,borderColor:null,bottomScrollV:null,bounds:null,caretIndex:null,embedFonts:null,gridFitType:null,height:null,layoutGroups:null,lineAscents:null,lineBreaks:null,lineDescents:null,lineLeadings:null,lineHeights:null,lineWidths:null,maxChars:null,maxScrollH:null,maxScrollV:null,multiline:null,numLines:null,restrict:null,scrollH:null,scrollV:null,selectable:null,sharpness:null,text:null,textHeight:null,textFormatRanges:null,
textWidth:null,type:null,width:null,wordWrap:null,textField:null,__cursorTimer:null,__hasFocus:null,__isKeyDown:null,__measuredHeight:null,__measuredWidth:null,__restrictRegexp:null,__selectionStart:null,__showCursor:null,__textFormat:null,__textLayout:null,__texture:null,__useIntAdvances:null,__cairoFont:null,__font:null,__hiddenInput:null,createRestrictRegexp:function(a){var b="",c=[];0<(new Ba("\\^(.-.|.)","gu")).map(a,function(a){b+=a.matched(1);return""}).length&&c.push("[^"+a+"]");0<b.length&&
c.push("["+b+"]");return new Ba("("+c.join("|")+")","g")},getBounds:function(){var a=this.border?1:0;this.bounds.width=this.width+a;this.bounds.height=this.height+a},getLine:function(a){return 0>a||a>this.lineBreaks.get_length()+1?null:0==this.lineBreaks.get_length()?this.text:this.text.substring(0<a?this.lineBreaks.get(a-1):0,this.lineBreaks.get(a))},getLineBreakIndex:function(a){null==a&&(a=0);var b=this.text.indexOf("\n",a);a=this.text.indexOf("\r",a);return-1==b?a:-1==a?b:b<a?b:a},getLineMeasurements:function(){this.lineAscents.set_length(0);
this.lineDescents.set_length(0);this.lineLeadings.set_length(0);this.lineHeights.set_length(0);this.lineWidths.set_length(0);var a=0,b=0,c=null,d=0,e=0;this.textHeight=this.textWidth=0;this.numLines=1;for(var f=this.maxScrollH=this.bottomScrollV=0,g=this.layoutGroups;f<g.get_length();){var k=g.get(f);for(++f;k.lineIndex>this.numLines-1;)this.lineAscents.push(a),this.lineDescents.push(b),this.lineLeadings.push(null!=c?c:0),this.lineHeights.push(d),this.lineWidths.push(e),b=a=0,c=null,e=d=0,this.numLines++,
this.textHeight<=this.height-2&&this.bottomScrollV++;a=Math.max(a,k.ascent);b=Math.max(b,k.descent);c=null==c?k.leading:Math.max(c,k.leading)|0;d=Math.max(d,k.height);e=k.offsetX-2+k.width;e>this.textWidth&&(this.textWidth=e);this.textHeight=k.offsetY-2+k.ascent+k.descent}this.lineAscents.push(a);this.lineDescents.push(b);this.lineLeadings.push(null!=c?c:0);this.lineHeights.push(d);this.lineWidths.push(e);1==this.numLines?(this.bottomScrollV=1,0<c&&(this.textHeight+=c)):this.textHeight<=this.height-
2&&this.bottomScrollV++;if(2!=this.autoSize)switch(this.autoSize){case 0:case 1:case 3:this.wordWrap||(this.width=this.textWidth+4),this.height=this.textHeight+4,this.bottomScrollV=this.numLines}this.maxScrollH=this.textWidth>this.width-4?this.textWidth-this.width+4|0:0;this.maxScrollV=this.numLines-this.bottomScrollV+1},getLayoutGroups:function(){this.layoutGroups.set_length(0);var a=-1,b=null,c=ea.__defaultTextFormat.clone(),d=0,e=0,f=0,g=null,k=null,m,h=0,l=0,n=0,q=this.text.indexOf(" "),r=this.getLineBreakIndex(),
v=0,t=2,u=2,w=0,y=0,z=null;a<this.textFormatRanges.get_length()-1&&(++a,b=this.textFormatRanges.get(a),c.__merge(b.format),Qa.__context.font=Qa.getFont(c),e=c.size,f=.185*c.size,d=c.leading,h=e+f+d);var z=b.format,B,x=this.text.length;for(this.multiline&&++x;w<x;)if(-1<r&&(-1==q||r<q)&&b.end>=r){var g=new bg(b.format,w,r),D=this.text,E=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Ba("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var F=0,G,I=w,H=r;I<
H;){var J=I++;G=Qa.__context.measureText(D.substring(w,J+1)).width;E.push(G-F);F=G}else for(var L=w,N=r;L<N;){var O=L++;E.push(Qa.__context.measureText(D.charAt(O)).width)}g.advances=E;g.offsetX=t;g.ascent=e;g.descent=f;g.leading=d;g.lineIndex=y;g.offsetY=u;for(var M=g.advances,P=0,Q=0;Q<M.length;){var K=M[Q];++Q;P+=K}g.width=P;g.height=h;this.layoutGroups.push(g);u+=h;t=2;b.end==r&&(a<this.textFormatRanges.get_length()-1&&(++a,b=this.textFormatRanges.get(a),c.__merge(b.format),Qa.__context.font=
Qa.getFont(c),e=c.size,f=.185*c.size,d=c.leading,h=e+f+d),z=b.format);w=r+1;n=r;r=this.getLineBreakIndex(w);++y;g=null}else if(b.end>=q&&-1<q&&w<b.end)for(null!=g&&l!=n&&l==w-1&&w==b.start&&q<=b.end&&(g.endIndex=w,g.width+=g.advances[g.advances.length-1]),g=null,B=!1;w!=b.end;){-1==q&&(q=b.end);var S=this.text,R=q+1,T=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Ba("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var W=0,V,X=w,Y=R;X<Y;){var ba=X++;
V=Qa.__context.measureText(S.substring(w,ba+1)).width;T.push(V-W);W=V}else for(var aa=w,ca=R;aa<ca;){var da=aa++;T.push(Qa.__context.measureText(S.charAt(da)).width)}for(var k=T,Z=k[k.length-1],fa=0,ga=0;ga<k.length;){var ha=k[ga];++ga;fa+=ha}m=fa-Z;this.wordWrap&&t+m>this.width-2&&(B=!0);if(B){for(var u=u+h,ia=this.layoutGroups.get_length()-1,ja=0;;){g=this.layoutGroups.get(ia);if(0<ia&&g.startIndex>l)++ja;else break;--ia}++y;t=2;if(0<ja)for(var la=this.layoutGroups.get(this.layoutGroups.get_length()-
ja).offsetX,ka=this.layoutGroups.get_length()-ja,ma=this.layoutGroups.get_length();ka<ma;){var na=ka++,g=this.layoutGroups.get(na);g.offsetX-=la;g.offsetY=u;g.lineIndex=y;t+=g.width}g=new bg(b.format,w,q);g.advances=k;g.offsetX=t;g.ascent=e;g.descent=f;g.leading=d;g.lineIndex=y;g.offsetY=u;g.width=m;g.height=h;this.layoutGroups.push(g);t=m+Z;v=Z;B=!1}else{if(b.start==l&&w-1==l){var oa=this.text,pa=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Ba("Trident/7.0","")).match(window.navigator.userAgent));
if(this.__useIntAdvances)for(var ra=0,qa,sa=l,ta=w;sa<ta;){var va=sa++;qa=Qa.__context.measureText(oa.substring(l,va+1)).width;pa.push(qa-ra);ra=qa}else for(var ua=l,ya=w;ua<ya;){var za=ua++;pa.push(Qa.__context.measureText(oa.charAt(za)).width)}k=pa.concat(k);m+=k[0];t-=k[0];w=l}if(null!=g&&w==q)2!=b.format.align&&(g.endIndex=q),v+=Z;else{if(null==g||2==z.align)g=new bg(b.format,w,q),g.advances=k,g.offsetX=t,g.ascent=e,g.descent=f,g.leading=d,g.lineIndex=y,g.offsetY=u,g.width=m,g.height=h,this.layoutGroups.push(g);
else{g.endIndex=q;g.advances=g.advances.concat(k);for(var Aa=g.advances,wa=0,xa=0;xa<Aa.length;){var Ca=Aa[xa];++xa;wa+=Ca}g.width=wa}v=Z}t+=m+Z}var w=q+1,l=q,Da=this.text.indexOf(" ",l+1);l!=r&&-1<r&&(-1==Da||Da>r)?q=r:(r==l&&(w=r),q=Da);b.end<=l&&(g=null,a<this.textFormatRanges.get_length()-1&&(++a,b=this.textFormatRanges.get(a),c.__merge(b.format),Qa.__context.font=Qa.getFont(c),e=c.size,f=.185*c.size,d=c.leading,h=e+f+d));if(q>r&&-1<r||w>this.text.length||q>b.end||-1==q&&-1<r)break}else{if(w>
b.end)break;else if(w<b.end||w==this.text.length){if(null==g){var g=new bg(b.format,w,b.end),Ea=this.text,Fa=b.end,Ga=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Ba("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var Ia=0,Ha,Ra=w,Ka=Fa;Ra<Ka;){var La=Ra++;Ha=Qa.__context.measureText(Ea.substring(w,La+1)).width;Ga.push(Ha-Ia);Ia=Ha}else for(var Ja=w,Ma=Fa;Ja<Ma;){var Sa=Ja++;Ga.push(Qa.__context.measureText(Ea.charAt(Sa)).width)}g.advances=Ga;g.offsetX=
t;g.ascent=e;g.descent=f;g.leading=d;g.lineIndex=y;g.offsetY=u;for(var Pa=g.advances,Na=0,Oa=0;Oa<Pa.length;){var Ta=Pa[Oa];++Oa;Na+=Ta}g.width=Na;g.height=h;this.layoutGroups.push(g);t+=g.width}else if(g.startIndex!=g.endIndex){var Ua=this.text,Va=b.end,Wa=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Ba("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var Ya=0,Xa,Za=w,ab=Va;Za<ab;){var db=Za++;Xa=Qa.__context.measureText(Ua.substring(w,db+1)).width;
Wa.push(Xa-Ya);Ya=Xa}else for(var $a=w,eb=Va;$a<eb;){var fb=$a++;Wa.push(Qa.__context.measureText(Ua.charAt(fb)).width)}for(var k=Wa,bb=0,cb=0;cb<k.length;){var gb=k[cb];++cb;bb+=gb}m=bb;g.advances=g.advances.concat(k);g.width+=v+m;g.endIndex=b.end;t+=m}w=b.end}a<this.textFormatRanges.get_length()-1&&(++a,b=this.textFormatRanges.get(a),c.__merge(b.format),Qa.__context.font=Qa.getFont(c),e=c.size,f=.185*c.size,d=c.leading,h=e+f+d);if(w==b.end){++w;break}}},setTextAlignment:function(){for(var a=-1,
b=0,c,d,e=0,f=this.layoutGroups.get_length();e<f;){var g=e++;c=this.layoutGroups.get(g);if(c.lineIndex!=a)switch(a=c.lineIndex,c.format.align){case 0:b=this.lineWidths.get(a)<this.width-4?Math.round((this.width-4-this.lineWidths.get(a))/2):0;break;case 2:if(this.lineWidths.get(a)<this.width-4){d=1;for(var b=g+1,k=this.layoutGroups.get_length();b<k;){var m=b++;if(this.layoutGroups.get(m).lineIndex==a)++d;else break}if(1<d&&(c=this.layoutGroups.get(g+d-1),b=this.text.charAt(c.endIndex),c.endIndex<this.text.length&&
"\n"!=b&&"\r"!=b))for(b=(this.width-4-this.lineWidths.get(a))/(d-1),k=1;k<d;)m=k++,this.layoutGroups.get(g+m).offsetX+=b*m}b=0;break;case 4:b=this.lineWidths.get(a)<this.width-4?Math.round(this.width-4-this.lineWidths.get(a)):0;break;default:b=0}0<b&&(c.offsetX+=b)}},update:function(){null==this.text||!this.multiline&&""==fa.trim(this.text)||0==this.textFormatRanges.get_length()?(this.lineAscents.set_length(0),this.lineBreaks.set_length(0),this.lineDescents.set_length(0),this.lineLeadings.set_length(0),
this.lineHeights.set_length(0),this.lineWidths.set_length(0),this.layoutGroups.set_length(0),this.textHeight=this.textWidth=0,this.numLines=1,this.maxScrollH=0,this.bottomScrollV=this.maxScrollV=1):(this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment());this.getBounds()},set_restrict:function(a){if(this.restrict==a)return this.restrict;this.restrict=a;this.__restrictRegexp=null==this.restrict||0==this.restrict.length?null:this.createRestrictRegexp(a);return this.restrict},set_text:function(a){if(null==
a)return this.text=a;null!=this.__restrictRegexp&&(a=this.__restrictRegexp.split(a).join(""));0<this.maxChars&&a.length>this.maxChars&&(a=W.substr(a,0,this.maxChars));return this.text=a},__class__:Qa,__properties__:{set_text:"set_text",set_restrict:"set_restrict"}};var se=function(a,b,c){this.format=a;this.start=b;this.end=c};k["openfl._internal.text.TextFormatRange"]=se;se.__name__=["openfl","_internal","text","TextFormatRange"];se.prototype={end:null,format:null,start:null,__class__:se};var bg=
function(a,b,c){this.format=a;this.startIndex=b;this.endIndex=c};k["openfl._internal.text.TextLayoutGroup"]=bg;bg.__name__=["openfl","_internal","text","TextLayoutGroup"];bg.prototype={advances:null,ascent:null,descent:null,endIndex:null,format:null,height:null,leading:null,lineIndex:null,offsetX:null,offsetY:null,startIndex:null,width:null,__class__:bg};var qm=function(){this.objects=[]};k["openfl._internal.timeline.Frame"]=qm;qm.__name__=["openfl","_internal","timeline","Frame"];qm.prototype={label:null,
objects:null,__class__:qm};var rm=function(){};k["openfl._internal.timeline.FrameObject"]=rm;rm.__name__=["openfl","_internal","timeline","FrameObject"];rm.prototype={clipDepth:null,colorTransform:null,depth:null,filters:null,id:null,matrix:null,name:null,symbol:null,type:null,visible:null,__class__:rm};var Mc=k["openfl._internal.timeline.FrameObjectType"]={__ename__:["openfl","_internal","timeline","FrameObjectType"],__constructs__:["CREATE","UPDATE","DESTROY"]};Mc.CREATE=["CREATE",0];Mc.CREATE.toString=
O;Mc.CREATE.__enum__=Mc;Mc.UPDATE=["UPDATE",1];Mc.UPDATE.toString=O;Mc.UPDATE.__enum__=Mc;Mc.DESTROY=["DESTROY",2];Mc.DESTROY.toString=O;Mc.DESTROY.__enum__=Mc;Mc.__empty_constructs__=[Mc.CREATE,Mc.UPDATE,Mc.DESTROY];var Vm=function(){};k["openfl._internal.utils.NullUtils"]=Vm;Vm.__name__=["openfl","_internal","utils","NullUtils"];var eh=function(a,b,c){null==a&&(a=123);null==c&&(c=.5);this.octaves=null==b?4:b;this.baseFactor=.015625;this.seedOffset(a);this.octFreqPers(c)};k["openfl._internal.utils.PerlinNoise"]=
eh;eh.__name__=["openfl","_internal","utils","PerlinNoise"];eh.prototype={octaves:null,aOctFreq:null,aOctPers:null,fPersMax:null,iXoffset:null,iYoffset:null,iZoffset:null,baseFactor:null,fill:function(a,b,c,d,e){e=b*this.baseFactor+this.iXoffset;c=c*this.baseFactor+this.iYoffset;d=d*this.baseFactor+this.iZoffset;for(var f=a.width,g=eh.P,k=this.octaves,m=this.aOctFreq,h=this.aOctPers,l=0,n=a.height;l<n;){var q=l++;b=e;for(var r=0,v=f;r<v;){for(var t=r++,u=0,w=0,y=k;w<y;)var z=w++,B=m[z],z=h[z],x=b*
B,D=c*B,B=d*B,E=x-x%1,F=D-D%1,G=B-B%1,I=(E|0)&255,H=(F|0)&255,J=(G|0)&255,x=x-E,D=D-F,B=B-G,E=x*x*x*(x*(6*x-15)+10),F=D*D*D*(D*(6*D-15)+10),G=B*B*B*(B*(6*B-15)+10),L=g[I]+H,N=g[L]+J,L=g[L+1]+J,H=g[I+1]+H,I=g[H]+J,O=g[H+1]+J,M=x-1,P=D-1,Q=B-1,K=g[O+1]&15,J=(0==(K&1)?8>K?M:P:8>K?-M:-P)+(0==(K&2)?4>K?P:12==K?M:Q:4>K?-P:14==K?-M:-Q),K=g[L+1]&15,H=(0==(K&1)?8>K?x:P:8>K?-x:-P)+(0==(K&2)?4>K?P:12==K?x:Q:4>K?-P:14==K?-x:-Q),K=g[I+1]&15,S=(0==(K&1)?8>K?M:D:8>K?-M:-D)+(0==(K&2)?4>K?D:12==K?M:Q:4>K?-D:14==K?
-M:-Q),K=g[N+1]&15,Q=(0==(K&1)?8>K?x:D:8>K?-x:-D)+(0==(K&2)?4>K?D:12==K?x:Q:4>K?-D:14==K?-x:-Q),K=g[O]&15,O=(0==(K&1)?8>K?M:P:8>K?-M:-P)+(0==(K&2)?4>K?P:12==K?M:B:4>K?-P:14==K?-M:-B),K=g[L]&15,L=(0==(K&1)?8>K?x:P:8>K?-x:-P)+(0==(K&2)?4>K?P:12==K?x:B:4>K?-P:14==K?-x:-B),K=g[I]&15,I=(0==(K&1)?8>K?M:D:8>K?-M:-D)+(0==(K&2)?4>K?D:12==K?M:B:4>K?-D:14==K?-M:-B),K=g[N]&15,x=(0==(K&1)?8>K?x:D:8>K?-x:-D)+(0==(K&2)?4>K?D:12==K?x:B:4>K?-D:14==K?-x:-B),H=H+E*(J-H),Q=Q+E*(S-Q),L=L+E*(O-L),x=x+E*(I-x),Q=Q+F*(H-
Q),x=x+F*(L-x),u=u+(x+G*(Q-x))*z;u=128*(u*this.fPersMax+1)|0;a.setPixel32(t,q,-16777216|u<<16|u<<8|u);b+=this.baseFactor}c+=this.baseFactor}},octFreqPers:function(a){var b,c;this.aOctFreq=[];this.aOctPers=[];for(var d=this.fPersMax=0,e=this.octaves;d<e;)c=d++,b=Math.pow(2,c),c=Math.pow(a,c),this.fPersMax+=c,this.aOctFreq.push(b),this.aOctPers.push(c);this.fPersMax=1/this.fPersMax},seedOffset:function(a){this.iXoffset=a=16807*a%2147483647|0;this.iYoffset=a=16807*a%2147483647|0;this.iZoffset=16807*
a%2147483647|0},__class__:eh};var wh=function(){mc.call(this);null==ia.application&&(ia.application=this)};k["openfl.display.Application"]=wh;wh.__name__=["openfl","display","Application"];wh.__super__=mc;wh.prototype=t(mc.prototype,{create:function(a){this.config=a;this.backend.create(a);ia.current.__loaderInfo=te.create(null);ia.current.__loaderInfo.content=ia.current;if(null!=a){Object.prototype.hasOwnProperty.call(a,"fps")&&this.backend.setFrameRate(a.fps);if(Object.prototype.hasOwnProperty.call(a,
"windows"))for(a=a.windows;0<a.length;){a=new wj(a[0]);this.createWindow(a);break}if(null==this.__preloader||this.__preloader.complete)this.onPreloadComplete()}},__class__:wh});var re=function(a,b,c){null==c&&(c=!1);aa.call(this);this.set_bitmapData(a);this.pixelSnapping=b;this.smoothing=c;null==b&&(this.pixelSnapping=1)};k["openfl.display.Bitmap"]=re;re.__name__=["openfl","display","Bitmap"];re.__super__=aa;re.prototype=t(aa.prototype,{bitmapData:null,pixelSnapping:null,smoothing:null,__image:null,
__imageVersion:null,__getBounds:function(a,b){if(null!=this.bitmapData){var c=ha.__temp;c.setTo(0,0,this.bitmapData.width,this.bitmapData.height);c.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||null==this.bitmapData||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getRenderTransform();c=this.__renderTransform;var g=c.a*c.d-c.b*c.c;c=0==g?-c.tx:1/g*(c.c*(c.ty-b)+c.d*(a-c.tx));var g=this.__renderTransform,
k=g.a*g.d-g.b*g.c;a=0==k?-g.ty:1/k*(g.a*(b-g.ty)+g.b*(g.tx-a));if(0<c&&0<a&&c<=this.bitmapData.width&&a<=this.bitmapData.height){if(null!=this.__scrollRect&&!this.__scrollRect.contains(c,a))return!1;null==d||e||d.push(f);return!0}return!1},__hitTestMask:function(a,b){if(null==this.bitmapData)return!1;this.__getRenderTransform();var c=this.__renderTransform,d=c.a*c.d-c.b*c.c,c=0==d?-c.tx:1/d*(c.c*(c.ty-b)+c.d*(a-c.tx)),d=this.__renderTransform,e=d.a*d.d-d.b*d.c,d=0==e?-d.ty:1/e*(d.a*(b-d.ty)+d.b*(d.tx-
a));return 0<c&&0<d&&c<=this.bitmapData.width&&d<=this.bitmapData.height?!0:!1},__renderCairo:function(a){},__renderCairoMask:function(a){a.cairo.rectangle(0,0,this.get_width(),this.get_height())},__renderCanvas:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){var b=a.context;if(null!=this.bitmapData&&this.bitmapData.__isValid){a.maskManager.pushObject(this,!1);S.convertToCanvas(this.bitmapData.image);b.globalAlpha=this.__worldAlpha;var c=this.__renderTransform,d=this.__scrollRect;a.roundPixels?
b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);a.allowSmoothing&&this.smoothing||(b.mozImageSmoothingEnabled=!1,b.msImageSmoothingEnabled=!1,b.imageSmoothingEnabled=!1);null==d?b.drawImage(this.bitmapData.image.get_src(),0,0):b.drawImage(this.bitmapData.image.get_src(),d.x,d.y,d.width,d.height,d.x,d.y,d.width,d.height);a.allowSmoothing&&this.smoothing||(b.mozImageSmoothingEnabled=!0,b.msImageSmoothingEnabled=!0,b.imageSmoothingEnabled=!0);a.maskManager.popObject(this,
!1)}}},__renderCanvasMask:function(a){a.context.rect(0,0,this.get_width(),this.get_height())},__renderDOM:function(a){},__renderGL:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)&&null!=this.bitmapData&&this.bitmapData.__isValid){var b=a.renderer,c=a.gl;a.blendModeManager.setBlendMode(this.get_blendMode());a.maskManager.pushObject(this);var d=a.filterManager.pushObject(this);d.get_data().uImage0.input=this.bitmapData;var e=a.allowSmoothing&&(this.smoothing||a.upscaled);d.get_data().uImage0.smoothing=
e;d.get_data().uMatrix.value=b.getMatrix(this.__renderTransform);a.shaderManager.setShader(d);b=c.ARRAY_BUFFER;e=this.bitmapData.getBuffer(c,this.__worldAlpha);c.__context.bindBuffer(b,e);var b=d.get_data().aPosition.index,e=c.FLOAT,f=ba.fromInt(0);c.__context.vertexAttribPointer(b,3,e,!1,24,f);b=d.get_data().aTexCoord.index;e=c.FLOAT;f=ba.fromInt(12);c.__context.vertexAttribPointer(b,2,e,!1,24,f);d=d.get_data().aAlpha.index;b=c.FLOAT;e=ba.fromInt(20);c.__context.vertexAttribPointer(d,1,b,!1,24,e);
c.__context.drawArrays(c.TRIANGLE_STRIP,0,4);a.filterManager.popObject(this);a.maskManager.popObject(this)}},__updateMask:function(a){null!=this.bitmapData&&(a.__commands.overrideMatrix(this.__worldTransform),a.beginFill(0),a.drawRect(0,0,this.bitmapData.width,this.bitmapData.height),null==a.__bounds&&(a.__bounds=new ha),this.__getBounds(a.__bounds,Ma.__identity),aa.prototype.__updateMask.call(this,a))},set_bitmapData:function(a){this.bitmapData=a;this.smoothing=!1;return this.bitmapData},get_height:function(){return null!=
this.bitmapData?this.bitmapData.height*Math.abs(this.get_scaleY()):0},set_height:function(a){return null!=this.bitmapData?(a!=this.bitmapData.height&&this.set_scaleY(a/this.bitmapData.height),a):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*Math.abs(this.__scaleX):0},set_width:function(a){return null!=this.bitmapData?(a!=this.bitmapData.width&&this.set_scaleX(a/this.bitmapData.width),a):0},__class__:re,__properties__:t(aa.prototype.__properties__,{set_bitmapData:"set_bitmapData"})});
var ma=function(a,b,c,d){null==d&&(d=-1);null==c&&(c=!0);this.transparent=c;null==a&&(a=0);null==b&&(b=0);0>a&&(a=0);0>b&&(b=0);this.width=a;this.height=b;this.rect=new ha(0,0,a,b);0<a&&0<b&&(c?0==(d&-16777216)&&(d=0):d=-16777216|d&16777215,this.image=new ta(null,0,0,a,b,d<<8|d>>>24&255),this.image.set_transparent(c),this.readable=this.__isValid=!0);this.__worldTransform=new Ma;this.__worldColorTransform=new Ob};k["openfl.display.BitmapData"]=ma;ma.__name__=["openfl","display","BitmapData"];ma.__interfaces__=
[Eh];ma.fromBase64=function(a,b,c){var d=new ma(0,0,!0,0);ta.loadFromBase64(a,b).onComplete(function(a){d.__fromImage(a);null!=c&&c(d)});return d};ma.fromBytes=function(a,b,c){var d=new ma(0,0,!0,0);ta.loadFromBytes(ka.toBytes(a)).onComplete(function(a){d.__fromImage(a);null!=b&&d.__applyAlpha(b);null!=c&&c(d)});return d};ma.fromCanvas=function(a,b){null==b&&(b=!0);if(null==a)return null;var c=new ma(0,0,b,0);c.__fromImage(ta.fromCanvas(a));c.image.set_transparent(b);return c};ma.fromFile=function(a,
b,c){var d=new ma(0,0,!0,0);d.__fromFile(a,b,c);return d};ma.fromImage=function(a,b){null==b&&(b=!0);if(null==a||null==a.buffer)return null;var c=new ma(0,0,b,0);c.__fromImage(a);c.image.set_transparent(b);return c};ma.fromTexture=function(a){if(null==a)return null;var b=new ma(a.__width,a.__height,!0,0);b.readable=!1;b.__texture=a.__textureID;b.__textureContext=a.__textureContext;b.image=null;return b};ma.loadFromBase64=function(a,b){return ta.loadFromBase64(a,b).then(function(a){return Ha.withValue(ma.fromImage(a))})};
ma.loadFromBytes=function(a,b){return ta.loadFromBytes(ka.toBytes(a)).then(function(a){a=ma.fromImage(a);null!=b&&a.__applyAlpha(b);return Ha.withValue(a)})};ma.loadFromFile=function(a){return ta.loadFromFile(a).then(function(a){return Ha.withValue(ma.fromImage(a))})};ma.prototype={height:null,image:null,readable:null,rect:null,transparent:null,width:null,__blendMode:null,__buffer:null,__bufferContext:null,__bufferAlpha:null,__bufferData:null,__framebuffer:null,__framebufferContext:null,__isValid:null,
__surface:null,__texture:null,__textureContext:null,__textureVersion:null,__transform:null,__worldColorTransform:null,__worldTransform:null,applyFilter:function(a,b,c,d){this.readable&&null!=a&&a.readable&&d.__applyFilter(a,this,b,c)},clone:function(){if(this.__isValid){if(this.readable||null!=this.image)return ma.fromImage(this.image.clone(),this.transparent);var a=new ma(0,0,this.transparent,0);a.width=this.width;a.height=this.height;a.rect.copyFrom(this.rect);a.__framebuffer=this.__framebuffer;
a.__framebufferContext=this.__framebufferContext;a.__texture=this.__texture;a.__textureContext=this.__textureContext;a.__isValid=!0;return a}return new ma(this.width,this.height,this.transparent,0)},colorTransform:function(a,b){this.readable&&this.image.colorTransform(a.__toLimeRectangle(),b.__toLimeColorMatrix())},compare:function(a){if(a==this)return 0;if(null==a)return-1;if(0==this.readable||0==a.readable)return-2;if(this.width!=a.width)return-3;if(this.height!=a.height)return-4;if(null!=this.image&&
null!=a.image&&this.image.get_format()==a.image.get_format()){for(var b=this.image.get_data(),c=a.image.get_data(),d=!0,e=0,f=b.length;e<f;){var g=e++;if(b[g]!=c[g]){d=!1;break}}if(d)return 0}for(var b=null,k,m,h,l,n,e=0,f=this.height;e<f;)for(var g=e++,q=0,r=this.width;q<r;){var v=q++,c=!1;k=this.getPixel32(v,g);m=a.getPixel32(v,g);d=0;k!=m&&(h=(k>>>16&255)-(m>>>16&255),l=(k>>>8&255)-(m>>>8&255),n=(k&255)-(m&255),0>h&&(h*=-1),0>l&&(l*=-1),0>n&&(n*=-1),0==h&&0==l&&0==n?(k=(k>>>24&255)-(m>>>24&255),
0!=k&&(d=(d>>>24&255)<<24|16711680|(d>>>8&255)<<8|d&255,d=(d>>>24&255)<<24|(d>>>16&255)<<16|65280|d&255,d=(d>>>24&255)<<24|(d>>>16&255)<<16|(d>>>8&255)<<8|255,d=(k&255)<<24|(d>>>16&255)<<16|(d>>>8&255)<<8|d&255,c=!0)):(d=(d>>>24&255)<<24|(h&255)<<16|(d>>>8&255)<<8|d&255,d=(d>>>24&255)<<24|(d>>>16&255)<<16|(l&255)<<8|d&255,d=(d>>>24&255)<<24|(d>>>16&255)<<16|(d>>>8&255)<<8|n&255,d=-16777216|(d>>>16&255)<<16|(d>>>8&255)<<8|d&255,c=!0));c&&(null==b&&(b=new ma(this.width,this.height,this.transparent||
a.transparent,0)),b.setPixel32(v,g,d))}return null==b?0:b},copyChannel:function(a,b,c,d,e){if(this.readable){switch(d){case 1:d=$a.RED;break;case 2:d=$a.GREEN;break;case 4:d=$a.BLUE;break;case 8:d=$a.ALPHA;break;default:return}switch(e){case 1:e=$a.RED;break;case 2:e=$a.GREEN;break;case 4:e=$a.BLUE;break;case 8:e=$a.ALPHA;break;default:return}this.image.copyChannel(a.image,b.__toLimeRectangle(),c.__toLimeVector2(),d,e)}},copyPixels:function(a,b,c,d,e,f){null==f&&(f=!1);this.readable&&null!=a&&this.image.copyPixels(a.image,
b.__toLimeRectangle(),c.__toLimeVector2(),null!=d?d.image:null,null!=e?e.__toLimeVector2():null,f)},dispose:function(){this.image=null;this.height=this.width=0;this.rect=null;this.readable=this.__isValid=!1;this.__textureContext=this.__texture=this.__framebufferContext=this.__framebuffer=this.__buffer=this.__surface=null},disposeImage:function(){this.readable=!1},draw:function(a,b,c,d,e,f){null==f&&(f=!1);null==b&&(b=new Ma,null!=a.__transform&&(b.copyFrom(a.__transform),b.tx=0,b.ty=0));if(this.readable){if(null!=
c){d=Math.ceil(H.getProperty(a,"width"));var k=Math.ceil(H.getProperty(a,"height"));d=new ma(d,k,!0,0);d.draw(a);d.colorTransform(d.rect,c);a=d}S.convertToCanvas(this.image);c=this.image.buffer;d=new Yg;d.context=c.__srcContext;d.allowSmoothing=f;d.maskManager=new Zg(d);f||(c.__srcContext.mozImageSmoothingEnabled=!1,c.__srcContext.msImageSmoothingEnabled=!1,c.__srcContext.imageSmoothingEnabled=!1);null!=e&&d.maskManager.pushRect(e,new Ma);k=a.__worldTransform;a.__updateTransforms(b);a.__updateChildren(!1);
a.__renderCanvas(d);a.__updateTransforms(k);a.__updateChildren(!0);f||(c.__srcContext.mozImageSmoothingEnabled=!0,c.__srcContext.msImageSmoothingEnabled=!0,c.__srcContext.imageSmoothingEnabled=!0);null!=e&&d.maskManager.popRect();c.__srcContext.setTransform(1,0,0,1,0,0);c.__srcImageData=null;c.data=null;this.image.dirty=!0;this.image.version++}else null!=g.context&&(e=g.context,f=e.FRAMEBUFFER,c=this.__getFramebuffer(e),e.__context.bindFramebuffer(f,c),e.__context.viewport(0,0,this.width,this.height),
f=new Zf(ia.current.stage,e,!1),f.resize(this.width,this.height),f.renderSession.shaderManager=y.__cast(ia.current.stage.__renderer,Zf).renderSession.shaderManager,c=a.__worldTransform,a.__updateTransforms(b),a.__updateChildren(!1),a.__renderGL(f.renderSession),a.__updateTransforms(c),a.__updateChildren(!0),e.__context.bindFramebuffer(e.FRAMEBUFFER,null))},drawWithQuality:function(a,b,c,d,e,f,g){null==f&&(f=!1);this.draw(a,b,c,d,e,f)},encode:function(a,b,c){if(!this.readable||null==a)return null;
null==c&&(c=new Fc(0));var d=this.image;a.equals(this.rect)||(d=Ma.__temp,d.setTo(1,0,0,1,Math.round(-a.x),Math.round(-a.y)),a=new ma(Math.ceil(a.width),Math.ceil(a.height),!0,0),a.draw(this,d),d=a.image);return y.__instanceof(b,ol)?(c.writeBytes(ka.fromBytes(d.encode("png"))),c):y.__instanceof(b,xj)?(c.writeBytes(ka.fromBytes(d.encode("jpg",y.__cast(b,xj).quality))),c):null},fillRect:function(a,b){if(null!=a)if(this.transparent&&0==(b&-16777216)&&(b=0),this.readable)this.image.fillRect(a.__toLimeRectangle(),
b,1);else if(null!=this.__framebuffer){var c=g.context,d=b,e=!this.rect.equals(a);c.__context.bindFramebuffer(c.FRAMEBUFFER,this.__framebuffer);e&&(c.__context.enable(c.SCISSOR_TEST),c.__context.scissor(Math.round(a.x),Math.round(a.y),Math.round(a.width),Math.round(a.height)));c.__context.clearColor((d>>>16&255)/255,(d>>>8&255)/255,(d&255)/255,(d>>>24&255)/255);c.__context.clear(c.COLOR_BUFFER_BIT);e&&c.__context.disable(c.SCISSOR_TEST);c.__context.bindFramebuffer(c.FRAMEBUFFER,null)}},floodFill:function(a,
b,c){this.readable&&this.image.floodFill(a,b,c,1)},generateFilterRect:function(a,b){return a.clone()},getBuffer:function(a,b){if(null==this.__buffer||this.__bufferContext!=a){var c=[this.width,this.height,0,1,1,b,0,this.height,0,0,1,b,this.width,0,0,1,0,b,0,0,0,0,0,b];this.__bufferData=null!=c?new ra(c):null;this.__bufferAlpha=b;this.__bufferContext=a;this.__buffer=a.__context.createBuffer();a.__context.bindBuffer(a.ARRAY_BUFFER,this.__buffer);a.bufferData(a.ARRAY_BUFFER,this.__bufferData.byteLength,
this.__bufferData,a.STATIC_DRAW)}else this.__bufferAlpha!=b&&(this.__bufferData[5]=b,this.__bufferData[11]=b,this.__bufferData[17]=b,this.__bufferAlpha=this.__bufferData[23]=b,a.__context.bindBuffer(a.ARRAY_BUFFER,this.__buffer),a.bufferData(a.ARRAY_BUFFER,this.__bufferData.byteLength,this.__bufferData,a.STATIC_DRAW));return this.__buffer},getColorBoundsRect:function(a,b,c){null==c&&(c=!0);if(!this.readable)return new ha(0,0,this.width,this.height);a=this.image.getColorBoundsRect(a,b,c,1);return new ha(a.x,
a.y,a.width,a.height)},getPixel:function(a,b){return this.readable?this.image.getPixel(a,b,1):0},getPixel32:function(a,b){return this.readable?this.image.getPixel32(a,b,1):0},getPixels:function(a){if(!this.readable)return null;null==a&&(a=this.rect);return ka.fromBytes(this.image.getPixels(a.__toLimeRectangle(),1))},getSurface:function(){if(!this.readable)return null;null==this.__surface&&(this.__surface=Nd.fromImage(this.image));return this.__surface},getTexture:function(a){if(!this.__isValid)return null;
if(null==this.__texture||this.__textureContext!=a)this.__textureContext=a,this.__texture=a.__context.createTexture(),a.__context.bindTexture(a.TEXTURE_2D,this.__texture),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),this.__textureVersion=-1;S.sync(this.image,
!1);if(null!=this.image&&this.image.version!=this.__textureVersion){var b,c;null!=this.__surface&&$l.flush(this.__surface);1==this.image.buffer.bitsPerPixel?c=b=a.ALPHA:(null==ma.__supportsBGRA&&(ma.__textureInternalFormat=a.RGBA,ma.__supportsBGRA=!1,ma.__textureFormat=a.RGBA),b=ma.__textureInternalFormat,c=ma.__textureFormat);a.__context.bindTexture(a.TEXTURE_2D,this.__texture);var d=this.image;d.type==Wa.DATA||d.get_premultiplied()?!d.get_premultiplied()&&d.get_transparent()&&a.__context.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
1):a.__context.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1);ma.__supportsBGRA||0==d.get_format()||(d=d.clone(),d.set_format(0));d.type==Wa.DATA?a.texImage2D(a.TEXTURE_2D,0,b,d.buffer.width,d.buffer.height,0,c,a.UNSIGNED_BYTE,d.get_data()):a.texImage2D(a.TEXTURE_2D,0,b,c,a.UNSIGNED_BYTE,d.get_src());a.__context.bindTexture(a.TEXTURE_2D,null);this.__textureVersion=this.image.version}this.readable||null==this.image||(this.image=this.__surface=null);return this.__texture},getVector:function(a){a=this.getPixels(a);
for(var b=ka.get_length(a)/4|0,c=D.toIntVector(null,b,!0),d=0;d<b;){var e=d++;c.set(e,a.readUnsignedInt())}return c},histogram:function(a){a=null!=a?a:new ha(0,0,this.width,this.height);a=this.getPixels(a);for(var b=[],c=0;4>c;){c++;for(var d=[],e=0;256>e;)e++,d.push(0);b.push(d)}c=0;for(d=ka.get_length(a);c<d;)e=c++,++b[e%4][a.readUnsignedByte()];return b},hitTest:function(a,b,c,d,e){null==e&&(e=1);if(!this.readable)return!1;y.__instanceof(c,re)&&(c=y.__cast(c,re).bitmapData);if(y.__instanceof(c,
Ka)){if(e=c.x-a.x|0,a=c.y-a.y|0,this.rect.contains(e,a)&&(this.getPixel32(e,a)>>24&255)>b)return!0}else if(y.__instanceof(c,ma)){var f,g;null==d?g=f=0:(f=d.x-a.x|0,g=d.y-a.y|0);if(this.rect.contains(f,g)){d=ha.__temp;d.setTo(f,g,Math.min(c.width,this.width-f),Math.min(c.height,this.height-g));a=this.getPixels(d);d.offset(-f,-g);c=c.getPixels(d);f=0;for(var k=d.width*d.height|0;f<k;)if(f++,d=a.readUnsignedInt(),g=c.readUnsignedInt(),(d>>24&255)>b&&(g>>24&255)>e)return!0}}else if(y.__instanceof(c,ha)&&
(e=ha.__temp,e.copyFrom(c),e.offset(-a.x,-a.y),e.__contract(0,0,this.width,this.height),0<e.width&&0<e.height))for(e=this.getPixels(e),c=0,f=ka.get_length(e)/4|0;c<f;)if(c++,a=e.readUnsignedInt(),(a>>24&255)>b)return!0;return!1},lock:function(){},merge:function(a,b,c,d,e,f,g){this.readable&&null!=a&&a.readable&&null!=b&&null!=c&&this.image.merge(a.image,b.__toLimeRectangle(),c.__toLimeVector2(),d,e,f,g)},noise:function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=7);null==c&&(c=255);null==b&&(b=0);if(this.readable){var f=
function(){a=1103515245*a+12345;return(Math.abs(a/65536)|0)%32768};f();c-=b;new Fc(0);var g=1==(d&1),k=1==(d&2)>>1,m=1==(d&4)>>2;d=1==(d&8)>>3;for(var h=0,l=this.height;h<l;)for(var n=h++,q=0,r=this.width;q<r;){var v=q++,t=0,u=0,w=0,y=255;e?(t=w=u=b+f()%c,y=255):(g&&(t=b+f()%c),k&&(w=b+f()%c),m&&(u=b+f()%c),d&&(y=b+f()%c));y=(y<<8)+t;y=(y<<8)+w;y=(y<<8)+u;this.setPixel32(v,n,y)}}},paletteMap:function(a,b,c,d,e,f,g){var k=b.width|0,m=b.height|0;a=a.getPixels(b);var h,l,n,q;b=0;for(var r=m*k;b<r;){var t=
b++;h=a.readUnsignedInt();q=null==g?h&-16777216:g[h>>24&255];l=null==d?h&16711680:d[h>>16&255];n=null==e?h&65280:e[h>>8&255];h=null==f?h&255:f[h&255];l=q+l+n+h;a.position=4*t;a.writeUnsignedInt(l)}a.position=0;c=new ha(c.x,c.y,k,m);this.setPixels(c,a)},perlinNoise:function(a,b,c,d,e,f,g,k,m){this.readable&&(new eh(d,c,.01)).fill(this,a,b,0)},scroll:function(a,b){this.readable&&this.image.scroll(a,b)},setPixel:function(a,b,c){this.readable&&this.image.setPixel(a,b,c,1)},setPixel32:function(a,b,c){this.readable&&
this.image.setPixel32(a,b,c,1)},setPixels:function(a,b){this.readable&&null!=a&&this.image.setPixels(a.__toLimeRectangle(),ka.toBytes(b),1)},setVector:function(a,b){var c=new Fc(0);ka.set_length(c,4*b.get_length());for(var d=0;d<b.get_length();){var e=b.get(d);++d;c.writeUnsignedInt(e)}c.position=0;this.setPixels(a,c)},threshold:function(a,b,c,d,e,f,g,k){null==k&&(k=!1);null==g&&(g=-1);null==f&&(f=0);return null==a||null==b||null==c||b.x>a.width||b.y>a.height||c.x>this.width||c.y>this.height?0:this.image.threshold(a.image,
b.__toLimeRectangle(),c.__toLimeVector2(),d,e,f,g,k,1)},unlock:function(a){},__applyAlpha:function(a){S.convertToCanvas(this.image);S.createImageData(this.image);for(var b=this.image.buffer.data,c=0,d=ka.get_length(a);c<d;){var e=c++;b[4*e+3]=a.readUnsignedByte()}this.image.version++},__fromBase64:function(a,b,c){var d=this;ta.loadFromBase64(a,b).onComplete(function(a){d.__fromImage(a);null!=c&&c(d)})},__fromBytes:function(a,b,c){var d=this;ta.loadFromBytes(ka.toBytes(a)).onComplete(function(a){d.__fromImage(a);
null!=b&&d.__applyAlpha(b);null!=c&&c(d)})},__fromFile:function(a,b,c){var d=this;ta.loadFromFile(a).onComplete(function(a){d.__fromImage(a);null!=b&&b(d)}).onError(function(a){c()})},__fromImage:function(a){null!=a&&null!=a.buffer&&(this.image=a,this.width=a.width,this.height=a.height,this.rect=new ha(0,0,a.width,a.height),this.__isValid=this.readable=!0)},__getFramebuffer:function(a){if(null==this.__framebuffer||this.__framebufferContext!=a)this.getTexture(a),this.__framebufferContext=a,this.__framebuffer=
a.__context.createFramebuffer(),a.__context.bindFramebuffer(a.FRAMEBUFFER,this.__framebuffer),a.__context.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.__texture,0);return this.__framebuffer},__renderCairo:function(a){},__renderCairoMask:function(a){},__renderCanvas:function(a){if(this.readable){this.image.type==Wa.DATA&&S.convertToCanvas(this.image);var b=a.context;null==this.__worldTransform&&(this.__worldTransform=new Ma);b.globalAlpha=1;var c=this.__worldTransform;a.roundPixels?
b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.drawImage(this.image.get_src(),0,0)}},__renderCanvasMask:function(a){},__renderGL:function(a){var b=a.renderer,c=a.gl;a.blendModeManager.setBlendMode(10);var d=a.shaderManager.defaultShader;d.get_data().uImage0.input=this;var e=a.allowSmoothing&&a.upscaled;d.get_data().uImage0.smoothing=e;d.get_data().uMatrix.value=b.getMatrix(this.__worldTransform);a.shaderManager.setShader(d);a=c.ARRAY_BUFFER;b=this.getBuffer(c,
1);c.__context.bindBuffer(a,b);a=d.get_data().aPosition.index;b=c.FLOAT;e=ba.fromInt(0);c.__context.vertexAttribPointer(a,3,b,!1,24,e);a=d.get_data().aTexCoord.index;b=c.FLOAT;e=ba.fromInt(12);c.__context.vertexAttribPointer(a,2,b,!1,24,e);d=d.get_data().aAlpha.index;a=c.FLOAT;b=ba.fromInt(20);c.__context.vertexAttribPointer(d,1,a,!1,24,b);c.__context.drawArrays(c.TRIANGLE_STRIP,0,4)},__resize:function(a,b){this.width=a;this.height=b;this.rect.width=a;this.rect.height=b},__sync:function(){S.sync(this.image,
!1)},__updateChildren:function(a){},__updateMask:function(a){},__updateTransforms:function(a){null==a?this.__worldTransform.identity():this.__worldTransform=a},__class__:ma};var wc={};k["openfl.display._BlendMode.BlendMode_Impl_"]=wc;wc.__name__=["openfl","display","_BlendMode","BlendMode_Impl_"];wc.fromString=function(a){switch(a){case "add":return 0;case "alpha":return 1;case "darken":return 2;case "difference":return 3;case "erase":return 4;case "hardlight":return 5;case "invert":return 6;case "layer":return 7;
case "lighten":return 8;case "multiply":return 9;case "normal":return 10;case "overlay":return 11;case "screen":return 12;case "shader":return 13;case "subtract":return 14;default:return null}};wc.toString=function(a){switch(a){case 0:return"add";case 1:return"alpha";case 2:return"darken";case 3:return"difference";case 4:return"erase";case 5:return"hardlight";case 6:return"invert";case 7:return"layer";case 8:return"lighten";case 9:return"multiply";case 10:return"normal";case 11:return"overlay";case 12:return"screen";
case 13:return"shader";case 14:return"subtract";default:return null}};var Yf={};k["openfl.display._CapsStyle.CapsStyle_Impl_"]=Yf;Yf.__name__=["openfl","display","_CapsStyle","CapsStyle_Impl_"];Yf.fromString=function(a){switch(a){case "none":return 0;case "round":return 1;case "square":return 2;default:return null}};Yf.toString=function(a){switch(a){case 0:return"none";case 1:return"round";case 2:return"square";default:return null}};var fh=function(a){aa.call(this)};k["openfl.display.DirectRenderer"]=
fh;fh.__name__=["openfl","display","DirectRenderer"];fh.__super__=aa;fh.prototype=t(aa.prototype,{__render:null,get_render:function(){return this.__render},set_render:function(a){return this.__render=a},__class__:fh,__properties__:t(aa.prototype.__properties__,{set_render:"set_render",get_render:"get_render"})});var ij=function(a,b){X.call(this);this.__name=a;this.__frame=b};k["openfl.display.FrameLabel"]=ij;ij.__name__=["openfl","display","FrameLabel"];ij.__super__=X;ij.prototype=t(X.prototype,{__frame:null,
__name:null,get_frame:function(){return this.__frame},get_name:function(){return this.__name},__class__:ij,__properties__:{get_name:"get_name",get_frame:"get_frame"}});var yj={};k["openfl.display._GradientType.GradientType_Impl_"]=yj;yj.__name__=["openfl","display","_GradientType","GradientType_Impl_"];yj.fromString=function(a){switch(a){case "linear":return 0;case "radial":return 1;default:return null}};yj.toString=function(a){switch(a){case 0:return"linear";case 1:return"radial";default:return null}};
var vg=function(a){this.__dirty=!0;this.__owner=a;this.__commands=new pc;this.__positionY=this.__positionX=this.__strokePadding=0;this.__renderTransform=new Ma;this.__worldTransform=new Ma;this.__height=this.__width=0;this.moveTo(0,0)};k["openfl.display.Graphics"]=vg;vg.__name__=["openfl","display","Graphics"];vg.prototype={__bounds:null,__commands:null,__dirty:null,__height:null,__managed:null,__positionX:null,__positionY:null,__renderTransform:null,__strokePadding:null,__transformDirty:null,__visible:null,
__owner:null,__width:null,__worldTransform:null,__canvas:null,__context:null,__bitmap:null,beginBitmapFill:function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!0);this.__commands.beginBitmapFill(a,null!=b?b.clone():null,c,d);this.__visible=!0},beginFill:function(a,b){null==b&&(b=1);null==a&&(a=0);this.__commands.beginFill(a&16777215,b);0<b&&(this.__visible=!0)},beginGradientFill:function(a,b,c,d,e,f,g,k){null==k&&(k=0);null==g&&(g=1);null==f&&(f=0);this.__commands.beginGradientFill(a,b,c,d,e,f,g,k);for(a=
0;a<c.length;)if(b=c[a],++a,0<b){this.__visible=!0;break}},clear:function(){this.__commands.clear();this.__strokePadding=0;null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0,this.__bounds=null);this.__visible=!1;this.moveTo(0,0)},copyFrom:function(a){this.__bounds=null!=a.__bounds?a.__bounds.clone():null;this.__commands=a.__commands.copy();this.set___dirty(!0);this.__strokePadding=a.__strokePadding;this.__positionX=a.__positionX;this.__positionY=a.__positionY;this.__transformDirty=
!0;this.__visible=a.__visible},cubicCurveTo:function(a,b,c,d,e,f){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding);this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);var g,k,m,h;m=g=e;if(!(a<e&&a>this.__positionX||a>e&&a<this.__positionX)||!(c<e&&c>this.__positionX||c>e&&c<this.__positionX)){h=2*this.__positionX-4*a+2*c;var l=a-this.__positionX,n=-this.__positionX+3*a+e-3*c;k=(-h+Math.sqrt(h*h-4*l*n))/
(2*n);h=(-h-Math.sqrt(h*h-4*l*n))/(2*n);0<k&&1>k&&(g=this.__calculateBezierCubicPoint(k,this.__positionX,a,c,e));0<h&&1>h&&(m=this.__calculateBezierCubicPoint(h,this.__positionX,a,c,e))}h=k=f;if(!(b<f&&b>this.__positionX||b>f&&b<this.__positionX)||!(d<f&&d>this.__positionX||d>f&&d<this.__positionX)){var n=2*this.__positionX-4*b+2*d,q=b-this.__positionX,r=-this.__positionX+3*b+f-3*d,l=(-n+Math.sqrt(n*n-4*q*r))/(2*r),n=(-n-Math.sqrt(n*n-4*q*r))/(2*r);0<l&&1>l&&(k=this.__calculateBezierCubicPoint(l,
this.__positionX,b,d,f));0<n&&1>n&&(h=this.__calculateBezierCubicPoint(n,this.__positionX,b,d,f))}this.__inflateBounds(g-this.__strokePadding,k-this.__strokePadding);this.__inflateBounds(g+this.__strokePadding,k+this.__strokePadding);this.__inflateBounds(m-this.__strokePadding,h-this.__strokePadding);this.__inflateBounds(m+this.__strokePadding,h+this.__strokePadding);this.__positionX=e;this.__positionY=f;this.__commands.cubicCurveTo(a,b,c,d,e,f);this.set___dirty(!0)},curveTo:function(a,b,c,d){this.__inflateBounds(this.__positionX-
this.__strokePadding,this.__positionY-this.__strokePadding);this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);var e,f;e=a<c&&a>this.__positionX||a>c&&a<this.__positionX?c:this.__calculateBezierQuadPoint((this.__positionX-a)/(this.__positionX-2*a+c),this.__positionX,a,c);f=b<d&&b>this.__positionY||b>d&&b<this.__positionY?d:this.__calculateBezierQuadPoint((this.__positionY-b)/(this.__positionY-2*b+d),this.__positionY,b,d);this.__inflateBounds(e-this.__strokePadding,
f-this.__strokePadding);this.__inflateBounds(e+this.__strokePadding,f+this.__strokePadding);this.__positionX=c;this.__positionY=d;this.__commands.curveTo(a,b,c,d);this.set___dirty(!0)},drawCircle:function(a,b,c){0>=c||(this.__inflateBounds(a-c-this.__strokePadding,b-c-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+c+this.__strokePadding),this.__commands.drawCircle(a,b,c),this.set___dirty(!0))},drawEllipse:function(a,b,c,d){0>=c||0>=d||(this.__inflateBounds(a-this.__strokePadding,
b-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+d+this.__strokePadding),this.__commands.drawEllipse(a,b,c,d),this.set___dirty(!0))},drawGraphicsData:function(a){for(var b,c,d=0;d<a.get_length();)b=a.get(d),++d,y.__instanceof(b,cg)?this.beginFill(b.color,b.alpha):y.__instanceof(b,dg)?this.beginBitmapFill(b.bitmapData,b.matrix,b.repeat,b.smooth):y.__instanceof(b,eg)?this.beginGradientFill(b.type,b.colors,b.alphas,b.ratios,b.matrix,b.spreadMethod,b.interpolationMethod,b.focalPointRatio):
y.__instanceof(b,gh)?(c=b,y.__instanceof(c.fill,cg)?(b=c.fill,this.lineStyle(c.thickness,b.color,b.alpha,c.pixelHinting,c.scaleMode,c.caps,c.joints,c.miterLimit)):(this.lineStyle(c.thickness,0,1,c.pixelHinting,c.scaleMode,c.caps,c.joints,c.miterLimit),y.__instanceof(c.fill,dg)?(b=c.fill,this.lineBitmapStyle(b.bitmapData,b.matrix,b.repeat,b.smooth)):y.__instanceof(c.fill,eg)&&(b=c.fill,this.lineGradientStyle(b.type,b.colors,b.alphas,b.ratios,b.matrix,b.spreadMethod,b.interpolationMethod,b.focalPointRatio)))):
y.__instanceof(b,sf)?this.drawPath(b.commands,b.data,b.winding):y.__instanceof(b,hh)&&this.endFill()},drawPath:function(a,b,c){var d=c=0;try{for(;d<a.get_length();){var e=a.get(d);++d;switch(e){case 1:this.moveTo(b.get(c),b.get(c+1));c+=2;break;case 2:this.lineTo(b.get(c),b.get(c+1));c+=2;break;case 3:this.curveTo(b.get(c),b.get(c+1),b.get(c+2),b.get(c+3));c+=4;break;case 4:throw this.moveTo(b.get(c+2),b.get(c+3)),"__break__";case 5:throw this.lineTo(b.get(c+2),b.get(c+3)),"__break__";case 6:this.cubicCurveTo(b.get(c),
b.get(c+1),b.get(c+2),b.get(c+3),b.get(c+4),b.get(c+5)),c+=6}}}catch(f){if("__break__"!=f)throw f;}},drawRect:function(a,b,c,d){0>=c||0>=d||(this.__inflateBounds(a-this.__strokePadding,b-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+d+this.__strokePadding),this.__commands.drawRect(a,b,c,d),this.set___dirty(!0))},drawRoundRect:function(a,b,c,d,e,f){0>=c||0>=d||(this.__inflateBounds(a-this.__strokePadding,b-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,
b+d+this.__strokePadding),this.__commands.drawRoundRect(a,b,c,d,e,f),this.set___dirty(!0))},drawRoundRectComplex:function(a,b,c,d,e,f,g,k){ia.notImplemented({fileName:"Graphics.hx",lineNumber:450,className:"openfl.display.Graphics",methodName:"drawRoundRectComplex"})},drawTriangles:function(a,b,c,d){null==d&&(d=1);var e=a.get_length()/2|0;null==d&&(d=1);if(null==b){if(0!=e%3)throw new F(new Hg("Not enough vertices to close a triangle."));b=D.toIntVector(null);for(var f=0;f<e;){var g=f++;b.push(g)}}this.__inflateBounds(0,
0);for(var k=f=-Infinity,m=g=-Infinity,h=0;h<e;)k=h++,f=a.get(2*k),k=a.get(2*k+1),g<f&&(g=f),m<k&&(m=k);this.__inflateBounds(g,m);this.__commands.drawTriangles(a,b,c,d);this.set___dirty(!0);this.__visible=!0},endFill:function(){this.__commands.endFill()},lineBitmapStyle:function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!0);this.__commands.lineBitmapStyle(a,null!=b?b.clone():null,c,d)},lineGradientStyle:function(a,b,c,d,e,f,g,k){null==k&&(k=0);null==g&&(g=1);null==f&&(f=0);this.__commands.lineGradientStyle(a,
b,c,d,e,f,g,k)},lineStyle:function(a,b,c,d,e,f,g,k){null==k&&(k=3);null==e&&(e=2);null==d&&(d=!1);null==c&&(c=1);null==b&&(b=0);null!=a&&(1==g?a>this.__strokePadding&&(this.__strokePadding=a):a/2>this.__strokePadding&&(this.__strokePadding=a/2));this.__commands.lineStyle(a,b,c,d,e,f,g,k);null!=a&&(this.__visible=!0)},lineTo:function(a,b){isFinite(a)&&isFinite(b)&&(this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+
this.__strokePadding,this.__positionY+this.__strokePadding),this.__positionX=a,this.__positionY=b,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+2*this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.lineTo(a,b),this.set___dirty(!0))},moveTo:function(a,b){this.__positionX=a;this.__positionY=b;this.__commands.moveTo(a,b)},readGraphicsData:function(a){null==a&&(a=!0);var b=D.toObjectVector(null);
this.__owner.__readGraphicsData(b,a);return b},__calculateBezierCubicPoint:function(a,b,c,d,e){var f=1-a;return b*f*f*f+3*c*a*f*f+3*d*f*a*a+e*a*a*a},__calculateBezierQuadPoint:function(a,b,c,d){var e=1-a;return e*e*b+2*e*a*c+a*a*d},__cleanup:function(){null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0);this.__context=this.__canvas=this.__bitmap=null},__getBounds:function(a,b){if(null!=this.__bounds){var c=ha.__temp;this.__bounds.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},
__hitTest:function(a,b,c,d){if(null==this.__bounds)return!1;var e=d.a*d.d-d.b*d.c,e=0==e?-d.tx:1/e*(d.c*(d.ty-b)+d.d*(a-d.tx)),f=d.a*d.d-d.b*d.c;a=0==f?-d.ty:1/f*(d.a*(b-d.ty)+d.b*(d.tx-a));return e>this.__bounds.x&&a>this.__bounds.y&&this.__bounds.contains(e,a)?c?r.hitTest(this,e,a):!0:!1},__inflateBounds:function(a,b){null==this.__bounds?(this.__bounds=new ha(a,b,0,0),this.__transformDirty=!0):(a<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-a,this.__bounds.x=a,this.__transformDirty=!0),
b<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-b,this.__bounds.y=b,this.__transformDirty=!0),a>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=a-this.__bounds.x),b>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=b-this.__bounds.y))},__readGraphicsData:function(a){for(var b=new Sd(this.__commands),c,d=0,e=this.__commands.types;d<e.length;)switch(c=e[d],++d,c[1]){case 0:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=
4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.BEGIN_BITMAP_FILL;c=b;a.push(new dg(c.buffer.o[c.oPos],c.buffer.o[c.oPos+
1],c.buffer.b[c.bPos],c.buffer.b[c.bPos+1]));break;case 1:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=
1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.BEGIN_FILL;c=b;a.push(new cg(c.buffer.i[c.iPos],1));break;case 2:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=
4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.BEGIN_GRADIENT_FILL;c=b;a.push(new eg(c.buffer.o[c.oPos],c.buffer.ii[c.iiPos],c.buffer.ff[c.ffPos],c.buffer.ii[c.iiPos+1],c.buffer.o[c.oPos+1],c.buffer.o[c.oPos+2],c.buffer.o[c.oPos+3],c.buffer.f[c.fPos]));break;case 3:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=
1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.CUBIC_CURVE_TO;break;case 4:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=
1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.CURVE_TO;var f=b;c=new sf;c.curveTo(f.buffer.f[f.fPos],
f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);a.push(c);break;case 5:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=
4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.DRAW_CIRCLE;break;case 6:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;
b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.DRAW_ELLIPSE;break;case 7:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;
case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.DRAW_ELLIPSE;break;case 8:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=
5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.DRAW_ELLIPSE;break;case 11:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=
4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.END_FILL;a.push(new hh);break;case 12:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;
break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.LINE_BITMAP_STYLE;break;case 13:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=
4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.LINE_GRADIENT_STYLE;break;case 14:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=
2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.LINE_STYLE;c=b;
a.push(new gh(c.buffer.o[c.oPos],c.buffer.b[c.bPos],c.buffer.o[c.oPos+1],c.buffer.o[c.oPos+2],c.buffer.o[c.oPos+3],c.buffer.f[c.fPos+1]));break;case 15:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=
4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.LINE_TO;f=b;c=new sf;c.lineTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1]);a.push(c);break;case 16:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=
4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=x.MOVE_TO;f=b;c=new sf;c.moveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1]);a.push(c);break;default:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;
b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=c}},__update:function(){if(!(null==this.__bounds||0>=this.__bounds.width||0>=this.__bounds.height)){var a=
this.__owner.__renderTransform,b=1,c=1;if(null!=a)if(b=0==a.b?Math.abs(a.a):Math.sqrt(a.a*a.a+a.b*a.b),c=0==a.c?Math.abs(a.d):Math.sqrt(a.c*a.c+a.d*a.d),b*=this.__bounds.width,c*=this.__bounds.height,1>b||1>c)(1<=this.__width||1<=this.__height)&&this.set___dirty(!0),this.__height=this.__width=0;else{this.__renderTransform.a=b/this.__bounds.width;this.__renderTransform.d=c/this.__bounds.height;var d=1/this.__renderTransform.a,e=1/this.__renderTransform.d;this.__worldTransform.a=d*a.a;this.__worldTransform.b=
d*a.b;this.__worldTransform.c=e*a.c;this.__worldTransform.d=e*a.d;var e=this.__bounds.x,f=this.__bounds.y,d=e*a.a+f*a.c+a.tx,a=e*a.b+f*a.d+a.ty;this.__worldTransform.tx=Math.floor(d);this.__worldTransform.ty=Math.floor(a);e=this.__worldTransform;f=e.a*e.d-e.b*e.c;this.__renderTransform.tx=0==f?-e.tx:1/f*(e.c*(e.ty-a)+e.d*(d-e.tx));e=this.__worldTransform;f=e.a*e.d-e.b*e.c;this.__renderTransform.ty=0==f?-e.ty:1/f*(e.a*(a-e.ty)+e.b*(e.tx-d));b=Math.ceil(b+this.__renderTransform.tx);c=Math.ceil(c+this.__renderTransform.ty);
b==this.__width&&c==this.__height||this.set___dirty(!0);this.__width=b;this.__height=c}}},set___dirty:function(a){if(a&&null!=this.__owner){var b=this.__owner;b.__renderDirty||(b.__renderDirty=!0,aa.__worldRenderDirty++)}return this.__dirty=a},__class__:vg,__properties__:{set___dirty:"set___dirty"}};var fg=function(){};k["openfl.display.IGraphicsFill"]=fg;fg.__name__=["openfl","display","IGraphicsFill"];fg.prototype={__graphicsFillType:null,__class__:fg};var Se=function(){};k["openfl.display.IGraphicsData"]=
Se;Se.__name__=["openfl","display","IGraphicsData"];Se.prototype={__graphicsDataType:null,__class__:Se};var dg=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!0);this.bitmapData=a;this.matrix=b;this.repeat=c;this.smooth=d;this.__graphicsDataType=Xa.BITMAP;this.__graphicsFillType=Fb.BITMAP_FILL};k["openfl.display.GraphicsBitmapFill"]=dg;dg.__name__=["openfl","display","GraphicsBitmapFill"];dg.__interfaces__=[fg,Se];dg.prototype={bitmapData:null,matrix:null,repeat:null,smooth:null,__graphicsDataType:null,
__graphicsFillType:null,__class__:dg};var hh=function(){this.__graphicsDataType=Xa.END;this.__graphicsFillType=Fb.END_FILL};k["openfl.display.GraphicsEndFill"]=hh;hh.__name__=["openfl","display","GraphicsEndFill"];hh.__interfaces__=[fg,Se];hh.prototype={__graphicsDataType:null,__graphicsFillType:null,__class__:hh};var eg=function(a,b,c,d,e,f,g,k){null==k&&(k=0);null==a&&(a=0);null==f&&(f=0);null==g&&(g=1);this.type=a;this.colors=b;this.alphas=c;this.ratios=d;this.matrix=e;this.spreadMethod=f;this.interpolationMethod=
g;this.focalPointRatio=k;this.__graphicsDataType=Xa.GRADIENT;this.__graphicsFillType=Fb.GRADIENT_FILL};k["openfl.display.GraphicsGradientFill"]=eg;eg.__name__=["openfl","display","GraphicsGradientFill"];eg.__interfaces__=[fg,Se];eg.prototype={alphas:null,colors:null,focalPointRatio:null,interpolationMethod:null,matrix:null,ratios:null,spreadMethod:null,type:null,__graphicsDataType:null,__graphicsFillType:null,__class__:eg};var Qm=function(){};k["openfl.display.IGraphicsPath"]=Qm;Qm.__name__=["openfl",
"display","IGraphicsPath"];var sf=function(a,b,c){null==c&&(c=0);this.commands=a;this.data=b;this.winding=c;this.__graphicsDataType=Xa.PATH};k["openfl.display.GraphicsPath"]=sf;sf.__name__=["openfl","display","GraphicsPath"];sf.__interfaces__=[Qm,Se];sf.prototype={commands:null,data:null,winding:null,__graphicsDataType:null,curveTo:function(a,b,c,d){null!=this.commands&&null!=this.data&&(this.commands.push(3),this.data.push(c),this.data.push(d),this.data.push(a),this.data.push(b))},lineTo:function(a,
b){null!=this.commands&&null!=this.data&&(this.commands.push(2),this.data.push(a),this.data.push(b))},moveTo:function(a,b){null!=this.commands&&null!=this.data&&(this.commands.push(1),this.data.push(a),this.data.push(b))},wideLineTo:function(a,b){null!=this.commands&&null!=this.data&&(this.commands.push(2),this.data.push(a),this.data.push(b))},wideMoveTo:function(a,b){null!=this.commands&&null!=this.data&&(this.commands.push(1),this.data.push(a),this.data.push(b))},__class__:sf};var zj={};k["openfl.display._GraphicsPathWinding.GraphicsPathWinding_Impl_"]=
zj;zj.__name__=["openfl","display","_GraphicsPathWinding","GraphicsPathWinding_Impl_"];zj.fromString=function(a){switch(a){case "evenOdd":return 0;case "nonZero":return 1;default:return null}};zj.toString=function(a){switch(a){case 0:return"evenOdd";case 1:return"nonZero";default:return null}};var cg=function(a,b){null==b&&(b=1);null==a&&(a=0);this.alpha=b;this.color=a;this.__graphicsDataType=Xa.SOLID;this.__graphicsFillType=Fb.SOLID_FILL};k["openfl.display.GraphicsSolidFill"]=cg;cg.__name__=["openfl",
"display","GraphicsSolidFill"];cg.__interfaces__=[fg,Se];cg.prototype={alpha:null,color:null,__graphicsDataType:null,__graphicsFillType:null,__class__:cg};var Rm=function(){};k["openfl.display.IGraphicsStroke"]=Rm;Rm.__name__=["openfl","display","IGraphicsStroke"];var gh=function(a,b,c,d,e,f,g){null==f&&(f=3);null==b&&(b=!1);null==a&&(a=0);this.caps=null!=d?d:0;this.fill=g;this.joints=null!=e?e:2;this.miterLimit=f;this.pixelHinting=b;this.scaleMode=null!=c?c:2;this.thickness=a;this.__graphicsDataType=
Xa.STROKE};k["openfl.display.GraphicsStroke"]=gh;gh.__name__=["openfl","display","GraphicsStroke"];gh.__interfaces__=[Rm,Se];gh.prototype={caps:null,fill:null,joints:null,miterLimit:null,pixelHinting:null,scaleMode:null,thickness:null,__graphicsDataType:null,__class__:gh};var Xa=k["openfl.display.GraphicsDataType"]={__ename__:["openfl","display","GraphicsDataType"],__constructs__:"STROKE SOLID GRADIENT PATH BITMAP END".split(" ")};Xa.STROKE=["STROKE",0];Xa.STROKE.toString=O;Xa.STROKE.__enum__=Xa;
Xa.SOLID=["SOLID",1];Xa.SOLID.toString=O;Xa.SOLID.__enum__=Xa;Xa.GRADIENT=["GRADIENT",2];Xa.GRADIENT.toString=O;Xa.GRADIENT.__enum__=Xa;Xa.PATH=["PATH",3];Xa.PATH.toString=O;Xa.PATH.__enum__=Xa;Xa.BITMAP=["BITMAP",4];Xa.BITMAP.toString=O;Xa.BITMAP.__enum__=Xa;Xa.END=["END",5];Xa.END.toString=O;Xa.END.__enum__=Xa;Xa.__empty_constructs__=[Xa.STROKE,Xa.SOLID,Xa.GRADIENT,Xa.PATH,Xa.BITMAP,Xa.END];var Fb=k["openfl.display.GraphicsFillType"]={__ename__:["openfl","display","GraphicsFillType"],__constructs__:["SOLID_FILL",
"GRADIENT_FILL","BITMAP_FILL","END_FILL"]};Fb.SOLID_FILL=["SOLID_FILL",0];Fb.SOLID_FILL.toString=O;Fb.SOLID_FILL.__enum__=Fb;Fb.GRADIENT_FILL=["GRADIENT_FILL",1];Fb.GRADIENT_FILL.toString=O;Fb.GRADIENT_FILL.__enum__=Fb;Fb.BITMAP_FILL=["BITMAP_FILL",2];Fb.BITMAP_FILL.toString=O;Fb.BITMAP_FILL.__enum__=Fb;Fb.END_FILL=["END_FILL",3];Fb.END_FILL.toString=O;Fb.END_FILL.__enum__=Fb;Fb.__empty_constructs__=[Fb.SOLID_FILL,Fb.GRADIENT_FILL,Fb.BITMAP_FILL,Fb.END_FILL];var Aj={};k["openfl.display._InterpolationMethod.InterpolationMethod_Impl_"]=
Aj;Aj.__name__=["openfl","display","_InterpolationMethod","InterpolationMethod_Impl_"];Aj.fromString=function(a){switch(a){case "linearRGB":return 0;case "rgb":return 1;default:return null}};Aj.toString=function(a){switch(a){case 0:return"linearRGB";case 1:return"rgb";default:return null}};var xj=function(a){null==a&&(a=80);this.quality=a};k["openfl.display.JPEGEncoderOptions"]=xj;xj.__name__=["openfl","display","JPEGEncoderOptions"];xj.prototype={quality:null,__class__:xj};var Xf={};k["openfl.display._JointStyle.JointStyle_Impl_"]=
Xf;Xf.__name__=["openfl","display","_JointStyle","JointStyle_Impl_"];Xf.fromString=function(a){switch(a){case "bevel":return 0;case "miter":return 1;case "round":return 2;default:return null}};Xf.toString=function(a){switch(a){case 0:return"bevel";case 1:return"miter";case 2:return"round";default:return null}};var gg={};k["openfl.display._LineScaleMode.LineScaleMode_Impl_"]=gg;gg.__name__=["openfl","display","_LineScaleMode","LineScaleMode_Impl_"];gg.fromString=function(a){switch(a){case "horizontal":return 0;
case "none":return 1;case "normal":return 2;case "vertical":return 3;default:return null}};gg.toString=function(a){switch(a){case 0:return"horizontal";case 1:return"none";case 2:return"normal";case 3:return"vertical";default:return null}};var pl=function(){Nb.call(this);this.contentLoaderInfo=te.create(this)};k["openfl.display.Loader"]=pl;pl.__name__=["openfl","display","Loader"];pl.__super__=Nb;pl.prototype=t(Nb.prototype,{content:null,contentLoaderInfo:null,__path:null,close:function(){ia.notImplemented({fileName:"Loader.hx",
lineNumber:53,className:"openfl.display.Loader",methodName:"close"})},load:function(a,b){this.contentLoaderInfo.url=a.url;if(null==a.contentType||""==a.contentType){var c="";this.__path=a.url;var d=this.__path.indexOf("?");-1<d&&(this.__path=this.__path.substring(0,d));for(;fa.endsWith(this.__path,"/");)this.__path=this.__path.substring(0,this.__path.length-1);fa.endsWith(this.__path,".bundle")&&(this.__path+="/library.json",a.url=-1<d?this.__path+a.url.substring(d):this.__path);d=this.__path.lastIndexOf(".");
-1<d&&(c=this.__path.substring(d+1));switch(c){case "gif":c="image/gif";break;case "jpeg":case "jpg":c="image/jpeg";break;case "js":c="application/javascript";break;case "json":c="application/json";break;case "png":c="image/png";break;case "swf":c="application/x-shockwave-flash";break;default:c="application/x-www-form-urlencoded"}this.contentLoaderInfo.contentType=c}else this.contentLoaderInfo.contentType=a.contentType;if(-1<this.contentLoaderInfo.contentType.indexOf("image/")&&"GET"==a.method&&(null==
a.requestHeaders||0==a.requestHeaders.length)&&null==a.userAgent)ma.loadFromFile(a.url).onComplete(n(this,this.BitmapData_onLoad)).onError(n(this,this.BitmapData_onError)).onProgress(n(this,this.BitmapData_onProgress));else{c=new dh;c.dataFormat=0;if(-1<this.contentLoaderInfo.contentType.indexOf("/json")||-1<this.contentLoaderInfo.contentType.indexOf("/javascript")||-1<this.contentLoaderInfo.contentType.indexOf("/ecmascript"))c.dataFormat=1;c.addEventListener("complete",n(this,this.loader_onComplete));
c.addEventListener("ioError",n(this,this.loader_onError));c.addEventListener("progress",n(this,this.loader_onProgress));c.load(a)}},loadBytes:function(a,b){ma.loadFromBytes(a).onComplete(n(this,this.BitmapData_onLoad)).onError(n(this,this.BitmapData_onError))},unload:function(){if(0<this.get_numChildren()){for(;0<this.get_numChildren();)this.removeChildAt(0);this.content=null;this.contentLoaderInfo.url=null;this.contentLoaderInfo.contentType=null;this.contentLoaderInfo.content=null;this.contentLoaderInfo.bytesLoaded=
0;this.contentLoaderInfo.bytesTotal=0;this.contentLoaderInfo.width=0;this.contentLoaderInfo.height=0;this.dispatchEvent(new J("unload"))}},unloadAndStop:function(a){null!=this.content&&this.content.__stopAllMovieClips();a=0;for(var b=this.get_numChildren();a<b;){var c=a++;this.getChildAt(c).__stopAllMovieClips()}this.unload()},__dispatchError:function(a){var b=new sd("ioError");b.text=a;this.contentLoaderInfo.dispatchEvent(b)},BitmapData_onError:function(a){this.__dispatchError(q.string(a))},BitmapData_onLoad:function(a){this.contentLoaderInfo.content=
new re(a);this.content=this.contentLoaderInfo.content;this.addChild(this.content);this.contentLoaderInfo.dispatchEvent(new J("complete"))},BitmapData_onProgress:function(a,b){var c=new Yd("progress");c.bytesLoaded=a;c.bytesTotal=b;this.contentLoaderInfo.dispatchEvent(c)},loader_onComplete:function(a){var b=this;a=a.target;if(-1<this.contentLoaderInfo.contentType.indexOf("/json"))if(a=hb.parse(a.data,Mf.directory(this.__path)),null==a)this.__dispatchError("Cannot parse asset manifest");else{var c=
Hb.fromManifest(a);if(null==c)this.__dispatchError("Cannot open library");else if(y.__instanceof(c,jb))c.load().onComplete(function(a){b.contentLoaderInfo.content=y.__cast(c,jb).getMovieClip("");b.addChild(b.contentLoaderInfo.content);b.contentLoaderInfo.dispatchEvent(new J("complete"))}).onError(function(a){b.__dispatchError(a)})}else if(-1<this.contentLoaderInfo.contentType.indexOf("/javascript")||-1<this.contentLoaderInfo.contentType.indexOf("/ecmascript"))this.contentLoaderInfo.content=new wa,
this.addChild(this.contentLoaderInfo.content),eval("(function () {"+q.string(a.data)+"})()"),this.contentLoaderInfo.dispatchEvent(new J("complete"));else ma.loadFromBytes(a.data).onComplete(n(this,this.BitmapData_onLoad)).onError(n(this,this.BitmapData_onError))},loader_onError:function(a){a.target=this.contentLoaderInfo;this.contentLoaderInfo.dispatchEvent(a)},loader_onProgress:function(a){a.target=this.contentLoaderInfo;this.contentLoaderInfo.dispatchEvent(a)},__class__:pl});var te=function(){X.call(this);
this.applicationDomain=hg.currentDomain;this.bytesTotal=this.bytesLoaded=0;this.childAllowsParent=!0;this.parameters={}};k["openfl.display.LoaderInfo"]=te;te.__name__=["openfl","display","LoaderInfo"];te.create=function(a){var b=new te;b.uncaughtErrorEvents=new Bj;null!=a?b.loader=a:b.url=te.__rootURL;return b};te.__super__=X;te.prototype=t(X.prototype,{applicationDomain:null,bytes:null,bytesLoaded:null,bytesTotal:null,childAllowsParent:null,content:null,contentType:null,frameRate:null,height:null,
loader:null,loaderURL:null,parameters:null,parentAllowsChild:null,sameDomain:null,sharedEvents:null,uncaughtErrorEvents:null,url:null,width:null,__completed:null,__complete:function(){this.__completed||(this.bytesLoaded<this.bytesTotal&&(this.bytesLoaded=this.bytesTotal),this.__update(this.bytesLoaded,this.bytesTotal),this.__completed=!0,this.dispatchEvent(new J("complete")))},__update:function(a,b){this.bytesLoaded=a;this.bytesTotal=b;this.dispatchEvent(new Yd("progress",!1,!1,a,b))},__class__:te});
var bl=function(a,b,c,d){this.id=a;this.depth=b;this.clipDepth=c;this.displayObject=d};k["openfl.display._MovieClip.TimelineObject"]=bl;bl.__name__=["openfl","display","_MovieClip","TimelineObject"];bl.prototype={clipDepth:null,depth:null,displayObject:null,id:null,__class__:bl};var tf=function(){aa.call(this)};k["openfl.display.OpenGLView"]=tf;tf.__name__=["openfl","display","OpenGLView"];tf.__properties__={get_isSupported:"get_isSupported"};tf.get_isSupported=function(){if(!window.WebGLRenderingContext)return!1;
if(null!=g.context)return!0;var a=window.document.createElement("canvas"),b=a.getContext("webgl");null==b&&(b=a.getContext("experimental-webgl"));return null!=b};tf.__super__=fh;tf.prototype=t(fh.prototype,{__added:null,__initialized:null,__renderCanvas:function(a){},__renderDOM:function(a){null!=this.stage&&this.__worldVisible&&this.__renderable?(this.__added||(a.element.appendChild(this.__canvas),this.__added=!0,Mb.initializeElement(this,this.__canvas,a)),null!=this.__context&&(a=null,a=null==this.__scrollRect?
new ha(0,0,this.stage.stageWidth,this.stage.stageHeight):new ha(this.get_x()+this.__scrollRect.x,this.get_y()+this.__scrollRect.y,this.__scrollRect.width,this.__scrollRect.height),null!=this.__render&&this.__render(a))):this.__added&&(a.element.removeChild(this.__canvas),this.__added=!1)},__renderGL:function(a){if(null!=this.stage&&this.__renderable){var b=null,b=null==this.__scrollRect?new ha(0,0,this.stage.stageWidth,this.stage.stageHeight):new ha(this.get_x()+this.__scrollRect.x,this.get_y()+this.__scrollRect.y,
this.__scrollRect.width,this.__scrollRect.height);a.shaderManager.setShader(null);a.blendModeManager.setBlendMode(null);null!=this.__render&&this.__render(b)}},__class__:tf});var ol=function(a){null==a&&(a=!1);this.fastCompression=a};k["openfl.display.PNGEncoderOptions"]=ol;ol.__name__=["openfl","display","PNGEncoderOptions"];ol.prototype={fastCompression:null,__class__:ol};var ih={};k["openfl.display._PixelSnapping.PixelSnapping_Impl_"]=ih;ih.__name__=["openfl","display","_PixelSnapping","PixelSnapping_Impl_"];
ih.fromString=function(a){switch(a){case "always":return 0;case "auto":return 1;case "never":return 2;default:return null}};ih.toString=function(a){switch(a){case 0:return"always";case 1:return"auto";case 2:return"never";default:return null}};var xh=function(a){mf.call(this);this.display=a;null!=a&&(a.addEventListener("unload",n(this,this.display_onUnload)),ia.current.addChild(a))};k["openfl.display.Preloader"]=xh;xh.__name__=["openfl","display","Preloader"];xh.__super__=mf;xh.prototype=t(mf.prototype,
{display:null,ready:null,start:function(){if(!this.simulateProgress)if(this.ready=!0,ia.current.get_loaderInfo().__complete(),null!=this.display){var a=new J("complete",!0,!0);this.display.dispatchEvent(a);a.isDefaultPrevented()||this.display.dispatchEvent(new J("unload"))}else mf.prototype.start.call(this)},update:function(a,b){ia.current.get_loaderInfo().__update(a,b);null!=this.display&&this.display.dispatchEvent(new Yd("progress",!0,!0,a,b))},display_onUnload:function(a){null!=this.display&&(this.display.removeEventListener("unload",
n(this,this.display_onUnload)),this.display.parent==ia.current&&ia.current.removeChild(this.display),ia.current.stage.set_focus(null),this.display=null);this.ready&&!this.simulateProgress&&mf.prototype.start.call(this)},__class__:xh});var yh=function(){wa.call(this);var a=this.getBackgroundColor(),b=0;70>.299*(a>>16&255)+.587*(a>>8&255)+.114*(a&255)&&(b=16777215);var a=this.getHeight()/2-3.5,c=this.getWidth()-60;this.outline=new wa;this.outline.get_graphics().beginFill(b,.07);this.outline.get_graphics().drawRect(0,
0,c,7);this.outline.set_x(30);this.outline.set_y(a);this.outline.set_alpha(0);this.addChild(this.outline);this.progress=new wa;this.progress.get_graphics().beginFill(b,.35);this.progress.get_graphics().drawRect(0,0,c-4,3);this.progress.set_x(32);this.progress.set_y(a+2);this.progress.set_scaleX(0);this.progress.set_alpha(0);this.addChild(this.progress);this.startAnimation=ia.getTimer()+100;this.endAnimation=this.startAnimation+1E3;this.addEventListener("addedToStage",n(this,this.this_onAddedToStage))};
k["openfl.display.DefaultPreloader"]=yh;yh.__name__=["openfl","display","DefaultPreloader"];yh.__super__=wa;yh.prototype=t(wa.prototype,{endAnimation:null,outline:null,progress:null,startAnimation:null,getBackgroundColor:function(){return ia.current.stage.window.config.background},getHeight:function(){var a=ia.current.stage.window.config.height;return 0<a?a:ia.current.stage.stageHeight},getWidth:function(){var a=ia.current.stage.window.config.width;return 0<a?a:ia.current.stage.stageWidth},onInit:function(){this.addEventListener("enterFrame",
n(this,this.this_onEnterFrame))},onLoaded:function(){this.removeEventListener("enterFrame",n(this,this.this_onEnterFrame));this.dispatchEvent(new J("unload"))},onUpdate:function(a,b){var c=0;0<b&&(c=a/b,1<c&&(c=1));this.progress.set_scaleX(c)},this_onAddedToStage:function(a){this.removeEventListener("addedToStage",n(this,this.this_onAddedToStage));this.onInit();this.onUpdate(this.get_loaderInfo().bytesLoaded,this.get_loaderInfo().bytesTotal);this.addEventListener("progress",n(this,this.this_onProgress));
this.addEventListener("complete",n(this,this.this_onComplete))},this_onComplete:function(a){var b=this;a.preventDefault();this.removeEventListener("progress",n(this,this.this_onProgress));this.removeEventListener("complete",n(this,this.this_onComplete));this.addEventListener("complete",function(a){b.dispatchEvent(new J("unload"))});this.onLoaded()},this_onEnterFrame:function(a){a=(ia.getTimer()-this.startAnimation)/(this.endAnimation-this.startAnimation);0>a&&(a=0);1<a&&(a=1);this.outline.set_alpha(a);
this.progress.set_alpha(a)},this_onProgress:function(a){this.onUpdate(a.bytesLoaded|0,a.bytesTotal|0)},__class__:yh});var Tc=function(a){this.__data=new Zd(null);null==this.__glFragmentSource&&(this.__glFragmentSource="varying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\tuniform sampler2D uImage0;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvec4 color = texture2D (uImage0, vTexCoord);\n\t\t\t\n\t\t\tif (color.a == 0.0) {\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tgl_FragColor = color * vAlpha;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}");
null==this.__glVertexSource&&(this.__glVertexSource="attribute float aAlpha;\n\t\tattribute vec4 aPosition;\n\t\tattribute vec2 aTexCoord;\n\t\tvarying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\t\n\t\tuniform mat4 uMatrix;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvAlpha = aAlpha;\n\t\t\tvTexCoord = aTexCoord;\n\t\t\tgl_Position = uMatrix * aPosition;\n\t\t\t\n\t\t}");this.byteCode=a;this.precisionHint=1;this.__glSourceDirty=!0;this.__numPasses=1};k["openfl.display.Shader"]=Tc;Tc.__name__=
["openfl","display","Shader"];Tc.prototype={byteCode:null,glProgram:null,precisionHint:null,gl:null,__data:null,__glFragmentSource:null,__glSourceDirty:null,__glVertexSource:null,__isUniform:null,__inputBitmapData:null,__numPasses:null,__paramBool:null,__paramFloat:null,__paramInt:null,__uniformMatrix2:null,__uniformMatrix3:null,__uniformMatrix4:null,__disable:function(){null!=this.glProgram&&this.__disableGL()},__disableGL:function(){null!=this.get_data().uImage0&&(this.get_data().uImage0.input=
null);for(var a=0,b=this.__paramBool;a<b.length;){var c=b[a];++a;this.gl.__context.disableVertexAttribArray(c.index)}a=0;for(b=this.__paramFloat;a<b.length;)c=b[a],++a,this.gl.__context.disableVertexAttribArray(c.index);a=0;for(b=this.__paramInt;a<b.length;)c=b[a],++a,this.gl.__context.disableVertexAttribArray(c.index);this.gl.__context.bindBuffer(this.gl.ARRAY_BUFFER,null);this.gl.__context.bindTexture(this.gl.TEXTURE_2D,null);this.gl.type==uc.OPENGL&&this.gl.__context.disable(this.gl.TEXTURE_2D)},
__enable:function(){this.__init();null!=this.glProgram&&this.__enableGL()},__enableGL:function(){for(var a=0,b=0,c=this.__inputBitmapData;b<c.length;){var d=c[b];++b;this.gl.__context.uniform1i(d.index,a);++a}this.gl.type==uc.OPENGL&&0<a&&this.gl.__context.enable(this.gl.TEXTURE_2D)},__init:function(){null==this.__data&&(this.__data=new Zd(null));null==this.__glFragmentSource||null==this.__glVertexSource||null!=this.glProgram&&!this.__glSourceDirty||this.__initGL()},__initGL:function(){if(this.__glSourceDirty||
null==this.__isUniform)this.__glSourceDirty=!1,this.glProgram=null,this.__isUniform=new pa,this.__inputBitmapData=[],this.__paramBool=[],this.__paramFloat=[],this.__paramInt=[],this.__uniformMatrix2=new ra(4),this.__uniformMatrix3=new ra(9),this.__uniformMatrix4=new ra(16),this.__processGLData(this.get_glVertexSource(),"attribute"),this.__processGLData(this.get_glVertexSource(),"uniform"),this.__processGLData(this.get_glFragmentSource(),"uniform");if(null!=this.gl&&null==this.glProgram){var a="#ifdef GL_ES\n\t\t\t\tprecision "+
(1==this.precisionHint?"mediump":"lowp")+" float;\n\t\t\t\t#endif\n\t\t\t\t"+this.get_glFragmentSource();this.glProgram=Pg.createProgram(this.get_glVertexSource(),a);if(null!=this.glProgram){for(var a=0,b=this.__inputBitmapData;a<b.length;){var c=b[a];++a;var d=c.name,e=this.__isUniform;(null!=u[d]?e.getReserved(d):e.h[d])?c.index=this.gl.__context.getUniformLocation(this.glProgram,c.name):c.index=this.gl.__context.getAttribLocation(this.glProgram,c.name)}a=0;for(b=this.__paramBool;a<b.length;)c=
b[a],++a,d=c.name,e=this.__isUniform,(null!=u[d]?e.getReserved(d):e.h[d])?c.index=this.gl.__context.getUniformLocation(this.glProgram,c.name):c.index=this.gl.__context.getAttribLocation(this.glProgram,c.name);a=0;for(b=this.__paramFloat;a<b.length;)c=b[a],++a,d=c.name,e=this.__isUniform,(null!=u[d]?e.getReserved(d):e.h[d])?c.index=this.gl.__context.getUniformLocation(this.glProgram,c.name):c.index=this.gl.__context.getAttribLocation(this.glProgram,c.name);a=0;for(b=this.__paramInt;a<b.length;)c=b[a],
++a,d=c.name,e=this.__isUniform,(null!=u[d]?e.getReserved(d):e.h[d])?c.index=this.gl.__context.getUniformLocation(this.glProgram,c.name):c.index=this.gl.__context.getAttribLocation(this.glProgram,c.name)}}},__processGLData:function(a,b){var c=0,d,e;for(d="uniform"==b?new Ba("uniform ([A-Za-z0-9]+) ([A-Za-z0-9]+)",""):new Ba("attribute ([A-Za-z0-9]+) ([A-Za-z0-9]+)","");d.matchSub(a,c);){e=d.matched(1);c=d.matched(2);if(fa.startsWith(e,"sampler"))e=new ql,e.name=c,this.__inputBitmapData.push(e),this.get_data()[c]=
e;else{switch(e){case "bool":e=0;break;case "bvec2":e=1;break;case "bvec3":e=2;break;case "bvec4":e=3;break;case "dvec2":case "vec2":e=5;break;case "dvec3":case "vec3":e=6;break;case "double":case "float":e=4;break;case "ivec3":case "uvec3":e=10;break;case "ivec4":case "uvec4":e=11;break;case "mat2":case "mat2x2":e=12;break;case "mat2x3":e=13;break;case "mat2x4":e=14;break;case "mat3x2":e=15;break;case "mat3":case "mat3x3":e=16;break;case "mat3x4":e=17;break;case "mat4":case "mat4x4":e=20;break;case "mat4x2":e=
18;break;case "mat4x3":e=19;break;case "int":case "uint":e=8;break;case "ivec2":case "uvec2":e=9;break;case "dvec4":case "vec4":e=7;break;default:e=null}switch(e){case 0:case 1:case 2:case 3:var f=new jh;f.name=c;f.type=e;this.__paramBool.push(f);this.get_data()[c]=f;break;case 8:case 9:case 10:case 11:f=new jh;f.name=c;f.type=e;this.__paramInt.push(f);this.get_data()[c]=f;break;default:f=new jh,f.name=c,f.type=e,this.__paramFloat.push(f),this.get_data()[c]=f}}e=this.__isUniform;f="uniform"==b;null!=
u[c]?e.setReserved(c,f):e.h[c]=f;c=d.matchedPos();c=c.pos+c.len}},__update:function(){null!=this.glProgram&&this.__updateGL()},__updateGL:function(){for(var a=0,b=0,c=this.__inputBitmapData;b<c.length;){var d=c[b];++b;if(null!=d.input){this.gl.__context.activeTexture(this.gl.TEXTURE0+a);var e=this.gl,f=this.gl.TEXTURE_2D,g=d.input.getTexture(this.gl);e.__context.bindTexture(f,g);d.smoothing?(this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,
this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR)):(this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST))}++a}b=a=0;for(c=this.__paramBool;b<c.length;)if(d=c[b],++b,e=d.value,a=d.index,null!=e)switch(d.type){case 0:this.gl.__context.uniform1i(a,e[0]?1:0);break;case 1:this.gl.__context.uniform2i(a,e[0]?1:0,e[1]?1:0);break;case 2:this.gl.__context.uniform3i(a,e[0]?1:0,e[1]?
1:0,e[2]?1:0);break;case 3:this.gl.__context.uniform4i(a,e[0]?1:0,e[1]?1:0,e[2]?1:0,e[3]?1:0)}else e=d.name,f=this.__isUniform,(null!=u[e]?f.getReserved(e):f.h[e])||this.gl.__context.enableVertexAttribArray(d.index);b=0;for(c=this.__paramFloat;b<c.length;)if(e=c[b],++b,d=e.value,a=e.index,null!=d)switch(e.type){case 4:this.gl.__context.uniform1f(a,d[0]);break;case 5:this.gl.__context.uniform2f(a,d[0],d[1]);break;case 6:this.gl.__context.uniform3f(a,d[0],d[1],d[2]);break;case 7:this.gl.__context.uniform4f(a,
d[0],d[1],d[2],d[3]);break;case 12:for(e=0;4>e;)f=e++,this.__uniformMatrix2[f]=d[f];this.gl.uniformMatrix2fv(a,1,!1,this.__uniformMatrix2);break;case 16:for(e=0;9>e;)f=e++,this.__uniformMatrix3[f]=d[f];this.gl.uniformMatrix3fv(a,1,!1,this.__uniformMatrix3);break;case 20:for(e=0;16>e;)f=e++,this.__uniformMatrix4[f]=d[f];this.gl.uniformMatrix4fv(a,1,!1,this.__uniformMatrix4)}else d=e.name,f=this.__isUniform,(null!=u[d]?f.getReserved(d):f.h[d])||this.gl.__context.enableVertexAttribArray(e.index);b=0;
for(c=this.__paramInt;b<c.length;)if(d=c[b],++b,e=d.value,null!=e)switch(d.type){case 8:this.gl.__context.uniform1i(a,e[0]);break;case 9:this.gl.__context.uniform2i(a,e[0],e[1]);break;case 10:this.gl.__context.uniform3i(a,e[0],e[1],e[2]);break;case 11:this.gl.__context.uniform4i(a,e[0],e[1],e[2],e[3])}else e=d.name,f=this.__isUniform,(null!=u[e]?f.getReserved(e):f.h[e])||this.gl.__context.enableVertexAttribArray(d.index)},get_data:function(){(this.__glSourceDirty||null==this.__data)&&this.__init();
return this.__data},set_data:function(a){return this.__data=a},get_glFragmentSource:function(){return this.__glFragmentSource},set_glFragmentSource:function(a){a!=this.__glFragmentSource&&(this.__glSourceDirty=!0);return this.__glFragmentSource=a},get_glVertexSource:function(){return this.__glVertexSource},set_glVertexSource:function(a){a!=this.__glFragmentSource&&(this.__glSourceDirty=!0);return this.__glFragmentSource=a},__class__:Tc,__properties__:{set_glVertexSource:"set_glVertexSource",get_glVertexSource:"get_glVertexSource",
set_glFragmentSource:"set_glFragmentSource",get_glFragmentSource:"get_glFragmentSource",set_data:"set_data",get_data:"get_data"}};var Zd=function(a){};k["openfl.display.ShaderData"]=Zd;Zd.__name__=["openfl","display","ShaderData"];Zd.prototype={aAlpha:null,aPosition:null,aTexCoord:null,uImage0:null,uMatrix:null,__class__:Zd};var ql=function(){this.width=this.index=this.height=this.channels=0};k["openfl.display.ShaderInput"]=ql;ql.__name__=["openfl","display","ShaderInput"];ql.prototype={channels:null,
height:null,index:null,input:null,name:null,smoothing:null,width:null,__class__:ql};var jh=function(){this.index=0};k["openfl.display.ShaderParameter"]=jh;jh.__name__=["openfl","display","ShaderParameter"];jh.prototype={index:null,name:null,type:null,value:null,__class__:jh};var Gb={};k["openfl.display._ShaderParameterType.ShaderParameterType_Impl_"]=Gb;Gb.__name__=["openfl","display","_ShaderParameterType","ShaderParameterType_Impl_"];Gb.fromString=function(a){switch(a){case "bool":return 0;case "bool2":return 1;
case "bool3":return 1;case "bool4":return 1;case "float":return 4;case "float2":return 5;case "float3":return 6;case "float4":return 7;case "int":return 8;case "int2":return 9;case "int3":return 10;case "int4":return 11;case "matrix2x2":return 12;case "matrix2x3":return 13;case "matrix2x4":return 14;case "matrix3x2":return 15;case "matrix3x3":return 16;case "matrix3x4":return 17;case "matrix4x2":return 18;case "matrix4x3":return 19;case "matrix4x4":return 20;default:return null}};Gb.toString=function(a){switch(a){case 0:return"bool";
case 1:return"bool2";case 2:return"bool3";case 3:return"bool4";case 4:return"float";case 5:return"float2";case 6:return"float3";case 7:return"float4";case 8:return"int";case 9:return"int2";case 10:return"int3";case 11:return"int4";case 12:return"matrix2x2";case 13:return"matrix2x3";case 14:return"matrix2x4";case 15:return"matrix3x2";case 16:return"matrix3x3";case 17:return"matrix3x4";case 18:return"matrix4x2";case 19:return"matrix4x3";case 20:return"matrix4x4";default:return null}};var Cj={};k["openfl.display._ShaderPrecision.ShaderPrecision_Impl_"]=
Cj;Cj.__name__=["openfl","display","_ShaderPrecision","ShaderPrecision_Impl_"];Cj.fromString=function(a){switch(a){case "fast":return 0;case "full":return 1;default:return null}};Cj.toString=function(a){switch(a){case 0:return"fast";case 1:return"full";default:return null}};var rd=function(a,b,c,d){Ya.call(this);this.enabled=!0;this.trackAsMenu=!1;this.useHandCursor=!0;this.set_upState(null!=a?a:new aa);this.set_overState(b);this.set_downState(c);this.set_hitTestState(null!=d?d:new aa);this.addEventListener("mouseDown",
n(this,this.__this_onMouseDown));this.addEventListener("mouseOut",n(this,this.__this_onMouseOut));this.addEventListener("mouseOver",n(this,this.__this_onMouseOver));this.addEventListener("mouseUp",n(this,this.__this_onMouseUp));this.set___currentState(this.upState);null!=rd.__initSymbol&&(a=rd.__initSWF,this.__symbol=rd.__initSymbol,rd.__initSWF=null,rd.__initSymbol=null,this.__fromSymbol(a,this.__symbol))};k["openfl.display.SimpleButton"]=rd;rd.__name__=["openfl","display","SimpleButton"];rd.__super__=
Ya;rd.prototype=t(Ya.prototype,{downState:null,enabled:null,hitTestState:null,overState:null,trackAsMenu:null,upState:null,useHandCursor:null,__currentState:null,__ignoreEvent:null,__previousStates:null,__soundTransform:null,__symbol:null,__fromSymbol:function(a,b){this.__symbol=b;null!=b.downState&&this.set_downState(b.downState.__createObject(a));null!=b.hitState&&this.set_hitTestState(b.hitState.__createObject(a));null!=b.overState&&this.set_overState(b.overState.__createObject(a));null!=b.upState&&
this.set_upState(b.upState.__createObject(a))},__getBounds:function(a,b){Ya.prototype.__getBounds.call(this,a,b);null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));this.__currentState.__getBounds(a,this.__currentState.__worldTransform);null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))},__getRenderBounds:function(a,b){null!=this.__scrollRect?Ya.prototype.__getRenderBounds.call(this,a,b):(Ya.prototype.__getBounds.call(this,a,b),null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0)),
this.__currentState.__getRenderBounds(a,this.__currentState.__worldTransform),null!=b&&(this.__updateTransforms(),this.__updateChildren(!0)))},__getCursor:function(){return this.useHandCursor&&!this.__ignoreEvent?da.POINTER:null},__hitTest:function(a,b,c,d,e,f){var g=!1;if(null!=this.hitTestState){var k=this.__updateTransform(this.hitTestState);this.hitTestState.__hitTest(a,b,c,d,e,f)&&(null!=d&&(d[d.length-1]=f),g=!0);this.__resetTransform(this.hitTestState,k)}else if(null!=this.__currentState){if(!f.get_visible()||
this.__isMask||e&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;k=this.__updateTransform(this.__currentState);this.__currentState.__hitTest(a,b,c,d,e,f)&&(g=e);this.__resetTransform(this.__currentState,k)}if(null!=d)for(;1<d.length&&d[d.length-1]==d[d.length-2];)d.pop();return g},__hitTestMask:function(a,b){var c=!1,d=this.__updateTransform(this.__currentState);this.__currentState.__hitTestMask(a,b)&&(c=!0);this.__resetTransform(this.__currentState,d);return c},
__renderCairo:function(a){!this.__renderable||0>=this.__worldAlpha||(a.maskManager.pushObject(this),this.__currentState.__renderCairo(a),a.maskManager.popObject(this))},__renderCairoMask:function(a){this.__currentState.__renderCairoMask(a)},__renderCanvas:function(a){!this.__renderable||0>=this.__worldAlpha||(a.maskManager.pushObject(this),this.__currentState.__renderCanvas(a),a.maskManager.popObject(this))},__renderCanvasMask:function(a){var b=new ha;this.__getBounds(b,this.__transform);a.context.rect(0,
0,b.width,b.height);this.__currentState.__renderCanvasMask(a)},__renderDOM:function(a){a.maskManager.pushObject(this);for(var b=0,c=this.__previousStates;b<c.get_length();){var d=c.get(b);++b;d.__renderDOM(a)}this.__previousStates.set_length(0);this.__currentState.__renderDOM(a);a.maskManager.popObject(this)},__renderGL:function(a){!this.__renderable||0>=this.__worldAlpha||(a.maskManager.pushObject(this),this.__currentState.__renderGL(a),a.maskManager.popObject(this))},__resetTransform:function(a,
b){a.__updateTransforms(b);a.__updateChildren(!1)},__setStageReference:function(a){Ya.prototype.__setStageReference.call(this,a);null!=this.__currentState&&this.__currentState.__setStageReference(a)},__updateTransform:function(a){var b=a.__transform,c=this.__worldTransform,d=Ma.__temp;d.a=b.a*c.a+b.b*c.c;d.b=b.a*c.b+b.b*c.d;d.c=b.c*c.a+b.d*c.c;d.d=b.c*c.b+b.d*c.d;d.tx=b.tx*c.a+b.ty*c.c+c.tx;d.ty=b.tx*c.b+b.ty*c.d+c.ty;b=a.__transform;a.__transform=d;a.__update(!1,!0);return a.__transform=b},__updateTransforms:function(a){Ya.prototype.__updateTransforms.call(this,
a);this.__updateTransform(this.__currentState)},set_downState:function(a){null!=this.downState&&this.__currentState==this.downState&&this.set___currentState(a);return this.downState=a},set_hitTestState:function(a){return this.hitTestState=a},set_overState:function(a){null!=this.overState&&this.__currentState==this.overState&&this.set___currentState(a);return this.overState=a},get_soundTransform:function(){null==this.__soundTransform&&(this.__soundTransform=new qd);return new qd(this.__soundTransform.volume,
this.__soundTransform.pan)},set_soundTransform:function(a){this.__soundTransform=new qd(a.volume,a.pan);return a},set_upState:function(a){null!=this.upState&&this.__currentState==this.upState&&this.set___currentState(a);return this.upState=a},set___currentState:function(a){null!=this.__currentState&&(this.__currentState.__renderParent=null);null!=a.parent&&a.parent.removeChild(a);a.__renderParent=this;return this.__currentState=a},__this_onMouseDown:function(a){null!=this.downState&&this.set___currentState(this.downState)},
__this_onMouseOut:function(a){this.__ignoreEvent=!1;this.upState!=this.__currentState&&this.set___currentState(this.upState)},__this_onMouseOver:function(a){a.buttonDown&&(this.__ignoreEvent=!0);this.overState==this.__currentState||null==this.overState||this.__ignoreEvent||this.set___currentState(this.overState)},__this_onMouseUp:function(a){this.__ignoreEvent=!1;null!=this.overState?this.set___currentState(this.overState):this.set___currentState(this.upState)},__class__:rd,__properties__:t(Ya.prototype.__properties__,
{set___currentState:"set___currentState",set_upState:"set_upState",set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_overState:"set_overState",set_hitTestState:"set_hitTestState",set_downState:"set_downState"})});var kh={};k["openfl.display._SpreadMethod.SpreadMethod_Impl_"]=kh;kh.__name__=["openfl","display","_SpreadMethod","SpreadMethod_Impl_"];kh.fromString=function(a){switch(a){case "pad":return 0;case "reflect":return 1;case "repeat":return 2;default:return null}};
kh.toString=function(a){switch(a){case 0:return"pad";case 1:return"reflect";case 2:return"repeat";default:return null}};var lh=function(a,b){Nb.call(this);this.application=a.application;this.window=a;null==b?(this.__transparent=!0,this.set_color(0)):this.set_color(b);this.set_name(null);this.__deltaTime=0;this.__displayState=2;this.__logicalHeight=this.__logicalWidth=this.__lastClickTime=this.__mouseY=this.__mouseX=0;this.__displayMatrix=new Ma;this.stage3Ds=D.toObjectVector(null);this.stage3Ds.push(new Dj);
this.__resize();this.stage=this;this.align=6;this.allowsFullScreenInteractive=this.allowsFullScreen=!1;this.quality=1;this.scaleMode=2;this.showDefaultContextMenu=!0;this.softKeyboardRect=new ha;this.stageFocusRect=!0;this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform);this.__clearBeforeRender=!0;this.__stack=[];this.__rollOutStack=[];null==ia.current.stage&&this.stage.addChild(ia.current)};k["openfl.display.Stage"]=lh;
lh.__name__=["openfl","display","Stage"];lh.__interfaces__=[zi];lh.__super__=Nb;lh.prototype=t(Nb.prototype,{align:null,allowsFullScreen:null,allowsFullScreenInteractive:null,application:null,quality:null,scaleMode:null,showDefaultContextMenu:null,softKeyboardRect:null,stage3Ds:null,stageFocusRect:null,stageHeight:null,stageWidth:null,window:null,__cacheFocus:null,__clearBeforeRender:null,__color:null,__colorSplit:null,__colorString:null,__deltaTime:null,__dirty:null,__displayMatrix:null,__displayState:null,
__dragBounds:null,__dragObject:null,__dragOffsetX:null,__dragOffsetY:null,__focus:null,__fullscreen:null,__invalidated:null,__lastClickTime:null,__logicalWidth:null,__logicalHeight:null,__macKeyboard:null,__mouseDownLeft:null,__mouseDownMiddle:null,__mouseDownRight:null,__mouseOverTarget:null,__mouseX:null,__mouseY:null,__primaryTouch:null,__renderer:null,__rendering:null,__rollOutStack:null,__stack:null,__transparent:null,__wasDirty:null,addRenderer:function(a){var b=n(this,this.render);a.onRender.add(function(){b(a)});
var c=n(this,this.onRenderContextLost);a.onContextLost.add(function(){c(a)});var d=n(this,this.onRenderContextRestored);a.onContextRestored.add(function(b){d(a,b)})},addWindow:function(a){if(this.window==a){var b=n(this,this.onWindowActivate);a.onActivate.add(function(){b(a)});var c=n(this,this.onWindowClose);a.onClose.add(function(){c(a)},!1,-9E3);var d=n(this,this.onWindowCreate);a.onCreate.add(function(){d(a)});var e=n(this,this.onWindowDeactivate);a.onDeactivate.add(function(){e(a)});var f=n(this,
this.onWindowDropFile);a.onDropFile.add(function(b){f(a,b)});var g=n(this,this.onWindowEnter);a.onEnter.add(function(){g(a)});var k=n(this,this.onWindowFocusIn);a.onFocusIn.add(function(){k(a)});var m=n(this,this.onWindowFocusOut);a.onFocusOut.add(function(){m(a)});var h=n(this,this.onWindowFullscreen);a.onFullscreen.add(function(){h(a)});var l=n(this,this.onKeyDown);a.onKeyDown.add(function(b,c){l(a,b,c)});var q=n(this,this.onKeyUp);a.onKeyUp.add(function(b,c){q(a,b,c)});var r=n(this,this.onWindowLeave);
a.onLeave.add(function(){r(a)});var t=n(this,this.onWindowMinimize);a.onMinimize.add(function(){t(a)});var v=n(this,this.onMouseDown);a.onMouseDown.add(function(b,c,d){v(a,b,c,d)});var u=n(this,this.onMouseMove);a.onMouseMove.add(function(b,c){u(a,b,c)});var w=n(this,this.onMouseMoveRelative);a.onMouseMoveRelative.add(function(b,c){w(a,b,c)});var y=n(this,this.onMouseUp);a.onMouseUp.add(function(b,c,d){y(a,b,c,d)});var x=n(this,this.onMouseWheel);a.onMouseWheel.add(function(b,c){x(a,b,c)});var z=
n(this,this.onWindowMove);a.onMove.add(function(b,c){z(a,b,c)});var B=n(this,this.onWindowResize);a.onResize.add(function(b,c){B(a,b,c)});var D=n(this,this.onWindowRestore);a.onRestore.add(function(){D(a)});var E=n(this,this.onTextEdit);a.onTextEdit.add(function(b,c,d){E(a,b,c,d)});var F=n(this,this.onTextInput);a.onTextInput.add(function(b){F(a,b)});if(-1<a.id)this.onWindowCreate(a)}},registerModule:function(a){a.onExit.add(n(this,this.onModuleExit),!1,0);a.onUpdate.add(n(this,this.update));for(a=
wb.devices.iterator();a.hasNext();){var b=a.next();this.__onGamepadConnect(b)}wb.onConnect.add(n(this,this.__onGamepadConnect));Sb.onStart.add(n(this,this.onTouchStart));Sb.onMove.add(n(this,this.onTouchMove));Sb.onEnd.add(n(this,this.onTouchEnd))},removeRenderer:function(a){},removeWindow:function(a){},setPreloader:function(a){},unregisterModule:function(a){a.onExit.remove(n(this,this.onModuleExit));a.onUpdate.remove(n(this,this.update));wb.onConnect.remove(n(this,this.__onGamepadConnect));Sb.onStart.remove(n(this,
this.onTouchStart));Sb.onMove.remove(n(this,this.onTouchMove));Sb.onEnd.remove(n(this,this.onTouchEnd))},globalToLocal:function(a){return a.clone()},invalidate:function(){this.__invalidated=!0},localToGlobal:function(a){return a.clone()},onGamepadAxisMove:function(a,b,c){try{Ja.__onGamepadAxisMove(a,b,c)}catch(d){Aa.lastException=d,d instanceof F&&(d=d.val),this.__handleError(d)}},onGamepadButtonDown:function(a,b){try{Ja.__onGamepadButtonDown(a,b)}catch(c){Aa.lastException=c,c instanceof F&&(c=c.val),
this.__handleError(c)}},onGamepadButtonUp:function(a,b){try{Ja.__onGamepadButtonUp(a,b)}catch(c){Aa.lastException=c,c instanceof F&&(c=c.val),this.__handleError(c)}},onGamepadConnect:function(a){try{Ja.__onGamepadConnect(a)}catch(b){Aa.lastException=b,b instanceof F&&(b=b.val),this.__handleError(b)}},onGamepadDisconnect:function(a){try{Ja.__onGamepadDisconnect(a)}catch(b){Aa.lastException=b,b instanceof F&&(b=b.val),this.__handleError(b)}},onJoystickAxisMove:function(a,b,c){},onJoystickButtonDown:function(a,
b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,c){},onKeyDown:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__onKey("keyDown",b,c)}catch(d){Aa.lastException=d,d instanceof F&&(d=d.val),this.__handleError(d)}},onKeyUp:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__onKey("keyUp",b,c)}catch(d){Aa.lastException=d,d instanceof F&&(d=d.val),
this.__handleError(d)}},onModuleExit:function(a){if(null!=this.window)try{this.__broadcastEvent(new J("deactivate"))}catch(b){Aa.lastException=b,b instanceof F&&(b=b.val),this.__handleError(b)}},onMouseDown:function(a,b,c,d){if(null!=this.window&&this.window==a)try{var e;switch(d){case 1:e="middleMouseDown";break;case 2:e="rightMouseDown";break;default:e="mouseDown"}this.__onMouse(e,b*a.__scale|0,c*a.__scale|0,d)}catch(f){Aa.lastException=f,f instanceof F&&(f=f.val),this.__handleError(f)}},onMouseMove:function(a,
b,c){if(null!=this.window&&this.window==a)try{this.__onMouse("mouseMove",b*a.__scale|0,c*a.__scale|0,0)}catch(d){Aa.lastException=d,d instanceof F&&(d=d.val),this.__handleError(d)}},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){if(null!=this.window&&this.window==a)try{var e;switch(d){case 1:e="middleMouseUp";break;case 2:e="rightMouseUp";break;default:e="mouseUp"}this.__onMouse(e,b*a.__scale|0,c*a.__scale|0,d);this.showDefaultContextMenu||2!=d||a.onMouseUp.cancel()}catch(f){Aa.lastException=
f,f instanceof F&&(f=f.val),this.__handleError(f)}},onMouseWheel:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__onMouseWheel(b*a.__scale|0,c*a.__scale|0)}catch(d){Aa.lastException=d,d instanceof F&&(d=d.val),this.__handleError(d)}},onPreloadComplete:function(){},onPreloadProgress:function(a,b){},onRenderContextLost:function(a){this.__renderer=null},onRenderContextRestored:function(a,b){this.__createRenderer()},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){if(null!=this.window&&
this.window==a)try{var c=[];null==this.__focus?this.__getInteractive(c):this.__focus.__getInteractive(c);var d=new td("textInput",!0,!1,b);0<c.length?(c.reverse(),this.__fireEvent(d,c)):this.__dispatchEvent(d)}catch(e){Aa.lastException=e,e instanceof F&&(e=e.val),this.__handleError(e)}},onTouchMove:function(a){try{this.__onTouch("touchMove",a)}catch(b){Aa.lastException=b,b instanceof F&&(b=b.val),this.__handleError(b)}},onTouchEnd:function(a){try{this.__primaryTouch==a&&(this.__primaryTouch=null),
this.__onTouch("touchEnd",a)}catch(b){Aa.lastException=b,b instanceof F&&(b=b.val),this.__handleError(b)}},onTouchStart:function(a){try{null==this.__primaryTouch&&(this.__primaryTouch=a),this.__onTouch("touchBegin",a)}catch(b){Aa.lastException=b,b instanceof F&&(b=b.val),this.__handleError(b)}},onWindowActivate:function(a){},onWindowClose:function(a){this.window==a&&(this.window=null);try{this.__primaryTouch=null,this.__broadcastEvent(new J("deactivate"))}catch(b){Aa.lastException=b,b instanceof F&&
(b=b.val),this.__handleError(b)}},onWindowCreate:function(a){if(null!=this.window&&this.window==a)try{null!=a.renderer&&this.__createRenderer()}catch(b){Aa.lastException=b,b instanceof F&&(b=b.val),this.__handleError(b)}},onWindowDeactivate:function(a){},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){if(null!=this.window&&this.window==a)try{this.__broadcastEvent(new J("activate")),this.set_focus(this.__cacheFocus)}catch(b){Aa.lastException=b,b instanceof F&&
(b=b.val),this.__handleError(b)}},onWindowFocusOut:function(a){if(null!=this.window&&this.window==a)try{this.__primaryTouch=null;this.__broadcastEvent(new J("deactivate"));var b=this.get_focus();this.set_focus(null);this.__cacheFocus=b}catch(c){Aa.lastException=c,c instanceof F&&(c=c.val),this.__handleError(c)}},onWindowFullscreen:function(a){if(null!=this.window&&this.window==a)try{this.__resize(),2==this.__displayState&&(this.__displayState=1,this.__dispatchEvent(new ee("fullScreen",!1,!1,!1,!0)))}catch(b){Aa.lastException=
b,b instanceof F&&(b=b.val),this.__handleError(b)}},onWindowLeave:function(a){if(null!=this.window&&this.window==a)try{this.__dispatchEvent(new J("mouseLeave"))}catch(b){Aa.lastException=b,b instanceof F&&(b=b.val),this.__handleError(b)}},onWindowMinimize:function(a){},onWindowMove:function(a,b,c){},onWindowResize:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__resize(),2==this.__displayState||a.__fullscreen||(this.__displayState=2,this.__dispatchEvent(new ee("fullScreen",!1,!1,!0,
!0)))}catch(d){Aa.lastException=d,d instanceof F&&(d=d.val),this.__handleError(d)}},onWindowRestore:function(a){},render:function(a){if(null!=a.window&&a.window==this.window)try{null!=this.application&&0<this.application.__windows.length&&(this.__transformDirty||(this.__transformDirty=!0,aa.__worldTransformDirty++),this.__renderDirty||(this.__renderDirty=!0,aa.__worldRenderDirty++)),this.__rendering||(this.__rendering=!0,null!=this.__renderer&&this.__renderer.clear(),this.__broadcastEvent(new J("enterFrame")),
this.__broadcastEvent(new J("frameConstructed")),this.__broadcastEvent(new J("exitFrame")),this.__invalidated&&(this.__invalidated=!1,this.__broadcastEvent(new J("render"))),this.__renderable=!0,this.__enterFrame(this.__deltaTime),this.__deltaTime=0,this.__update(!1,!0),null!=this.__renderer&&this.__renderer.render(),this.__rendering=!1)}catch(b){Aa.lastException=b,b instanceof F&&(b=b.val),this.__handleError(b)}},update:function(a){this.__deltaTime=a},__broadcastEvent:function(a){var b=a.type,c=
aa.__broadcastEvents;if(null!=u[b]?c.existsReserved(b):c.h.hasOwnProperty(b))for(b=a.type,c=aa.__broadcastEvents,b=null!=u[b]?c.getReserved(b):c.h[b],c=0;c<b.length;){var d=b[c];++c;d.__dispatch(a)}},__createRenderer:function(){var a=this.window.renderer.context;switch(a[1]){case 0:this.__renderer=new Zf(this,a[2]);break;case 1:this.__renderer=new pj(this,a[2])}},__drag:function(a){var b=this.__dragObject.parent;if(null!=b){var b=b.__getWorldTransform(),c=b.a*b.d-b.b*b.c;if(0==c)a.x=-b.tx,a.y=-b.ty;
else{var d=1/c*(b.c*(b.ty-a.y)+b.d*(a.x-b.tx));a.y=1/c*(b.a*(a.y-b.ty)+b.b*(b.tx-a.x));a.x=d}}b=a.x+this.__dragOffsetX;a=a.y+this.__dragOffsetY;null!=this.__dragBounds&&(b<this.__dragBounds.x?b=this.__dragBounds.x:b>this.__dragBounds.get_right()&&(b=this.__dragBounds.get_right()),a<this.__dragBounds.y?a=this.__dragBounds.y:a>this.__dragBounds.get_bottom()&&(a=this.__dragBounds.get_bottom()));this.__dragObject.set_x(b);this.__dragObject.set_y(a)},__fireEvent:function(a,b){var c,d=b.length;if(0==d)a.eventPhase=
2,c=a.target,c.__dispatch(a);else{a.eventPhase=1;a.target=b[b.length-1];c=0;for(var e=d-1;c<e;){var f=c++;b[f].__dispatch(a);if(a.__isCanceled)return}a.eventPhase=2;c=a.target;c.__dispatch(a);if(!a.__isCanceled&&a.bubbles)for(a.eventPhase=3,d-=2;0<=d;){b[d].__dispatch(a);if(a.__isCanceled)break;--d}}},__getInteractive:function(a){null!=a&&a.push(this);return!0},__handleError:function(a){var b=new ig("uncaughtError",!0,!0,a);ia.current.__loaderInfo.uncaughtErrorEvents.dispatchEvent(b);if(!b.__preventDefault)throw a;
},__onKey:function(a,b,c){Ga.__altKey=qa.get_altKey(c);Ga.__commandKey=qa.get_metaKey(c);Ga.__ctrlKey=qa.get_ctrlKey(c);Ga.__shiftKey=qa.get_shiftKey(c);var d=[];null==this.__focus?this.__getInteractive(d):this.__focus.__getInteractive(d);if(0<d.length){var e;switch(b){case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:e=
3;break;case 1073742048:case 1073742049:case 1073742050:case 1073742051:e=1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:e=2;break;default:e=0}switch(b){case 8:b=8;break;case 9:b=9;break;case 13:b=13;break;case 27:b=27;break;case 32:b=32;break;case 33:b=49;break;case 34:b=222;break;case 35:b=51;break;case 36:b=52;break;case 37:b=53;break;case 38:b=55;break;case 39:b=222;break;case 40:b=57;break;case 41:b=48;break;case 42:b=56;break;case 44:b=188;break;case 45:b=189;break;
case 46:b=190;break;case 47:b=191;break;case 48:b=48;break;case 49:b=49;break;case 50:b=50;break;case 51:b=51;break;case 52:b=52;break;case 53:b=53;break;case 54:b=54;break;case 55:b=55;break;case 56:b=56;break;case 57:b=57;break;case 58:b=186;break;case 59:b=186;break;case 60:b=60;break;case 61:b=187;break;case 62:b=190;break;case 63:b=191;break;case 64:b=50;break;case 91:b=219;break;case 92:b=220;break;case 93:b=221;break;case 94:b=54;break;case 95:b=189;break;case 96:b=192;break;case 97:b=65;break;
case 98:b=66;break;case 99:b=67;break;case 100:b=68;break;case 101:b=69;break;case 102:b=70;break;case 103:b=71;break;case 104:b=72;break;case 105:b=73;break;case 106:b=74;break;case 107:b=75;break;case 108:b=76;break;case 109:b=77;break;case 110:b=78;break;case 111:b=79;break;case 112:b=80;break;case 113:b=81;break;case 114:b=82;break;case 115:b=83;break;case 116:b=84;break;case 117:b=85;break;case 118:b=86;break;case 119:b=87;break;case 120:b=88;break;case 121:b=89;break;case 122:b=90;break;case 127:b=
46;break;case 1073741881:b=20;break;case 1073741882:b=112;break;case 1073741883:b=113;break;case 1073741884:b=114;break;case 1073741885:b=115;break;case 1073741886:b=116;break;case 1073741887:b=117;break;case 1073741888:b=118;break;case 1073741889:b=119;break;case 1073741890:b=120;break;case 1073741891:b=121;break;case 1073741892:b=122;break;case 1073741893:b=123;break;case 1073741894:b=301;break;case 1073741895:b=145;break;case 1073741896:b=19;break;case 1073741897:b=45;break;case 1073741898:b=36;
break;case 1073741899:b=33;break;case 1073741901:b=35;break;case 1073741902:b=34;break;case 1073741903:b=39;break;case 1073741904:b=37;break;case 1073741905:b=40;break;case 1073741906:b=38;break;case 1073741907:b=144;break;case 1073741908:b=111;break;case 1073741909:b=106;break;case 1073741910:b=109;break;case 1073741911:b=107;break;case 1073741912:b=108;break;case 1073741913:b=97;break;case 1073741914:b=98;break;case 1073741915:b=99;break;case 1073741916:b=100;break;case 1073741917:b=101;break;case 1073741918:b=
102;break;case 1073741919:b=103;break;case 1073741920:b=104;break;case 1073741921:b=105;break;case 1073741922:b=96;break;case 1073741923:b=110;break;case 1073741925:b=302;break;case 1073741928:b=124;break;case 1073741929:b=125;break;case 1073741930:b=126;break;case 1073741982:b=13;break;case 1073742044:b=110;break;case 1073742048:b=17;break;case 1073742049:b=16;break;case 1073742050:b=18;break;case 1073742051:b=15;break;case 1073742052:b=17;break;case 1073742053:b=16;break;case 1073742054:b=18;break;
case 1073742055:b=15;break}var f=R.__getCharCode(b,qa.get_shiftKey(c));c=new uf(a,!0,!0,f,b,e,this.__macKeyboard?qa.get_ctrlKey(c)||qa.get_metaKey(c):qa.get_ctrlKey(c),qa.get_altKey(c),qa.get_shiftKey(c),qa.get_ctrlKey(c),qa.get_metaKey(c));d.reverse();this.__fireEvent(c,d);c.__preventDefault&&("keyDown"==a?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel())}},__onGamepadConnect:function(a){this.onGamepadConnect(a);var b=n(this,this.onGamepadAxisMove);a.onAxisMove.add(function(c,d){b(a,c,
d)});var c=n(this,this.onGamepadButtonDown);a.onButtonDown.add(function(b){c(a,b)});var d=n(this,this.onGamepadButtonUp);a.onButtonUp.add(function(b){d(a,b)});var e=n(this,this.onGamepadDisconnect);a.onDisconnect.add(function(){e(a)})},__onMouse:function(a,b,c,d){if(!(2<d)){b=new Ka(b,c);c=this.__displayMatrix;var e=c.a*c.d-c.b*c.c;if(0==e)b.x=-c.tx,b.y=-c.ty;else{var f=1/e*(c.c*(c.ty-b.y)+c.d*(b.x-c.tx));b.y=1/e*(c.a*(b.y-c.ty)+c.b*(c.tx-b.x));b.x=f}this.__mouseX=b.x;this.__mouseY=b.y;c=[];e=null;
this.__hitTest(this.__mouseX,this.__mouseY,!0,c,!0,this)?e=c[c.length-1]:(e=this,c=[this]);null==e&&(e=this);f=null;switch(a){case "middleMouseDown":this.__mouseDownMiddle=e;break;case "middleMouseUp":this.__mouseDownMiddle==e&&(f="middleClick");this.__mouseDownMiddle=null;break;case "mouseDown":e.get_tabEnabled()?this.set_focus(e):this.set_focus(null);this.__mouseDownLeft=e;break;case "mouseUp":this.__mouseDownLeft==e&&(f="click");this.__mouseDownLeft=null;break;case "rightMouseDown":this.__mouseDownRight=
e;break;case "rightMouseUp":this.__mouseDownRight==e&&(f="rightClick"),this.__mouseDownRight=null}this.__fireEvent(Ga.__create(a,d,this.__mouseX,this.__mouseY,e==this?b:e.globalToLocal(b),e),c);null!=f&&(this.__fireEvent(Ga.__create(f,d,this.__mouseX,this.__mouseY,e==this?b:e.globalToLocal(b),e),c),"mouseUp"==a&&y.__cast(e,Ya).doubleClickEnabled&&(a=ia.getTimer(),500>a-this.__lastClickTime?(this.__fireEvent(Ga.__create("doubleClick",d,this.__mouseX,this.__mouseY,e==this?b:e.globalToLocal(b),e),c),
this.__lastClickTime=0):this.__lastClickTime=a));if("auto"==ud.__cursor){f=null;if(null!=this.__mouseDownLeft)f=this.__mouseDownLeft.__getCursor();else for(a=0;a<c.length;)if(f=c[a],++a,f=f.__getCursor(),null!=f){nc.set_cursor(f);break}null==f&&nc.set_cursor(da.ARROW)}e!=this.__mouseOverTarget&&null!=this.__mouseOverTarget&&(a=this.__mouseOverTarget==this?b:this.__mouseOverTarget.globalToLocal(b),a=Ga.__create("mouseOut",d,this.__mouseX,this.__mouseY,a,this.__mouseOverTarget),this.__mouseOverTarget.__dispatchEvent(a));
for(var f=0,g=this.__rollOutStack;f<g.length;){var k=g[f];++f;-1==c.indexOf(k)&&(W.remove(this.__rollOutStack,k),a=this.__mouseOverTarget.globalToLocal(b),a=Ga.__create("rollOut",d,this.__mouseX,this.__mouseY,a,this.__mouseOverTarget),a.bubbles=!1,k.__dispatchEvent(a))}for(f=0;f<c.length;)g=c[f],++f,-1==this.__rollOutStack.indexOf(g)&&(g.hasEventListener("rollOver")&&(a=g.globalToLocal(b),a=Ga.__create("rollOver",d,this.__mouseX,this.__mouseY,a,g),a.bubbles=!1,g.__dispatchEvent(a)),g.hasEventListener("rollOut")&&
this.__rollOutStack.push(g));e!=this.__mouseOverTarget&&(null!=e&&(a=e==this?b:e.globalToLocal(b),a=Ga.__create("mouseOver",d,this.__mouseX,this.__mouseY,a,e),a.bubbles=!0,e.__dispatchEvent(a)),this.__mouseOverTarget=e);null!=this.__dragObject&&(this.__drag(b),d=null,this.__mouseOverTarget==this.__dragObject?(b=this.__dragObject.mouseEnabled,c=this.__dragObject.mouseChildren,this.__dragObject.mouseEnabled=!1,this.__dragObject.mouseChildren=!1,e=[],this.__hitTest(this.__mouseX,this.__mouseY,!0,e,!0,
this)&&(d=e[e.length-1]),this.__dragObject.mouseEnabled=b,this.__dragObject.mouseChildren=c):this.__mouseOverTarget!=this&&(d=this.__mouseOverTarget),this.__dragObject.dropTarget=d)}},__onMouseWheel:function(a,b){var c=this.__mouseX,d=this.__mouseY,e=[],f=null;this.__hitTest(this.__mouseX,this.__mouseY,!0,e,!0,this)?f=e[e.length-1]:(f=this,e=[this]);null==f&&(f=this);var c=new Ka(c,d),d=this.__displayMatrix,g=d.a*d.d-d.b*d.c;if(0==g)c.x=-d.tx,c.y=-d.ty;else{var k=1/g*(d.c*(d.ty-c.y)+d.d*(c.x-d.tx));
c.y=1/g*(d.a*(c.y-d.ty)+d.b*(d.tx-c.x));c.x=k}d=b|0;this.__fireEvent(Ga.__create("mouseWheel",0,this.__mouseX,this.__mouseY,f==this?c:f.globalToLocal(c),f,d),e)},__onTouch:function(a,b){var c=new Ka(Math.round(b.x*this.window.__width*this.window.__scale),Math.round(b.y*this.window.__height*this.window.__scale)),d=this.__displayMatrix,e=d.a*d.d-d.b*d.c;if(0==e)c.x=-d.tx,c.y=-d.ty;else{var f=1/e*(d.c*(d.ty-c.y)+d.d*(c.x-d.tx));c.y=1/e*(d.a*(c.y-d.ty)+d.b*(d.tx-c.x));c.x=f}e=c.x;f=c.y;d=[];if(this.__hitTest(e,
f,!1,d,!0,this)){var g=d[d.length-1];null==g&&(g=this);c=g.globalToLocal(c);c=hc.__create(a,null,e,f,c,g);c.touchPointID=b.id;c.isPrimaryTouchPoint=this.__primaryTouch==b;this.__fireEvent(c,d)}else c=hc.__create(a,null,e,f,c,this),c.touchPointID=b.id,c.isPrimaryTouchPoint=this.__primaryTouch==b,this.__fireEvent(c,[this.stage])},__resize:function(){var a=this.stageWidth,b=this.stageHeight,c=this.window.__width*this.window.__scale|0,d=this.window.__height*this.window.__scale|0;this.__logicalWidth=c;
this.__logicalHeight=d;this.__displayMatrix.identity();if(0==this.__logicalWidth&&0==this.__logicalHeight)this.stageWidth=c,this.stageHeight=d;else{this.stageWidth=this.__logicalWidth;this.stageHeight=this.__logicalHeight;var e=Math.min(c/this.stageWidth,d/this.stageHeight),f=Math.round((c-this.stageWidth*e)/2),g=Math.round((d-this.stageHeight*e)/2);this.__displayMatrix.scale(e,e);this.__displayMatrix.translate(f,g)}e=0;for(f=this.stage3Ds;e<f.get_length();)g=f.get(e),++e,g.__resize(this.stageWidth,
this.stageHeight);null!=this.__renderer&&this.__renderer.resize(c,d);this.stageWidth==a&&this.stageHeight==b||this.__dispatchEvent(new J("resize"))},__setLogicalSize:function(a,b){this.__logicalWidth=a;this.__logicalHeight=b;this.__resize()},__startDrag:function(a,b,c){this.__dragBounds=null==c?null:c.clone();this.__dragObject=a;if(null!=this.__dragObject)if(b)this.__dragOffsetY=this.__dragOffsetX=0;else{a=new Ka(this.get_mouseX(),this.get_mouseY());b=this.__dragObject.parent;if(null!=b)if(b=b.__getWorldTransform(),
c=b.a*b.d-b.b*b.c,0==c)a.x=-b.tx,a.y=-b.ty;else{var d=1/c*(b.c*(b.ty-a.y)+b.d*(a.x-b.tx));a.y=1/c*(b.a*(a.y-b.ty)+b.b*(b.tx-a.x));a.x=d}this.__dragOffsetX=this.__dragObject.get_x()-a.x;this.__dragOffsetY=this.__dragObject.get_y()-a.y}},__stopDrag:function(a){this.__dragObject=this.__dragBounds=null},__update:function(a,b,c){if(a)0<aa.__worldTransformDirty&&(Nb.prototype.__update.call(this,!0,b,c),b&&(aa.__worldTransformDirty=0,this.__dirty=!0));else if(0<aa.__worldTransformDirty||this.__dirty||0<
aa.__worldRenderDirty)Nb.prototype.__update.call(this,!1,b,c),b&&(aa.__worldTransformDirty=0,aa.__worldRenderDirty=0,this.__dirty=!1)},get_color:function(){return this.__color},set_color:function(a){this.__colorSplit=[((a&16711680)>>>16)/255,((a&65280)>>>8)/255,(a&255)/255];this.__colorString="#"+fa.hex(a&16777215,6);return this.__color=a},get_displayState:function(){return this.__displayState},set_displayState:function(a){null!=this.window&&(2==a?this.window.__fullscreen&&this.window.set_fullscreen(!1):
this.window.__fullscreen||this.window.set_fullscreen(!0));return this.__displayState=a},get_focus:function(){return this.__focus},set_focus:function(a){if(a!=this.__focus){var b=this.__focus;this.__cacheFocus=this.__focus=a;if(null!=b){var c=new $d("focusOut",!0,!1,this.__focus,!1,0),d=[];b.__getInteractive(d);d.reverse();this.__fireEvent(c,d)}null!=this.__focus&&(b=new $d("focusIn",!0,!1,b,!1,0),c=[],a.__getInteractive(c),c.reverse(),this.__fireEvent(b,c))}return this.__focus},get_frameRate:function(){return null!=
this.application?this.application.backend.getFrameRate():0},set_frameRate:function(a){return null!=this.application?this.application.backend.setFrameRate(a):a},get_fullScreenHeight:function(){return this.window.get_display().currentMode.height},get_fullScreenWidth:function(){return this.window.get_display().currentMode.width},set_height:function(a){return this.get_height()},get_mouseX:function(){return this.__mouseX},get_mouseY:function(){return this.__mouseY},set_rotation:function(a){return 0},set_scaleX:function(a){return 0},
set_scaleY:function(a){return 0},set_transform:function(a){return this.get_transform()},set_width:function(a){return this.get_width()},set_x:function(a){return 0},set_y:function(a){return 0},__class__:lh,__properties__:t(Nb.prototype.__properties__,{get_fullScreenWidth:"get_fullScreenWidth",get_fullScreenHeight:"get_fullScreenHeight",set_frameRate:"set_frameRate",get_frameRate:"get_frameRate",set_focus:"set_focus",get_focus:"get_focus",set_displayState:"set_displayState",get_displayState:"get_displayState",
set_color:"set_color",get_color:"get_color"})});var Dj=function(){X.call(this);this.set_x(0);this.set_y(0);this.visible=!0};k["openfl.display.Stage3D"]=Dj;Dj.__name__=["openfl","display","Stage3D"];Dj.__super__=X;Dj.prototype=t(X.prototype,{context3D:null,visible:null,x:null,y:null,__contextRequested:null,__stage:null,__canvas:null,__style:null,__webgl:null,requestContext3D:function(a,b){this.__contextRequested=!0;null!=this.context3D&&Xc.delay(n(this,this.__dispatchCreate),1)},requestContext3DMatchingProfiles:function(a){this.requestContext3D()},
__createContext:function(a,b){this.__stage=a;if(null!=b.gl)this.context3D=new ab(this,b),this.__dispatchCreate();else{this.__canvas=window.document.createElement("canvas");this.__canvas.width=a.stageWidth;this.__canvas.height=a.stageHeight;var c=a.window,c={alpha:Object.prototype.hasOwnProperty.call(c.config,"background")&&null==c.config.background,antialias:Object.prototype.hasOwnProperty.call(c.config,"antialiasing")&&0<c.config.antialiasing,depth:Object.prototype.hasOwnProperty.call(c.config,"depthBuffer")?
c.config.depthBuffer:!0,premultipliedAlpha:!0,stencil:Object.prototype.hasOwnProperty.call(c.config,"stencilBuffer")&&c.config.stencilBuffer,preserveDrawingBuffer:!1};this.__webgl=Sl.getContextWebGL(this.__canvas,c);null!=this.__webgl?(g.context=this.__webgl,this.context3D=new ab(this,b),b.element.appendChild(this.__canvas),this.__style=this.__canvas.style,this.__style.setProperty("position","absolute",null),this.__style.setProperty("top","0",null),this.__style.setProperty("left","0",null),this.__style.setProperty(b.transformOriginProperty,
"0 0 0",null),this.__style.setProperty("z-index","-1",null),this.__dispatchCreate()):this.__dispatchError()}},__dispatchError:function(){this.__contextRequested=!1;this.dispatchEvent(new Nc("error",!1,!1,"Context3D not available"))},__dispatchCreate:function(){this.__contextRequested&&(this.__contextRequested=!1,this.dispatchEvent(new J("context3DCreate")))},__renderCairo:function(a,b){this.visible&&this.__contextRequested&&(this.__dispatchError(),this.__contextRequested=!1)},__renderCanvas:function(a,
b){this.visible&&this.__contextRequested&&(this.__dispatchError(),this.__contextRequested=!1)},__renderDOM:function(a,b){this.visible&&(this.__contextRequested&&null==this.context3D&&this.__createContext(a,b),null!=this.context3D&&(g.context=this.__webgl,this.__resetContext3DStates()))},__renderGL:function(a,b){this.visible&&(this.__contextRequested&&null==this.context3D&&this.__createContext(a,b),null!=this.context3D&&(this.__resetContext3DStates(),null!=this.context3D&&(b.blendModeManager.setBlendMode(null),
null!=b.shaderManager.currentShader&&(b.shaderManager.setShader(null),null!=this.context3D.__program&&this.context3D.__program.__use())),b.gl.__context.getError()))},__resize:function(a,b){null!=this.__canvas&&(this.__canvas.width=a,this.__canvas.height=b)},__resetContext3DStates:function(){this.context3D.__updateBlendFactors();this.context3D.__updateBackbufferViewport()},set_x:function(a){if(this.x==a)return a;this.x=a;null!=this.context3D&&this.context3D.__updateBackbufferViewport();return a},set_y:function(a){if(this.y==
a)return a;this.y=a;null!=this.context3D&&this.context3D.__updateBackbufferViewport();return a},__class__:Dj,__properties__:{set_y:"set_y",set_x:"set_x"}});var ae={};k["openfl.display._StageAlign.StageAlign_Impl_"]=ae;ae.__name__=["openfl","display","_StageAlign","StageAlign_Impl_"];ae.fromString=function(a){switch(a){case "bottom":return 0;case "bottomLeft":return 1;case "bottomRight":return 2;case "left":return 3;case "right":return 4;case "top":return 5;case "topLeft":return 6;case "topRight":return 7;
default:return null}};ae.toString=function(a){switch(a){case 0:return"bottom";case 1:return"bottomLeft";case 2:return"bottomRight";case 3:return"left";case 4:return"right";case 5:return"top";case 6:return"topLeft";case 7:return"topRight";default:return null}};var mh={};k["openfl.display._StageDisplayState.StageDisplayState_Impl_"]=mh;mh.__name__=["openfl","display","_StageDisplayState","StageDisplayState_Impl_"];mh.fromString=function(a){switch(a){case "fullScreen":return 0;case "fullScreenInteractive":return 1;
case "normal":return 2;default:return null}};mh.toString=function(a){switch(a){case 0:return"fullScreen";case 1:return"fullScreenInteractive";case 2:return"normal";default:return null}};var jg={};k["openfl.display._StageQuality.StageQuality_Impl_"]=jg;jg.__name__=["openfl","display","_StageQuality","StageQuality_Impl_"];jg.fromString=function(a){switch(a){case "best":return 0;case "high":return 1;case "low":return 2;case "medium":return 3;default:return null}};jg.toString=function(a){switch(a){case 0:return"best";
case 1:return"high";case 2:return"low";case 3:return"medium";default:return null}};var kg={};k["openfl.display._StageScaleMode.StageScaleMode_Impl_"]=kg;kg.__name__=["openfl","display","_StageScaleMode","StageScaleMode_Impl_"];kg.fromString=function(a){switch(a){case "exactFit":return 0;case "noBorder":return 1;case "noScale":return 2;case "showAll":return 3;default:return null}};kg.toString=function(a){switch(a){case 0:return"exactFit";case 1:return"noBorder";case 2:return"noScale";case 3:return"showAll";
default:return null}};var nh={};k["openfl.display._TriangleCulling.TriangleCulling_Impl_"]=nh;nh.__name__=["openfl","display","_TriangleCulling","TriangleCulling_Impl_"];nh.fromString=function(a){switch(a){case "negative":return 0;case "none":return 1;case "positive":return 2;default:return null}};nh.toString=function(a){switch(a){case 0:return"negative";case 1:return"none";case 2:return"positive";default:return null}};var wj=function(a){lf.call(this,a)};k["openfl.display.Window"]=wj;wj.__name__=
["openfl","display","Window"];wj.__super__=lf;wj.prototype=t(lf.prototype,{create:function(a){lf.prototype.create.call(this,a);this.stage=new lh(this,Object.prototype.hasOwnProperty.call(this.config,"background")?this.config.background:16777215);Object.prototype.hasOwnProperty.call(this.config,"parameters")&&(this.stage.get_loaderInfo().parameters=this.config.parameters);Object.prototype.hasOwnProperty.call(this.config,"resizable")&&!this.config.resizable&&this.stage.__setLogicalSize(this.config.width,
this.config.height);a.addModule(this.stage)},__class__:wj});var ab=function(a,b){this.profile=this.totalGPUMemory=0;this.enableErrorChecking=!1;this.driverInfo="OpenGL (Direct blitting)";this.backBufferHeight=this.backBufferWidth=0;X.call(this);this.__stage3D=a;this.__renderSession=b;this.__vertexConstants=new ra(512);this.__fragmentConstants=new ra(512);var c=[1,1,1,1];this.__positionScale=null!=c?new ra(c):null;this.__samplerDirty=0;this.__samplerTextures=D.toObjectVector(null,8);this.__samplerStates=
[];for(c=0;8>c;){var d=c++;this.__samplerStates[d]=new uj(9729,9729,33071,33071)}this.maxBackBufferHeight=this.maxBackBufferWidth=g.context.__context.getParameter(3386);this.__backBufferAntiAlias=0;this.__backBufferEnableDepthAndStencil=!0;this.__backBufferWantsBestResolution=!1;this.__frameCount=0;this.__rttDepthAndStencil=!1;this.__stencilRef=this.__stencilCompareMode=this.__samplerDirty=0;this.__stencilReadMask=255;c=g.context.__context.getExtension("EXT_texture_filter_anisotropic");null!=c&&Object.prototype.hasOwnProperty.call(c,
"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(c=g.context.__context.getExtension("MOZ_EXT_texture_filter_anisotropic"));null!=c&&Object.prototype.hasOwnProperty.call(c,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(c=g.context.__context.getExtension("WEBKIT_EXT_texture_filter_anisotropic"));this.__supportsPackedDepthStencil=!0;ab.DEPTH_STENCIL=34041;if(this.__supportsAnisotropicFiltering=null!=c)ab.TEXTURE_MAX_ANISOTROPY_EXT=c.TEXTURE_MAX_ANISOTROPY_EXT,this.__maxAnisotropyTexture2D=this.__maxAnisotropyTexture2D=c=g.context.__context.getParameter(c.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
this.__stats=D.toIntVector(null,11);this.__statsCache=D.toIntVector(null,11);K.CheckGLError();c=g.context.__context.getParameter(7936);K.CheckGLError();d=g.context.__context.getParameter(7938);K.CheckGLError();var e=g.context.__context.getParameter(7937);K.CheckGLError();var f=g.context.__context.getParameter(35724);K.CheckGLError();this.driverInfo="OpenGL Vendor="+c+" Version="+d+" Renderer="+e+" GLSL="+f;c=0;for(d=this.__stats.get_length();c<d;)e=c++,this.__stats.set(e,0);ab.__stateCache.clearSettings()};
k["openfl.display3D.Context3D"]=ab;ab.__name__=["openfl","display3D","Context3D"];ab.__super__=X;ab.prototype=t(X.prototype,{backBufferHeight:null,backBufferWidth:null,driverInfo:null,enableErrorChecking:null,maxBackBufferHeight:null,maxBackBufferWidth:null,profile:null,totalGPUMemory:null,__backBufferAntiAlias:null,__backBufferEnableDepthAndStencil:null,__backBufferWantsBestResolution:null,__depthRenderBuffer:null,__depthStencilRenderBuffer:null,__fragmentConstants:null,__framebuffer:null,__frameCount:null,
__maxAnisotropyCubeTexture:null,__maxAnisotropyTexture2D:null,__positionScale:null,__program:null,__renderSession:null,__renderToTexture:null,__rttDepthAndStencil:null,__samplerDirty:null,__samplerTextures:null,__samplerStates:null,__scissorRectangle:null,__stage3D:null,__stats:null,__statsCache:null,__stencilCompareMode:null,__stencilRef:null,__stencilReadMask:null,__stencilRenderBuffer:null,__supportsAnisotropicFiltering:null,__supportsPackedDepthStencil:null,__vertexConstants:null,clear:function(a,
b,c,d,e,f,k){null==k&&(k=7);null==f&&(f=0);null==e&&(e=1);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);var n=0;0!=(k&1)&&(n|=16384,g.context.__context.clearColor(a,b,c,d),K.CheckGLError());0!=(k&2)&&(n|=256,g.context.__context.depthMask(!0),g.context.__context.clearDepth(e),K.CheckGLError());0!=(k&4)&&(n|=1024,g.context.__context.clearStencil(f),K.CheckGLError());g.context.__context.clear(n);K.CheckGLError()},configureBackBuffer:function(a,b,c,d,e,f){null==e&&(e=!1);null==d&&(d=!0);
this.__updateBackbufferViewport();this.backBufferWidth=a;this.backBufferHeight=b;this.__backBufferAntiAlias=c;this.__backBufferEnableDepthAndStencil=d;this.__backBufferWantsBestResolution=e;ab.__stateCache.clearSettings()},createCubeTexture:function(a,b,c,d){null==d&&(d=0);return new Kf(this,a,b,c,d)},createIndexBuffer:function(a,b){null==b&&(b=1);return new rl(this,a,Te.toString(b))},createProgram:function(){return new oh(this)},createRectangleTexture:function(a,b,c,d){return new lg(this,a,b,ue.toString(c),
d)},createTexture:function(a,b,c,d,e){null==e&&(e=0);return new Jd(this,a,b,c,d,e)},createVertexBuffer:function(a,b,c){null==c&&(c=1);return new sl(this,a,b,Te.toString(c))},createVideoTexture:function(){return new Ej(this)},dispose:function(){},drawToBitmapData:function(a){if(null!=a){var b=this.__stage3D.__stage.window;null!=b&&(b=b.renderer.readPixels(),a.image.copyPixels(b,b.get_rect(),new vb))}},drawTriangles:function(a,b,c){null==c&&(c=-1);null==b&&(b=0);if(null!=this.__program){this.__flushSamplerState();
this.__program.__flush();c=-1==c?a.__numIndices:3*c;g.context.__context.bindBuffer(34963,a.__id);K.CheckGLError();a=a.__elementType;var d=g.context;b=ba.fromInt(b);d.__context.drawElements(4,c,a,b);K.CheckGLError();this.__statsIncrement(0)}},present:function(){this.__statsSendToTelemetry();this.__statsClear(0);this.__frameCount++},setBlendFactors:function(a,b){var c=ab.__stateCache.updateBlendSrcFactor(a),d=ab.__stateCache.updateBlendDestFactor(b);(c||d)&&this.__updateBlendFactors()},setColorMask:function(a,
b,c,d){g.context.__context.colorMask(a,b,c,d)},setCulling:function(a){if(ab.__stateCache.updateCullingMode(a))switch(a){case 0:g.context.__context.enable(2884);g.context.__context.cullFace(1028);break;case 1:g.context.__context.enable(2884);g.context.__context.cullFace(1029);break;case 2:g.context.__context.enable(2884);g.context.__context.cullFace(1032);break;case 3:g.context.__context.disable(2884);break;default:throw new F(new nb);}},setDepthTest:function(a,b){var c=this.__backBufferEnableDepthAndStencil;
ab.__stateCache.updateDepthTestEnabled(c)&&(c?g.context.__context.enable(2929):g.context.__context.disable(2929));ab.__stateCache.updateDepthTestMask(a)&&g.context.__context.depthMask(a);if(ab.__stateCache.updateDepthCompareMode(b))switch(b){case 0:g.context.__context.depthFunc(519);break;case 1:g.context.__context.depthFunc(514);break;case 2:g.context.__context.depthFunc(516);break;case 3:g.context.__context.depthFunc(518);break;case 4:g.context.__context.depthFunc(513);break;case 5:g.context.__context.depthFunc(515);
break;case 6:g.context.__context.depthFunc(512);break;case 7:g.context.__context.depthFunc(517);break;default:throw new F(new nb);}},setProgram:function(a){if(null==a)throw new F(new nb);if(ab.__stateCache.updateProgram3D(a))for(a.__use(),a.__setPositionScale(this.__positionScale),this.__program=a,this.__samplerDirty|=this.__program.__samplerUsageMask,a=0;8>a;){var b=a++;this.__samplerStates[b].copyFrom(this.__program.__getSamplerState(b))}},setProgramConstantsFromByteArray:function(a,b,c,d,e){if(0!=
c){-1==c&&(c=(ka.get_length(d)>>2)-e);var f=(a=1==a)?this.__vertexConstants:this.__fragmentConstants,g=ka.toBytes(d);d=ka.get_length(d);d=null==d?new ra(g.b.bufferValue,0):new ra(g.b.bufferValue,0,d);g=4*b;e=Z.toFloat(e)/Z.toFloat(4)|0;for(var k=0,m=4*c;k<m;){var h=k++;f[g+h]=d[e+h]}null!=this.__program&&this.__program.__markDirty(a,b,c)}},setProgramConstantsFromMatrix:function(a,b,c,d){null==d&&(d=!1);var e=(a=1==a)?this.__vertexConstants:this.__fragmentConstants;c=c.rawData;var f=4*b;d?(e[f++]=
c.get(0),e[f++]=c.get(4),e[f++]=c.get(8),e[f++]=c.get(12),e[f++]=c.get(1),e[f++]=c.get(5),e[f++]=c.get(9),e[f++]=c.get(13),e[f++]=c.get(2),e[f++]=c.get(6),e[f++]=c.get(10),e[f++]=c.get(14),e[f++]=c.get(3),e[f++]=c.get(7),e[f++]=c.get(11)):(e[f++]=c.get(0),e[f++]=c.get(1),e[f++]=c.get(2),e[f++]=c.get(3),e[f++]=c.get(4),e[f++]=c.get(5),e[f++]=c.get(6),e[f++]=c.get(7),e[f++]=c.get(8),e[f++]=c.get(9),e[f++]=c.get(10),e[f++]=c.get(11),e[f++]=c.get(12),e[f++]=c.get(13),e[f++]=c.get(14));e[f++]=c.get(15);
null!=this.__program&&this.__program.__markDirty(a,b,4)},setProgramConstantsFromVector:function(a,b,c,d){null==d&&(d=-1);if(0!=d){-1==d&&(d=c.get_length()>>2);for(var e=(a=1==a)?this.__vertexConstants:this.__fragmentConstants,f=0,g=4*b,k=0,m=d;k<m;)k++,e[g++]=c.get(f++),e[g++]=c.get(f++),e[g++]=c.get(f++),e[g++]=c.get(f++);null!=this.__program&&this.__program.__markDirty(a,b,d)}},setRenderToBackBuffer:function(){g.context.__context.bindFramebuffer(36160,null);K.CheckGLError();g.context.__context.frontFace(2305);
K.CheckGLError();this.__scissorRectangle=this.__renderToTexture=null;this.__updateBackbufferViewport();this.__updateScissorRectangle();this.__updateDepthAndStencilState();this.__positionScale[1]=1;null!=this.__program&&this.__program.__setPositionScale(this.__positionScale)},setRenderToTexture:function(a,b,c,d){null==b&&(b=!1);d=c=0;null==this.__framebuffer&&(this.__framebuffer=g.context.__context.createFramebuffer(),K.CheckGLError());g.context.__context.bindFramebuffer(36160,this.__framebuffer);
K.CheckGLError();if(y.__instanceof(a,Jd))c=a.__width,d=a.__height,g.context.__context.framebufferTexture2D(36160,36064,3553,a.__textureID,0),K.CheckGLError();else if(y.__instanceof(a,lg))c=a.__width,d=a.__height,g.context.__context.framebufferTexture2D(36160,36064,3553,a.__textureID,0),K.CheckGLError();else if(y.__instanceof(a,Kf)){d=c=a.__size;for(var e=0;6>e;){var f=e++;g.context.__context.framebufferTexture2D(36160,36064,34069+f,a.__textureID,0);K.CheckGLError()}}else throw new F(new ja("Invalid texture"));
b&&(this.__supportsPackedDepthStencil?(null==this.__depthStencilRenderBuffer&&(this.__depthStencilRenderBuffer=g.context.__context.createRenderbuffer(),K.CheckGLError()),g.context.__context.bindRenderbuffer(36161,this.__depthStencilRenderBuffer),K.CheckGLError(),g.context.__context.renderbufferStorage(36161,ab.DEPTH_STENCIL,c,d),K.CheckGLError(),g.context.__context.framebufferRenderbuffer(36160,33306,36161,this.__depthStencilRenderBuffer)):(null==this.__depthRenderBuffer&&(this.__depthRenderBuffer=
g.context.__context.createRenderbuffer(),K.CheckGLError()),null==this.__stencilRenderBuffer&&(this.__stencilRenderBuffer=g.context.__context.createRenderbuffer(),K.CheckGLError()),g.context.__context.bindRenderbuffer(36161,this.__depthRenderBuffer),K.CheckGLError(),g.context.__context.renderbufferStorage(36161,33189,c,d),K.CheckGLError(),g.context.__context.bindRenderbuffer(36161,this.__stencilRenderBuffer),K.CheckGLError(),g.context.__context.renderbufferStorage(36161,36168,c,d),K.CheckGLError(),
g.context.__context.framebufferRenderbuffer(36160,36096,36161,this.__depthRenderBuffer),K.CheckGLError(),g.context.__context.framebufferRenderbuffer(36160,36128,36161,this.__stencilRenderBuffer)),K.CheckGLError(),g.context.__context.bindRenderbuffer(36161,null),K.CheckGLError());this.__setViewport(0,0,c,d);this.enableErrorChecking&&g.context.__context.checkFramebufferStatus(36160);this.__positionScale[1]=-1;null!=this.__program&&this.__program.__setPositionScale(this.__positionScale);g.context.__context.frontFace(2304);
K.CheckGLError();this.__renderToTexture=a;this.__scissorRectangle=null;this.__rttDepthAndStencil=b;this.__updateScissorRectangle();this.__updateDepthAndStencilState()},setSamplerStateAt:function(a,b,c,d){if(0>a||8<a)throw new F(new ja("sampler out of range"));a=this.__samplerStates[a];switch(b){case 0:a.set_wrapModeS(33071);a.set_wrapModeT(33071);break;case 1:a.set_wrapModeS(33071);a.set_wrapModeT(10497);break;case 2:a.set_wrapModeS(10497);a.set_wrapModeT(10497);break;case 3:a.set_wrapModeS(10497);
a.set_wrapModeT(33071);break;default:throw new F(new ja("wrap bad enum"));}switch(c){case 0:this.__supportsAnisotropicFiltering&&a.set_maxAniso(16>this.__maxAnisotropyTexture2D?this.__maxAnisotropyTexture2D:16);break;case 1:this.__supportsAnisotropicFiltering&&a.set_maxAniso(2>this.__maxAnisotropyTexture2D?this.__maxAnisotropyTexture2D:2);break;case 2:this.__supportsAnisotropicFiltering&&a.set_maxAniso(4>this.__maxAnisotropyTexture2D?this.__maxAnisotropyTexture2D:4);break;case 3:this.__supportsAnisotropicFiltering&&
a.set_maxAniso(8>this.__maxAnisotropyTexture2D?this.__maxAnisotropyTexture2D:8);break;case 4:a.set_magFilter(9729);this.__supportsAnisotropicFiltering&&a.set_maxAniso(1);break;case 5:a.set_magFilter(9728);this.__supportsAnisotropicFiltering&&a.set_maxAniso(1);break;default:throw new F(new ja("filter bad enum"));}switch(d){case 0:a.set_minFilter(9987);break;case 1:a.set_minFilter(9984);break;case 2:a.set_minFilter(5==c?9728:9729);break;default:throw new F(new ja("mipfiter bad enum"));}},setScissorRectangle:function(a){this.__scissorRectangle=
null!=a?a.clone():null;this.__updateScissorRectangle()},setStencilActions:function(a,b,c,d,e){null==e&&(e=5);null==d&&(d=5);null==c&&(c=5);null==b&&(b=0);this.__stencilCompareMode=b;a=this.__getGLStencilAction(d);e=this.__getGLStencilAction(e);c=this.__getGLStencilAction(c);g.context.__context.stencilOp(a,e,c);c=this.__getGLCompareMode(this.__stencilCompareMode);g.context.__context.stencilFunc(c,this.__stencilRef,this.__stencilReadMask)},setStencilReferenceValue:function(a,b,c){null==c&&(c=255);null==
b&&(b=255);this.__stencilReadMask=b;this.__stencilRef=a;a=this.__getGLCompareMode(this.__stencilCompareMode);g.context.__context.stencilFunc(a,this.__stencilRef,this.__stencilReadMask);g.context.__context.stencilMask(c)},setTextureAt:function(a,b){this.__samplerTextures.get(a)!=b&&(this.__samplerTextures.set(a,b),this.__samplerDirty|=1<<a)},setVertexBufferAt:function(a,b,c,d){null==d&&(d=4);null==c&&(c=0);if(null==b)g.context.__context.disableVertexAttribArray(a),K.CheckGLError(),g.context.__context.bindBuffer(34962,
null),K.CheckGLError();else switch(g.context.__context.enableVertexAttribArray(a),K.CheckGLError(),g.context.__context.bindBuffer(34962,b.__id),K.CheckGLError(),c*=4,d){case 0:b=b.__stride;c=ba.fromInt(c);g.context.__context.vertexAttribPointer(a,4,5121,!0,b,c);K.CheckGLError();break;case 1:b=b.__stride;c=ba.fromInt(c);g.context.__context.vertexAttribPointer(a,1,5126,!1,b,c);K.CheckGLError();break;case 2:b=b.__stride;c=ba.fromInt(c);g.context.__context.vertexAttribPointer(a,2,5126,!1,b,c);K.CheckGLError();
break;case 3:b=b.__stride;c=ba.fromInt(c);g.context.__context.vertexAttribPointer(a,3,5126,!1,b,c);K.CheckGLError();break;case 4:b=b.__stride;c=ba.fromInt(c);g.context.__context.vertexAttribPointer(a,4,5126,!1,b,c);K.CheckGLError();break;default:throw new F(new nb);}},__flushSamplerState:function(){for(var a=0;0!=this.__samplerDirty;){if(0!=(this.__samplerDirty&1<<a)){ab.__stateCache.updateActiveTextureSample(a)&&(g.context.__context.activeTexture(33984+a),K.CheckGLError());var b=this.__samplerTextures.get(a);
if(null!=b){var c=b.__textureTarget,d=b.__getTexture();g.context.__context.bindTexture(c,d);K.CheckGLError();b.__setSamplerState(this.__samplerStates[a])}else g.context.__context.bindTexture(3553,null),K.CheckGLError();this.__samplerDirty&=~(1<<a)}++a}},__getGLCompareMode:function(a){switch(a){case 0:return 519;case 1:return 514;case 2:return 516;case 3:return 518;case 4:return 513;case 5:return 515;case 6:return 512;case 7:return 517;default:return 514}},__getGLStencilAction:function(a){switch(a){case 0:return 7683;
case 1:return 34056;case 2:return 7682;case 3:return 34055;case 4:return 5386;case 5:return 7680;case 6:return 7681;case 7:return 0;default:return 7680}},__hasGLExtension:function(a){return-1!=g.context.__context.getSupportedExtensions().indexOf(a)},__setViewport:function(a,b,c,d){null!=this.__renderToTexture&&(b*=-1);ab.__stateCache.updateViewport(a,b,c,d)&&(g.context.__context.viewport(a,b,c,d),K.CheckGLError())},__statsAdd:function(a,b){var c=this.__stats;c.set(a,c.get(a)+b);return this.__stats.get(a)},
__statsClear:function(a){this.__stats.set(a,0)},__statsDecrement:function(a){var b=this.__stats;b.set(a,b.get(a)-1)},__statsIncrement:function(a){var b=this.__stats;b.set(a,b.get(a)+1)},__statsSendToTelemetry:function(){},__statsSubtract:function(a,b){var c=this.__stats;c.set(a,c.get(a)-b);return this.__stats.get(a)},__updateDepthAndStencilState:function(){(null!=this.__renderToTexture?this.__rttDepthAndStencil:this.__backBufferEnableDepthAndStencil)?(g.context.__context.enable(2929),K.CheckGLError(),
g.context.__context.enable(2960)):(g.context.__context.disable(2929),K.CheckGLError(),g.context.__context.disable(2960));K.CheckGLError()},__updateBlendFactors:function(){if(null!=ab.__stateCache._srcBlendFactor&&null!=ab.__stateCache._destBlendFactor){var a=1,b=0;switch(ab.__stateCache._srcBlendFactor){case 0:a=772;break;case 1:a=774;break;case 2:a=1;break;case 3:a=773;break;case 4:a=775;break;case 5:a=771;break;case 7:a=770;break;case 9:a=0;break;default:throw new F(new nb);}switch(ab.__stateCache._destBlendFactor){case 0:b=
772;break;case 2:b=1;break;case 3:b=773;break;case 5:b=771;break;case 6:b=769;break;case 7:b=770;break;case 8:b=768;break;case 9:b=0;break;default:throw new F(new nb);}g.context.__context.enable(3042);K.CheckGLError();g.context.__context.blendFunc(a,b);K.CheckGLError()}},__updateScissorRectangle:function(){if(null==this.__scissorRectangle)g.context.__context.disable(3089);else{g.context.__context.enable(3089);K.CheckGLError();var a=0;null!=this.__renderToTexture?y.__instanceof(this.__renderToTexture,
Jd)?a=this.__renderToTexture.__height:y.__instanceof(this.__renderToTexture,lg)&&(a=this.__renderToTexture.__height):a=this.backBufferHeight;g.context.__context.scissor(this.__scissorRectangle.x|0,a-(this.__scissorRectangle.y|0)-(this.__scissorRectangle.height|0)|0,this.__scissorRectangle.width|0,this.__scissorRectangle.height|0)}K.CheckGLError()},__updateBackbufferViewport:function(){null==this.__renderToTexture&&0<this.backBufferWidth&&0<this.backBufferHeight&&this.__setViewport(this.__stage3D.x|
0,this.__stage3D.y|0,this.backBufferWidth,this.backBufferHeight)},set_enableErrorChecking:function(a){return this.enableErrorChecking=K.debug=a},__class__:ab,__properties__:{set_enableErrorChecking:"set_enableErrorChecking"}});var fd={};k["openfl.display3D._Context3D.Context3DTelemetry_Impl_"]=fd;fd.__name__=["openfl","display3D","_Context3D","Context3DTelemetry_Impl_"];var gd={};k["openfl.display3D._Context3DBlendFactor.Context3DBlendFactor_Impl_"]=gd;gd.__name__=["openfl","display3D","_Context3DBlendFactor",
"Context3DBlendFactor_Impl_"];gd.fromString=function(a){switch(a){case "destinationAlpha":return 0;case "destinationColor":return 1;case "one":return 2;case "oneMinusDestinationAlpha":return 3;case "oneMinusDestinationColor":return 4;case "oneMinusSourceAlpha":return 5;case "oneMinusSourceColor":return 6;case "sourceAlpha":return 7;case "sourceColor":return 8;case "zero":return 9;default:return null}};gd.toString=function(a){switch(a){case 0:return"destinationAlpha";case 1:return"destinationColor";
case 2:return"one";case 3:return"oneMinusDestinationAlpha";case 4:return"oneMinusDestinationColor";case 5:return"oneMinusSourceAlpha";case 6:return"oneMinusSourceColor";case 7:return"sourceAlpha";case 8:return"sourceColor";case 9:return"zero";default:return null}};var Te={};k["openfl.display3D._Context3DBufferUsage.Context3DBufferUsage_Impl_"]=Te;Te.__name__=["openfl","display3D","_Context3DBufferUsage","Context3DBufferUsage_Impl_"];Te.fromString=function(a){switch(a){case "dynamicDraw":return 0;
case "staticDraw":return 1;default:return null}};Te.toString=function(a){switch(a){case 0:return"dynamicDraw";case 1:return"staticDraw";default:return null}};var be={};k["openfl.display3D._Context3DCompareMode.Context3DCompareMode_Impl_"]=be;be.__name__=["openfl","display3D","_Context3DCompareMode","Context3DCompareMode_Impl_"];be.fromString=function(a){switch(a){case "always":return 0;case "equal":return 1;case "greater":return 2;case "greaterEqual":return 3;case "less":return 4;case "lessEqual":return 5;
case "never":return 6;case "notEqual":return 7;default:return null}};be.toString=function(a){switch(a){case 0:return"always";case 1:return"equal";case 2:return"greater";case 3:return"greaterEqual";case 4:return"less";case 5:return"lessEqual";case 6:return"never";case 7:return"notEqual";default:return null}};var ph={};k["openfl.display3D._Context3DMipFilter.Context3DMipFilter_Impl_"]=ph;ph.__name__=["openfl","display3D","_Context3DMipFilter","Context3DMipFilter_Impl_"];ph.fromString=function(a){switch(a){case "miplinear":return 0;
case "mipnearest":return 1;case "mipnone":return 2;default:return null}};ph.toString=function(a){switch(a){case 0:return"miplinear";case 1:return"mipnearest";case 2:return"mipnone";default:return null}};var Ee={};k["openfl.display3D._Context3DProfile.Context3DProfile_Impl_"]=Ee;Ee.__name__=["openfl","display3D","_Context3DProfile","Context3DProfile_Impl_"];Ee.fromString=function(a){switch(a){case "baseline":return 0;case "baselineConstrained":return 1;case "baselineExtended":return 2;case "standard":return 3;
case "standardConstrained":return 4;default:return null}};Ee.toString=function(a){switch(a){case 0:return"baseline";case 1:return"baselineConstrained";case 2:return"baselineExtended";case 3:return"standard";case 4:return"standardConstrained";default:return null}};var Pc={};k["openfl.display3D._Context3DProgramType.Context3DProgramType_Impl_"]=Pc;Pc.__name__=["openfl","display3D","_Context3DProgramType","Context3DProgramType_Impl_"];Pc.fromString=function(a){switch(a){case "fragment":return 0;case "vertex":return 1;
default:return null}};Pc.toString=function(a){switch(a){case 0:return"fragment";case 1:return"vertex";default:return null}};var Fj={};k["openfl.display3D._Context3DRenderMode.Context3DRenderMode_Impl_"]=Fj;Fj.__name__=["openfl","display3D","_Context3DRenderMode","Context3DRenderMode_Impl_"];Fj.fromString=function(a){switch(a){case "auto":return 0;case "software":return 1;default:return null}};Fj.toString=function(a){switch(a){case 0:return"auto";case 1:return"software";default:return null}};var ce=
{};k["openfl.display3D._Context3DStencilAction.Context3DStencilAction_Impl_"]=ce;ce.__name__=["openfl","display3D","_Context3DStencilAction","Context3DStencilAction_Impl_"];ce.fromString=function(a){switch(a){case "decrementSaturate":return 0;case "decrementWrap":return 1;case "incrementSaturate":return 2;case "incrementWrap":return 3;case "invert":return 4;case "keep":return 5;case "set":return 6;case "zero":return 7;default:return null}};ce.toString=function(a){switch(a){case 0:return"decrementSaturate";
case 1:return"decrementWrap";case 2:return"incrementSaturate";case 3:return"incrementWrap";case 4:return"invert";case 5:return"keep";case 6:return"set";case 7:return"zero";default:return null}};var Ue={};k["openfl.display3D._Context3DTextureFilter.Context3DTextureFilter_Impl_"]=Ue;Ue.__name__=["openfl","display3D","_Context3DTextureFilter","Context3DTextureFilter_Impl_"];Ue.fromString=function(a){switch(a){case "anisotropic16x":return 0;case "anisotropic2x":return 1;case "anisotropic4x":return 2;
case "anisotropic8x":return 3;case "linear":return 4;case "nearest":return 5;default:return null}};Ue.toString=function(a){switch(a){case 0:return"anisotropic16x";case 1:return"anisotropic2x";case 2:return"anisotropic4x";case 3:return"anisotropic8x";case 4:return"linear";case 5:return"nearest";default:return null}};var ue={};k["openfl.display3D._Context3DTextureFormat.Context3DTextureFormat_Impl_"]=ue;ue.__name__=["openfl","display3D","_Context3DTextureFormat","Context3DTextureFormat_Impl_"];ue.fromString=
function(a){switch(a){case "bgrPacked565":return 0;case "bgra":return 1;case "bgraPacked4444":return 2;case "compressed":return 3;case "compressedAlpha":return 4;case "rgbaHalfFloat":return 5;default:return null}};ue.toString=function(a){switch(a){case 0:return"bgrPacked565";case 1:return"bgra";case 2:return"bgraPacked4444";case 3:return"compressed";case 4:return"compressedAlpha";case 5:return"rgbaHalfFloat";default:return null}};var mg={};k["openfl.display3D._Context3DTriangleFace.Context3DTriangleFace_Impl_"]=
mg;mg.__name__=["openfl","display3D","_Context3DTriangleFace","Context3DTriangleFace_Impl_"];mg.fromString=function(a){switch(a){case "back":return 0;case "front":return 1;case "frontAndBack":return 2;case "none":return 3;default:return null}};mg.toString=function(a){switch(a){case 0:return"back";case 1:return"front";case 2:return"frontAndBack";case 3:return"none";default:return null}};var vf={};k["openfl.display3D._Context3DVertexBufferFormat.Context3DVertexBufferFormat_Impl_"]=vf;vf.__name__=["openfl",
"display3D","_Context3DVertexBufferFormat","Context3DVertexBufferFormat_Impl_"];vf.fromString=function(a){switch(a){case "bytes4":return 0;case "float1":return 1;case "float2":return 2;case "float3":return 3;case "float4":return 4;default:return null}};vf.toString=function(a){switch(a){case 0:return"bytes4";case 1:return"float1";case 2:return"float2";case 3:return"float3";case 4:return"float4";default:return null}};var ng={};k["openfl.display3D._Context3DWrapMode.Context3DWrapMode_Impl_"]=ng;ng.__name__=
["openfl","display3D","_Context3DWrapMode","Context3DWrapMode_Impl_"];ng.fromString=function(a){switch(a){case "clamp":return 0;case "clamp_u_repeat_y":return 1;case "repeat":return 2;case "repeat_u_clamp_y":return 3;default:return null}};ng.toString=function(a){switch(a){case 0:return"clamp";case 1:return"clamp_u_repeat_y";case 2:return"repeat";case 3:return"repeat_u_clamp_y";default:return null}};var rl=function(a,b,c){this.__context=a;this.__numIndices=b;this.__elementType=5123;this.__id=g.context.__context.createBuffer();
K.CheckGLError();this.__usage=0==Te.fromString(c)?35048:35044;this.__context.__statsIncrement(1);this.__memoryUsage=0};k["openfl.display3D.IndexBuffer3D"]=rl;rl.__name__=["openfl","display3D","IndexBuffer3D"];rl.prototype={__context:null,__elementType:null,__id:null,__memoryUsage:null,__numIndices:null,__usage:null,dispose:function(){g.context.__context.deleteBuffer(this.__id);this.__context.__statsDecrement(1);this.__context.__statsSubtract(6,this.__memoryUsage);this.__memoryUsage=0},uploadFromByteArray:function(a,
b,c,d){b+=2*c;a=ka.toArrayBuffer(a);d=null!=a?null==d?new Int16Array(a,b):new Int16Array(a,b,d):null;this.uploadFromTypedArray(d)},uploadFromTypedArray:function(a){null!=a&&(g.context.__context.bindBuffer(34963,this.__id),K.CheckGLError(),g.context.bufferData(34963,a.byteLength,a,this.__usage,null,null),K.CheckGLError(),a.byteLength!=this.__memoryUsage&&(this.__context.__statsAdd(6,a.byteLength-this.__memoryUsage),this.__memoryUsage=a.byteLength))},uploadFromVector:function(a,b,c){var d=b+c;c=null!=
c?new Int16Array(c):null;for(var e=b;e<d;){var f=e++;c[f-b]=a.get(f)}this.uploadFromTypedArray(c)},__class__:rl};var oh=function(a){this.__context=a;this.__samplerUsageMask=this.__memUsage=0;this.__uniforms=new hd;this.__samplerUniforms=new hd;this.__alphaSamplerUniforms=new hd;this.__samplerStates=D.toObjectVector(null,8)};k["openfl.display3D.Program3D"]=oh;oh.__name__=["openfl","display3D","Program3D"];oh.prototype={__alphaSamplerUniforms:null,__context:null,__fragmentShaderID:null,__fragmentSource:null,
__fragmentUniformMap:null,__memUsage:null,__positionScale:null,__programID:null,__samplerStates:null,__samplerUniforms:null,__samplerUsageMask:null,__uniforms:null,__vertexShaderID:null,__vertexSource:null,__vertexUniformMap:null,dispose:function(){this.__deleteShaders()},upload:function(a,b){var c=[],d=vc.convertToGLSL(a,null),e=vc.convertToGLSL(b,c);this.__uploadFromGLSL(d,e);d=0;for(e=c.length;d<e;){var f=d++;this.__setSamplerState(f,c[f])}},__buildUniformList:function(){this.__uniforms.clear();
this.__samplerUniforms.clear();this.__alphaSamplerUniforms.clear();var a=this.__samplerUsageMask=0,a=g.context.__context.getProgramParameter(this.__programID,35718);K.CheckGLError();for(var b=new hd,c=new hd,d=0;d<a;){var e=d++,e=g.context.__context.getActiveUniform(this.__programID,e),f=e.name,k=e.size,n=e.type;K.CheckGLError();e=new tl;e.name=f;e.size=k;e.type=n;e.location=g.context.__context.getUniformLocation(this.__programID,e.name);K.CheckGLError();f=e.name.indexOf("[");0<=f&&(e.name=e.name.substring(0,
f));switch(e.type){case 35674:e.regCount=2;break;case 35675:e.regCount=3;break;case 35676:e.regCount=4;break;default:e.regCount=1}e.regCount*=e.size;this.__uniforms.add(e);if("vcPositionScale"==e.name)this.__positionScale=e;else if(fa.startsWith(e.name,"vc"))e.regIndex=q.parseInt(e.name.substring(2)),e.regData=this.__context.__vertexConstants,b.add(e);else if(fa.startsWith(e.name,"fc"))e.regIndex=q.parseInt(e.name.substring(2)),e.regData=this.__context.__fragmentConstants,c.add(e);else if(fa.startsWith(e.name,
"sampler")&&!fa.endsWith(e.name,"_alpha"))for(e.regIndex=q.parseInt(e.name.substring(7)),this.__samplerUniforms.add(e),f=0,k=e.regCount;f<k;)n=f++,this.__samplerUsageMask|=1<<e.regIndex+n;else fa.startsWith(e.name,"sampler")&&fa.endsWith(e.name,"_alpha")&&(f=e.name.indexOf("_")-7,e.regIndex=q.parseInt(e.name.substring(7,7+f))+4,this.__alphaSamplerUniforms.add(e))}this.__vertexUniformMap=new Gj(Ih.array(b));this.__fragmentUniformMap=new Gj(Ih.array(c))},__deleteShaders:function(){null!=this.__programID&&
(this.__programID=null);null!=this.__vertexShaderID&&(g.context.__context.deleteShader(this.__vertexShaderID),K.CheckGLError(),this.__vertexShaderID=null);null!=this.__fragmentShaderID&&(g.context.__context.deleteShader(this.__fragmentShaderID),K.CheckGLError(),this.__fragmentShaderID=null);0!=this.__memUsage&&(this.__context.__statsDecrement(5),this.__context.__statsSubtract(10,this.__memUsage),this.__memUsage=0)},__flush:function(){this.__vertexUniformMap.flush();this.__fragmentUniformMap.flush()},
__getSamplerState:function(a){return this.__samplerStates.get(a)},__markDirty:function(a,b,c){a?this.__vertexUniformMap.markDirty(b,c):this.__fragmentUniformMap.markDirty(b,c)},__setPositionScale:function(a){null!=this.__positionScale&&(g.context.uniform4fv(this.__positionScale.location,1,a,null),K.CheckGLError())},__setSamplerState:function(a,b){this.__samplerStates.set(a,b)},__uploadFromGLSL:function(a,b){this.__deleteShaders();oh.verbose&&(La.info(a,{fileName:"Program3D.hx",lineNumber:284,className:"openfl.display3D.Program3D",
methodName:"__uploadFromGLSL"}),La.info(b,{fileName:"Program3D.hx",lineNumber:285,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"}));this.__vertexSource=a;this.__fragmentSource=b;this.__vertexShaderID=g.context.__context.createShader(35633);g.context.__context.shaderSource(this.__vertexShaderID,a);K.CheckGLError();g.context.__context.compileShader(this.__vertexShaderID);K.CheckGLError();var c=g.context.__context.getShaderParameter(this.__vertexShaderID,35713);K.CheckGLError();
if(0==c)throw c=g.context.__context.getShaderInfoLog(this.__vertexShaderID),new F(new ja("Error compiling vertex shader: "+c));this.__fragmentShaderID=g.context.__context.createShader(35632);g.context.__context.shaderSource(this.__fragmentShaderID,b);K.CheckGLError();g.context.__context.compileShader(this.__fragmentShaderID);K.CheckGLError();if(0==g.context.__context.getShaderParameter(this.__fragmentShaderID,35713))throw c=g.context.__context.getShaderInfoLog(this.__fragmentShaderID),new F(new ja("Error compiling fragment shader: "+
c));this.__programID=g.context.__context.createProgram();g.context.__context.attachShader(this.__programID,this.__vertexShaderID);K.CheckGLError();g.context.__context.attachShader(this.__programID,this.__fragmentShaderID);K.CheckGLError();for(c=0;16>c;){var d=c++,e="va"+d;-1!=a.indexOf(" "+e)&&g.context.__context.bindAttribLocation(this.__programID,d,e)}g.context.__context.linkProgram(this.__programID);g.context.__context.getProgramInfoLog(this.__programID);this.__buildUniformList();this.__memUsage=
1;this.__context.__statsIncrement(5);this.__context.__statsAdd(10,this.__memUsage)},__use:function(){var a=this.__programID;g.__currentProgram=a;g.context.__context.useProgram(a);K.CheckGLError();this.__vertexUniformMap.markAllDirty();this.__fragmentUniformMap.markAllDirty();for(a=this.__samplerUniforms.h;null!=a;){var b=a.item,a=a.next;if(1==b.regCount)g.context.__context.uniform1i(b.location,b.regIndex),K.CheckGLError();else throw new F(new nb("!!! TODO: uniform location on webgl"));}for(a=this.__alphaSamplerUniforms.h;null!=
a;)if(b=a.item,a=a.next,1==b.regCount)g.context.__context.uniform1i(b.location,b.regIndex),K.CheckGLError();else throw new F(new nb("!!! TODO: uniform location on webgl"));},__class__:oh};var tl=function(){this.isDirty=!0;this.regDataPointer=new Yc(null,0)};k["openfl.display3D._Program3D.Uniform"]=tl;tl.__name__=["openfl","display3D","_Program3D","Uniform"];tl.prototype={name:null,location:null,type:null,size:null,regData:null,regIndex:null,regCount:null,isDirty:null,regDataPointer:null,flush:function(){var a=
4*this.regIndex;switch(this.type){case 35664:var b=this.location,c=this.regCount,a=this.__getRegisters(a,2*this.regCount);g.context.uniform2fv(b,c,a,null);break;case 35665:b=this.location;c=this.regCount;a=this.__getRegisters(a,3*this.regCount);g.context.uniform3fv(b,c,a,null);break;case 35666:b=this.location;c=this.regCount;a=this.__getRegisters(a,4*this.regCount);g.context.uniform4fv(b,c,a,null);break;case 35674:b=this.location;c=this.size;a=this.__getRegisters(a,4*this.size);g.context.uniformMatrix2fv(b,
c,!1,a,null);break;case 35675:b=this.location;c=this.size;a=this.__getRegisters(a,9*this.size);g.context.uniformMatrix3fv(b,c,!1,a,null);break;case 35676:b=this.location;c=this.size;a=this.__getRegisters(a,16*this.size);g.context.uniformMatrix4fv(b,c,!1,a,null);break;default:b=this.location,c=this.regCount,a=this.__getRegisters(a,4*this.regCount),g.context.uniform4fv(b,c,a,null)}K.CheckGLError()},__getRegisters:function(a,b){return this.regData.subarray(a,a+b)},__class__:tl};var Gj=function(a){this.__uniforms=
a;this.__uniforms.sort(function(a,b){return H.compare(a.regIndex,b.regIndex)});for(var b=a=0,c=this.__uniforms;b<c.length;){var d=c[b];++b;d.regIndex+d.regCount>a&&(a=d.regIndex+d.regCount)}this.__registerLookup=D.toObjectVector(null,a);a=0;for(b=this.__uniforms;a<b.length;){c=b[a];++a;for(var d=0,e=c.regCount;d<e;){var f=d++;this.__registerLookup.set(c.regIndex+f,c)}}this.__anyDirty=this.__allDirty=!0};k["openfl.display3D._Program3D.UniformMap"]=Gj;Gj.__name__=["openfl","display3D","_Program3D",
"UniformMap"];Gj.prototype={__allDirty:null,__anyDirty:null,__registerLookup:null,__uniforms:null,flush:function(){if(this.__anyDirty){for(var a=0,b=this.__uniforms;a<b.length;){var c=b[a];++a;if(this.__allDirty||c.isDirty)c.flush(),c.isDirty=!1}this.__anyDirty=this.__allDirty=!1}},markAllDirty:function(){this.__anyDirty=this.__allDirty=!0},markDirty:function(a,b){if(!this.__allDirty){var c=a+b;c>this.__registerLookup.get_length()&&(c=this.__registerLookup.get_length());for(var d=a;d<c;){var e=this.__registerLookup.get(d);
null!=e?(this.__anyDirty=e.isDirty=!0,d=e.regIndex+e.regCount):++d}}},__class__:Gj};var sl=function(a,b,c,d){this.__context=a;this.__numVertices=b;this.__vertexSize=c;this.__id=g.context.__context.createBuffer();K.CheckGLError();this.__stride=4*this.__vertexSize;this.__memoryUsage=0;this.__usage=0==Te.fromString(d)?35048:35044;this.__context.__statsIncrement(2)};k["openfl.display3D.VertexBuffer3D"]=sl;sl.__name__=["openfl","display3D","VertexBuffer3D"];sl.prototype={__context:null,__data:null,__id:null,
__memoryUsage:null,__numVertices:null,__stride:null,__tempBytes:null,__usage:null,__vertexSize:null,dispose:function(){g.context.__context.deleteBuffer(this.__id);this.__context.__statsDecrement(2);this.__context.__statsSubtract(7,this.__memoryUsage);this.__memoryUsage=0},uploadFromByteArray:function(a,b,c,d){b+=c*this.__stride;d*=this.__vertexSize;a=ka.toArrayBuffer(a);a=null!=a?null==d?new ra(a,b):new ra(a,b,d):null;this.uploadFromTypedArray(a)},uploadFromTypedArray:function(a){null!=a&&(g.context.__context.bindBuffer(34962,
this.__id),K.CheckGLError(),g.context.bufferData(34962,a.byteLength,a,this.__usage,null,null),K.CheckGLError(),a.byteLength!=this.__memoryUsage&&(this.__context.__statsAdd(7,a.byteLength-this.__memoryUsage),this.__memoryUsage=a.byteLength))},uploadFromVector:function(a,b,c){if(null!=a){b*=this.__vertexSize;var d=c*this.__vertexSize;c=b+d;for(var d=null!=d?new ra(d):null,e=b;e<c;){var f=e++;d[f-b]=a.get(f)}this.uploadFromTypedArray(d)}},__class__:sl};var zb=function(a,b){this.__outputTextureMemoryUsage=
!1;X.call(this);this.__context=a;this.__textureTarget=b;this.__textureID=g.context.__context.createTexture();this.__textureContext=g.context;null==zb.__supportsBGRA&&(zb.__textureInternalFormat=6408,zb.__supportsBGRA=!1,zb.__textureFormat=6408);this.__internalFormat=zb.__textureInternalFormat;this.__format=zb.__textureFormat;this.__compressedMemoryUsage=this.__memoryUsage=0};k["openfl.display3D.textures.TextureBase"]=zb;zb.__name__=["openfl","display3D","textures","TextureBase"];zb.__super__=X;zb.prototype=
t(X.prototype,{__alphaTexture:null,__compressedMemoryUsage:null,__context:null,__format:null,__height:null,__internalFormat:null,__memoryUsage:null,__optimizeForRenderToTexture:null,__outputTextureMemoryUsage:null,__samplerState:null,__streamingLevels:null,__textureContext:null,__textureID:null,__textureTarget:null,__width:null,dispose:function(){null!=this.__alphaTexture&&this.__alphaTexture.dispose();g.context.__context.deleteTexture(this.__textureID);0<this.__compressedMemoryUsage&&(this.__context.__statsDecrement(4),
this.__context.__statsSubtract(9,this.__compressedMemoryUsage),this.__compressedMemoryUsage=0);0<this.__memoryUsage&&(this.__context.__statsDecrement(3),this.__context.__statsSubtract(8,this.__memoryUsage),this.__memoryUsage=0)},__getATFVersion:function(a){if("ATF"!=a.readUTFBytes(3))throw new F(new nb("ATF signature not found"));var b=a.position,c=0;Z.gte(a.length-a.position,5)&&(255==this.__readUInt32(a)?c=a.readUnsignedByte():a.position=b);return c},__getImage:function(a){var b=a.image;if(!a.__isValid||
null==b)return null;S.sync(b,!1);b.type==Wa.DATA||b.get_premultiplied()?!b.get_premultiplied()&&b.get_transparent()&&(g.context.__context.pixelStorei(37441,0),b=b.clone(),b.set_premultiplied(!0)):g.context.__context.pixelStorei(37441,1);0!=b.get_format()&&(b=b.clone(),b.set_format(0),b.buffer.premultiplied=!0);return b},__getTexture:function(){return this.__textureID},__readUInt24:function(a){var b=a.readUnsignedByte()<<16,b=b|a.readUnsignedByte()<<8;return b|=a.readUnsignedByte()},__readUInt32:function(a){var b=
a.readUnsignedByte()<<24,b=b|a.readUnsignedByte()<<16,b=b|a.readUnsignedByte()<<8;return b|=a.readUnsignedByte()},__setSamplerState:function(a){a.equals(this.__samplerState)||(g.context.__context.bindTexture(this.__textureTarget,this.__textureID),K.CheckGLError(),g.context.__context.texParameteri(this.__textureTarget,10241,a.minFilter),K.CheckGLError(),g.context.__context.texParameteri(this.__textureTarget,10240,a.magFilter),K.CheckGLError(),g.context.__context.texParameteri(this.__textureTarget,
10242,a.wrapModeS),K.CheckGLError(),g.context.__context.texParameteri(this.__textureTarget,10243,a.wrapModeT),K.CheckGLError(),this.__samplerState=a,this.__samplerState.__samplerDirty=!1)},__trackCompressedMemoryUsage:function(a){0==this.__compressedMemoryUsage&&this.__context.__statsIncrement(4);this.__compressedMemoryUsage+=a;this.__context.__statsAdd(9,a);this.__trackMemoryUsage(a)},__trackMemoryUsage:function(a){0==this.__memoryUsage&&this.__context.__statsIncrement(3);this.__memoryUsage+=a;this.__context.__statsAdd(8,
a)},__class__:zb});var Kf=function(a,b,c,d,e){zb.call(this,a,34067);this.__size=b;this.__optimizeForRenderToTexture=d;this.__streamingLevels=e;this.__uploadedSides=0};k["openfl.display3D.textures.CubeTexture"]=Kf;Kf.__name__=["openfl","display3D","textures","CubeTexture"];Kf.__super__=zb;Kf.prototype=t(zb.prototype,{__size:null,__uploadedSides:null,uploadCompressedTextureFromByteArray:function(a,b,c){null==c&&(c=!1);var d=this;a.position=b;var e=a.readUTFBytes(3);a.position=b;"ATF"==e&&(g.context.__context.bindTexture(this.__textureTarget,
this.__textureID),K.CheckGLError(),this.__uploadATFTextureFromByteArray(a,b));g.context.__context.bindTexture(this.__textureTarget,null);K.CheckGLError();c&&Xc.delay(function(){d.dispatchEvent(new J("textureReady"))},1)},uploadFromBitmapData:function(a,b,c,d){null==c&&(c=0);null!=a&&0!=this.__size>>c&&(a=this.__getImage(a),this.uploadFromTypedArray(a.get_data(),b,c))},uploadFromByteArray:function(a,b,c,d){null==d&&(d=0);0==b?this.uploadFromTypedArray(a.b,c):(a=ka.toArrayBuffer(a),b=null!=a?new Fa(a,
b):null,this.uploadFromTypedArray(b,c,d))},uploadFromTypedArray:function(a,b,c){null==c&&(c=0);if(null!=a){var d=this.__size>>c;if(0!=d){var e;switch(b){case 0:e=34069;break;case 1:e=34070;break;case 2:e=34071;break;case 3:e=34072;break;case 4:e=34073;break;case 5:e=34074;break;default:throw new F(new nb);}g.context.__context.bindTexture(34067,this.__textureID);K.CheckGLError();g.context.texImage2D(e,c,this.__internalFormat,d,d,0,this.__format,5121,a,null);K.CheckGLError();g.context.__context.bindTexture(this.__textureTarget,
null);K.CheckGLError();this.__uploadedSides|=1<<b;this.__trackMemoryUsage(this.__size*this.__size*4)}}},__setSamplerState:function(a){a.equals(this.__samplerState)||(9987!=a.minFilter&&9984!=a.minFilter||a.mipmapGenerated||(g.context.__context.generateMipmap(34067),K.CheckGLError(),a.mipmapGenerated=!0),0!=a.maxAniso&&(g.context.__context.texParameterf(34067,ab.TEXTURE_MAX_ANISOTROPY_EXT,a.maxAniso),K.CheckGLError()));zb.prototype.__setSamplerState.call(this,a)},__uploadATFTextureFromByteArray:function(a,
b){},__class__:Kf});var lg=function(a,b,c,d,e){zb.call(this,a,3553);this.__width=b;this.__height=c;this.__optimizeForRenderToTexture=e;this.uploadFromTypedArray(null)};k["openfl.display3D.textures.RectangleTexture"]=lg;lg.__name__=["openfl","display3D","textures","RectangleTexture"];lg.__super__=zb;lg.prototype=t(zb.prototype,{uploadFromBitmapData:function(a){null!=a&&(a=this.__getImage(a),null!=a&&this.uploadFromTypedArray(a.get_data()))},uploadFromByteArray:function(a,b){if(0==b)this.uploadFromTypedArray(a.b);
else{var c=ka.toArrayBuffer(a),c=null!=c?new Fa(c,b):null;this.uploadFromTypedArray(c)}},uploadFromTypedArray:function(a){g.context.__context.bindTexture(this.__textureTarget,this.__textureID);K.CheckGLError();g.context.texImage2D(this.__textureTarget,0,this.__internalFormat,this.__width,this.__height,0,this.__format,5121,a,null);K.CheckGLError();g.context.__context.bindTexture(this.__textureTarget,null);K.CheckGLError();this.__trackMemoryUsage(this.__width*this.__height*4)},__setSamplerState:function(a){a.equals(this.__samplerState)||
0==a.maxAniso||(g.context.__context.texParameterf(3553,ab.TEXTURE_MAX_ANISOTROPY_EXT,a.maxAniso),K.CheckGLError());zb.prototype.__setSamplerState.call(this,a)},__class__:lg});var Jd=function(a,b,c,d,e,f){zb.call(this,a,3553);this.__width=b;this.__height=c;this.__optimizeForRenderToTexture=e;this.__streamingLevels=f;g.context.__context.bindTexture(this.__textureTarget,this.__textureID);K.CheckGLError();g.context.texImage2D(this.__textureTarget,0,this.__internalFormat,b,c,0,this.__format,5121,0,null);
K.CheckGLError();g.context.__context.bindTexture(this.__textureTarget,null);this.uploadFromTypedArray(null)};k["openfl.display3D.textures.Texture"]=Jd;Jd.__name__=["openfl","display3D","textures","Texture"];Jd.__super__=zb;Jd.prototype=t(zb.prototype,{uploadCompressedTextureFromByteArray:function(a,b,c){null==c&&(c=!1);var d=this;a.position=b;var e=a.readUTFBytes(3);a.position=b;"ATF"==e&&(g.context.__context.bindTexture(this.__textureTarget,this.__textureID),K.CheckGLError(),this.__uploadATFTextureFromByteArray(a,
b));g.context.__context.bindTexture(this.__textureTarget,null);K.CheckGLError();c&&Xc.delay(function(){d.dispatchEvent(new J("textureReady"))},1)},uploadFromBitmapData:function(a,b,c){null==b&&(b=0);if(null!=a){c=this.__width>>b;var d=this.__height>>b;if(0!=c||0!=d){0==c&&(c=1);0==d&&(d=1);if(a.width!=c||a.height!=d)c=new ma(c,d,!0,0),c.draw(a),a=c;a=this.__getImage(a);this.uploadFromTypedArray(a.get_data(),b)}}},uploadFromByteArray:function(a,b,c){null==c&&(c=0);0==b?this.uploadFromTypedArray(a.b,
c):(a=ka.toArrayBuffer(a),b=null!=a?new Fa(a,b):null,this.uploadFromTypedArray(b,c))},uploadFromTypedArray:function(a,b){null==b&&(b=0);if(null!=a){var c=this.__width>>b,d=this.__height>>b;if(0!=c||0!=d)0==c&&(c=1),0==d&&(d=1),g.context.__context.bindTexture(this.__textureTarget,this.__textureID),K.CheckGLError(),g.context.texImage2D(this.__textureTarget,b,this.__internalFormat,c,d,0,this.__format,5121,a,null),K.CheckGLError(),g.context.__context.bindTexture(this.__textureTarget,null),K.CheckGLError(),
this.__trackMemoryUsage(c*d*4)}},__setSamplerState:function(a){a.equals(this.__samplerState)||(9987!=a.minFilter&&9984!=a.minFilter||a.mipmapGenerated||(g.context.__context.generateMipmap(3553),K.CheckGLError(),a.mipmapGenerated=!0),0!=a.maxAniso&&(g.context.__context.texParameterf(3553,ab.TEXTURE_MAX_ANISOTROPY_EXT,a.maxAniso),K.CheckGLError()));zb.prototype.__setSamplerState.call(this,a)},__uploadATFTextureFromByteArray:function(a,b){a.position=b;var c=this.__getATFVersion(a),d=0==c?this.__readUInt24(a):
this.__readUInt32(a);if(y.__cast(b+d,zk)>ka.get_length(a))throw new F(new nb("ATF length exceeds byte array length"));if(0!=a.readUnsignedByte()>>7)throw new F(new nb("ATF Cube maps are not supported"));var d=1<<a.readUnsignedByte(),e=1<<a.readUnsignedByte();if(d!=this.__width||e!=this.__height)throw new F(new nb("ATF width and height dont match"));d=0;for(e=a.readUnsignedByte();d<e;){d++;for(var f=0;3>f;){f++;var g=0==c?this.__readUInt24(a):this.__readUInt32(a);Z.gt(g,0);a.position+=g}}},__class__:Jd});
var Ej=function(a){zb.call(this,a,3553)};k["openfl.display3D.textures.VideoTexture"]=Ej;Ej.__name__=["openfl","display3D","textures","VideoTexture"];Ej.__super__=zb;Ej.prototype=t(zb.prototype,{videoHeight:null,videoWidth:null,__netStream:null,attachNetStream:function(a){var b=this;this.__netStream=a;4==this.__netStream.__video.readyState?Xc.delay(function(){b.__textureReady()},0):this.__netStream.__video.addEventListener("canplay",function(a){b.__textureReady()},!1)},__getTexture:function(){this.__netStream.__video.paused||
(g.context.__context.bindTexture(this.__textureTarget,this.__textureID),K.CheckGLError(),g.context.texImage2D(3553,0,6408,6408,5121,this.__netStream.__video),K.CheckGLError());return this.__textureID},__textureReady:function(){this.videoWidth=this.__netStream.__video.videoWidth;this.videoHeight=this.__netStream.__video.videoHeight;this.dispatchEvent(new J("textureReady"))},__class__:Ej});var Hg=function(a){null==a&&(a="");ja.call(this,a);this.name="ArgumentError"};k["openfl.errors.ArgumentError"]=
Hg;Hg.__name__=["openfl","errors","ArgumentError"];Hg.__super__=ja;Hg.prototype=t(ja.prototype,{__class__:Hg});var og=function(a){null==a&&(a="");ja.call(this,a);this.name="IOError"};k["openfl.errors.IOError"]=og;og.__name__=["openfl","errors","IOError"];og.__super__=ja;og.prototype=t(ja.prototype,{__class__:og});var wf=function(){og.call(this,"End of file was encountered");this.name="EOFError";this.errorID=2030};k["openfl.errors.EOFError"]=wf;wf.__name__=["openfl","errors","EOFError"];wf.__super__=
og;wf.prototype=t(og.prototype,{__class__:wf});var nb=function(a){null==a&&(a="");ja.call(this,a,0);this.name="IllegalOperationError"};k["openfl.errors.IllegalOperationError"]=nb;nb.__name__=["openfl","errors","IllegalOperationError"];nb.__super__=ja;nb.prototype=t(ja.prototype,{__class__:nb});var Hh=function(a){null==a&&(a="");ja.call(this,a,0);this.name="RangeError"};k["openfl.errors.RangeError"]=Hh;Hh.__name__=["openfl","errors","RangeError"];Hh.__super__=ja;Hh.prototype=t(ja.prototype,{__class__:Hh});
var Gh=function(a){null==a&&(a="");ja.call(this,a,0);this.name="TypeError"};k["openfl.errors.TypeError"]=Gh;Gh.__name__=["openfl","errors","TypeError"];Gh.__super__=ja;Gh.prototype=t(ja.prototype,{__class__:Gh});var Ve=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);J.call(this,a,b,c);this.activating=d};k["openfl.events.ActivityEvent"]=Ve;Ve.__name__=["openfl","events","ActivityEvent"];Ve.__super__=J;Ve.prototype=t(J.prototype,{activating:null,clone:function(){var a=new Ve(this.type,
this.bubbles,this.cancelable,this.activating);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("ActivityEvent",["type","bubbles","cancelable","activating"])},__class__:Ve});var td=function(a,b,c,d){null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);J.call(this,a,b,c);this.text=d};k["openfl.events.TextEvent"]=td;td.__name__=["openfl","events","TextEvent"];td.__super__=J;td.prototype=t(J.prototype,{text:null,
clone:function(){var a=new td(this.type,this.bubbles,this.cancelable,this.text);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("TextEvent",["type","bubbles","cancelable","text"])},__class__:td});var Nc=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);td.call(this,a,b,c,d);this.errorID=e};k["openfl.events.ErrorEvent"]=Nc;Nc.__name__=["openfl","events","ErrorEvent"];Nc.__super__=
td;Nc.prototype=t(td.prototype,{errorID:null,clone:function(){var a=new Nc(this.type,this.bubbles,this.cancelable,this.text,this.errorID);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("ErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:Nc});var Ch=function(a){this.list=a;this.index=a.length};k["openfl.events._EventDispatcher.DispatchIterator"]=Ch;Ch.__name__=["openfl","events","_EventDispatcher",
"DispatchIterator"];Ch.prototype={active:null,index:null,isCopy:null,list:null,copy:function(){this.index<this.list.length&&!this.isCopy&&(this.list=this.list.slice(),this.isCopy=!0)},hasNext:function(){return this.index<this.list.length?!0:this.active=!1},next:function(){return this.list[this.index++]},remove:function(a,b){if(this.active)if(this.isCopy)for(var c=this.index,d=this.list.length;c<d;){var e=c++;if(this.list[e]==a){this.list.splice(e,1);break}}else b<this.index&&this.index--},reset:function(a){this.list=
a;this.active=!0;this.index=0},__class__:Ch};var Bh=function(a,b,c){this.callback=a;this.useCapture=b;this.priority=c};k["openfl.events._EventDispatcher.Listener"]=Bh;Bh.__name__=["openfl","events","_EventDispatcher","Listener"];Bh.prototype={callback:null,priority:null,useCapture:null,match:function(a,b){return H.compareMethods(this.callback,a)?this.useCapture==b:!1},__class__:Bh};var $d=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=!1);null==c&&(c=!1);null==b&&(b=!1);J.call(this,a,b,c);this.keyCode=
f;this.shiftKey=e;this.relatedObject=d};k["openfl.events.FocusEvent"]=$d;$d.__name__=["openfl","events","FocusEvent"];$d.__super__=J;$d.prototype=t(J.prototype,{keyCode:null,relatedObject:null,shiftKey:null,clone:function(){var a=new $d(this.type,this.bubbles,this.cancelable,this.relatedObject,this.shiftKey,this.keyCode);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("FocusEvent","type bubbles cancelable relatedObject shiftKey keyCode".split(" "))},
__class__:$d});var ee=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);Ve.call(this,a,b,c);this.fullScreen=d;this.interactive=e};k["openfl.events.FullScreenEvent"]=ee;ee.__name__=["openfl","events","FullScreenEvent"];ee.__super__=Ve;ee.prototype=t(Ve.prototype,{fullScreen:null,interactive:null,clone:function(){var a=new ee(this.type,this.bubbles,this.cancelable,this.fullScreen,this.interactive);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=
this.eventPhase;return a},toString:function(){return this.__formatToString("FullscreenEvent",["type","bubbles","cancelable","fullscreen","interactive"])},__class__:ee});var ve=function(a,b,c,d){null==c&&(c=!1);null==b&&(b=!0);J.call(this,a,b,c);this.device=d};k["openfl.events.GameInputEvent"]=ve;ve.__name__=["openfl","events","GameInputEvent"];ve.__super__=J;ve.prototype=t(J.prototype,{device:null,clone:function(){var a=new ve(this.type,this.bubbles,this.cancelable,this.device);a.target=this.target;
a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("GameInputEvent",["type","bubbles","cancelable","device"])},__class__:ve});var pg=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);this.status=d;this.redirected=e;J.call(this,a,b,c)};k["openfl.events.HTTPStatusEvent"]=pg;pg.__name__=["openfl","events","HTTPStatusEvent"];pg.__super__=J;pg.prototype=t(J.prototype,{redirected:null,responseHeaders:null,
responseURL:null,status:null,clone:function(){var a=new pg(this.type,this.bubbles,null,this.status,this.redirected);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("HTTPStatusEvent",["type","bubbles","cancelable","status","redirected"])},__class__:pg});var sd=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!0);Nc.call(this,a,b,c,d,e)};k["openfl.events.IOErrorEvent"]=sd;sd.__name__=
["openfl","events","IOErrorEvent"];sd.__super__=Nc;sd.prototype=t(Nc.prototype,{clone:function(){var a=new sd(this.type,this.bubbles,this.cancelable,this.text,this.errorID);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("IOErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:sd});var uf=function(a,b,c,d,e,f,g,k,m,h,l){null==l&&(l=!1);null==h&&(h=!1);null==m&&(m=!1);null==k&&(k=!1);
null==g&&(g=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);J.call(this,a,b,c);this.charCode=d;this.keyCode=e;this.keyLocation=null!=f?f:0;this.ctrlKey=g;this.altKey=k;this.shiftKey=m;this.controlKey=h;this.commandKey=l};k["openfl.events.KeyboardEvent"]=uf;uf.__name__=["openfl","events","KeyboardEvent"];uf.__super__=J;uf.prototype=t(J.prototype,{altKey:null,charCode:null,ctrlKey:null,commandKey:null,controlKey:null,keyCode:null,keyLocation:null,shiftKey:null,clone:function(){var a=
new uf(this.type,this.bubbles,this.cancelable,this.charCode,this.keyCode,this.keyLocation,this.ctrlKey,this.altKey,this.shiftKey,this.controlKey,this.commandKey);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("KeyboardEvent","type bubbles cancelable charCode keyCode keyLocation ctrlKey altKey shiftKey".split(" "))},__class__:uf});var Ga=function(a,b,c,d,e,f,g,k,m,h,l,n,q){null==q&&(q=0);null==n&&(n=!1);
null==l&&(l=0);null==h&&(h=!1);null==m&&(m=!1);null==k&&(k=!1);null==g&&(g=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);J.call(this,a,b,c);this.shiftKey=m;this.altKey=k;this.ctrlKey=g;this.bubbles=b;this.relatedObject=f;this.delta=l;this.localX=d;this.localY=e;this.buttonDown=h;this.commandKey=n;this.clickCount=q;this.stageY=this.stageX=NaN};k["openfl.events.MouseEvent"]=Ga;Ga.__name__=["openfl","events","MouseEvent"];Ga.__create=function(a,b,c,d,e,f,g){null==g&&(g=0);switch(a){case "mouseDown":Ga.__buttonDown=
!0;break;case "mouseUp":Ga.__buttonDown=!1}a=new Ga(a,!0,!1,e.x,e.y,null,Ga.__ctrlKey,Ga.__altKey,Ga.__shiftKey,Ga.__buttonDown,g,Ga.__commandKey);a.stageX=c;a.stageY=d;a.target=f;return a};Ga.__super__=J;Ga.prototype=t(J.prototype,{altKey:null,buttonDown:null,commandKey:null,clickCount:null,ctrlKey:null,delta:null,localX:null,localY:null,relatedObject:null,shiftKey:null,stageX:null,stageY:null,clone:function(){var a=new Ga(this.type,this.bubbles,this.cancelable,this.localX,this.localY,this.relatedObject,
this.ctrlKey,this.altKey,this.shiftKey,this.buttonDown,this.delta,this.commandKey,this.clickCount);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("MouseEvent","type bubbles cancelable localX localY relatedObject ctrlKey altKey shiftKey buttonDown delta".split(" "))},updateAfterEvent:function(){},__class__:Ga});var we=function(a,b,c,d){null==c&&(c=!1);null==b&&(b=!1);this.info=d;J.call(this,a,b,c)};k["openfl.events.NetStatusEvent"]=
we;we.__name__=["openfl","events","NetStatusEvent"];we.__super__=J;we.prototype=t(J.prototype,{info:null,clone:function(){var a=new we(this.type,this.bubbles,this.cancelable,this.info);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("NetStatusEvent",["type","bubbles","cancelable","info"])},__class__:we});var Yd=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);J.call(this,
a,b,c);this.bytesLoaded=d;this.bytesTotal=e};k["openfl.events.ProgressEvent"]=Yd;Yd.__name__=["openfl","events","ProgressEvent"];Yd.__super__=J;Yd.prototype=t(J.prototype,{bytesLoaded:null,bytesTotal:null,clone:function(){var a=new Yd(this.type,this.bubbles,this.cancelable,this.bytesLoaded,this.bytesTotal);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("ProgressEvent",["type","bubbles","cancelable","bytesLoaded",
"bytesTotal"])},__class__:Yd});var qg=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);Nc.call(this,a,b,c,d,e)};k["openfl.events.SecurityErrorEvent"]=qg;qg.__name__=["openfl","events","SecurityErrorEvent"];qg.__super__=Nc;qg.prototype=t(Nc.prototype,{clone:function(){var a=new qg(this.type,this.bubbles,this.cancelable,this.text,this.errorID);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("SecurityErrorEvent",
["type","bubbles","cancelable","text","errorID"])},__class__:qg});var xe=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);J.call(this,a,b,c)};k["openfl.events.TimerEvent"]=xe;xe.__name__=["openfl","events","TimerEvent"];xe.__super__=J;xe.prototype=t(J.prototype,{clone:function(){var a=new xe(this.type,this.bubbles,this.cancelable);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("TimerEvent",["type","bubbles",
"cancelable"])},updateAfterEvent:function(){},__class__:xe});var hc=function(a,b,c,d,e,f,g,k,m,h,l,n,q,r,t,u,w,y,x,z){null==u&&(u=!1);null==t&&(t=!1);null==r&&(r=!1);null==q&&(q=!1);null==n&&(n=!1);null==h&&(h=0);null==m&&(m=0);null==k&&(k=0);null==g&&(g=0);null==f&&(f=0);null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);J.call(this,a,b,c);this.touchPointID=d;this.isPrimaryTouchPoint=e;this.localX=f;this.localY=g;this.sizeX=k;this.sizeY=m;this.pressure=h;this.relatedObject=l;this.ctrlKey=
n;this.altKey=q;this.shiftKey=r;this.commandKey=t;this.controlKey=u;this.stageY=this.stageX=NaN};k["openfl.events.TouchEvent"]=hc;hc.__name__=["openfl","events","TouchEvent"];hc.__create=function(a,b,c,d,e,f){a=new hc(a,!0,!1,0,!0,e.x,e.y,1,1,1);a.stageX=c;a.stageY=d;a.target=f;return a};hc.__super__=J;hc.prototype=t(J.prototype,{altKey:null,commandKey:null,controlKey:null,ctrlKey:null,delta:null,isPrimaryTouchPoint:null,localX:null,localY:null,pressure:null,relatedObject:null,shiftKey:null,sizeX:null,
sizeY:null,stageX:null,stageY:null,touchPointID:null,clone:function(){var a=new hc(this.type,this.bubbles,this.cancelable,this.touchPointID,this.isPrimaryTouchPoint,this.localX,this.localY,this.sizeX,this.sizeY,this.pressure,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.commandKey,this.controlKey);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("TouchEvent","type bubbles cancelable touchPointID isPrimaryTouchPoint localX localY sizeX sizeY pressure relatedObject ctrlKey altKey shiftKey commandKey controlKey".split(" "))},
updateAfterEvent:function(){},__class__:hc});var ig=function(a,b,c,d){null==c&&(c=!0);null==b&&(b=!0);Nc.call(this,a,b,c);this.error=d};k["openfl.events.UncaughtErrorEvent"]=ig;ig.__name__=["openfl","events","UncaughtErrorEvent"];ig.__super__=Nc;ig.prototype=t(Nc.prototype,{error:null,clone:function(){var a=new ig(this.type,this.bubbles,this.cancelable,this.error);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("UncaughtErrorEvent",
["type","bubbles","cancelable","error"])},__class__:ig});var Bj=function(){X.call(this)};k["openfl.events.UncaughtErrorEvents"]=Bj;Bj.__name__=["openfl","events","UncaughtErrorEvents"];Bj.__super__=X;Bj.prototype=t(X.prototype,{__class__:Bj});var vd=function(){this.__numPasses=0};k["openfl.filters.BitmapFilter"]=vd;vd.__name__=["openfl","filters","BitmapFilter"];vd.prototype={__cacheObject:null,__numPasses:null,clone:function(){return new vd},__applyFilter:function(a,b,c,d){},__initShader:function(a,
b){return a.shaderManager.defaultShader},__class__:vd};var Hj=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="varying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\tuniform sampler2D uImage0;\n\t\t\n\t\tvarying vec2 vBlurCoords[7];\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvec4 sum = vec4(0.0);\n\t\t\tsum += texture2D(uImage0, vBlurCoords[0]) * 0.00443;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[1]) * 0.05399;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[2]) * 0.24197;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[3]) * 0.39894;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[4]) * 0.24197;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[5]) * 0.05399;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[6]) * 0.00443;\n\t\t\t\n\t\t\tgl_FragColor = sum;\n\t\t\t\n\t\t}");
null==this.__glVertexSource&&(this.__glVertexSource="attribute float aAlpha;\n\t\tattribute vec4 aPosition;\n\t\tattribute vec2 aTexCoord;\n\t\tvarying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\t\n\t\tuniform mat4 uMatrix;\n\t\t\n\t\tuniform vec2 uRadius;\n\t\tvarying vec2 vBlurCoords[7];\n\t\tuniform vec2 uTextureSize;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvAlpha = aAlpha;\n\t\t\tvTexCoord = aTexCoord;\n\t\t\tgl_Position = uMatrix * aPosition;\n\t\t\t\n\t\t\tvec2 r = uRadius / uTextureSize;\n\t\t\tvBlurCoords[0] = aTexCoord - r * 1.0;\n\t\t\tvBlurCoords[1] = aTexCoord - r * 0.75;\n\t\t\tvBlurCoords[2] = aTexCoord - r * 0.5;\n\t\t\tvBlurCoords[3] = aTexCoord;\n\t\t\tvBlurCoords[4] = aTexCoord + r * 0.5;\n\t\t\tvBlurCoords[5] = aTexCoord + r * 0.75;\n\t\t\tvBlurCoords[6] = aTexCoord + r * 1.0;\n\t\t\t\n\t\t}");
Tc.call(this);this.get_data().uRadius.value=[0,0]};k["openfl.filters._BlurFilter.BlurShader"]=Hj;Hj.__name__=["openfl","filters","_BlurFilter","BlurShader"];Hj.__super__=Tc;Hj.prototype=t(Tc.prototype,{__update:function(){var a=this.get_data().uImage0.input.width;this.get_data().uTextureSize.value=[a,this.get_data().uImage0.input.height];Tc.prototype.__update.call(this)},__class__:Hj});var Ne=function(a,b,c){null==c&&(c=1);null==b&&(b=4);null==a&&(a=4);this.__numPasses=0;this.blurX=a;this.blurY=b;
this.set_quality(c)};k["openfl.filters.BlurFilter"]=Ne;Ne.__name__=["openfl","filters","BlurFilter"];Ne.__super__=vd;Ne.prototype=t(vd.prototype,{blurX:null,blurY:null,quality:null,horizontalPasses:null,verticalPasses:null,clone:function(){return new Ne(this.blurX,this.blurY,this.quality)},__initShader:function(a,b){var c=Ne.__blurShader.get_data();if(b<=this.horizontalPasses){var d=Math.pow(.5,b>>1);c.uRadius.value[0]=this.blurX*d;c.uRadius.value[1]=0}else d=Math.pow(.5,b-this.horizontalPasses>>
1),c.uRadius.value[0]=0,c.uRadius.value[1]=this.blurY*d;return Ne.__blurShader},set_quality:function(a){this.horizontalPasses=0>=this.blurX?0:Math.round(a/4*this.blurX)+1;this.verticalPasses=0>=this.blurY?0:Math.round(a/4*this.blurY)+1;this.__numPasses=this.horizontalPasses+this.verticalPasses;return this.quality=a},__class__:Ne,__properties__:{set_quality:"set_quality"}});var Ij=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="varying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\tuniform sampler2D uImage0;\n\t\t\n\t\tuniform mat4 uMultipliers;\n\t\tuniform vec4 uOffsets;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvec4 color = texture2D (uImage0, vTexCoord);\n\t\t\t\n\t\t\tif (color.a == 0.0) {\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tcolor = vec4 (color.rgb / color.a, color.a);\n\t\t\t\tcolor = uOffsets + color * uMultipliers;\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4 (color.rgb * color.a * vAlpha, color.a * vAlpha);\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}");
Tc.call(this);this.get_data().uMultipliers.value=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];this.get_data().uOffsets.value=[0,0,0,0]};k["openfl.filters._ColorMatrixFilter.ColorMatrixShader"]=Ij;Ij.__name__=["openfl","filters","_ColorMatrixFilter","ColorMatrixShader"];Ij.__super__=Tc;Ij.prototype=t(Tc.prototype,{init:function(a){var b=this.get_data().uMultipliers.value,c=this.get_data().uOffsets.value;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[5];b[5]=a[6];b[6]=a[7];b[7]=a[8];b[8]=a[10];b[9]=a[11];b[10]=
a[12];b[11]=a[13];b[12]=a[15];b[13]=a[16];b[14]=a[17];b[15]=a[18];c[0]=a[4]/255;c[1]=a[9]/255;c[2]=a[14]/255;c[3]=a[19]/255},__class__:Ij});var Oe=function(a){this.__numPasses=0;this.set_matrix(a);this.__numPasses=0};k["openfl.filters.ColorMatrixFilter"]=Oe;Oe.__name__=["openfl","filters","ColorMatrixFilter"];Oe.__super__=vd;Oe.prototype=t(vd.prototype,{matrix:null,clone:function(){return new Oe(this.matrix)},__applyFilter:function(a,b,c,d){S.convertToCanvas(a.image);S.createImageData(a.image);S.convertToCanvas(b.image);
S.createImageData(b.image);var e=a.image.get_data(),f=b.image.get_data(),g=d.x-c.x|0;d=d.y-c.y|0;a=4*a.width;for(var k=4*b.width,m,h,l=c.y|0,n=c.height|0;l<n;)for(var q=l++,r=c.x|0,t=c.width|0;r<t;){h=r++;m=q*a+4*h;h=(q+g)*k+4*(h+d);var u=e[m],w=e[m+1],y=e[m+2];m=e[m+3];var x=this.matrix[0],x=Z.toFloat(u)*x,z=this.matrix[1],x=x+Z.toFloat(w)*z,z=this.matrix[2],x=x+Z.toFloat(y)*z,z=this.matrix[3];f[h]=x+Z.toFloat(m)*z+this.matrix[4]|0;x=this.matrix[5];x*=Z.toFloat(u);z=this.matrix[6];x+=Z.toFloat(w)*
z;z=this.matrix[7];x+=Z.toFloat(y)*z;z=this.matrix[8];f[h+1]=x+Z.toFloat(m)*z+this.matrix[9]|0;x=this.matrix[10];x*=Z.toFloat(u);z=this.matrix[11];x+=Z.toFloat(w)*z;z=this.matrix[12];x+=Z.toFloat(y)*z;z=this.matrix[13];f[h+2]=x+Z.toFloat(m)*z+this.matrix[14]|0;x=this.matrix[15];u=Z.toFloat(u)*x;x=this.matrix[16];w=u+Z.toFloat(w)*x;u=this.matrix[17];y=w+Z.toFloat(y)*u;w=this.matrix[18];f[h+3]=y+Z.toFloat(m)*w+this.matrix[19]|0}b.image.dirty=!0},__initShader:function(a,b){Oe.__colorMatrixShader.init(this.matrix);
return Oe.__colorMatrixShader},set_matrix:function(a){null==a&&(a=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);return this.matrix=a},__class__:Oe,__properties__:{set_matrix:"set_matrix"}});var Wg=function(a,b,c,d,e,f,g,k,m,h,l){null==l&&(l=!1);null==h&&(h=!1);null==m&&(m=!1);null==k&&(k=1);null==g&&(g=1);null==f&&(f=4);null==e&&(e=4);null==d&&(d=1);null==c&&(c=0);null==b&&(b=45);null==a&&(a=4);this.__numPasses=0;this.distance=a;this.angle=b;this.color=c;this.alpha=d;this.blurX=e;this.blurY=f;this.strength=
g;this.set_quality(k);this.inner=m;this.set_knockout(h);this.set_hideObject(l)};k["openfl.filters.DropShadowFilter"]=Wg;Wg.__name__=["openfl","filters","DropShadowFilter"];Wg.__super__=vd;Wg.prototype=t(vd.prototype,{alpha:null,angle:null,blurX:null,blurY:null,color:null,distance:null,hideObject:null,inner:null,knockout:null,quality:null,strength:null,clone:function(){return new Wg(this.distance,this.angle,this.color,this.alpha,this.blurX,this.blurY,this.strength,this.quality,this.inner,this.knockout,
this.hideObject)},set_knockout:function(a){return this.knockout=a},set_hideObject:function(a){return this.hideObject=a},set_quality:function(a){return this.quality=a},__class__:Wg,__properties__:{set_quality:"set_quality",set_knockout:"set_knockout",set_hideObject:"set_hideObject"}});var Jj=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="varying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\tuniform sampler2D uImage0;\n\t\t\n\t\tuniform vec4 uColor;\n\t\t\n\t\tvarying vec2 vBlurCoords[7];\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tfloat a = 0.0;\n\t\t\ta += texture2D(uImage0, vBlurCoords[0]).a * 0.00443;\n\t\t\ta += texture2D(uImage0, vBlurCoords[1]).a * 0.05399;\n\t\t\ta += texture2D(uImage0, vBlurCoords[2]).a * 0.24197;\n\t\t\ta += texture2D(uImage0, vBlurCoords[3]).a * 0.39894;\n\t\t\ta += texture2D(uImage0, vBlurCoords[4]).a * 0.24197;\n\t\t\ta += texture2D(uImage0, vBlurCoords[5]).a * 0.05399;\n\t\t\ta += texture2D(uImage0, vBlurCoords[6]).a * 0.00443;\n\t\t\ta *= uColor.a;\n\t\t\t\n\t\t\tgl_FragColor = vec4(uColor.rgb * a, a);\n\t\t\t\n\t\t}");
null==this.__glVertexSource&&(this.__glVertexSource="attribute float aAlpha;\n\t\tattribute vec4 aPosition;\n\t\tattribute vec2 aTexCoord;\n\t\tvarying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\t\n\t\tuniform mat4 uMatrix;\n\t\t\n\t\tuniform vec2 uRadius;\n\t\tvarying vec2 vBlurCoords[7];\n\t\tuniform vec2 uTextureSize;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvAlpha = aAlpha;\n\t\t\tvTexCoord = aTexCoord;\n\t\t\tgl_Position = uMatrix * aPosition;\n\t\t\t\n\t\t\tvec2 r = uRadius / uTextureSize;\n\t\t\tvBlurCoords[0] = aTexCoord - r * 1.0;\n\t\t\tvBlurCoords[1] = aTexCoord - r * 0.75;\n\t\t\tvBlurCoords[2] = aTexCoord - r * 0.5;\n\t\t\tvBlurCoords[3] = aTexCoord;\n\t\t\tvBlurCoords[4] = aTexCoord + r * 0.5;\n\t\t\tvBlurCoords[5] = aTexCoord + r * 0.75;\n\t\t\tvBlurCoords[6] = aTexCoord + r * 1.0;\n\t\t\t\n\t\t}");
Tc.call(this);this.get_data().uRadius.value=[0,0];this.get_data().uColor.value=[0,0,0,0]};k["openfl.filters._GlowFilter.GlowShader"]=Jj;Jj.__name__=["openfl","filters","_GlowFilter","GlowShader"];Jj.__super__=Tc;Jj.prototype=t(Tc.prototype,{__update:function(){var a=this.get_data().uImage0.input.width;this.get_data().uTextureSize.value=[a,this.get_data().uImage0.input.height];Tc.prototype.__update.call(this)},__class__:Jj});var Zc=function(a,b,c,d,e,f,g,k){null==k&&(k=!1);null==g&&(g=!1);null==f&&
(f=1);null==e&&(e=2);null==d&&(d=6);null==c&&(c=6);null==b&&(b=1);null==a&&(a=16711680);this.__numPasses=0;this.color=a;this.alpha=b;this.blurX=c;this.blurY=d;this.strength=e;this.set_quality(f);this.inner=g;this.set_knockout(k);this.__cacheObject=!0};k["openfl.filters.GlowFilter"]=Zc;Zc.__name__=["openfl","filters","GlowFilter"];Zc.__super__=vd;Zc.prototype=t(vd.prototype,{alpha:null,blurX:null,blurY:null,color:null,inner:null,knockout:null,quality:null,strength:null,horizontalPasses:null,verticalPasses:null,
clone:function(){return new Zc(this.color,this.alpha,this.blurX,this.blurY,this.strength,this.quality,this.inner,this.knockout)},__initShader:function(a,b){var c=Zc.__glowShader.get_data();if(b<=this.horizontalPasses){var d=Math.pow(.5,b>>1);c.uRadius.value[0]=this.blurX*d;c.uRadius.value[1]=0}else d=Math.pow(.5,b-this.horizontalPasses>>1),c.uRadius.value[0]=0,c.uRadius.value[1]=this.blurY*d;c.uColor.value[0]=(this.color>>16&255)/255;c.uColor.value[1]=(this.color>>8&255)/255;c.uColor.value[2]=(this.color&
255)/255;c.uColor.value[3]=this.alpha;return Zc.__glowShader},set_knockout:function(a){return this.knockout=a},set_quality:function(a){this.horizontalPasses=0>=this.blurX?0:Math.round(a/4*this.blurX)+1;this.verticalPasses=0>=this.blurY?0:Math.round(a/4*this.blurY)+1;this.__numPasses=this.horizontalPasses+this.verticalPasses;return this.quality=a},__class__:Zc,__properties__:{set_quality:"set_quality",set_knockout:"set_knockout"}});var ul=function(a){};k["openfl.filters._BlurShader_ShaderData"]=ul;
ul.__name__=["openfl","filters","_BlurShader_ShaderData"];ul.__super__=Zd;ul.prototype=t(Zd.prototype,{uRadius:null,uTextureSize:null,__class__:ul});var vl=function(a){};k["openfl.filters._ColorMatrixShader_ShaderData"]=vl;vl.__name__=["openfl","filters","_ColorMatrixShader_ShaderData"];vl.__super__=Zd;vl.prototype=t(Zd.prototype,{uMultipliers:null,uOffsets:null,__class__:vl});var wl=function(a){};k["openfl.filters._GlowShader_ShaderData"]=wl;wl.__name__=["openfl","filters","_GlowShader_ShaderData"];
wl.__super__=Zd;wl.prototype=t(Zd.prototype,{uRadius:null,uTextureSize:null,uColor:null,__class__:wl});var qh={};k["openfl.geom._Orientation3D.Orientation3D_Impl_"]=qh;qh.__name__=["openfl","geom","_Orientation3D","Orientation3D_Impl_"];qh.fromString=function(a){switch(a){case "axisAngle":return 0;case "eulerAngles":return 1;case "quaternion":return 2;default:return null}};qh.toString=function(a){switch(a){case 0:return"axisAngle";case 1:return"eulerAngles";case 2:return"quaternion";default:return null}};
var Ka=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};k["openfl.geom.Point"]=Ka;Ka.__name__=["openfl","geom","Point"];Ka.distance=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};Ka.interpolate=function(a,b,c){return new Ka(b.x+c*(a.x-b.x),b.y+c*(a.y-b.y))};Ka.polar=function(a,b){return new Ka(a*Math.cos(b),a*Math.sin(b))};Ka.prototype={x:null,y:null,add:function(a){return new Ka(a.x+this.x,a.y+this.y)},clone:function(){return new Ka(this.x,this.y)},copyFrom:function(a){this.x=
a.x;this.y=a.y},equals:function(a){return null!=a&&a.x==this.x?a.y==this.y:!1},normalize:function(a){if(0!=this.x||0!=this.y)a/=Math.sqrt(this.x*this.x+this.y*this.y),this.x*=a,this.y*=a},offset:function(a,b){this.x+=a;this.y+=b},setTo:function(a,b){this.x=a;this.y=b},subtract:function(a){return new Ka(this.x-a.x,this.y-a.y)},toString:function(){return"(x="+this.x+", y="+this.y+")"},__toLimeVector2:function(){null==Ka.__limeVector2&&(Ka.__limeVector2=new vb);var a=Ka.__limeVector2;a.x=this.x;a.y=
this.y;return Ka.__limeVector2},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:Ka,__properties__:{get_length:"get_length"}};var Fh=function(a){this.__colorTransform=new Ob;this.concatenatedColorTransform=new Ob;this.pixelBounds=new ha;this.__displayObject=a;this.__hasMatrix=!0};k["openfl.geom.Transform"]=Fh;Fh.__name__=["openfl","geom","Transform"];Fh.prototype={concatenatedColorTransform:null,pixelBounds:null,__colorTransform:null,__displayObject:null,__hasMatrix:null,
__hasMatrix3D:null,get_colorTransform:function(){return this.__colorTransform},set_colorTransform:function(a){this.__colorTransform.__equals(a)||(this.__colorTransform=a,null!=a&&this.__displayObject.set_alpha(a.alphaMultiplier),a=this.__displayObject,a.__renderDirty||(a.__renderDirty=!0,aa.__worldRenderDirty++));return this.__colorTransform},get_concatenatedMatrix:function(){return this.__hasMatrix?this.__displayObject.__getWorldTransform().clone():null},get_matrix:function(){return this.__hasMatrix?
this.__displayObject.__transform.clone():null},set_matrix:function(a){if(null==a)return this.__hasMatrix=!1,null;this.__hasMatrix=!0;this.__hasMatrix3D=!1;null!=this.__displayObject&&this.__setTransform(a.a,a.b,a.c,a.d,a.tx,a.ty);return a},get_matrix3D:function(){if(this.__hasMatrix3D){for(var a=this.__displayObject.__transform,a=[a.a,a.b,0,0,a.c,a.d,0,0,0,0,1,0,a.tx,a.ty,0,1],b=D.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return new Sa(b)}return null},set_matrix3D:function(a){if(null==
a)return this.__hasMatrix3D=!1,null;this.__hasMatrix=!1;this.__hasMatrix3D=!0;this.__setTransform(a.rawData.get(0),a.rawData.get(1),a.rawData.get(5),a.rawData.get(6),a.rawData.get(12),a.rawData.get(13));return a},__setTransform:function(a,b,c,d,e,f){if(null!=this.__displayObject){var g=0,k=0,g=0==b?a:Math.sqrt(a*a+b*b),k=0==c?a:Math.sqrt(c*c+d*d);this.__displayObject.__scaleX=g;this.__displayObject.__scaleY=k;g=180/Math.PI*Math.atan2(d,c)-90;g!=this.__displayObject.__rotation&&(this.__displayObject.__rotation=
g,g*=Math.PI/180,this.__displayObject.__rotationSine=Math.sin(g),this.__displayObject.__rotationCosine=Math.cos(g));this.__displayObject.__transform.a=a;this.__displayObject.__transform.b=b;this.__displayObject.__transform.c=c;this.__displayObject.__transform.d=d;this.__displayObject.__transform.tx=e;this.__displayObject.__transform.ty=f;a=this.__displayObject;a.__transformDirty||(a.__transformDirty=!0,aa.__worldTransformDirty++)}},__class__:Fh,__properties__:{set_matrix3D:"set_matrix3D",get_matrix3D:"get_matrix3D",
set_matrix:"set_matrix",get_matrix:"get_matrix",get_concatenatedMatrix:"get_concatenatedMatrix",set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform"}};var xl=function(){};k["openfl.media.ID3Info"]=xl;xl.__name__=["openfl","media","ID3Info"];xl.prototype={album:null,artist:null,comment:null,genre:null,songName:null,track:null,year:null,__class__:xl};var ye=function(a,b){X.call(this,this);this.bytesTotal=this.bytesLoaded=0;this.isBuffering=!1;this.url=null;null!=a&&this.load(a,
b)};k["openfl.media.Sound"]=ye;ye.__name__=["openfl","media","Sound"];ye.fromAudioBuffer=function(a){var b=new ye;b.__buffer=a;return b};ye.fromFile=function(a){return ye.fromAudioBuffer(Kb.fromFile(a))};ye.__super__=X;ye.prototype=t(X.prototype,{bytesLoaded:null,bytesTotal:null,isBuffering:null,url:null,__buffer:null,close:function(){null!=this.__buffer&&this.__buffer.dispose()},load:function(a,b){var c=this;this.url=a.url;var d=Q.getLibrary("default"),e;if(null!=d){e=this.url;var f=d.cachedAudioBuffers;
e=null!=u[e]?f.existsReserved(e):f.h.hasOwnProperty(e)}else e=!1;if(e)e=this.url,d=d.cachedAudioBuffers,this.AudioBuffer_onURLLoad(null!=u[e]?d.getReserved(e):d.h[e]);else Kb.loadFromFile(this.url).onComplete(n(this,this.AudioBuffer_onURLLoad)).onError(function(a){c.AudioBuffer_onURLLoad(null)})},loadCompressedDataFromByteArray:function(a,b,c){null==a||0>=b?this.dispatchEvent(new sd("ioError")):(ka.get_length(a)>b&&(c=new Fc(b),c.writeBytes(a,0,b),a=c),this.__buffer=Kb.fromBytes(ka.toBytes(a)),null==
this.__buffer?this.dispatchEvent(new sd("ioError")):this.dispatchEvent(new J("complete")))},loadPCMFromByteArray:function(a,b,c,d,e){null==e&&(e=44100);null==d&&(d=!0);null==c&&(c="float");null==a?this.dispatchEvent(new sd("ioError")):(b=new Kb,b.bitsPerSample="float"==c?32:16,b.channels=d?2:1,a=ka.toArrayBuffer(a),a=null!=a?new Fa(a,0):null,b.data=a,b.sampleRate=e|0,this.__buffer=b,this.dispatchEvent(new J("complete")))},play:function(a,b,c){null==b&&(b=0);null==a&&(a=0);if(32<=Ab.__soundChannels.length)return null;
c=null==c?new qd:c.clone();var d=Ab.__soundTransform.pan+c.pan;1<d&&(d=1);-1>d&&(d=-1);var e=Ab.__soundTransform.volume*c.volume,f=new Uk(this.__buffer);f.offset=a|0;1<b&&f.set_loops(b-1);f.set_gain(e);a=f.get_position();a.x=d;a.z=-1*Math.sqrt(1-Math.pow(d,2));f.set_position(a);return new Kj(f,c)},get_id3:function(){return new xl},get_length:function(){return null!=this.__buffer?1E3*this.__buffer.get_src().duration()|0:0},AudioBuffer_onURLLoad:function(a){null==a?this.dispatchEvent(new sd("ioError")):
(this.__buffer=a,this.dispatchEvent(new J("complete")))},__class__:ye,__properties__:{get_length:"get_length",get_id3:"get_id3"}});var Kj=function(a,b){X.call(this,this);this.rightPeak=this.leftPeak=1;this.__soundTransform=null!=b?b:new qd;null!=a&&(this.__source=a,this.__source.onComplete.add(n(this,this.source_onComplete)),this.__isValid=!0,this.__source.play());Ab.__registerSoundChannel(this)};k["openfl.media.SoundChannel"]=Kj;Kj.__name__=["openfl","media","SoundChannel"];Kj.__super__=X;Kj.prototype=
t(X.prototype,{leftPeak:null,rightPeak:null,__isValid:null,__soundTransform:null,__source:null,stop:function(){Ab.__unregisterSoundChannel(this);this.__isValid&&(this.__source.stop(),this.__dispose())},__dispose:function(){this.__isValid&&(this.__source.onComplete.remove(n(this,this.source_onComplete)),this.__source.dispose(),this.__isValid=!1)},__updateTransform:function(){this.set_soundTransform(this.get_soundTransform())},get_position:function(){return this.__isValid?this.__source.get_currentTime()+
this.__source.offset:0},set_position:function(a){if(!this.__isValid)return 0;this.__source.set_currentTime((a|0)-this.__source.offset);return a},get_soundTransform:function(){return this.__soundTransform.clone()},set_soundTransform:function(a){if(null!=a){this.__soundTransform.pan=a.pan;this.__soundTransform.volume=a.volume;var b=Ab.__soundTransform.pan+this.__soundTransform.pan;-1>b&&(b=-1);1<b&&(b=1);var c=Ab.__soundTransform.volume*this.__soundTransform.volume;this.__isValid&&(this.__source.set_gain(c),
c=this.__source.get_position(),c.x=b,c.z=-1*Math.sqrt(1-Math.pow(b,2)),this.__source.set_position(c))}return a},source_onComplete:function(){Ab.__unregisterSoundChannel(this);this.__dispose();this.dispatchEvent(new J("soundComplete"))},__class__:Kj,__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_position:"set_position",get_position:"get_position"}});var sm=function(a,b){null==b&&(b=!1);null==a&&(a=1E3);this.bufferTime=a;this.checkPolicyFile=b};k["openfl.media.SoundLoaderContext"]=
sm;sm.__name__=["openfl","media","SoundLoaderContext"];sm.prototype={bufferTime:null,checkPolicyFile:null,__class__:sm};var qd=function(a,b){null==b&&(b=0);null==a&&(a=1);this.volume=a;this.pan=b;this.rightToRight=this.rightToLeft=this.leftToRight=this.leftToLeft=0};k["openfl.media.SoundTransform"]=qd;qd.__name__=["openfl","media","SoundTransform"];qd.prototype={leftToLeft:null,leftToRight:null,pan:null,rightToLeft:null,rightToRight:null,volume:null,clone:function(){return new qd(this.volume,this.pan)},
__class__:qd};var Ab=function(){};k["openfl.media.SoundMixer"]=Ab;Ab.__name__=["openfl","media","SoundMixer"];Ab.__properties__={set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform"};Ab.areSoundsInaccessible=function(){return!1};Ab.stopAll=function(){for(var a=0,b=Ab.__soundChannels;a<b.length;){var c=b[a];++a;c.stop()}};Ab.__registerSoundChannel=function(a){Ab.__soundChannels.push(a)};Ab.__unregisterSoundChannel=function(a){W.remove(Ab.__soundChannels,a)};Ab.get_soundTransform=
function(){return Ab.__soundTransform};Ab.set_soundTransform=function(a){Ab.__soundTransform=a.clone();for(var b=0,c=Ab.__soundChannels;b<c.length;){var d=c[b];++b;d.__updateTransform()}return a};var Lj=function(){X.call(this)};k["openfl.net.NetConnection"]=Lj;Lj.__name__=["openfl","net","NetConnection"];Lj.__super__=X;Lj.prototype=t(X.prototype,{connect:function(a,b,c,d,e,f){if(null!=a)throw new F('Error: Can only connect in "HTTP streaming" mode');this.dispatchEvent(new we("netStatus",!1,!0,{code:"connectSuccess"}))},
__class__:Lj});var yl=function(a,b){X.call(this);this.__connection=a;this.__video=window.document.createElement("video");this.__video.addEventListener("error",n(this,this.video_onError),!1);this.__video.addEventListener("waiting",n(this,this.video_onWaiting),!1);this.__video.addEventListener("ended",n(this,this.video_onEnd),!1);this.__video.addEventListener("pause",n(this,this.video_onPause),!1);this.__video.addEventListener("seeking",n(this,this.video_onSeeking),!1);this.__video.addEventListener("playing",
n(this,this.video_onPlaying),!1);this.__video.addEventListener("timeupdate",n(this,this.video_onTimeUpdate),!1);this.__video.addEventListener("loadstart",n(this,this.video_onLoadStart),!1);this.__video.addEventListener("stalled",n(this,this.video_onStalled),!1);this.__video.addEventListener("durationchanged",n(this,this.video_onDurationChanged),!1);this.__video.addEventListener("canplay",n(this,this.video_onCanPlay),!1);this.__video.addEventListener("canplaythrough",n(this,this.video_onCanPlayThrough),
!1);this.__video.addEventListener("loadedmetadata",n(this,this.video_onLoadMetaData),!1)};k["openfl.net.NetStream"]=yl;yl.__name__=["openfl","net","NetStream"];yl.__super__=X;yl.prototype=t(X.prototype,{audioCodec:null,bufferLength:null,bufferTime:null,bytesLoaded:null,bytesTotal:null,checkPolicyFile:null,client:null,currentFPS:null,decodedFrames:null,liveDelay:null,objectEncoding:null,soundTransform:null,time:null,videoCode:null,__connection:null,__timer:null,__video:null,close:function(){this.__video.pause();
this.__video.src="";this.time=0},pause:function(){this.__video.pause()},play:function(a,b,c,d,e,f){this.__video.src=a;this.__video.play()},requestVideoStatus:function(){var a=this;null==this.__timer&&(this.__timer=new Xc(1));this.__timer.run=function(){a.__video.paused?a.__playStatus("NetStream.Play.pause"):a.__playStatus("NetStream.Play.playing");a.__timer.stop()}},resume:function(){this.__video.play()},seek:function(a){0>a?a=0:a>this.__video.duration&&(a=this.__video.duration);this.__video.currentTime=
a},togglePause:function(){this.__video.paused?this.__video.play():this.__video.pause()},__playStatus:function(a){if(null!=this.client)try{var b=this.client.onPlayStatus;b({code:a,duration:this.__video.duration,position:this.__video.currentTime,speed:this.__video.playbackRate,start:this.__video.startTime})}catch(c){Aa.lastException=c}},video_onCanPlay:function(a){this.__playStatus("NetStream.Play.canplay")},video_onCanPlayThrough:function(a){this.__playStatus("NetStream.Play.canplaythrough")},video_onDurationChanged:function(a){this.__playStatus("NetStream.Play.durationchanged")},
video_onEnd:function(a){this.__connection.dispatchEvent(new we("netStatus",!1,!1,{code:"NetStream.Play.Stop"}));this.__playStatus("NetStream.Play.Complete")},video_onError:function(a){this.__connection.dispatchEvent(new we("netStatus",!1,!1,{code:"NetStream.Play.Stop"}));this.__playStatus("NetStream.Play.error")},video_onLoadMetaData:function(a){if(null!=this.client)try{var b=this.client.onMetaData;b({width:this.__video.videoWidth,height:this.__video.videoHeight,duration:this.__video.duration})}catch(c){Aa.lastException=
c}},video_onLoadStart:function(a){this.__playStatus("NetStream.Play.loadstart")},video_onPause:function(a){this.__playStatus("NetStream.Play.pause")},video_onPlaying:function(a){this.__connection.dispatchEvent(new we("netStatus",!1,!1,{code:"NetStream.Play.Start"}));this.__playStatus("NetStream.Play.playing")},video_onSeeking:function(a){this.__playStatus("NetStream.Play.seeking")},video_onStalled:function(a){this.__playStatus("NetStream.Play.stalled")},video_onTimeUpdate:function(a){this.time=this.__video.currentTime;
this.__playStatus("NetStream.Play.timeupdate")},video_onWaiting:function(a){this.__playStatus("NetStream.Play.waiting")},get_speed:function(){return this.__video.playbackRate},set_speed:function(a){return this.__video.playbackRate=a},__class__:yl,__properties__:{set_speed:"set_speed",get_speed:"get_speed"}});var dh=function(a){X.call(this);this.bytesTotal=this.bytesLoaded=0;this.dataFormat=1;null!=a&&this.load(a)};k["openfl.net.URLLoader"]=dh;dh.__name__=["openfl","net","URLLoader"];dh.__super__=
X;dh.prototype=t(X.prototype,{bytesLoaded:null,bytesTotal:null,data:null,dataFormat:null,__httpRequest:null,close:function(){null!=this.__httpRequest&&this.__httpRequest.cancel()},load:function(a){var b=this;if(0==this.dataFormat){var c=new Li;this.__prepareRequest(c,a);c.load().onProgress(n(this,this.httpRequest_onProgress)).onError(n(this,this.httpRequest_onError)).onComplete(function(a){b.data=a;a=new J("complete");b.dispatchEvent(a)})}else c=new Og,this.__prepareRequest(c,a),c.load().onProgress(n(this,
this.httpRequest_onProgress)).onError(n(this,this.httpRequest_onError)).onComplete(function(a){b.data=a;a=new J("complete");b.dispatchEvent(a)})},__prepareRequest:function(a,b){this.__httpRequest=a;this.__httpRequest.uri=b.url;var c;switch(b.method){case "DELETE":c="DELETE";break;case "HEAD":c="HEAD";break;case "OPTIONS":c="OPTIONS";break;case "POST":c="POST";break;case "PUT":c="PUT";break;default:c="GET"}this.__httpRequest.method=c;if(null!=b.data)if(y.__instanceof(b.data,zl)){c=H.fields(b.data);
for(var d=0;d<c.length;){var e=c[d];++d;var f=this.__httpRequest.formData,g=H.field(b.data,e);null!=u[e]?f.setReserved(e,g):f.h[e]=g}}else y.__instanceof(b.data,na)?this.__httpRequest.data=b.data:this.__httpRequest.data=na.ofString(q.string(b.data));this.__httpRequest.contentType=b.contentType;if(null!=b.requestHeaders)for(c=0,d=b.requestHeaders;c<d.length;)e=d[c],++c,this.__httpRequest.headers.push(new yi(e.name,e.value));this.__httpRequest.userAgent=b.userAgent},httpRequest_onError:function(a){var b=
403==a?new qg("securityError"):new sd("ioError");b.text=q.string(a);this.dispatchEvent(b)},httpRequest_onProgress:function(a,b){var c=new Yd("progress");c.bytesLoaded=a;c.bytesTotal=b;this.dispatchEvent(c)},__class__:dh});var rh={};k["openfl.net._URLLoaderDataFormat.URLLoaderDataFormat_Impl_"]=rh;rh.__name__=["openfl","net","_URLLoaderDataFormat","URLLoaderDataFormat_Impl_"];rh.fromString=function(a){switch(a){case "binary":return 0;case "text":return 1;case "variables":return 2;default:return null}};
rh.toString=function(a){switch(a){case 0:return"binary";case 1:return"text";case 2:return"variables";default:return null}};var vj=function(a){null!=a&&(this.url=a);this.requestHeaders=[];this.method="GET";this.contentType=null};k["openfl.net.URLRequest"]=vj;vj.__name__=["openfl","net","URLRequest"];vj.prototype={contentType:null,data:null,method:null,requestHeaders:null,url:null,userAgent:null,__class__:vj};var tm=function(a,b){null==b&&(b="");null==a&&(a="");this.name=a;this.value=b};k["openfl.net.URLRequestHeader"]=
tm;tm.__name__=["openfl","net","URLRequestHeader"];tm.prototype={name:null,value:null,__class__:tm};var zl=function(a){null!=a&&this.decode(a)};k["openfl.net.URLVariables"]=zl;zl.__name__=["openfl","net","URLVariables"];zl.prototype={decode:function(a){for(var b=H.fields(this),c=0;c<b.length;){var d=b[c];++c;H.deleteField(this,d)}a=a.split(";").join("&").split("&");for(b=0;b<a.length;)if(c=a[b],++b,d=c.indexOf("="),0<d){var e=W.substr(c,0,d),e=decodeURIComponent(e.split("+").join(" ")),c=W.substr(c,
d+1,null);this[e]=decodeURIComponent(c.split("+").join(" "))}else 0!=d&&(this[decodeURIComponent(c.split("+").join(" "))]="")},toString:function(){for(var a=[],b=H.fields(this),c=0;c<b.length;){var d=b[c];++c;var e=encodeURIComponent(d)+"=",d=H.field(this,d);a.push(e+encodeURIComponent(d))}return a.join("&")},__class__:zl};var hg=function(a){this.parentDomain=null!=a?a:hg.currentDomain};k["openfl.system.ApplicationDomain"]=hg;hg.__name__=["openfl","system","ApplicationDomain"];hg.prototype={parentDomain:null,
getDefinition:function(a){return sa.resolveClass(a)},hasDefinition:function(a){return null!=sa.resolveClass(a)},__class__:hg};var Ua=function(){};k["openfl.system.Capabilities"]=Ua;Ua.__name__=["openfl","system","Capabilities"];Ua.__properties__={get_version:"get_version",get_screenResolutionY:"get_screenResolutionY",get_screenResolutionX:"get_screenResolutionX",get_screenDPI:"get_screenDPI",get_pixelAspectRatio:"get_pixelAspectRatio",get_os:"get_os",get_manufacturer:"get_manufacturer",get_language:"get_language",
get_cpuArchitecture:"get_cpuArchitecture"};Ua.hasMultiChannelAudio=function(a){return!1};Ua.get_cpuArchitecture=function(){return"x86"};Ua.get_language=function(){var a=mb.get_language(mb.get_currentLocale());if(null!=a)switch(a=a.toLowerCase(),a){case "cs":case "da":case "de":case "en":case "es":case "fi":case "fr":case "hu":case "it":case "ja":case "ko":case "nb":case "nl":case "pl":case "pt":case "ru":case "sv":case "tr":return a;case "zh":a=mb.get_region(mb.get_currentLocale());if(null!=a)switch(a.toUpperCase()){case "HANT":case "TW":return"zh-TW"}return"zh-CN";
default:return"xu"}return"en"};Ua.get_manufacturer=function(){return"OpenFL HTML5"};Ua.get_os=function(){return"HTML5"};Ua.get_pixelAspectRatio=function(){return 1};Ua.get_screenDPI=function(){var a=ia.application.__windows[0],b=72;null!=a&&(b*=a.__scale);return b};Ua.get_screenResolutionX=function(){var a=ia.current.stage,b=0;if(null!=a.window){var c=a.window.get_display();null!=c&&(b=c.currentMode.width)}return 0<b?b:a.stageWidth};Ua.get_screenResolutionY=function(){var a=ia.current.stage,b=0;if(null!=
a.window){var c=a.window.get_display();null!=c&&(b=c.currentMode.height)}return 0<b?b:a.stageHeight};Ua.get_version=function(){var a;return a="WEB"+(" "+fa.replace("4.9.2",".",",")+",0")};var um=function(a,b,c){null==a&&(a=!1);this.checkPolicyFile=a;this.securityDomain=c;this.applicationDomain=b;this.allowLoadBytesCodeExecution=this.allowCodeImport=!0};k["openfl.system.LoaderContext"]=um;um.__name__=["openfl","system","LoaderContext"];um.prototype={allowCodeImport:null,allowLoadBytesCodeExecution:null,
applicationDomain:null,checkPolicyFile:null,securityDomain:null,__class__:um};var Mj=function(){};k["openfl.system.SecurityDomain"]=Mj;Mj.__name__=["openfl","system","SecurityDomain"];Mj.prototype={__class__:Mj};var Id=function(){};k["openfl.system.System"]=Id;Id.__name__=["openfl","system","System"];Id.__properties__={get_vmVersion:"get_vmVersion",get_totalMemory:"get_totalMemory"};Id.exit=function(a){za.exit(a)};Id.gc=function(){};Id.pause=function(){ia.notImplemented({fileName:"System.hx",lineNumber:40,
className:"openfl.system.System",methodName:"pause"})};Id.resume=function(){ia.notImplemented({fileName:"System.hx",lineNumber:47,className:"openfl.system.System",methodName:"resume"})};Id.setClipboard=function(a){Ld.set_text(a)};Id.get_totalMemory=function(){return window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize:0};Id.get_vmVersion=function(){return"1.0.0"};var sh={};k["openfl.system._TouchscreenType.TouchscreenType_Impl_"]=sh;sh.__name__=["openfl","system",
"_TouchscreenType","TouchscreenType_Impl_"];sh.fromString=function(a){switch(a){case "finger":return 0;case "none":return 1;case "stylus":return 2;default:return null}};sh.toString=function(a){switch(a){case 0:return"finger";case 1:return"none";case 2:return"stylus";default:return null}};var Nj={};k["openfl.text._AntiAliasType.AntiAliasType_Impl_"]=Nj;Nj.__name__=["openfl","text","_AntiAliasType","AntiAliasType_Impl_"];Nj.fromString=function(a){switch(a){case "advanced":return 0;case "normal":return 1;
default:return null}};Nj.toString=function(a){switch(a){case 0:return"advanced";case 1:return"normal";default:return null}};var gc=function(a){Eb.call(this,a)};k["openfl.text.Font"]=gc;gc.__name__=["openfl","text","Font"];gc.enumerateFonts=function(a){return gc.__registeredFonts};gc.fromBytes=function(a){var b=new gc;b.__fromBytes(ka.toBytes(a));return b};gc.fromFile=function(a){var b=new gc;b.__fromFile(a);return b};gc.registerFont=function(a){a=y.__cast(sa.createInstance(a,[]),gc);null!=a&&gc.__registeredFonts.push(a)};
gc.__fromLimeFont=function(a){var b=new gc;b.name=a.name;b.src=a.src;return b};gc.__super__=Eb;gc.prototype=t(Eb.prototype,{fontStyle:null,fontType:null,get_fontName:function(){return this.name},set_fontName:function(a){return this.name=a},__class__:gc,__properties__:t(Eb.prototype.__properties__,{set_fontName:"set_fontName",get_fontName:"get_fontName"})});var rg={};k["openfl.text._FontStyle.FontStyle_Impl_"]=rg;rg.__name__=["openfl","text","_FontStyle","FontStyle_Impl_"];rg.fromString=function(a){switch(a){case "bold":return 0;
case "boldItalic":return 1;case "italic":return 2;case "regular":return 3;default:return null}};rg.toString=function(a){switch(a){case 0:return"bold";case 1:return"boldItalic";case 2:return"italic";case 3:return"regular";default:return null}};var th={};k["openfl.text._FontType.FontType_Impl_"]=th;th.__name__=["openfl","text","_FontType","FontType_Impl_"];th.fromString=function(a){switch(a){case "device":return 0;case "embedded":return 1;case "embeddedCFF":return 2;default:return null}};th.toString=
function(a){switch(a){case 0:return"device";case 1:return"embedded";case 2:return"embeddedCFF";default:return null}};var uh={};k["openfl.text._GridFitType.GridFitType_Impl_"]=uh;uh.__name__=["openfl","text","_GridFitType","GridFitType_Impl_"];uh.fromString=function(a){switch(a){case "none":return 0;case "pixel":return 1;case "subpixel":return 2;default:return null}};uh.toString=function(a){switch(a){case 0:return"none";case 1:return"pixel";case 2:return"subpixel";default:return null}};var ea=function(){Ya.call(this);
this.__caretIndex=-1;this.__displayAsPassword=!1;this.__graphics=new vg(this);this.__textEngine=new Qa(this);this.__layoutDirty=!0;this.__offsetY=this.__offsetX=0;this.__mouseWheelEnabled=this.__tabEnabled=!0;this.__text="";null==ea.__defaultTextFormat&&(ea.__defaultTextFormat=new Fe("Times New Roman",12,0,!1,!1,!1,"","",3,0,0,0,0),ea.__defaultTextFormat.blockIndent=0,ea.__defaultTextFormat.bullet=!1,ea.__defaultTextFormat.letterSpacing=0,ea.__defaultTextFormat.kerning=!1);this.__textFormat=ea.__defaultTextFormat.clone();
this.__textEngine.textFormatRanges.push(new se(this.__textFormat,0,0));this.addEventListener("mouseDown",n(this,this.this_onMouseDown))};k["openfl.text.TextField"]=ea;ea.__name__=["openfl","text","TextField"];ea.__super__=Ya;ea.prototype=t(Ya.prototype,{__bounds:null,__caretIndex:null,__cursorTimer:null,__dirty:null,__displayAsPassword:null,__inputEnabled:null,__isHTML:null,__layoutDirty:null,__mouseWheelEnabled:null,__offsetX:null,__offsetY:null,__selectionIndex:null,__showCursor:null,__symbol:null,
__text:null,__htmlText:null,__textEngine:null,__textFormat:null,__div:null,appendText:function(a){null!=a&&""!=a&&(this.__layoutDirty=this.__dirty=!0,this.__updateText(this.__text+a),this.__textEngine.textFormatRanges.get(this.__textEngine.textFormatRanges.get_length()-1).end=this.__text.length)},getCharBoundaries:function(a){if(0>a||a>this.__text.length-1)return null;this.__updateLayout();for(var b=0,c=this.__textEngine.layoutGroups;b<c.get_length();){var d=c.get(b);++b;if(a>=d.startIndex&&a<=d.endIndex){for(var b=
d.offsetX,c=0,e=a-d.startIndex;c<e;)var f=c++,b=b+d.advances[f];return new ha(b,d.offsetY,d.advances[a-d.startIndex],d.ascent+d.descent)}}return null},getCharIndexAtPoint:function(a,b){if(2>=a||a>this.get_width()+4||0>=b||b>this.get_height()+4)return-1;this.__updateLayout();a+=this.get_scrollH();for(var c=0,d=this.get_scrollV()-1;c<d;){var e=c++;b+=this.__textEngine.lineHeights.get(e)}d=0;for(e=this.__textEngine.layoutGroups;d<e.get_length();)if(c=e.get(d),++d,b>=c.offsetY&&b<=c.offsetY+c.height&&
a>=c.offsetX&&a<=c.offsetX+c.width){for(var e=d=0,f=c.advances.length;e<f;){var g=e++,d=d+c.advances[g];if(a<=c.offsetX+d)return c.startIndex+g}return c.endIndex}return-1},getFirstCharInParagraph:function(a){if(0>a||a>this.__text.length-1)return 0;for(var b=this.__textEngine.getLineBreakIndex(),c=0;-1<b;){if(b<=a)c=b+1;else if(b>a)break;b=this.__textEngine.getLineBreakIndex(b+1)}return c},getLineIndexAtPoint:function(a,b){this.__updateLayout();if(2>=a||a>this.get_width()+4||0>=b||b>this.get_height()+
4)return-1;for(var c=0,d=this.get_scrollV()-1;c<d;){var e=c++;b+=this.__textEngine.lineHeights.get(e)}c=0;for(d=this.__textEngine.layoutGroups;c<d.get_length();)if(e=d.get(c),++c,b>=e.offsetY&&b<=e.offsetY+e.height)return e.lineIndex;return-1},getLineIndexOfChar:function(a){if(0>a||a>this.__text.length)return-1;this.__updateLayout();for(var b=0,c=this.__textEngine.layoutGroups;b<c.get_length();){var d=c.get(b);++b;if(d.startIndex<=a&&d.endIndex>=a)return d.lineIndex}return-1},getLineLength:function(a){this.__updateLayout();
if(0>a||a>this.__textEngine.numLines-1)return 0;for(var b=-1,c=-1,d=0,e=this.__textEngine.layoutGroups;d<e.get_length();){var f=e.get(d);++d;if(f.lineIndex==a)-1==b&&(b=f.startIndex);else if(f.lineIndex==a+1){c=f.startIndex;break}}-1==c&&(c=this.__text.length);return c-b},getLineMetrics:function(a){this.__updateLayout();var b=this.__textEngine.lineAscents.get(a),c=this.__textEngine.lineDescents.get(a),d=this.__textEngine.lineLeadings.get(a),e=this.__textEngine.lineHeights.get(a);a=this.__textEngine.lineWidths.get(a);
var f;switch(this.__textFormat.align){case 0:f=(this.__textEngine.width-a)/2;break;case 1:case 4:f=this.__textEngine.width-a-2;break;case 2:case 3:case 5:f=2}return new Al(f,a,e,b,c,d)},getLineOffset:function(a){this.__updateLayout();if(0>a||a>this.__textEngine.numLines-1)return-1;for(var b=0,c=this.__textEngine.layoutGroups;b<c.get_length();){var d=c.get(b);++b;if(d.lineIndex==a)return d.startIndex}return 0},getLineText:function(a){this.__updateLayout();if(0>a||a>this.__textEngine.numLines-1)return null;
for(var b=-1,c=-1,d=0,e=this.__textEngine.layoutGroups;d<e.get_length();){var f=e.get(d);++d;if(f.lineIndex==a)-1==b&&(b=f.startIndex);else if(f.lineIndex==a+1){c=f.startIndex;break}}-1==c&&(c=this.__text.length);return this.__textEngine.text.substring(b,c)},getParagraphLength:function(a){if(0>a||a>this.__text.length-1)return 0;var b=this.getFirstCharInParagraph(a);a=this.__textEngine.getLineBreakIndex(a)+1;0==a&&(a=this.__text.length);return a-b},getTextFormat:function(a,b){null==b&&(b=0);null==
a&&(a=0);for(var c=null,d=0,e=this.__textEngine.textFormatRanges;d<e.get_length();){var f=e.get(d);++d;if(f.start<=a&&f.end>=a||f.start<=b&&f.end>=b)null==c?c=f.format.clone():(f.format.font!=c.font&&(c.font=null),f.format.size!=c.size&&(c.size=null),f.format.color!=c.color&&(c.color=null),f.format.bold!=c.bold&&(c.bold=null),f.format.italic!=c.italic&&(c.italic=null),f.format.underline!=c.underline&&(c.underline=null),f.format.url!=c.url&&(c.url=null),f.format.target!=c.target&&(c.target=null),f.format.align!=
c.align&&(c.align=null),f.format.leftMargin!=c.leftMargin&&(c.leftMargin=null),f.format.rightMargin!=c.rightMargin&&(c.rightMargin=null),f.format.indent!=c.indent&&(c.indent=null),f.format.leading!=c.leading&&(c.leading=null),f.format.blockIndent!=c.blockIndent&&(c.blockIndent=null),f.format.bullet!=c.bullet&&(c.bullet=null),f.format.kerning!=c.kerning&&(c.kerning=null),f.format.letterSpacing!=c.letterSpacing&&(c.letterSpacing=null),f.format.tabStops!=c.tabStops&&(c.tabStops=null))}return c},replaceSelectedText:function(a){if(""!=
a||this.__selectionIndex!=this.__caretIndex){var b=this.__caretIndex<this.__selectionIndex?this.__caretIndex:this.__selectionIndex;this.replaceText(b,this.__caretIndex>this.__selectionIndex?this.__caretIndex:this.__selectionIndex,a);a=b+a.length;this.setSelection(a,a)}},replaceText:function(a,b,c){if(!(b<a||0>a||b>this.__text.length||null==c)){this.__updateText(this.__text.substring(0,a)+c+this.__text.substring(b));for(var d=c.length-(b-a),e=0,f;e<this.__textEngine.textFormatRanges.get_length();)f=
this.__textEngine.textFormatRanges.get(e),f.start<=a&&f.end>=b?(f.end+=d,++e):f.start>=a&&f.end<=b?(0<e?this.__textEngine.textFormatRanges.splice(e,1):(f.start=0,f.end=a+c.length,++e),d-=f.end-f.start):(f.start>a&&f.start<=b&&(f.start+=d),++e);this.__layoutDirty=this.__dirty=!0}},setSelection:function(a,b){this.__selectionIndex=a;this.__caretIndex=b},setTextFormat:function(a,b,c){null==c&&(c=0);null==b&&(b=0);var d=this.get_text().length,e;0>b&&(b=0);0>c&&(c=0);0==c&&(c=0==b?d:b+1);if(!(c<b)){if(0==
b&&c==d)this.__textFormat.__merge(a),1<this.__textEngine.textFormatRanges.get_length()&&(this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.get_length()-1),e=this.__textEngine.textFormatRanges.get(0),e.format=this.__textFormat,e.start=0,e.end=d);else{for(var f=this.__textEngine.textFormatRanges.get_length();0<f;){--f;e=this.__textEngine.textFormatRanges.get(f);if(e.start==b&&e.end==c){e.format=ea.__defaultTextFormat.clone();e.format.__merge(a);return}e.start>b&&e.end<c&&
(e=this.__textEngine.textFormatRanges.indexOf(e,0),-1<e&&this.__textEngine.textFormatRanges.splice(e,1))}for(var g=null,f=null,k=0,m=this.__textEngine.textFormatRanges.get_length();k<m;)e=k++,e=this.__textEngine.textFormatRanges.get(e),0<b&&null==g&&e.end>=b&&(g=e),c<d&&e.start<=c&&(f=e);f==g&&(f=new se(f.format.clone(),f.start,f.end),this.__textEngine.textFormatRanges.push(f));null!=g&&(g.end=b,g.end<=g.start&&(e=this.__textEngine.textFormatRanges.indexOf(g,0),-1<e&&this.__textEngine.textFormatRanges.splice(e,
1),g=null));null!=f&&(f.start=c,f.start>=f.end&&(e=this.__textEngine.textFormatRanges.indexOf(f,0),-1<e&&this.__textEngine.textFormatRanges.splice(e,1),f=null));d=ea.__defaultTextFormat.clone();d.__merge(a);this.__textEngine.textFormatRanges.push(new se(d,b,c));this.__textEngine.textFormatRanges.sort(function(a,b){return a.start<b.start||a.end<b.end?-1:a.start>b.start||a.end>b.end?1:0})}this.__layoutDirty=this.__dirty=!0}},__caretBeginningOfLine:function(){this.__selectionIndex==this.__caretIndex||
this.__caretIndex<this.__selectionIndex?this.__caretIndex=this.getLineOffset(this.getLineIndexOfChar(this.__caretIndex)):this.__selectionIndex=this.getLineOffset(this.getLineIndexOfChar(this.__selectionIndex))},__caretEndOfLine:function(){var a;a=this.__selectionIndex==this.__caretIndex?this.getLineIndexOfChar(this.__caretIndex):this.getLineIndexOfChar(Math.max(this.__caretIndex,this.__selectionIndex)|0);this.__caretIndex=a<this.__textEngine.numLines-1?this.getLineOffset(a+1)-1:this.__text.length},
__caretNextCharacter:function(){this.__caretIndex<this.__text.length&&this.__caretIndex++},__caretNextLine:function(a,b){null==a&&(a=this.getLineIndexOfChar(this.__caretIndex));a<this.__textEngine.numLines-1?(null==b&&(b=this.__caretIndex),this.__caretIndex=this.__getCharIndexOnDifferentLine(b,a+1)):this.__caretIndex=this.__text.length},__caretPreviousCharacter:function(){0<this.__caretIndex&&this.__caretIndex--},__caretPreviousLine:function(a,b){null==a&&(a=this.getLineIndexOfChar(this.__caretIndex));
0<a?(null==b&&(b=this.__caretIndex),this.__caretIndex=this.__getCharIndexOnDifferentLine(b,a-1)):this.__caretIndex=0},__dispatch:function(a){if(2==a.eventPhase&&"mouseUp"==a.type){var b=this.__getGroup(this.get_mouseX(),this.get_mouseY(),!0);null!=b&&(b=b.format.url,""!=b&&(fa.startsWith(b,"event:")?this.dispatchEvent(new td("link",!1,!1,W.substr(b,6,null))):ia.getURL(new vj(b))))}return Ya.prototype.__dispatch.call(this,a)},__fromSymbol:function(a,b){this.__symbol=b;this.set_width(b.width);this.set_height(b.height);
this.__offsetX=b.x;this.__offsetY=b.y;this.set_multiline(b.multiline);this.set_wordWrap(b.wordWrap);this.set_displayAsPassword(b.password);b.border&&(this.set_border(!0),this.set_background(!0));this.set_selectable(b.selectable);b.input&&this.set_type(1);var c=new Fe;null!=b.color&&(c.color=b.color&16777215);c.size=Math.round(b.fontHeight/20);c.font=b.fontName;var d=!1,e=c.font;if(null==e)d=!0;else switch(e){case "":case "_sans":case "_serif":case "_typewriter":d=!0;break;default:for(var e=0,f=gc.enumerateFonts();e<
f.length;){var g=f[e];++e;if(g.name==c.font){d=!0;break}}}d?this.set_embedFonts(!0):(d=c.font,e=ea.__missingFontWarning,(null!=u[d]?e.existsReserved(d):e.h.hasOwnProperty(d))||(d=c.font,e=ea.__missingFontWarning,null!=u[d]?e.setReserved(d,!0):e.h[d]=!0,La.warn('Could not find required font "'+c.font+'", it has not been embedded',{fileName:"TextField.hx",lineNumber:977,className:"openfl.text.TextField",methodName:"__fromSymbol"})));null!=b.align&&("center"==b.align?c.align=0:"right"==b.align?c.align=
4:"justify"==b.align&&(c.align=2),c.leftMargin=b.leftMargin/20|0,c.rightMargin=b.rightMargin/20|0,c.indent=b.indent/20|0,c.leading=b.leading/20|0,this.get_embedFonts()&&(c.leading+=4));this.set_defaultTextFormat(c);null!=b.text&&(b.html?this.set_htmlText(b.text):this.set_text(b.text))},__getAttributeMatch:function(a){return null!=a.matched(2)?a.matched(2):a.matched(3)},__getBounds:function(a,b){this.__updateLayout();var c=ha.__temp;c.copyFrom(this.__textEngine.bounds);c.x+=this.__offsetX;c.y+=this.__offsetY;
c.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)},__getCharIndexOnDifferentLine:function(a,b){if(0>a||a>this.__text.length||0>b||b>this.__textEngine.numLines-1)return-1;for(var c=null,d=null,e=0,f=this.__textEngine.layoutGroups;e<f.get_length();){var g=f.get(e);++e;if(a>=g.startIndex&&a<=g.endIndex){for(var c=g.offsetX,k=0,m=a-g.startIndex;k<m;)var h=k++,c=c+g.advances[h];if(null!=d)return this.__getPosition(c,d)}if(g.lineIndex==b&&(d=g.offsetY+g.height/2,null!=c))return this.__getPosition(c,
d)}return-1},__getCursor:function(){var a=this.__getGroup(this.get_mouseX(),this.get_mouseY(),!0);return null!=a&&""!=a.format.url?da.POINTER:this.__textEngine.selectable?da.TEXT:null},__getGroup:function(a,b,c){null==c&&(c=!1);this.__updateLayout();a+=this.get_scrollH();for(var d=0,e=this.get_scrollV()-1;d<e;){var f=d++;b+=this.__textEngine.lineHeights.get(f)}!c&&b>this.__textEngine.textHeight&&(b=this.__textEngine.textHeight);for(var d=!0,g,f=0,k=this.__textEngine.layoutGroups.get_length();f<k;)if(g=
f++,e=this.__textEngine.layoutGroups.get(g),g=g<this.__textEngine.layoutGroups.get_length()-1?this.__textEngine.layoutGroups.get(g+1):null,d&&(b<e.offsetY&&(b=e.offsetY),a<e.offsetX&&(a=e.offsetX),d=!1),b>=e.offsetY&&b<=e.offsetY+e.height||!c&&null==g)if(a>=e.offsetX&&a<=e.offsetX+e.width||!c&&(null==g||g.lineIndex!=e.lineIndex))return e;return null},__getPosition:function(a,b){var c=this.__getGroup(a,b);if(null==c)return this.__text.length;for(var d=0,e=0,f=c.advances.length;e<f;){var g=e++,d=d+
c.advances[g];if(a<=c.offsetX+d){if(a<=c.offsetX+(d-c.advances[g])+c.advances[g]/2)return c.startIndex+g;if(c.startIndex+g<c.endIndex)return c.startIndex+g+1;break}}return c.endIndex},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getRenderTransform();this.__updateLayout();c=this.__renderTransform;e=c.a*c.d-c.b*c.c;var g=this.__renderTransform,k=g.a*g.d-g.b*g.c;return this.__textEngine.bounds.contains(0==
e?-c.tx:1/e*(c.c*(c.ty-b)+c.d*(a-c.tx)),0==k?-g.ty:1/k*(g.a*(b-g.ty)+g.b*(g.tx-a)))?(null!=d&&d.push(f),!0):!1},__hitTestMask:function(a,b){this.__getRenderTransform();this.__updateLayout();var c=this.__renderTransform,d=c.a*c.d-c.b*c.c,e=this.__renderTransform,f=e.a*e.d-e.b*e.c;return this.__textEngine.bounds.contains(0==d?-c.tx:1/d*(c.c*(c.ty-b)+c.d*(a-c.tx)),0==f?-e.ty:1/f*(e.a*(b-e.ty)+e.b*(e.tx-a)))?!0:!1},__renderCairo:function(a){},__renderCanvas:function(a){var b=this.__textEngine,c=b.bounds,
d=this.__graphics;this.__dirty&&(this.__updateLayout(),null==d.__bounds&&(d.__bounds=new ha),d.__bounds.copyFrom(c));d.__update();if(this.__dirty||d.__dirty){var e=d.__width,f=d.__height;if(!(null!=b.text&&""!=b.text||b.background||b.border||b.__hasFocus||1==b.type&&b.selectable)||(0>=b.width||0>=b.height)&&2!=b.autoSize)this.__graphics.__canvas=null,this.__graphics.__context=null,this.__graphics.__bitmap=null,this.__graphics.set___dirty(!1),this.__dirty=!1;else{null==this.__graphics.__canvas&&(this.__graphics.__canvas=
window.document.createElement("canvas"),this.__graphics.__context=this.__graphics.__canvas.getContext("2d"));N.context=d.__context;var g=d.__renderTransform;d.__canvas.width=e;d.__canvas.height=f;N.context.setTransform(g.a,g.b,g.c,g.d,g.tx,g.ty);null==N.clearRect&&(N.clearRect="undefined"!==typeof navigator&&"undefined"!==typeof navigator.isCocoonJS);N.clearRect&&N.context.clearRect(0,0,d.__canvas.width,d.__canvas.height);if(null!=b.text&&""!=b.text||b.__hasFocus){e=b.text;!a.allowSmoothing||0==b.antiAliasType&&
400==b.sharpness?(d.__context.mozImageSmoothingEnabled=!1,d.__context.msImageSmoothingEnabled=!1,d.__context.imageSmoothingEnabled=!1):(d.__context.mozImageSmoothingEnabled=!0,d.__context.msImageSmoothingEnabled=!0,d.__context.imageSmoothingEnabled=!0);if(b.border||b.background)N.context.rect(.5,.5,c.width-1,c.height-1),b.background&&(c=fa.hex(b.backgroundColor&16777215,6),N.context.fillStyle="#"+c,N.context.fill()),b.border&&(N.context.lineWidth=1,c=fa.hex(b.borderColor&16777215,6),N.context.strokeStyle=
"#"+c,N.context.stroke());N.context.textBaseline="top";N.context.textAlign="start";for(var c=-this.get_scrollH(),g=f=0,k=this.get_scrollV()-1;g<k;)var m=g++,f=f-b.lineHeights.get(m);for(var h,g=0,k=(new Ba("(iPad|iPhone|iPod|Firefox)","g")).match(window.navigator.userAgent),m=0,l=b.layoutGroups;m<l.get_length();){var n=l.get(m);++m;if(!(n.lineIndex<this.get_scrollV()-1)){if(n.lineIndex>this.get_scrollV()+b.bottomScrollV-2)break;N.context.font=Qa.getFont(n.format);h=fa.hex(n.format.color&16777215,
6);N.context.fillStyle="#"+h;k&&(g=.185*n.format.size);if(null!=this.__filters&&0<this.__filters.length&&y.__instanceof(this.__filters[0],Zc)){h=this.__filters[0];var q=N.context.globalAlpha;N.context.globalAlpha=q*h.alpha;var r=fa.hex(h.color&16777215,6);N.context.strokeStyle="#"+r;N.context.lineWidth=Math.max(h.blurX,h.blurY);N.context.strokeText(e.substring(n.startIndex,n.endIndex),n.offsetX+c,n.offsetY+g+f);N.context.strokeStyle=null;N.context.globalAlpha=q}N.context.fillText(e.substring(n.startIndex,
n.endIndex),n.offsetX+c,n.offsetY+g+f);if(-1<this.__caretIndex&&b.selectable)if(this.__selectionIndex==this.__caretIndex){if(this.__showCursor&&n.startIndex<=this.__caretIndex&&n.endIndex>=this.__caretIndex){q=h=0;for(r=this.__caretIndex-n.startIndex;q<r;){var t=q++;if(n.advances.length<=t)break;h+=n.advances[t]}N.context.fillRect(n.offsetX+h,n.offsetY,1,n.height)}}else if(n.startIndex<=this.__caretIndex&&n.endIndex>=this.__caretIndex||n.startIndex<=this.__selectionIndex&&n.endIndex>=this.__selectionIndex||
n.startIndex>this.__caretIndex&&n.endIndex<this.__selectionIndex||n.startIndex>this.__selectionIndex&&n.endIndex<this.__caretIndex)h=Math.min(this.__selectionIndex,this.__caretIndex)|0,q=Math.max(this.__selectionIndex,this.__caretIndex)|0,n.startIndex>h&&(h=n.startIndex),n.endIndex<q&&(q=n.endIndex),r=this.getCharBoundaries(h),q>=b.text.length?(t=this.getCharBoundaries(b.text.length-1),t.x+=t.width+2):t=this.getCharBoundaries(q),null!=r&&null!=t&&(N.context.fillStyle="#000000",N.context.fillRect(r.x,
r.y,t.x-r.x,n.height),N.context.fillStyle="#FFFFFF",N.context.fillText(e.substring(h,q),c+r.x,n.offsetY+g+f))}}}else{if(b.border||b.background)b.border?N.context.rect(.5,.5,c.width-1,c.height-1):N.context.rect(0,0,c.width,c.height),b.background&&(e=fa.hex(b.backgroundColor&16777215,6),N.context.fillStyle="#"+e,N.context.fill()),b.border&&(N.context.lineWidth=1,N.context.lineCap="square",e=fa.hex(b.borderColor&16777215,6),N.context.strokeStyle="#"+e,N.context.stroke());if(-1<this.__caretIndex&&b.selectable&&
this.__showCursor){e=-this.get_scrollH();f=c=0;for(g=this.get_scrollV()-1;f<g;)k=f++,c-=b.lineHeights.get(k);N.context.beginPath();b=fa.hex(this.get_defaultTextFormat().color&16777215,6);N.context.strokeStyle="#"+b;N.context.moveTo(e+2.5,c+2.5);N.context.lineWidth=1;N.context.lineTo(e+2.5,c+Qa.getFormatHeight(this.get_defaultTextFormat())-1);N.context.stroke();N.context.closePath()}}d.__bitmap=ma.fromCanvas(this.__graphics.__canvas);d.__visible=!0;this.__dirty=!1;d.set___dirty(!1)}}if(0==this.__textEngine.antiAliasType&&
1==this.__textEngine.gridFitType){if(d=a.context.imageSmoothingEnabled)a.context.mozImageSmoothingEnabled=!1,a.context.msImageSmoothingEnabled=!1,a.context.imageSmoothingEnabled=!1;Ya.prototype.__renderCanvas.call(this,a);d&&(a.context.mozImageSmoothingEnabled=!0,a.context.msImageSmoothingEnabled=!0,a.context.imageSmoothingEnabled=!0)}else Ya.prototype.__renderCanvas.call(this,a)},__renderDOM:function(a){},__renderGL:function(a){var b=this.__textEngine,c=b.bounds,d=this.__graphics;this.__dirty&&(this.__updateLayout(),
null==d.__bounds&&(d.__bounds=new ha),d.__bounds.copyFrom(c));d.__update();if(this.__dirty||d.__dirty){var e=d.__width,f=d.__height;if(!(null!=b.text&&""!=b.text||b.background||b.border||b.__hasFocus||1==b.type&&b.selectable)||(0>=b.width||0>=b.height)&&2!=b.autoSize)this.__graphics.__canvas=null,this.__graphics.__context=null,this.__graphics.__bitmap=null,this.__graphics.set___dirty(!1),this.__dirty=!1;else{null==this.__graphics.__canvas&&(this.__graphics.__canvas=window.document.createElement("canvas"),
this.__graphics.__context=this.__graphics.__canvas.getContext("2d"));N.context=d.__context;var g=d.__renderTransform;d.__canvas.width=e;d.__canvas.height=f;N.context.setTransform(g.a,g.b,g.c,g.d,g.tx,g.ty);null==N.clearRect&&(N.clearRect="undefined"!==typeof navigator&&"undefined"!==typeof navigator.isCocoonJS);N.clearRect&&N.context.clearRect(0,0,d.__canvas.width,d.__canvas.height);if(null!=b.text&&""!=b.text||b.__hasFocus){e=b.text;!a.allowSmoothing||0==b.antiAliasType&&400==b.sharpness?(d.__context.mozImageSmoothingEnabled=
!1,d.__context.msImageSmoothingEnabled=!1,d.__context.imageSmoothingEnabled=!1):(d.__context.mozImageSmoothingEnabled=!0,d.__context.msImageSmoothingEnabled=!0,d.__context.imageSmoothingEnabled=!0);if(b.border||b.background)N.context.rect(.5,.5,c.width-1,c.height-1),b.background&&(c=fa.hex(b.backgroundColor&16777215,6),N.context.fillStyle="#"+c,N.context.fill()),b.border&&(N.context.lineWidth=1,c=fa.hex(b.borderColor&16777215,6),N.context.strokeStyle="#"+c,N.context.stroke());N.context.textBaseline=
"top";N.context.textAlign="start";for(var c=-this.get_scrollH(),g=f=0,k=this.get_scrollV()-1;g<k;)var m=g++,f=f-b.lineHeights.get(m);for(var h,g=0,k=(new Ba("(iPad|iPhone|iPod|Firefox)","g")).match(window.navigator.userAgent),m=0,l=b.layoutGroups;m<l.get_length();){var n=l.get(m);++m;if(!(n.lineIndex<this.get_scrollV()-1)){if(n.lineIndex>this.get_scrollV()+b.bottomScrollV-2)break;N.context.font=Qa.getFont(n.format);h=fa.hex(n.format.color&16777215,6);N.context.fillStyle="#"+h;k&&(g=.185*n.format.size);
if(null!=this.__filters&&0<this.__filters.length&&y.__instanceof(this.__filters[0],Zc)){h=this.__filters[0];var q=N.context.globalAlpha;N.context.globalAlpha=q*h.alpha;var r=fa.hex(h.color&16777215,6);N.context.strokeStyle="#"+r;N.context.lineWidth=Math.max(h.blurX,h.blurY);N.context.strokeText(e.substring(n.startIndex,n.endIndex),n.offsetX+c,n.offsetY+g+f);N.context.strokeStyle=null;N.context.globalAlpha=q}N.context.fillText(e.substring(n.startIndex,n.endIndex),n.offsetX+c,n.offsetY+g+f);if(-1<this.__caretIndex&&
b.selectable)if(this.__selectionIndex==this.__caretIndex){if(this.__showCursor&&n.startIndex<=this.__caretIndex&&n.endIndex>=this.__caretIndex){q=h=0;for(r=this.__caretIndex-n.startIndex;q<r;){var t=q++;if(n.advances.length<=t)break;h+=n.advances[t]}N.context.fillRect(n.offsetX+h,n.offsetY,1,n.height)}}else if(n.startIndex<=this.__caretIndex&&n.endIndex>=this.__caretIndex||n.startIndex<=this.__selectionIndex&&n.endIndex>=this.__selectionIndex||n.startIndex>this.__caretIndex&&n.endIndex<this.__selectionIndex||
n.startIndex>this.__selectionIndex&&n.endIndex<this.__caretIndex)h=Math.min(this.__selectionIndex,this.__caretIndex)|0,q=Math.max(this.__selectionIndex,this.__caretIndex)|0,n.startIndex>h&&(h=n.startIndex),n.endIndex<q&&(q=n.endIndex),r=this.getCharBoundaries(h),q>=b.text.length?(t=this.getCharBoundaries(b.text.length-1),t.x+=t.width+2):t=this.getCharBoundaries(q),null!=r&&null!=t&&(N.context.fillStyle="#000000",N.context.fillRect(r.x,r.y,t.x-r.x,n.height),N.context.fillStyle="#FFFFFF",N.context.fillText(e.substring(h,
q),c+r.x,n.offsetY+g+f))}}}else{if(b.border||b.background)b.border?N.context.rect(.5,.5,c.width-1,c.height-1):N.context.rect(0,0,c.width,c.height),b.background&&(e=fa.hex(b.backgroundColor&16777215,6),N.context.fillStyle="#"+e,N.context.fill()),b.border&&(N.context.lineWidth=1,N.context.lineCap="square",e=fa.hex(b.borderColor&16777215,6),N.context.strokeStyle="#"+e,N.context.stroke());if(-1<this.__caretIndex&&b.selectable&&this.__showCursor){e=-this.get_scrollH();f=c=0;for(g=this.get_scrollV()-1;f<
g;)k=f++,c-=b.lineHeights.get(k);N.context.beginPath();b=fa.hex(this.get_defaultTextFormat().color&16777215,6);N.context.strokeStyle="#"+b;N.context.moveTo(e+2.5,c+2.5);N.context.lineWidth=1;N.context.lineTo(e+2.5,c+Qa.getFormatHeight(this.get_defaultTextFormat())-1);N.context.stroke();N.context.closePath()}}d.__bitmap=ma.fromCanvas(this.__graphics.__canvas);d.__visible=!0;this.__dirty=!1;d.set___dirty(!1)}}Ya.prototype.__renderGL.call(this,a)},__startCursorTimer:function(){this.__cursorTimer=Xc.delay(n(this,
this.__startCursorTimer),600);this.__showCursor=!this.__showCursor;this.__dirty=!0},__startTextInput:function(){0>this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=this.__text.length);null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!0),this.__inputEnabled||(this.stage.window.backend.setEnableTextEvents(!0),this.stage.window.onTextInput.has(n(this,this.window_onTextInput))||(this.stage.window.onTextInput.add(n(this,this.window_onTextInput)),this.stage.window.onKeyDown.add(n(this,
this.window_onKeyDown))),this.__inputEnabled=!0,this.__startCursorTimer()))},__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null);this.__showCursor&&(this.__showCursor=!1,this.__dirty=!0)},__stopTextInput:function(){this.__inputEnabled&&null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!1),this.stage.window.onTextInput.remove(n(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove(n(this,this.window_onKeyDown)),this.__inputEnabled=
!1,this.__stopCursorTimer())},__updateLayout:function(){if(this.__layoutDirty){var a=this.__textEngine.width;this.__textEngine.update();if(2!=this.__textEngine.autoSize){if(this.__textEngine.width!=a)switch(this.__textEngine.autoSize){case 0:this.set_x(this.get_x()+(a-this.__textEngine.width)/2);break;case 3:this.set_x(this.get_x()+(a-this.__textEngine.width))}this.__textEngine.getBounds()}this.__layoutDirty=!1}},__updateText:function(a){this.__text=a;this.__text.length<this.__caretIndex&&(this.__selectionIndex=
this.__caretIndex=this.__text.length);if(this.__displayAsPassword){a="";for(var b=0,c=this.get_text().length;b<c;)b++,a+="*";this.__textEngine.set_text(a)}else this.__textEngine.set_text(this.__text)},__updateTransforms:function(a){Ya.prototype.__updateTransforms.call(this,a);a=this.__renderTransform;var b=this.__offsetX,c=this.__offsetY;a.tx=b*a.a+c*a.c+a.tx;a.ty=b*a.b+c*a.d+a.ty},get_antiAliasType:function(){return this.__textEngine.antiAliasType},set_antiAliasType:function(a){return this.__textEngine.antiAliasType=
a},get_autoSize:function(){return this.__textEngine.autoSize},set_autoSize:function(a){a!=this.__textEngine.autoSize&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.autoSize=a},get_background:function(){return this.__textEngine.background},set_background:function(a){a!=this.__textEngine.background&&(this.__dirty=!0);return this.__textEngine.background=a},get_backgroundColor:function(){return this.__textEngine.backgroundColor},set_backgroundColor:function(a){a!=this.__textEngine.backgroundColor&&
(this.__dirty=!0);return this.__textEngine.backgroundColor=a},get_border:function(){return this.__textEngine.border},set_border:function(a){a!=this.__textEngine.border&&(this.__dirty=!0);return this.__textEngine.border=a},get_borderColor:function(){return this.__textEngine.borderColor},set_borderColor:function(a){a!=this.__textEngine.borderColor&&(this.__dirty=!0);return this.__textEngine.borderColor=a},get_bottomScrollV:function(){this.__updateLayout();return this.__textEngine.bottomScrollV},get_caretIndex:function(){return this.__caretIndex},
get_defaultTextFormat:function(){return this.__textFormat.clone()},set_defaultTextFormat:function(a){this.__textFormat.__merge(a);this.__dirty=this.__layoutDirty=!0;return a},get_displayAsPassword:function(){return this.__displayAsPassword},set_displayAsPassword:function(a){a!=this.__displayAsPassword&&(this.__layoutDirty=this.__dirty=!0,this.__displayAsPassword=a,this.__updateText(this.__text));return a},get_embedFonts:function(){return this.__textEngine.embedFonts},set_embedFonts:function(a){return this.__textEngine.embedFonts=
a},get_gridFitType:function(){return this.__textEngine.gridFitType},set_gridFitType:function(a){return this.__textEngine.gridFitType=a},get_height:function(){this.__updateLayout();return this.__textEngine.height*Math.abs(this.get_scaleY())},set_height:function(a){a!=this.__textEngine.height&&(this.__transformDirty||(this.__transformDirty=!0,aa.__worldTransformDirty++),this.__layoutDirty=this.__dirty=!0,this.__textEngine.height=a);return this.__textEngine.height*Math.abs(this.get_scaleY())},get_htmlText:function(){return this.__text},
set_htmlText:function(a){this.__isHTML&&this.__text==a||(this.__layoutDirty=this.__dirty=!0);this.__isHTML=!0;if(null==this.__div){a=a.replace(ea.__regexBreakTag.r,"\n");a=a.replace(ea.__regexEntities[0].r,'"');a=a.replace(ea.__regexEntities[1].r,"'");a=a.replace(ea.__regexEntities[2].r,"&");var b=a.split("<");if(1==b.length)return a=a.replace(ea.__regexHTMLTag.r,""),1<this.__textEngine.textFormatRanges.get_length()&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.get_length()-
1),a=a.replace(ea.__regexEntities[3].r,"<"),a=a.replace(ea.__regexEntities[4].r,">"),b=this.__textEngine.textFormatRanges.get(0),b.format=this.__textFormat,b.start=0,b.end=a.length,this.__updateText(a),a;this.__textEngine.textFormatRanges.splice(0,this.__textEngine.textFormatRanges.get_length());a="";for(var c,d=0,e=b.length;d<e;){var f=d++;c=b[f];c=c.replace(ea.__regexEntities[3].r,"<");c=c.replace(ea.__regexEntities[4].r,">");b[f]=c}c=[this.__textFormat.clone()];e=!1;for(d=0;d<b.length;)if(f=b[d],
++d,""!=f){var g="/"==W.substr(f,0,1),k=f.indexOf(">"),m=k+1,h=f.indexOf(" "),h=f.substring(g?1:0,-1<h&&h<k?h:k);if(g)c.pop(),g=c[c.length-1].clone(),"p"==h.toLowerCase()&&0<this.__textEngine.textFormatRanges.get_length()&&(a+="\n",e=!0),m<f.length&&(e=W.substr(f,m,null),this.__textEngine.textFormatRanges.push(new se(g,a.length,a.length+e.length)),a+=e,e=!1);else if(g=c[c.length-1].clone(),-1<k){switch(h.toLowerCase()){case "a":ea.__regexHref.match(f)&&(g.url=this.__getAttributeMatch(ea.__regexHref));
break;case "b":g.bold=!0;break;case "em":case "i":g.italic=!0;break;case "font":ea.__regexFace.match(f)&&(g.font=this.__getAttributeMatch(ea.__regexFace));ea.__regexColor.match(f)&&(g.color=q.parseInt("0x"+this.__getAttributeMatch(ea.__regexColor)));ea.__regexSize.match(f)&&(k=this.__getAttributeMatch(ea.__regexSize),h=W.cca(k,0),g.size=43==h||45==h?(2<=c.length?c[c.length-2]:this.__textFormat).size+q.parseInt(k):q.parseInt(k));break;case "p":0<this.__textEngine.textFormatRanges.get_length()&&!e&&
(a+="\n");ea.__regexAlign.match(f)&&(g.align=ze.fromString(this.__getAttributeMatch(ea.__regexAlign).toLowerCase()));break;case "textformat":ea.__regexBlockIndent.match(f)&&(g.blockIndent=q.parseInt(this.__getAttributeMatch(ea.__regexBlockIndent)));ea.__regexIndent.match(f)&&(g.indent=q.parseInt(this.__getAttributeMatch(ea.__regexIndent)));ea.__regexLeading.match(f)&&(g.leading=q.parseInt(this.__getAttributeMatch(ea.__regexLeading)));ea.__regexLeftMargin.match(f)&&(g.leftMargin=q.parseInt(this.__getAttributeMatch(ea.__regexLeftMargin)));
ea.__regexRightMargin.match(f)&&(g.rightMargin=q.parseInt(this.__getAttributeMatch(ea.__regexRightMargin)));if(ea.__regexTabStops.match(f)){for(var k=this.__getAttributeMatch(ea.__regexTabStops).split(" "),h=[],l=0;l<k.length;){var n=k[l];++l;h.push(q.parseInt(n))}g.tabStops=h}break;case "u":g.underline=!0}c.push(g);m<f.length&&(e=f.substring(m),this.__textEngine.textFormatRanges.push(new se(g,a.length,a.length+e.length)),a+=e,e=!1)}else this.__textEngine.textFormatRanges.push(new se(g,a.length,a.length+
f.length)),a+=f,e=!1}0==this.__textEngine.textFormatRanges.get_length()&&this.__textEngine.textFormatRanges.push(new se(c[0],0,0))}this.__updateText(a);return a},get_length:function(){return null!=this.__text?this.__text.length:0},get_maxChars:function(){return this.__textEngine.maxChars},set_maxChars:function(a){a!=this.__textEngine.maxChars&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.maxChars=a},get_maxScrollH:function(){this.__updateLayout();return this.__textEngine.maxScrollH},
get_maxScrollV:function(){this.__updateLayout();return this.__textEngine.maxScrollV},get_mouseWheelEnabled:function(){return this.__mouseWheelEnabled},set_mouseWheelEnabled:function(a){return this.__mouseWheelEnabled=a},get_multiline:function(){return this.__textEngine.multiline},set_multiline:function(a){a!=this.__textEngine.multiline&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.multiline=a},get_numLines:function(){this.__updateLayout();return this.__textEngine.numLines},get_restrict:function(){return this.__textEngine.restrict},
set_restrict:function(a){return this.__textEngine.set_restrict(a)},get_scrollH:function(){return this.__textEngine.scrollH},set_scrollH:function(a){this.__updateLayout();a>this.__textEngine.maxScrollH&&(a=this.__textEngine.maxScrollH);0>a&&(a=0);a!=this.__textEngine.scrollH&&(this.__dirty=!0);return this.__textEngine.scrollH=a},get_scrollV:function(){return this.__textEngine.scrollV},set_scrollV:function(a){this.__updateLayout();a>this.__textEngine.maxScrollV&&(a=this.__textEngine.maxScrollV);1>a&&
(a=1);a!=this.__textEngine.scrollV&&(this.__dirty=!0);return this.__textEngine.scrollV=a},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(a){a!=this.__textEngine.selectable&&1==this.get_type()&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():a||this.__stopTextInput());return this.__textEngine.selectable=a},get_selectionBeginIndex:function(){return Math.min(this.__caretIndex,this.__selectionIndex)|0},get_selectionEndIndex:function(){return Math.max(this.__caretIndex,
this.__selectionIndex)|0},get_sharpness:function(){return this.__textEngine.sharpness},set_sharpness:function(a){a!=this.__textEngine.sharpness&&(this.__dirty=!0);return this.__textEngine.sharpness=a},get_text:function(){return this.__text},set_text:function(a){if(this.__isHTML||this.__text!=a)this.__layoutDirty=this.__dirty=!0;else return a;1<this.__textEngine.textFormatRanges.get_length()&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.get_length()-1);var b=this.__textEngine.textFormatRanges.get(0);
b.format=this.__textFormat;b.start=0;b.end=a.length;this.__isHTML=!1;this.__updateText(a);return a},get_textColor:function(){return this.__textFormat.color},set_textColor:function(a){a!=this.__textFormat.color&&(this.__dirty=!0);for(var b=0,c=this.__textEngine.textFormatRanges;b<c.get_length();){var d=c.get(b);++b;d.format.color=a}return this.__textFormat.color=a},get_textWidth:function(){this.__updateLayout();return this.__textEngine.textWidth},get_textHeight:function(){this.__updateLayout();return this.__textEngine.textHeight},
get_type:function(){return this.__textEngine.type},set_type:function(a){a!=this.__textEngine.type&&(1==a?(this.addEventListener("focusIn",n(this,this.this_onFocusIn)),this.addEventListener("focusOut",n(this,this.this_onFocusOut)),this.addEventListener("addedToStage",n(this,this.this_onAddedToStage)),this.this_onFocusIn(null),this.__textEngine.__useIntAdvances=!0):(this.removeEventListener("focusIn",n(this,this.this_onFocusIn)),this.removeEventListener("focusOut",n(this,this.this_onFocusOut)),this.removeEventListener("addedToStage",
n(this,this.this_onAddedToStage)),this.__stopTextInput(),this.__textEngine.__useIntAdvances=null),this.__dirty=!0);return this.__textEngine.type=a},get_width:function(){this.__updateLayout();return this.__textEngine.width*Math.abs(this.__scaleX)},set_width:function(a){a!=this.__textEngine.width&&(this.__transformDirty||(this.__transformDirty=!0,aa.__worldTransformDirty++),this.__layoutDirty=this.__dirty=!0,this.__textEngine.width=a);return this.__textEngine.width*Math.abs(this.__scaleX)},get_wordWrap:function(){return this.__textEngine.wordWrap},
set_wordWrap:function(a){a!=this.__textEngine.wordWrap&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.wordWrap=a},stage_onMouseMove:function(a){null!=this.stage&&this.__textEngine.selectable&&0<=this.__selectionIndex&&(this.__updateLayout(),a=this.__getPosition(this.get_mouseX(),this.get_mouseY()),a!=this.__caretIndex&&(this.__caretIndex=a,this.__dirty=!0))},stage_onMouseUp:function(a){if(null!=this.stage&&(this.stage.removeEventListener("mouseMove",n(this,this.stage_onMouseMove)),
this.stage.removeEventListener("mouseUp",n(this,this.stage_onMouseUp)),this.stage.get_focus()==this)){this.__getWorldTransform();this.__updateLayout();this.get_x();this.get_y();this.get_x();this.get_y();var b=this.__getPosition(this.get_mouseX(),this.get_mouseY());a=Math.min(this.__selectionIndex,b)|0;b=Math.max(this.__selectionIndex,b)|0;this.__selectionIndex=a;this.__caretIndex=b;this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),this.__startCursorTimer())}},this_onAddedToStage:function(a){this.this_onFocusIn(null)},
this_onFocusIn:function(a){this.get_selectable()&&1==this.get_type()&&null!=this.stage&&this.stage.get_focus()==this&&this.__startTextInput()},this_onFocusOut:function(a){this.__stopTextInput()},this_onMouseDown:function(a){this.get_selectable()&&(this.__updateLayout(),this.__selectionIndex=this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__dirty=!0,this.stage.addEventListener("mouseMove",n(this,this.stage_onMouseMove)),this.stage.addEventListener("mouseUp",n(this,this.stage_onMouseUp)))},
window_onKeyDown:function(a,b){switch(a){case 8:this.__selectionIndex==this.__caretIndex&&0<this.__caretIndex&&(this.__selectionIndex=this.__caretIndex-1);this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new J("change",!0)));break;case 97:if(qa.get_metaKey(b)||qa.get_ctrlKey(b))this.__caretIndex=this.__text.length,this.__selectionIndex=0;break;case 99:(qa.get_metaKey(b)||qa.get_ctrlKey(b))&&Ld.set_text(this.__text.substring(this.__caretIndex,
this.__selectionIndex));break;case 120:if(qa.get_metaKey(b)||qa.get_ctrlKey(b))Ld.set_text(this.__text.substring(this.__caretIndex,this.__selectionIndex)),this.__caretIndex!=this.__selectionIndex&&(this.replaceSelectedText(""),this.dispatchEvent(new J("change",!0)));break;case 127:this.__selectionIndex==this.__caretIndex&&this.__caretIndex<this.__text.length&&(this.__selectionIndex=this.__caretIndex+1);this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,
this.dispatchEvent(new J("change",!0)));break;case 1073741898:this.__caretBeginningOfLine();this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741901:this.__caretEndOfLine();this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741903:qa.get_metaKey(b)?(this.__caretEndOfLine(),qa.get_shiftKey(b)||(this.__selectionIndex=this.__caretIndex)):qa.get_shiftKey(b)?this.__caretNextCharacter():(this.__selectionIndex==this.__caretIndex?this.__caretNextCharacter():this.__caretIndex=
Math.max(this.__caretIndex,this.__selectionIndex)|0,this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741904:qa.get_metaKey(b)?(this.__caretBeginningOfLine(),qa.get_shiftKey(b)||(this.__selectionIndex=this.__caretIndex)):qa.get_shiftKey(b)?this.__caretPreviousCharacter():(this.__selectionIndex==this.__caretIndex?this.__caretPreviousCharacter():this.__caretIndex=Math.min(this.__caretIndex,this.__selectionIndex)|0,this.__selectionIndex=this.__caretIndex);
this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741905:if(qa.get_shiftKey(b))this.__caretNextLine();else{if(this.__selectionIndex==this.__caretIndex)this.__caretNextLine();else{var c=this.getLineIndexOfChar(Math.max(this.__caretIndex,this.__selectionIndex)|0);this.__caretNextLine(c,Math.min(this.__caretIndex,this.__selectionIndex)|0)}this.__selectionIndex=this.__caretIndex}this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741906:qa.get_shiftKey(b)?this.__caretPreviousLine():
(this.__selectionIndex==this.__caretIndex?this.__caretPreviousLine():(c=this.getLineIndexOfChar(Math.min(this.__caretIndex,this.__selectionIndex)|0),this.__caretPreviousLine(c,Math.min(this.__caretIndex,this.__selectionIndex)|0)),this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 13:case 1073741912:this.__textEngine.multiline&&(this.replaceSelectedText("\n"),this.dispatchEvent(new J("change",!0)))}},window_onTextInput:function(a){this.replaceSelectedText(a);
this.dispatchEvent(new J("change",!0))},__class__:ea,__properties__:t(Ya.prototype.__properties__,{set_wordWrap:"set_wordWrap",get_wordWrap:"get_wordWrap",set_type:"set_type",get_type:"get_type",get_textWidth:"get_textWidth",get_textHeight:"get_textHeight",set_textColor:"set_textColor",get_textColor:"get_textColor",set_text:"set_text",get_text:"get_text",set_sharpness:"set_sharpness",get_sharpness:"get_sharpness",get_selectionEndIndex:"get_selectionEndIndex",get_selectionBeginIndex:"get_selectionBeginIndex",
set_selectable:"set_selectable",get_selectable:"get_selectable",set_scrollV:"set_scrollV",get_scrollV:"get_scrollV",set_scrollH:"set_scrollH",get_scrollH:"get_scrollH",set_restrict:"set_restrict",get_restrict:"get_restrict",get_numLines:"get_numLines",set_multiline:"set_multiline",get_multiline:"get_multiline",set_mouseWheelEnabled:"set_mouseWheelEnabled",get_mouseWheelEnabled:"get_mouseWheelEnabled",get_maxScrollV:"get_maxScrollV",get_maxScrollH:"get_maxScrollH",set_maxChars:"set_maxChars",get_maxChars:"get_maxChars",
get_length:"get_length",set_htmlText:"set_htmlText",get_htmlText:"get_htmlText",set_gridFitType:"set_gridFitType",get_gridFitType:"get_gridFitType",set_embedFonts:"set_embedFonts",get_embedFonts:"get_embedFonts",set_displayAsPassword:"set_displayAsPassword",get_displayAsPassword:"get_displayAsPassword",set_defaultTextFormat:"set_defaultTextFormat",get_defaultTextFormat:"get_defaultTextFormat",get_caretIndex:"get_caretIndex",get_bottomScrollV:"get_bottomScrollV",set_borderColor:"set_borderColor",get_borderColor:"get_borderColor",
set_border:"set_border",get_border:"get_border",set_backgroundColor:"set_backgroundColor",get_backgroundColor:"get_backgroundColor",set_background:"set_background",get_background:"get_background",set_autoSize:"set_autoSize",get_autoSize:"get_autoSize",set_antiAliasType:"set_antiAliasType",get_antiAliasType:"get_antiAliasType"})});var sg={};k["openfl.text._TextFieldAutoSize.TextFieldAutoSize_Impl_"]=sg;sg.__name__=["openfl","text","_TextFieldAutoSize","TextFieldAutoSize_Impl_"];sg.fromString=function(a){switch(a){case "center":return 0;
case "left":return 1;case "none":return 2;case "right":return 3;default:return null}};sg.toString=function(a){switch(a){case 0:return"center";case 1:return"left";case 2:return"none";case 3:return"right";default:return null}};var Oj={};k["openfl.text._TextFieldType.TextFieldType_Impl_"]=Oj;Oj.__name__=["openfl","text","_TextFieldType","TextFieldType_Impl_"];Oj.fromString=function(a){switch(a){case "dynamic":return 0;case "input":return 1;default:return null}};Oj.toString=function(a){switch(a){case 0:return"dynamic";
case 1:return"input";default:return null}};var Fe=function(a,b,c,d,e,f,g,k,m,h,l,n,q){this.font=a;this.size=b;this.color=c;this.bold=d;this.italic=e;this.underline=f;this.url=g;this.target=k;this.align=m;this.leftMargin=h;this.rightMargin=l;this.indent=n;this.leading=q};k["openfl.text.TextFormat"]=Fe;Fe.__name__=["openfl","text","TextFormat"];Fe.prototype={align:null,blockIndent:null,bold:null,bullet:null,color:null,font:null,indent:null,italic:null,kerning:null,leading:null,leftMargin:null,letterSpacing:null,
rightMargin:null,size:null,tabStops:null,target:null,underline:null,url:null,clone:function(){var a=new Fe(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);a.align=this.align;a.leftMargin=this.leftMargin;a.rightMargin=this.rightMargin;a.indent=this.indent;a.leading=this.leading;a.blockIndent=this.blockIndent;a.bullet=this.bullet;a.kerning=this.kerning;a.letterSpacing=this.letterSpacing;a.tabStops=this.tabStops;return a},__merge:function(a){null!=a.font&&(this.font=
a.font);null!=a.size&&(this.size=a.size);null!=a.color&&(this.color=a.color);null!=a.bold&&(this.bold=a.bold);null!=a.italic&&(this.italic=a.italic);null!=a.underline&&(this.underline=a.underline);null!=a.url&&(this.url=a.url);null!=a.target&&(this.target=a.target);null!=a.align&&(this.align=a.align);null!=a.leftMargin&&(this.leftMargin=a.leftMargin);null!=a.rightMargin&&(this.rightMargin=a.rightMargin);null!=a.indent&&(this.indent=a.indent);null!=a.leading&&(this.leading=a.leading);null!=a.blockIndent&&
(this.blockIndent=a.blockIndent);null!=a.bullet&&(this.bullet=a.bullet);null!=a.kerning&&(this.kerning=a.kerning);null!=a.letterSpacing&&(this.letterSpacing=a.letterSpacing);null!=a.tabStops&&(this.tabStops=a.tabStops)},__class__:Fe};var ze={};k["openfl.text._TextFormatAlign.TextFormatAlign_Impl_"]=ze;ze.__name__=["openfl","text","_TextFormatAlign","TextFormatAlign_Impl_"];ze.fromString=function(a){switch(a){case "center":return 0;case "end":return 1;case "justify":return 2;case "left":return 3;case "right":return 4;
case "start":return 5;default:return null}};ze.toString=function(a){switch(a){case 0:return"center";case 1:return"end";case 2:return"justify";case 3:return"left";case 4:return"right";case 5:return"start";default:return null}};var Al=function(a,b,c,d,e,f){this.x=a;this.width=b;this.height=c;this.ascent=d;this.descent=e;this.leading=f};k["openfl.text.TextLineMetrics"]=Al;Al.__name__=["openfl","text","TextLineMetrics"];Al.prototype={ascent:null,descent:null,height:null,leading:null,width:null,x:null,
__class__:Al};var Ja=function(){X.call(this);Ja.__instances.push(this)};k["openfl.ui.GameInput"]=Ja;Ja.__name__=["openfl","ui","GameInput"];Ja.getDeviceAt=function(a){return 0<=a&&a<Ja.__deviceList.length?Ja.__deviceList[a]:null};Ja.__getDevice=function(a){if(null==a)return null;if(null==Ja.__devices.h.__keys__[a.__id__]){var b=cb.__getDeviceData()[a.id].id,c=cb.__getDeviceData(),b=new Pj(b,c[a.id].id);Ja.__deviceList.push(b);Ja.__devices.set(a,b);Ja.numDevices=Ja.__deviceList.length}return Ja.__devices.h[a.__id__]};
Ja.__onGamepadAxisMove=function(a,b,c){a=Ja.__getDevice(a);if(null!=a&&a.enabled){if(!a.__axis.h.hasOwnProperty(b)){var d;switch(b){case 0:d="LEFT_X";break;case 1:d="LEFT_Y";break;case 2:d="RIGHT_X";break;case 3:d="RIGHT_Y";break;case 4:d="TRIGGER_LEFT";break;case 5:d="TRIGGER_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new We(a,"AXIS_"+d,-1,1);a.__axis.h[b]=d;a.__controls.push(d)}b=a.__axis.h[b];b.value=c;b.dispatchEvent(new J("change"))}};Ja.__onGamepadButtonDown=function(a,b){var c=Ja.__getDevice(a);
if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new We(c,"BUTTON_"+d,
0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=1;c.dispatchEvent(new J("change"))}};Ja.__onGamepadButtonUp=function(a,b){var c=Ja.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";
break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new We(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=0;c.dispatchEvent(new J("change"))}};Ja.__onGamepadConnect=function(a){a=Ja.__getDevice(a);if(null!=a)for(var b=0,c=Ja.__instances;b<c.length;){var d=c[b];++b;d.dispatchEvent(new ve("deviceAdded",null,null,a))}};Ja.__onGamepadDisconnect=function(a){var b=Ja.__devices.h[a.__id__];
if(null!=b){null!=Ja.__devices.h.__keys__[a.__id__]&&(W.remove(Ja.__deviceList,Ja.__devices.h[a.__id__]),Ja.__devices.remove(a));Ja.numDevices=Ja.__deviceList.length;a=0;for(var c=Ja.__instances;a<c.length;){var d=c[a];++a;d.dispatchEvent(new ve("deviceRemoved",null,null,b))}}};Ja.__super__=X;Ja.prototype=t(X.prototype,{__class__:Ja});var We=function(a,b,c,d,e){null==e&&(e=0);X.call(this);this.device=a;this.id=b;this.minValue=c;this.maxValue=d;this.value=e};k["openfl.ui.GameInputControl"]=We;We.__name__=
["openfl","ui","GameInputControl"];We.__super__=X;We.prototype=t(X.prototype,{device:null,id:null,maxValue:null,minValue:null,value:null,__class__:We});var Pj=function(a,b){this.__controls=[];this.__button=new Ib;this.__axis=new Ib;this.id=a;this.name=b;for(var c,d=0;6>d;){var e=d++;c=new We(this,"AXIS_"+e,-1,1);this.__axis.h[e]=c;this.__controls.push(c)}for(d=0;15>d;)e=d++,c=new We(this,"BUTTON_"+e,0,1),this.__button.h[e]=c,this.__controls.push(c)};k["openfl.ui.GameInputDevice"]=Pj;Pj.__name__=["openfl",
"ui","GameInputDevice"];Pj.prototype={enabled:null,id:null,name:null,sampleInterval:null,__axis:null,__button:null,__controls:null,__gamepad:null,getCachedSamples:function(a,b){return 0},getControlAt:function(a){return 0<=a&&a<this.__controls.length?this.__controls[a]:null},startCachingSamples:function(a,b){},stopCachingSamples:function(){},get_numControls:function(){return this.__controls.length},__class__:Pj,__properties__:{get_numControls:"get_numControls"}};var R=function(){};k["openfl.ui.Keyboard"]=
R;R.__name__=["openfl","ui","Keyboard"];R.isAccessible=function(){return!1};R.__convertKeyCode=function(a){switch(a){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 33:return 49;case 34:return 222;case 35:return 51;case 36:return 52;case 37:return 53;case 38:return 55;case 39:return 222;case 40:return 57;case 41:return 48;case 42:return 56;case 44:return 188;case 45:return 189;case 46:return 190;case 47:return 191;case 48:return 48;case 49:return 49;case 50:return 50;
case 51:return 51;case 52:return 52;case 53:return 53;case 54:return 54;case 55:return 55;case 56:return 56;case 57:return 57;case 58:return 186;case 59:return 186;case 60:return 60;case 61:return 187;case 62:return 190;case 63:return 191;case 64:return 50;case 91:return 219;case 92:return 220;case 93:return 221;case 94:return 54;case 95:return 189;case 96:return 192;case 97:return 65;case 98:return 66;case 99:return 67;case 100:return 68;case 101:return 69;case 102:return 70;case 103:return 71;case 104:return 72;
case 105:return 73;case 106:return 74;case 107:return 75;case 108:return 76;case 109:return 77;case 110:return 78;case 111:return 79;case 112:return 80;case 113:return 81;case 114:return 82;case 115:return 83;case 116:return 84;case 117:return 85;case 118:return 86;case 119:return 87;case 120:return 88;case 121:return 89;case 122:return 90;case 127:return 46;case 1073741881:return 20;case 1073741882:return 112;case 1073741883:return 113;case 1073741884:return 114;case 1073741885:return 115;case 1073741886:return 116;
case 1073741887:return 117;case 1073741888:return 118;case 1073741889:return 119;case 1073741890:return 120;case 1073741891:return 121;case 1073741892:return 122;case 1073741893:return 123;case 1073741894:return 301;case 1073741895:return 145;case 1073741896:return 19;case 1073741897:return 45;case 1073741898:return 36;case 1073741899:return 33;case 1073741901:return 35;case 1073741902:return 34;case 1073741903:return 39;case 1073741904:return 37;case 1073741905:return 40;case 1073741906:return 38;
case 1073741907:return 144;case 1073741908:return 111;case 1073741909:return 106;case 1073741910:return 109;case 1073741911:return 107;case 1073741912:return 108;case 1073741913:return 97;case 1073741914:return 98;case 1073741915:return 99;case 1073741916:return 100;case 1073741917:return 101;case 1073741918:return 102;case 1073741919:return 103;case 1073741920:return 104;case 1073741921:return 105;case 1073741922:return 96;case 1073741923:return 110;case 1073741925:return 302;case 1073741928:return 124;
case 1073741929:return 125;case 1073741930:return 126;case 1073741982:return 13;case 1073742044:return 110;case 1073742048:return 17;case 1073742049:return 16;case 1073742050:return 18;case 1073742051:return 15;case 1073742052:return 17;case 1073742053:return 16;case 1073742054:return 18;case 1073742055:return 15;default:return a}};R.__getCharCode=function(a,b){null==b&&(b=!1);if(b){switch(a){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;
case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(65<=a&&90>=a)return a-65+65}else{switch(a){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;
case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(48<=a&&57>=a)return a-48+48;if(65<=a&&90>=a)return a-65+97}if(96<=a&&105>=a)return a-96+48;switch(a){case 8:return 8;case 13:return 13;case 46:return 127;case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46}return 0};R.__getKeyLocation=function(a){switch(a){case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:return 3;
case 1073742048:case 1073742049:case 1073742050:case 1073742051:return 1;case 1073742052:case 1073742053:case 1073742054:case 1073742055:return 2;default:return 0}};var ud=function(){};k["openfl.ui.Mouse"]=ud;ud.__name__=["openfl","ui","Mouse"];ud.__properties__={set_cursor:"set_cursor",get_cursor:"get_cursor"};ud.hide=function(){nc.hide()};ud.show=function(){nc.show()};ud.get_cursor=function(){return ud.__cursor};ud.set_cursor=function(a){switch(a){case "arrow":nc.set_cursor(da.ARROW);break;case "button":nc.set_cursor(da.POINTER);
break;case "hand":nc.set_cursor(da.MOVE);break;case "ibeam":nc.set_cursor(da.TEXT)}return ud.__cursor=a};var G=function(a){null==a&&(a=!1);this.debugEnabled=!1;this.debugEnabled=a;G.initialized||G.init()};k["openfl.utils.AGALMiniAssembler"]=G;G.__name__=["openfl","utils","AGALMiniAssembler"];G.init=function(){G.initialized=!0;var a=G.OPMAP,b=new Ra("mov",2,0,0);null!=u.mov?a.setReserved("mov",b):a.h.mov=b;var c=G.OPMAP,d=new Ra("add",3,1,0);null!=u.add?c.setReserved("add",d):c.h.add=d;var e=G.OPMAP,
f=new Ra("sub",3,2,0);null!=u.sub?e.setReserved("sub",f):e.h.sub=f;var g=G.OPMAP,k=new Ra("mul",3,3,0);null!=u.mul?g.setReserved("mul",k):g.h.mul=k;var m=G.OPMAP,h=new Ra("div",3,4,0);null!=u.div?m.setReserved("div",h):m.h.div=h;var l=G.OPMAP,n=new Ra("rcp",2,5,0);null!=u.rcp?l.setReserved("rcp",n):l.h.rcp=n;var q=G.OPMAP,r=new Ra("min",3,6,0);null!=u.min?q.setReserved("min",r):q.h.min=r;var t=G.OPMAP,w=new Ra("max",3,7,0);null!=u.max?t.setReserved("max",w):t.h.max=w;var y=G.OPMAP,x=new Ra("frc",
2,8,0);null!=u.frc?y.setReserved("frc",x):y.h.frc=x;var z=G.OPMAP,B=new Ra("sqt",2,9,0);null!=u.sqt?z.setReserved("sqt",B):z.h.sqt=B;var D=G.OPMAP,E=new Ra("rsq",2,10,0);null!=u.rsq?D.setReserved("rsq",E):D.h.rsq=E;var F=G.OPMAP,I=new Ra("pow",3,11,0);null!=u.pow?F.setReserved("pow",I):F.h.pow=I;var H=G.OPMAP,J=new Ra("log",2,12,0);null!=u.log?H.setReserved("log",J):H.h.log=J;var L=G.OPMAP,K=new Ra("exp",2,13,0);null!=u.exp?L.setReserved("exp",K):L.h.exp=K;var N=G.OPMAP,M=new Ra("nrm",2,14,0);null!=
u.nrm?N.setReserved("nrm",M):N.h.nrm=M;var O=G.OPMAP,P=new Ra("sin",2,15,0);null!=u.sin?O.setReserved("sin",P):O.h.sin=P;var Q=G.OPMAP,S=new Ra("cos",2,16,0);null!=u.cos?Q.setReserved("cos",S):Q.h.cos=S;var R=G.OPMAP,T=new Ra("crs",3,17,0);null!=u.crs?R.setReserved("crs",T):R.h.crs=T;var W=G.OPMAP,V=new Ra("dp3",3,18,0);null!=u.dp3?W.setReserved("dp3",V):W.h.dp3=V;var X=G.OPMAP,Z=new Ra("dp4",3,19,0);null!=u.dp4?X.setReserved("dp4",Z):X.h.dp4=Z;var Y=G.OPMAP,aa=new Ra("abs",2,20,0);null!=u.abs?Y.setReserved("abs",
aa):Y.h.abs=aa;var ba=G.OPMAP,ca=new Ra("neg",2,21,0);null!=u.neg?ba.setReserved("neg",ca):ba.h.neg=ca;var da=G.OPMAP,ea=new Ra("sat",2,22,0);null!=u.sat?da.setReserved("sat",ea):da.h.sat=ea;var fa=G.OPMAP,ga=new Ra("m33",3,23,16);null!=u.m33?fa.setReserved("m33",ga):fa.h.m33=ga;var ha=G.OPMAP,ia=new Ra("m44",3,24,16);null!=u.m44?ha.setReserved("m44",ia):ha.h.m44=ia;var ja=G.OPMAP,ka=new Ra("m34",3,25,16);null!=u.m34?ja.setReserved("m34",ka):ja.h.m34=ka;var la=G.OPMAP,ma=new Ra("ddx",2,26,288);null!=
u.ddx?la.setReserved("ddx",ma):la.h.ddx=ma;var na=G.OPMAP,oa=new Ra("ddy",2,27,288);null!=u.ddy?na.setReserved("ddy",oa):na.h.ddy=oa;var pa=G.OPMAP,qa=new Ra("ife",2,28,897);null!=u.ife?pa.setReserved("ife",qa):pa.h.ife=qa;var ra=G.OPMAP,sa=new Ra("ine",2,29,897);null!=u.ine?ra.setReserved("ine",sa):ra.h.ine=sa;var ta=G.OPMAP,ua=new Ra("ifg",2,30,897);null!=u.ifg?ta.setReserved("ifg",ua):ta.h.ifg=ua;var va=G.OPMAP,wa=new Ra("ifl",2,31,897);null!=u.ifl?va.setReserved("ifl",wa):va.h.ifl=wa;var xa=G.OPMAP,
ya=new Ra("els",0,32,1921);null!=u.els?xa.setReserved("els",ya):xa.h.els=ya;var za=G.OPMAP,Aa=new Ra("eif",0,33,1409);null!=u.eif?za.setReserved("eif",Aa):za.h.eif=Aa;var Ba=G.OPMAP,Ca=new Ra("kil",1,39,160);null!=u.kil?Ba.setReserved("kil",Ca):Ba.h.kil=Ca;var Da=G.OPMAP,Ea=new Ra("tex",3,40,40);null!=u.tex?Da.setReserved("tex",Ea):Da.h.tex=Ea;var Fa=G.OPMAP,Ga=new Ra("sge",3,41,0);null!=u.sge?Fa.setReserved("sge",Ga):Fa.h.sge=Ga;var Ha=G.OPMAP,Ia=new Ra("slt",3,42,0);null!=u.slt?Ha.setReserved("slt",
Ia):Ha.h.slt=Ia;var Ja=G.OPMAP,Ka=new Ra("sgn",2,43,0);null!=u.sgn?Ja.setReserved("sgn",Ka):Ja.h.sgn=Ka;var La=G.OPMAP,Ma=new Ra("seq",3,44,0);null!=u.seq?La.setReserved("seq",Ma):La.h.seq=Ma;var Na=G.OPMAP,Oa=new Ra("sne",3,45,0);null!=u.sne?Na.setReserved("sne",Oa):Na.h.sne=Oa;var Pa=G.SAMPLEMAP,Qa=new pb("rgba",8,0);null!=u.rgba?Pa.setReserved("rgba",Qa):Pa.h.rgba=Qa;var Sa=G.SAMPLEMAP,Ta=new pb("compressed",8,1);null!=u.compressed?Sa.setReserved("compressed",Ta):Sa.h.compressed=Ta;var Ua=G.SAMPLEMAP,
Va=new pb("compressedalpha",8,2);null!=u.compressedalpha?Ua.setReserved("compressedalpha",Va):Ua.h.compressedalpha=Va;var Wa=G.SAMPLEMAP,Xa=new pb("dxt1",8,1);null!=u.dxt1?Wa.setReserved("dxt1",Xa):Wa.h.dxt1=Xa;var Ya=G.SAMPLEMAP,Za=new pb("dxt5",8,2);null!=u.dxt5?Ya.setReserved("dxt5",Za):Ya.h.dxt5=Za;var $a=G.SAMPLEMAP,ab=new pb("video",8,3);null!=u.video?$a.setReserved("video",ab):$a.h.video=ab;var bb=G.SAMPLEMAP,cb=new pb("2d",12,0);null!=u["2d"]?bb.setReserved("2d",cb):bb.h["2d"]=cb;var db=G.SAMPLEMAP,
eb=new pb("3d",12,2);null!=u["3d"]?db.setReserved("3d",eb):db.h["3d"]=eb;var fb=G.SAMPLEMAP,gb=new pb("cube",12,1);null!=u.cube?fb.setReserved("cube",gb):fb.h.cube=gb;var hb=G.SAMPLEMAP,ib=new pb("mipnearest",24,1);null!=u.mipnearest?hb.setReserved("mipnearest",ib):hb.h.mipnearest=ib;var jb=G.SAMPLEMAP,kb=new pb("miplinear",24,2);null!=u.miplinear?jb.setReserved("miplinear",kb):jb.h.miplinear=kb;var lb=G.SAMPLEMAP,mb=new pb("mipnone",24,0);null!=u.mipnone?lb.setReserved("mipnone",mb):lb.h.mipnone=
mb;var nb=G.SAMPLEMAP,ob=new pb("nomip",24,0);null!=u.nomip?nb.setReserved("nomip",ob):nb.h.nomip=ob;var qb=G.SAMPLEMAP,rb=new pb("nearest",28,0);null!=u.nearest?qb.setReserved("nearest",rb):qb.h.nearest=rb;var sb=G.SAMPLEMAP,tb=new pb("linear",28,1);null!=u.linear?sb.setReserved("linear",tb):sb.h.linear=tb;var ub=G.SAMPLEMAP,vb=new pb("anisotropic2x",28,2);null!=u.anisotropic2x?ub.setReserved("anisotropic2x",vb):ub.h.anisotropic2x=vb;var wb=G.SAMPLEMAP,xb=new pb("anisotropic4x",28,3);null!=u.anisotropic4x?
wb.setReserved("anisotropic4x",xb):wb.h.anisotropic4x=xb;var yb=G.SAMPLEMAP,zb=new pb("anisotropic8x",28,4);null!=u.anisotropic8x?yb.setReserved("anisotropic8x",zb):yb.h.anisotropic8x=zb;var Ab=G.SAMPLEMAP,Bb=new pb("anisotropic16x",28,5);null!=u.anisotropic16x?Ab.setReserved("anisotropic16x",Bb):Ab.h.anisotropic16x=Bb;var Cb=G.SAMPLEMAP,Db=new pb("centroid",16,1);null!=u.centroid?Cb.setReserved("centroid",Db):Cb.h.centroid=Db;var Eb=G.SAMPLEMAP,Fb=new pb("single",16,2);null!=u.single?Eb.setReserved("single",
Fb):Eb.h.single=Fb;var Gb=G.SAMPLEMAP,Hb=new pb("ignoresampler",16,4);null!=u.ignoresampler?Gb.setReserved("ignoresampler",Hb):Gb.h.ignoresampler=Hb;var Ib=G.SAMPLEMAP,Jb=new pb("repeat",20,1);null!=u.repeat?Ib.setReserved("repeat",Jb):Ib.h.repeat=Jb;var Kb=G.SAMPLEMAP,Lb=new pb("wrap",20,1);null!=u.wrap?Kb.setReserved("wrap",Lb):Kb.h.wrap=Lb;var Mb=G.SAMPLEMAP,Nb=new pb("clamp",20,0);null!=u.clamp?Mb.setReserved("clamp",Nb):Mb.h.clamp=Nb;var Ob=G.SAMPLEMAP,Pb=new pb("clamp_u_repeat_v",20,2);null!=
u.clamp_u_repeat_v?Ob.setReserved("clamp_u_repeat_v",Pb):Ob.h.clamp_u_repeat_v=Pb;var Qb=G.SAMPLEMAP,Rb=new pb("repeat_u_clamp_v",20,3);null!=u.repeat_u_clamp_v?Qb.setReserved("repeat_u_clamp_v",Rb):Qb.h.repeat_u_clamp_v=Rb};G.prototype={agalcode:null,error:null,verbose:null,debugEnabled:null,assemble2:function(a,b,c,d){c=this.assemble("vertex",c,b);b=this.assemble("fragment",d,b);a=a.createProgram();a.upload(c,b);return a},assemble:function(a,b,c,d){null==d&&(d=!1);null==c&&(c=1);ia.getTimer();this.agalcode=
new Fc(0);this.error="";var e=!1;"fragment"==a?e=!0:"vertex"!=a&&(this.error='ERROR: mode needs to be "fragment" or "vertex" but is "'+a+'".');this.agalcode.__endian=1;this.agalcode.writeByte(160);this.agalcode.writeUnsignedInt(c);this.agalcode.writeByte(161);this.agalcode.writeByte(e?1:0);this.initregmap(c,d);a=fa.replace(b,"\r","\n").split("\n");b=0;d=a.length;for(var f=new Ba("<.*>","g"),g=new Ba("([\\w\\.\\-\\+]+)","gi"),k=new Ba("^\\w{3}","ig"),m=new Ba("vc\\[([vofi][acostdip]?[d]?)(\\d*)?(\\.[xyzw](\\+\\d{1,3})?)?\\](\\.[xyzw]{1,4})?|([vofi][acostdip]?[d]?)(\\d*)?(\\.[xyzw]{1,4})?",
"gi"),h=new Ba("\\[.*\\]","ig"),l=new Ba("^\\b[A-Za-z]{1,3}","ig"),n=new Ba("\\d+",""),r=new Ba("(\\.[xyzw]{1,4})",""),t=new Ba("[A-Za-z]{1,3}","ig"),v=new Ba("(\\.[xyzw]{1,1})",""),w=new Ba("\\+\\d{1,3}","ig"),y=0;y<d&&""==this.error;){var x=fa.trim(a[y]),z=x.indexOf("//");-1!=z&&(x=W.substr(x,0,z));var B=f.match(x)?f.matchedPos().pos:-1,z=null;-1!=B&&(z=this.match(W.substr(x,B,null),g),x=W.substr(x,0,B));B=B=null;if(k.match(x))var B=k.matched(0),D=G.OPMAP,B=null!=u[B]?D.getReserved(B):D.h[B];if(null!=
B&&null!=B){x=W.substr(x,x.indexOf(B.name)+B.name.length,null);if(0!=(B.flags&256)&&2>c){this.error="error: opcode requires version 2.";break}if(0!=(B.flags&64)&&e){this.error="error: opcode is only allowed in vertex programs.";break}if(0!=(B.flags&32)&&!e){this.error="error: opcode is only allowed in fragment programs.";break}this.agalcode.writeUnsignedInt(B.emitCode);++b;if(4096<b){this.error="error: too many opcodes. maximum is 4096.";break}var E=this.match(x,m);if(E.length!=B.numRegister){this.error=
"error: wrong number of operands. found "+E.length+" but expected "+B.numRegister+".";break}for(var x=!1,D=160,F=0,I=E.length;F<I;){var H=F++,J=!1,L=this.match(E[H],h);0<L.length&&(E[H]=fa.replace(E[H],L[0],"0"),J=!0);var K=this.match(E[H],l);if(0==K.length){this.error="error: could not parse operand "+H+" ("+E[H]+").";x=!0;break}var N=G.REGMAP,K=K[0],K=null!=u[K]?N.getReserved(K):N.h[K];if(null==K){this.error="error: could not find register name for operand "+H+" ("+E[H]+").";x=!0;break}if(e){if(0==
(K.flags&32)){this.error="error: register operand "+H+" ("+E[H]+") only allowed in vertex programs.";x=!0;break}if(J){this.error="error: register operand "+H+" ("+E[H]+") relative adressing not allowed in fragment programs.";x=!0;break}}else if(0==(K.flags&64)){this.error="error: register operand "+H+" ("+E[H]+") only allowed in fragment programs.";x=!0;break}N=E[H].indexOf(K.name)+K.name.length;E[H]=W.substr(E[H],N,null);var M=J?this.match(L[0],n):this.match(E[H],n),N=0;0<M.length&&(N=q.parseInt(M[0]));
if(Z.gt(N,K.range)){this.error="error: register operand "+H+" ("+E[H]+") index exceeds limit of "+q.string(Z.toFloat(K.range+1))+".";x=!0;break}var M=0,O=this.match(E[H],r),P=0==H&&0==(B.flags&128),Q=2==H&&0!=(B.flags&8),S=0,R=0,T=0;if(P&&J){this.error="error: relative can not be destination";x=!0;break}if(0<O.length){for(var V=M=0,X=O[0].length,Y=1;Y<X;)V=W.cca(O[0],Y)-120,Z.gt(V,2)&&(V=3),M=P?M|1<<V:M|V<<(Y-1<<1),++Y;if(!P)for(;4>=Y;)M|=V<<(Y-1<<1),++Y}else M=P?15:228;if(J){R=this.match(L[0],t);
S=G.REGMAP;R=R[0];S=null!=u[R]?S.getReserved(R):S.h[R];if(null==S){this.error="error: bad index register";x=!0;break}S=S.emitCode;R=this.match(L[0],v);if(0==R.length){this.error="error: bad index register select";x=!0;break}R=W.cca(R[0],1)-120;Z.gt(R,2)&&(R=3);L=this.match(L[0],w);0<L.length&&(T=q.parseInt(L[0]));if(0>T||255<T){this.error="error: index offset "+T+" out of bounds. [0..255]";x=!0;break}}if(P)this.agalcode.writeShort(N),this.agalcode.writeByte(M),this.agalcode.writeByte(K.emitCode),
D-=32;else{if(Q){H=5;L=J=0;for(K=null==z?0:z.length;L<K;)M=L++,P=G.SAMPLEMAP,Q=z[M],P=null!=u[Q]?P.getReserved(Q):P.h[Q],null==P?J=parseFloat(z[M]):(16!=P.flag&&(H&=~(15<<P.flag)),H|=P.mask<<P.flag);this.agalcode.writeShort(N);this.agalcode.writeByte(8*J|0);this.agalcode.writeByte(0);this.agalcode.writeUnsignedInt(H)}else 0==H&&(this.agalcode.writeUnsignedInt(0),D-=32),this.agalcode.writeShort(N),this.agalcode.writeByte(T),this.agalcode.writeByte(M),this.agalcode.writeByte(K.emitCode),this.agalcode.writeByte(S),
this.agalcode.writeShort(J?R|32768:0);D-=64}}for(z=0;z<D;)this.agalcode.writeByte(0),z+=8;if(x)break}++y}""!=this.error&&(this.error+="\n  at line "+y+" "+a[y],ka.set_length(this.agalcode,0));if(this.debugEnabled)for(c=0,e=ka.get_length(this.agalcode);c<e;)a=c++,fa.hex(this.agalcode.b[a],2);return this.agalcode},initregmap:function(a,b){var c=G.REGMAP,d=new $c("va","vertex attribute",0,b?1024:1==a||2==a?7:15,66);null!=u.va?c.setReserved("va",d):c.h.va=d;c=G.REGMAP;d=new $c("vc","vertex constant",
1,b?1024:1==a?127:249,66);null!=u.vc?c.setReserved("vc",d):c.h.vc=d;c=G.REGMAP;d=new $c("vt","vertex temporary",2,b?1024:1==a?7:25,67);null!=u.vt?c.setReserved("vt",d):c.h.vt=d;c=G.REGMAP;d=new $c("vo","vertex output",3,b?1024:0,65);null!=u.vo?c.setReserved("vo",d):c.h.vo=d;c=G.REGMAP;d=new $c("vi","varying",4,b?1024:1==a?7:9,99);null!=u.vi?c.setReserved("vi",d):c.h.vi=d;c=G.REGMAP;d=new $c("fc","fragment constant",1,b?1024:1==a?27:2==a?63:199,34);null!=u.fc?c.setReserved("fc",d):c.h.fc=d;c=G.REGMAP;
d=new $c("ft","fragment temporary",2,b?1024:1==a?7:25,35);null!=u.ft?c.setReserved("ft",d):c.h.ft=d;c=G.REGMAP;d=new $c("fs","texture sampler",5,b?1024:7,34);null!=u.fs?c.setReserved("fs",d):c.h.fs=d;c=G.REGMAP;d=new $c("fo","fragment output",3,b?1024:1==a?0:3,33);null!=u.fo?c.setReserved("fo",d):c.h.fo=d;c=G.REGMAP;d=new $c("fd","fragment depth output",6,b?1024:1==a?-1:0,33);null!=u.fd?c.setReserved("fd",d):c.h.fd=d;c=G.REGMAP;d=new $c("iid","instance id",7,b?1024:0,66);null!=u.iid?c.setReserved("iid",
d):c.h.iid=d;d=c=G.REGMAP;d=null!=u.vo?d.getReserved("vo"):d.h.vo;null!=u.op?c.setReserved("op",d):c.h.op=d;d=c=G.REGMAP;d=null!=u.vi?d.getReserved("vi"):d.h.vi;null!=u.i?c.setReserved("i",d):c.h.i=d;d=c=G.REGMAP;d=null!=u.vi?d.getReserved("vi"):d.h.vi;null!=u.v?c.setReserved("v",d):c.h.v=d;d=c=G.REGMAP;d=null!=u.fo?d.getReserved("fo"):d.h.fo;null!=u.oc?c.setReserved("oc",d):c.h.oc=d;d=c=G.REGMAP;d=null!=u.fd?d.getReserved("fd"):d.h.fd;null!=u.od?c.setReserved("od",d):c.h.od=d;d=c=G.REGMAP;d=null!=
u.vi?d.getReserved("vi"):d.h.vi;null!=u.fi?c.setReserved("fi",d):c.h.fi=d},match:function(a,b){for(var c=[],d=0;b.matchSub(a,d);)d=b.matched(0),c.push(d),d=b.matchedPos().pos+d.length;return c},__class__:G};var Ra=function(a,b,c,d){this.name=a;this.numRegister=b;this.emitCode=c;this.flags=d};k["openfl.utils._AGALMiniAssembler.OpCode"]=Ra;Ra.__name__=["openfl","utils","_AGALMiniAssembler","OpCode"];Ra.prototype={emitCode:null,flags:null,name:null,numRegister:null,toString:function(){return'[OpCode name="'+
this.name+'", numRegister='+this.numRegister+", emitCode="+this.emitCode+", flags="+this.flags+"]"},__class__:Ra};var $c=function(a,b,c,d,e){this.name=a;this.longName=b;this.emitCode=c;this.range=d;this.flags=e};k["openfl.utils._AGALMiniAssembler.Register"]=$c;$c.__name__=["openfl","utils","_AGALMiniAssembler","Register"];$c.prototype={emitCode:null,name:null,longName:null,flags:null,range:null,toString:function(){return'[Register name="'+this.name+'", longName="'+this.longName+'", emitCode='+q.string(Z.toFloat(this.emitCode))+
", range="+q.string(Z.toFloat(this.range))+", flags="+q.string(Z.toFloat(this.flags))+"]"},__class__:$c};var pb=function(a,b,c){this.name=a;this.flag=b;this.mask=c};k["openfl.utils._AGALMiniAssembler.Sampler"]=pb;pb.__name__=["openfl","utils","_AGALMiniAssembler","Sampler"];pb.prototype={flag:null,mask:null,name:null,toString:function(){return'[Sampler name="'+this.name+'", flag="'+q.string(Z.toFloat(this.flag))+'", mask='+q.string(Z.toFloat(this.mask))+"]"},__class__:pb};var Bl=function(){};k["openfl.utils.IAssetCache"]=
Bl;Bl.__name__=["openfl","utils","IAssetCache"];Bl.prototype={get_enabled:null,set_enabled:null,clear:null,getBitmapData:null,getFont:null,getSound:null,hasBitmapData:null,hasFont:null,hasSound:null,removeBitmapData:null,removeFont:null,removeSound:null,setBitmapData:null,setFont:null,setSound:null,__class__:Bl,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var Qj=function(){this.__enabled=!0;this.bitmapData=new pa;this.font=new pa;this.sound=new pa};k["openfl.utils.AssetCache"]=
Qj;Qj.__name__=["openfl","utils","AssetCache"];Qj.__interfaces__=[Bl];Qj.prototype={bitmapData:null,font:null,sound:null,__enabled:null,clear:function(a){if(null==a)this.bitmapData=new pa,this.font=new pa,this.sound=new pa;else{for(var b=this.bitmapData.keys();b.hasNext();){var c=b.next();fa.startsWith(c,a)&&this.removeBitmapData(c)}for(b=this.font.keys();b.hasNext();)c=b.next(),fa.startsWith(c,a)&&this.removeFont(c);for(b=this.sound.keys();b.hasNext();)c=b.next(),fa.startsWith(c,a)&&this.removeSound(c)}},
getBitmapData:function(a){var b=this.bitmapData;return null!=u[a]?b.getReserved(a):b.h[a]},getFont:function(a){var b=this.font;return null!=u[a]?b.getReserved(a):b.h[a]},getSound:function(a){var b=this.sound;return null!=u[a]?b.getReserved(a):b.h[a]},hasBitmapData:function(a){var b=this.bitmapData;return null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},hasFont:function(a){var b=this.font;return null!=u[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},hasSound:function(a){var b=this.sound;return null!=
u[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},removeBitmapData:function(a){Q.cache.image.remove(a);return this.bitmapData.remove(a)},removeFont:function(a){Q.cache.font.remove(a);return this.font.remove(a)},removeSound:function(a){Q.cache.audio.remove(a);return this.sound.remove(a)},setBitmapData:function(a,b){var c=this.bitmapData;null!=u[a]?c.setReserved(a,b):c.h[a]=b},setFont:function(a,b){var c=this.font;null!=u[a]?c.setReserved(a,b):c.h[a]=b},setSound:function(a,b){var c=this.sound;null!=u[a]?
c.setReserved(a,b):c.h[a]=b},get_enabled:function(){return this.__enabled},set_enabled:function(a){return this.__enabled=a},__class__:Qj,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var ca=function(){};k["openfl.utils.Assets"]=ca;ca.__name__=["openfl","utils","Assets"];ca.addEventListener=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);Q.onChange.has(ca.LimeAssets_onChange)||Q.onChange.add(ca.LimeAssets_onChange);ca.dispatcher.addEventListener(a,b,c,d,e)};
ca.dispatchEvent=function(a){return ca.dispatcher.dispatchEvent(a)};ca.exists=function(a,b){return Q.exists(a,b)};ca.getBitmapData=function(a,b){null==b&&(b=!0);if(b&&ca.cache.get_enabled()&&ca.cache.hasBitmapData(a)){var c=ca.cache.getBitmapData(a);if(ca.isValidBitmapData(c))return c}c=Q.getImage(a,!1);return null!=c?(c=ma.fromImage(c),b&&ca.cache.get_enabled()&&ca.cache.setBitmapData(a,c),c):null};ca.getBytes=function(a){return ka.fromBytes(Q.getBytes(a))};ca.getFont=function(a,b){null==b&&(b=!0);
if(b&&ca.cache.get_enabled()&&ca.cache.hasFont(a))return ca.cache.getFont(a);var c=Q.getFont(a,!1);return null!=c?(c=gc.__fromLimeFont(c),b&&ca.cache.get_enabled()&&ca.cache.setFont(a,c),c):new gc};ca.getLibrary=function(a){return Q.getLibrary(a)};ca.getMovieClip=function(a){var b=a.substring(0,a.indexOf(":")),c=W.substr(a,a.indexOf(":")+1,null),d=ca.getLibrary(b);if(null!=d){if(y.__instanceof(d,jb)&&d.exists(c,"MOVIE_CLIP")){if(d.isLocal(c,"MOVIE_CLIP"))return d.getMovieClip(c);La.error('MovieClip asset "'+
a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:224,className:"openfl.utils.Assets",methodName:"getMovieClip"});return null}La.error('There is no MovieClip asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:233,className:"openfl.utils.Assets",methodName:"getMovieClip"})}else La.error('There is no asset library named "'+b+'"',{fileName:"Assets.hx",lineNumber:237,className:"openfl.utils.Assets",methodName:"getMovieClip"});return null};ca.getMusic=function(a,b){null==
b&&(b=!0);return ca.getSound(a,b)};ca.getPath=function(a){return Q.getPath(a)};ca.getSound=function(a,b){null==b&&(b=!0);if(b&&ca.cache.get_enabled()&&ca.cache.hasSound(a)){var c=ca.cache.getSound(a);if(ca.isValidSound(c))return c}c=Q.getAudioBuffer(a,!1);return null!=c?(c=ye.fromAudioBuffer(c),b&&ca.cache.get_enabled()&&ca.cache.setSound(a,c),c):null};ca.getText=function(a){return Q.getText(a)};ca.hasEventListener=function(a){return ca.dispatcher.hasEventListener(a)};ca.isLocal=function(a,b,c){null==
c&&(c=!0);if(c&&ca.cache.get_enabled()&&(("IMAGE"==b||null==b)&&ca.cache.hasBitmapData(a)||("FONT"==b||null==b)&&ca.cache.hasFont(a)||("SOUND"==b||"MUSIC"==b||null==b)&&ca.cache.hasSound(a)))return!0;c=a.substring(0,a.indexOf(":"));a=W.substr(a,a.indexOf(":")+1,null);c=ca.getLibrary(c);return null!=c?c.isLocal(a,b):!1};ca.isValidBitmapData=function(a){return null!=a&&null!=a.image};ca.isValidSound=function(a){return!0};ca.list=function(a){return Q.list(a)};ca.loadBitmapData=function(a,b,c){null==
b&&(b=!0);null==b&&(b=!0);var d=new Jb;null!=c&&(d.future.onComplete(c),d.future.onError(function(a){c(null)}));if(b&&ca.cache.get_enabled()&&ca.cache.hasBitmapData(a)){var e=ca.cache.getBitmapData(a);if(ca.isValidBitmapData(e))return d.complete(e),d.future}Q.loadImage(a,!1).onComplete(function(c){null!=c?(c=ma.fromImage(c),b&&ca.cache.get_enabled()&&ca.cache.setBitmapData(a,c),d.complete(c)):d.error('[Assets] Could not load Image "'+a+'"')}).onError(n(d,d.error)).onProgress(n(d,d.progress));return d.future};
ca.loadBytes=function(a,b){var c=new Jb,d=Q.loadBytes(a);null!=b&&(c.future.onComplete(b),c.future.onError(function(a){b(null)}));d.onComplete(function(a){c.complete(ka.fromBytes(a))});d.onProgress(function(a,b){c.progress(a,b)});d.onError(function(a){c.error(a)});return c.future};ca.loadFont=function(a,b,c){null==b&&(b=!0);null==b&&(b=!0);var d=new Jb;null!=c&&(d.future.onComplete(c),d.future.onError(function(a){c(null)}));if(b&&ca.cache.get_enabled()&&ca.cache.hasFont(a)){var e=ca.cache.getFont(a);
d.complete(e);return d.future}Q.loadFont(a).onComplete(function(c){c=gc.__fromLimeFont(c);b&&ca.cache.get_enabled()&&ca.cache.setFont(a,c);d.complete(c)}).onError(n(d,d.error)).onProgress(n(d,d.progress));return d.future};ca.loadLibrary=function(a,b){var c=Q.loadLibrary(a);null!=b&&(c.onComplete(b),c.onError(function(a){b(null)}));return c};ca.loadMusic=function(a,b,c){null==b&&(b=!0);null==b&&(b=!0);return new Ha(function(){return ca.getMusic(a,b)})};ca.loadMovieClip=function(a,b){var c=new Jb;null!=
b&&(c.future.onComplete(b),c.future.onError(function(a){b(null)}));var d=a.substring(0,a.indexOf(":")),e=W.substr(a,a.indexOf(":")+1,null),f=ca.getLibrary(d);if(null!=f){if(y.__instanceof(f,jb)&&f.exists(e,"MOVIE_CLIP"))return c.completeWith(f.loadMovieClip(e)),c.future;c.error('[Assets] There is no MovieClip asset with an ID of "'+a+'"')}else c.error('[Assets] There is no asset library named "'+d+'"');return c.future};ca.loadSound=function(a,b,c){null==b&&(b=!0);null==b&&(b=!0);var d=new Jb;Q.loadAudioBuffer(a,
b).onComplete(function(c){null!=c?(c=ye.fromAudioBuffer(c),b&&ca.cache.get_enabled()&&ca.cache.setSound(a,c),d.complete(c)):d.error('[Assets] Could not load Sound "'+a+'"')}).onError(n(d,d.error)).onProgress(n(d,d.progress));return d.future};ca.loadText=function(a,b){var c=Q.loadText(a);null!=b&&(c.onComplete(b),c.onError(function(a){b(null)}));return c};ca.registerLibrary=function(a,b){Q.registerLibrary(a,b)};ca.removeEventListener=function(a,b,c){null==c&&(c=!1);ca.dispatcher.removeEventListener(a,
b,c)};ca.resolveClass=function(a){return sa.resolveClass(a)};ca.resolveEnum=function(a){return sa.resolveEnum(a)};ca.unloadLibrary=function(a){Q.unloadLibrary(a)};ca.LimeAssets_onChange=function(){ca.dispatchEvent(new J("change"))};var ka={};k["openfl.utils._ByteArray.ByteArray_Impl_"]=ka;ka.__name__=["openfl","utils","_ByteArray","ByteArray_Impl_"];ka.__properties__={set_length:"set_length",get_length:"get_length"};ka._new=function(a){null==a&&(a=0);return new Fc(a)};ka.get=function(a,b){return a.b[b]};
ka.set=function(a,b,c){a.__resize(b+1);a.b[b]=c&255;return c};ka.fromArrayBuffer=function(a){return null==a?null:Fc.fromBytes(na.ofData(a))};ka.fromBytes=function(a){return null==a?null:y.__instanceof(a,Fc)?a:Fc.fromBytes(a)};ka.fromBytesData=function(a){return null==a?null:Fc.fromBytes(na.ofData(a))};ka.fromFile=function(a){return ka.fromBytes(Lb.fromFile(a))};ka.fromLimeBytes=function(a){return ka.fromBytes(a)};ka.toArrayBuffer=function(a){return a.b.bufferValue};ka.toBytes=function(a){return a};
ka.toBytesData=function(a){return a.b.bufferValue};ka.toLimeBytes=function(a){return ka.toBytes(ka.fromBytes(ka.toBytes(a)))};ka.get_length=function(a){return a.length};ka.set_length=function(a,b){0<b&&a.__resize(b);return a.length=b};var Cl=function(){};k["openfl.utils.IDataOutput"]=Cl;Cl.__name__=["openfl","utils","IDataOutput"];Cl.prototype={get_endian:null,set_endian:null,objectEncoding:null,writeBoolean:null,writeByte:null,writeBytes:null,writeDouble:null,writeFloat:null,writeInt:null,writeMultiByte:null,
writeShort:null,writeUTF:null,writeUTFBytes:null,writeUnsignedInt:null,__class__:Cl,__properties__:{set_endian:"set_endian",get_endian:"get_endian"}};var Dl=function(){};k["openfl.utils.IDataInput"]=Dl;Dl.__name__=["openfl","utils","IDataInput"];Dl.prototype={get_bytesAvailable:null,get_endian:null,set_endian:null,objectEncoding:null,readBoolean:null,readByte:null,readBytes:null,readDouble:null,readFloat:null,readInt:null,readMultiByte:null,readShort:null,readUnsignedByte:null,readUnsignedInt:null,
readUnsignedShort:null,readUTF:null,readUTFBytes:null,__class__:Dl,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}};var Fc=function(a){null==a&&(a=0);var b=new na(new Ea(a));na.call(this,b.b.buffer);this.__length=a;this.position=this.__endian=0};k["openfl.utils.ByteArrayData"]=Fc;Fc.__name__=["openfl","utils","ByteArrayData"];Fc.__interfaces__=[Cl,Dl];Fc.fromBytes=function(a){var b=new Fc;b.__fromBytes(a);return b};Fc.__super__=na;Fc.prototype=
t(na.prototype,{objectEncoding:null,position:null,__endian:null,__length:null,clear:function(){this.position=this.length=0},compress:function(a){null==a&&(a=2);if(this.__length>this.length){var b=this.length;this.length=this.__length;var c=new na(new Ea(b));c.blit(0,this,0,b);this.b=c.b;this.__length=c.length;this.data=c.data;this.length=b}switch(a){case 0:a=Vi.compress(this);break;case 1:a=Wi.compress(this);break;default:a=Xi.compress(this)}null!=a&&(this.b=a.b,this.__length=a.length,this.data=a.data,
this.position=this.length=this.__length)},deflate:function(){this.compress(0)},inflate:function(){this.uncompress(0)},readBoolean:function(){if(this.position<this.length)return 0!=this.b[this.position++];throw new F(new wf);},readByte:function(){var a=this.readUnsignedByte();return 0!=(a&128)?a-256:a},readBytes:function(a,b,c){null==c&&(c=0);null==b&&(b=0);0==c&&(c=this.length-this.position);if(this.position+c>this.length)throw new F(new wf);a.length<b+c&&a.__resize(b+c);a.blit(b,this,this.position,
c);this.position+=c},readDouble:function(){var a=this.readInt(),b=this.readInt();return 1==this.__endian?$b.i64ToDouble(a,b):$b.i64ToDouble(b,a)},readFloat:function(){return $b.i32ToFloat(this.readInt())},readInt:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte(),c=this.readUnsignedByte(),d=this.readUnsignedByte();return 1==this.__endian?d<<24|c<<16|b<<8|a:a<<24|b<<16|c<<8|d},readMultiByte:function(a,b){return this.readUTFBytes(a)},readShort:function(){var a=this.readUnsignedByte(),
b=this.readUnsignedByte(),a=1==this.__endian?b<<8|a:a<<8|b;return 0!=(a&32768)?a-65536:a},readUnsignedByte:function(){if(this.position<this.length)return this.b[this.position++];throw new F(new wf);},readUnsignedInt:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte(),c=this.readUnsignedByte(),d=this.readUnsignedByte();return 1==this.__endian?d<<24|c<<16|b<<8|a:a<<24|b<<16|c<<8|d},readUnsignedShort:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte();return 1==this.__endian?
(b<<8)+a:a<<8|b},readUTF:function(){var a=this.readUnsignedShort();return this.readUTFBytes(a)},readUTFBytes:function(a){if(this.position+a>this.length)throw new F(new wf);this.position+=a;return this.getString(this.position-a,a)},uncompress:function(a){null==a&&(a=2);if(this.__length>this.length){var b=this.length;this.length=this.__length;var c=new na(new Ea(b));c.blit(0,this,0,b);this.b=c.b;this.__length=c.length;this.data=c.data;this.length=b}switch(a){case 0:a=Vi.decompress(this);break;case 1:a=
Wi.decompress(this);break;default:a=Xi.decompress(this)}null!=a&&(this.b=a.b,this.__length=a.length,this.data=a.data,this.length=this.__length,this.position=0)},writeBoolean:function(a){this.writeByte(a?1:0)},writeByte:function(a){this.__resize(this.position+1);this.b[this.position++]=a&255},writeBytes:function(a,b,c){null==c&&(c=0);null==b&&(b=0);0!=ka.get_length(a)&&(0==c&&(c=ka.get_length(a)-b),this.__resize(this.position+c),this.blit(this.position,a,b,c),this.position+=c)},writeDouble:function(a){a=
$b.doubleToI64(a);1==this.__endian?(this.writeInt(a.low),this.writeInt(a.high)):(this.writeInt(a.high),this.writeInt(a.low))},writeFloat:function(a){a=$b.floatToI32(a);this.writeInt(a)},writeInt:function(a){this.__resize(this.position+4);1==this.__endian?(this.b[this.position++]=a&255,this.b[this.position++]=a>>8&255,this.b[this.position++]=a>>16&255,this.b[this.position++]=a>>24&255):(this.b[this.position++]=a>>24&255,this.b[this.position++]=a>>16&255,this.b[this.position++]=a>>8&255,this.b[this.position++]=
a&255)},writeMultiByte:function(a,b){this.writeUTFBytes(a)},writeShort:function(a){this.__resize(this.position+2);1==this.__endian?(this.b[this.position++]=a&255,this.b[this.position++]=a>>8&255):(this.b[this.position++]=a>>8&255,this.b[this.position++]=a&255)},writeUnsignedInt:function(a){this.writeInt(a)},writeUTF:function(a){a=na.ofString(a);this.writeShort(a.length);this.writeBytes(ka.fromBytes(a))},writeUTFBytes:function(a){na.ofString(a);this.writeBytes(ka.fromBytes(na.ofString(a)))},__fromBytes:function(a){this.b=
a.b;this.__length=a.length;this.data=a.data;this.length=a.length},__resize:function(a){if(a>this.__length){var b=new na(new Ea(3*(a+1)>>1)),c=this.length;this.length=this.__length;b.blit(0,this,0,this.__length);this.length=c;this.b=b.b;this.__length=b.length;this.data=b.data}this.length<a&&(this.length=a)},__setData:function(a){this.b=a.b;this.__length=a.length;this.data=a.data},get_bytesAvailable:function(){return this.length-this.position},get_endian:function(){return this.__endian},set_endian:function(a){return this.__endian=
a},__class__:Fc,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}});var vh={};k["openfl.utils._CompressionAlgorithm.CompressionAlgorithm_Impl_"]=vh;vh.__name__=["openfl","utils","_CompressionAlgorithm","CompressionAlgorithm_Impl_"];vh.fromString=function(a){switch(a){case "deflate":return 0;case "lzma":return 1;case "zlib":return 2;default:return null}};vh.toString=function(a){switch(a){case 0:return"deflate";case 1:return"lzma";case 2:return"zlib";
default:return null}};var Rj={};k["openfl.utils._Endian.Endian_Impl_"]=Rj;Rj.__name__=["openfl","utils","_Endian","Endian_Impl_"];Rj.fromString=function(a){switch(a){case "bigEndian":return 0;case "littleEndian":return 1;default:return null}};Rj.toString=function(a){switch(a){case 0:return"bigEndian";case 1:return"littleEndian";default:return null}};var de={};k["openfl.utils._Object.Object_Impl_"]=de;de.__name__=["openfl","utils","_Object","Object_Impl_"];de._new=function(){return{}};de.hasOwnProperty=
function(a,b){return null!=a?Object.prototype.hasOwnProperty.call(a,b):!1};de.isPrototypeOf=function(a,b){for(var c=null==a?null:y.getClass(a);null!=c;){if(c==b)return!0;c=sa.getSuperClass(c)}return!1};de.iterator=function(a){a=H.fields(a);null==a&&(a=[]);return W.iter(a)};de.propertyIsEnumerable=function(a,b){return null!=a&&Object.prototype.hasOwnProperty.call(a,b)?y.__instanceof(H.field(a,b),El):!1};de.toLocaleString=function(a){return q.string(a)};de.toString=function(a){return q.string(a)};de.valueOf=
function(a){return a};de.__get=function(a,b){return H.field(a,b)};de.__set=function(a,b,c){return a[b]=c};var vm=function(){};k["haxe.lang.Iterator"]=vm;vm.__name__=["haxe","lang","Iterator"];vm.prototype={hasNext:null,next:null,__class__:vm};var El=function(){};k["haxe.lang.Iterable"]=El;El.__name__=["haxe","lang","Iterable"];El.prototype={iterator:null,__class__:El};var di=function(a,b){null==b&&(b=0);if(isNaN(a)||0>a)throw new F(new ja("The delay specified is negative or not a finite number"));
X.call(this);this.__delay=a;this.set_repeatCount(b);this.running=!1;this.currentCount=0};k["openfl.utils.Timer"]=di;di.__name__=["openfl","utils","Timer"];di.__super__=X;di.prototype=t(X.prototype,{currentCount:null,repeatCount:null,running:null,__delay:null,__timer:null,__timerID:null,reset:function(){this.running&&this.stop();this.currentCount=0},start:function(){this.running||(this.running=!0,this.__timerID=window.setInterval(n(this,this.timer_onTimer),this.__delay|0))},stop:function(){this.running=
!1;null!=this.__timerID&&(window.clearInterval(this.__timerID),this.__timerID=null)},get_delay:function(){return this.__delay},set_delay:function(a){this.__delay=a;this.running&&(this.stop(),this.start());return this.__delay},set_repeatCount:function(a){this.running&&0!=a&&a<=this.currentCount&&this.stop();return this.repeatCount=a},timer_onTimer:function(){this.currentCount++;0<this.repeatCount&&this.currentCount>=this.repeatCount?(this.stop(),this.dispatchEvent(new xe("timer")),this.dispatchEvent(new xe("timerComplete"))):
this.dispatchEvent(new xe("timer"))},__class__:di,__properties__:{set_repeatCount:"set_repeatCount",set_delay:"set_delay",get_delay:"get_delay"}});var tg=function(){};k["plac3d.ColorTable"]=tg;tg.__name__=["plac3d","ColorTable"];tg.prototype={__class__:tg};var tb=function(a,b){this.view=a;this.placements=b;this.cubeGeometry=new ui;this.cubeGeometry.set_tile6(!1);this.materials=D.toObjectVector(null);for(var c=0,d=tg.COLOR.length;c<d;){var e=c++;this.materials.set(e,new Cg(tg.COLOR[e]));this.materials.get(e).set_specular(.2)}this.clusters=
D.toObjectVector(null,9);this.currentClusterX=this.currentClusterY=0;this.initClusters()};k["plac3d.PixelMesh"]=tb;tb.__name__=["plac3d","PixelMesh"];tb.prototype={view:null,placements:null,cubeGeometry:null,materials:null,clusters:null,currentClusterX:null,currentClusterY:null,applyShading:function(a,b){for(var c=0,d=this.materials;c<d.get_length();){var e=d.get(c);++c;e.set_lightPicker(a);e.set_shadowMethod(new ri(b));e.get_shadowMethod().set_alpha(.5);e.get_shadowMethod().set_epsilon(.25)}},getHeight:function(a,
b){return(3*Math.log(this.placements.getFrequency(a,b)/5+1)+1)*tb.CUBE_WIDTH},newPixelMesh:function(a,b,c,d){d=this.getHeight(a,b);c=this.materials.get(c);c=new Sj(this.cubeGeometry,c);c.set_scaleY(d/tb.CUBE_WIDTH);c.set_x(a*tb.CUBE_WIDTH+tb.CUBE_WIDTH/2);c.set_z(-b*tb.CUBE_WIDTH-tb.CUBE_WIDTH/2);c.set_y(d/2);return c},newCluster:function(a,b){for(var c=new cd(new xc),d=new vk(!0),e=new fb,f=a*tb.CLUSTER_WIDTH,g=b*tb.CLUSTER_WIDTH,k=f,f=f+tb.CLUSTER_WIDTH;k<f;)for(var m=k++,h=g,l=g+tb.CLUSTER_WIDTH;h<
l;){var n=h++;if(!(m>=wd.WIDTH||n>=wd.WIDTH)){var q=this.placements.getFrequency(m,n),r=this.placements.getColorIndex(m,n);Math.log(q+1E-4);this.materials.get(r);n=this.newPixelMesh(m,n,r,q);e.addChild(n)}}d.applyToContainer(c,e);return c},updatePosition:function(a,b){var c=Math.floor(a/tb.CLUSTER_WIDTH),d=Math.floor(b/tb.CLUSTER_WIDTH);c==this.currentClusterX-1?this.shiftClusters([0,3,6],[1,4,7],[2,5,8]):c==this.currentClusterX+1?this.shiftClusters([2,5,8],[1,4,7],[0,3,6]):c!=this.currentClusterX&&
this.clearClusters();d==this.currentClusterY-1?this.shiftClusters([0,1,2],[3,4,5],[6,7,8]):d==this.currentClusterY+1?this.shiftClusters([6,7,8],[3,4,5],[0,1,2]):d!=this.currentClusterY&&this.clearClusters();var e=c!=this.currentClusterX||d!=this.currentClusterY;this.currentClusterX=c;this.currentClusterY=d;if(e)for(c=0;9>c;)d=c++,null==this.clusters.get(d)&&this.initCluster(d)},initClusters:function(){for(var a=0;9>a;){var b=a++;this.initCluster(b)}},initCluster:function(a){var b=a%3-1+this.currentClusterX,
c=Math.floor(a/3)-1+this.currentClusterY;0<=b&&0<=c&&(this.clusters.set(a,this.newCluster(b,c)),this.view.get_scene().addChild(this.clusters.get(a)))},shiftClusters:function(a,b,c){for(var d=0;d<c.length;){var e=c[d];++d;null!=this.clusters.get(e)&&this.view.get_scene().removeChild(this.clusters.get(e))}for(d=0;3>d;){var e=d++,f=this.clusters,g=this.clusters.get(b[e]);f.set(c[e],g)}for(c=0;3>c;)d=c++,e=this.clusters,f=this.clusters.get(a[d]),e.set(b[d],f);for(b=0;3>b;)c=b++,this.clusters.set(a[c],
null)},clearClusters:function(){for(var a=0;9>a;){var b=a++;null!=this.clusters.get(b)&&(this.view.get_scene().removeChild(this.clusters.get(b)),this.clusters.set(b,null))}},__class__:tb};var wd=function(){this.data=ca.getBytes("assets/placements.data")};k["plac3d.Placements"]=wd;wd.__name__=["plac3d","Placements"];wd.prototype={data:null,getFrequency:function(a,b){var c=2*(a+wd.WIDTH*b);return this.data.b[c]<<4|this.data.b[c+1]>>4},getColorIndex:function(a,b){return this.data.b[2*(a+wd.WIDTH*b)+
1]&15},getColor:function(a,b){return tg.COLOR[this.data.b[2*(a+wd.WIDTH*b)+1]&15]},__class__:wd};var Sj=function(a,b){cd.call(this,a,b)};k["plac3d.QuickMesh"]=Sj;Sj.__name__=["plac3d","QuickMesh"];Sj.__super__=cd;Sj.prototype=t(cd.prototype,{set_geometry:function(a){if(null!=this._geometry){for(var b=0,c=this._subMeshes.get_length();b<c;){var d=b++;this._subMeshes.get(d).dispose()}this._subMeshes.set_length(0)}this._geometry=a;if(null!=this._geometry)for(b=this._geometry.get_subGeometries(),c=0,d=
b.get_length();c<d;){var e=c++;this.addSubMesh(b.get(e))}null!=this._material&&(this._material.removeOwner(this),this._material.addOwner(this));return a},__class__:Sj});var xd=function(a){wa.call(this);a.addChild(this);this.view=new cf;this.view.set_backgroundColor(14540253);this.view.set_depthPrepass(!1);this.addChild(this.view);this.keyInput=new Fl(this.stage);this.touchInput=new Tj(this.stage);this.placements=new wd;this.pixelMesh=new tb(this.view,this.placements);this.lightPicker=new pi([]);this.initOverlay();
this.plane=new cd(new vi(700,700),new Cg);this.view.get_scene().addChild(this.plane);this.addEventListener("enterFrame",n(this,this.enterFrameCallback));this.stage.addEventListener("resize",n(this,this.resizeCallback));this.stage.scaleMode=2;this.stage.align=6;this.initEnvironment();this.initCamera();this.initLights();this.initCurrentPixels();this.resizeViewToStage()};k["plac3d.Scene"]=xd;xd.__name__=["plac3d","Scene"];xd.__super__=wa;xd.prototype=t(wa.prototype,{view:null,plane:null,placements:null,
keyInput:null,touchInput:null,cameraController:null,pixelMesh:null,currentIndexX:null,currentIndexY:null,currentPlayerHeight:null,lightPicker:null,crosshair:null,minimap:null,helpOverlay:null,stats:null,skyBox:null,initEnvironment:function(){var a=ca.getBitmapData("assets/skybox_envmap.png"),b=new ma(64,64),c=new ma(64,64),d=new ma(64,64);d.copyPixels(a,new ha(0,64,64,64),new Ka(0,0));b.copyPixels(a,new ha(64,64,64,64),new Ka(0,0));c.copyPixels(a,new ha(128,64,64,64),new Ka(0,0));a=new wi(c,c,b,d,
c,c);this.skyBox=new Kg(a);this.view.get_scene().addChild(this.skyBox)},initOverlay:function(){var a=this,b=Xe.getPixelScale();this.crosshair=new ob;this.crosshair.get_graphics().lineStyle(1,0,.5);this.crosshair.get_graphics().moveTo(0,-10);this.crosshair.get_graphics().lineTo(0,10);this.crosshair.get_graphics().moveTo(-10,0);this.crosshair.get_graphics().lineTo(10,0);this.crosshair.set_scaleX(this.crosshair.set_scaleY(b));this.minimap=new Uj(this.placements,80*b|0);this.helpOverlay=new Vj;this.helpOverlay.set_y(0);
this.helpOverlay.set_scaleX(this.helpOverlay.set_scaleY(.5*b));this.minimap.addEventListener("click",function(b){null==a.stats&&(a.stats=new Pb(a.view),a.view.stage.addChild(a.stats))});this.view.stage.addChild(this.crosshair);this.view.stage.addChild(this.minimap);this.view.stage.addChild(this.helpOverlay)},initLights:function(){var a=new Rc(1,-1,-1);a.set_ambient(.1);a.set_specular(1);a.set_diffuse(.8);a.set_castsShadows(!0);this.view.get_scene().addChild(a);var b=new Rc(-1,-1,1);b.set_ambient(.1);
b.set_specular(.1);b.set_diffuse(.8);this.view.get_scene().addChild(b);this.lightPicker.set_lights([a,b]);this.pixelMesh.applyShading(this.lightPicker,a)},initCamera:function(){this.cameraController=new Ph(this.view.get_camera());this.cameraController.set_steps(0);this.cameraController.set_panAngle(360*Math.random());this.cameraController.set_tiltAngle(0);this.view.get_camera().set_x(0);this.view.get_camera().set_z(0);this.currentPlayerHeight=this.view.get_camera().set_y(1E3);var a=this.view.get_camera().get_lens();
a.set_far(a.get_far()+1E3)},enterFrameCallback:function(a){this.keyInput.update();this.touchInput.update();this.updateInput();this.updatePixels();this.updateView();this.view.render();this.keyInput.clear();this.touchInput.clear()},resizeCallback:function(a){this.resizeViewToStage()},resizeViewToStage:function(){this.view.set_width(this.stage.stageWidth);this.view.set_height(this.stage.stageHeight);this.crosshair.set_x(this.stage.stageWidth/2);this.crosshair.set_y(this.stage.stageHeight/2);this.minimap.set_x(this.stage.stageWidth-
this.minimap.get_width());this.minimap.set_y(0);this.helpOverlay.set_x(this.stage.stageWidth/2-this.helpOverlay.get_width()/2)},initCurrentPixels:function(){this.currentIndexX=Math.floor(this.view.get_camera().get_x()/tb.CUBE_WIDTH);this.currentIndexY=Math.floor(-this.view.get_camera().get_z()/tb.CUBE_WIDTH);this.pixelMesh.updatePosition(this.currentIndexX,this.currentIndexY)},setPosition:function(a,b){this.currentIndexX=a;this.currentIndexY=b;this.view.get_camera().set_x(a*tb.CUBE_WIDTH);this.view.get_camera().set_z(-b*
tb.CUBE_WIDTH)},updateInput:function(){this.keyInput.up||-.5>this.touchInput.virtualJoystickY?this.cameraController.incrementWalk(10):(this.keyInput.down||.5<this.touchInput.virtualJoystickY)&&this.cameraController.incrementWalk(-10);this.keyInput.left||-.5>this.touchInput.virtualJoystickX?this.cameraController.incrementStrafe(-10):(this.keyInput.right||.5<this.touchInput.virtualJoystickX)&&this.cameraController.incrementStrafe(10);this.helpOverlay.get_visible()&&(this.keyInput.up||this.keyInput.down||
this.keyInput.left||this.keyInput.right||0!=this.touchInput.xMovement||0!=this.touchInput.yMovement||0!=this.touchInput.virtualJoystickX||0!=this.touchInput.virtualJoystickY)&&this.helpOverlay.set_visible(!1);var a=this.cameraController;a.set_panAngle(a.get_panAngle()+this.touchInput.xMovement/10);a=this.cameraController;a.set_tiltAngle(a.get_tiltAngle()+this.touchInput.yMovement/10);this.minimap.setRotation(-this.cameraController.get_panAngle());this.processFullscreen()},updatePixels:function(){var a=
Math.floor(this.view.get_camera().get_x()/tb.CUBE_WIDTH),b=Math.floor(-this.view.get_camera().get_z()/tb.CUBE_WIDTH);this.currentIndexX=a;this.currentIndexY=b;this.pixelMesh.updatePosition(this.currentIndexX,this.currentIndexY)},updateView:function(){var a;a=0<=this.currentIndexX&&this.currentIndexX<xd.PIXEL_CANVAS_WIDTH&&0<=this.currentIndexY&&this.currentIndexY<xd.PIXEL_CANVAS_WIDTH?this.pixelMesh.getHeight(this.currentIndexX,this.currentIndexY)+1.5*tb.CUBE_WIDTH:0;this.currentPlayerHeight==a||
this.cameraController.fly||(ya.tween(this.view.get_camera(),1,{y:a}).ease(Vg.get_easeInOut()),this.currentPlayerHeight=a);this.minimap.setHeight(this.view.get_camera().get_y()/tb.CUBE_WIDTH/20);this.minimap.setPosition(this.currentIndexX,this.currentIndexY)},processFullscreen:function(){this.keyInput.escapePressed&&(this.touchInput.exitPointerLock(),this.exitFullscreen());this.keyInput.fullscreenPressed&&(this.touchInput.exitPointerLock(),this.toggleFullscreen())},enterFullscreen:function(){this.stage.set_displayState(1)},
exitFullscreen:function(){this.stage.set_displayState(2)},toggleFullscreen:function(){1!=this.stage.get_displayState()?this.enterFullscreen():this.exitFullscreen()},__class__:xd});var Wj=function(){aa.call(this);this.get_graphics().beginFill(16711680);this.get_graphics().drawRoundRect(-2,-8,4,8,2);this.get_graphics().endFill();this.get_graphics().beginFill(16777215);this.get_graphics().drawRoundRect(-2,0,4,8,2);this.get_graphics().endFill()};k["plac3d.gfx.Compass"]=Wj;Wj.__name__=["plac3d","gfx",
"Compass"];Wj.__super__=ob;Wj.prototype=t(ob.prototype,{__class__:Wj});var Vj=function(){wa.call(this);var a=ca.getBitmapData("assets/controls.png"),a=new re(a);this.get_graphics().beginFill(0,.5);this.get_graphics().drawRoundRect(0,0,a.get_width(),a.get_height(),10,10);this.get_graphics().endFill();this.addChild(a)};k["plac3d.gfx.HelpOverlay"]=Vj;Vj.__name__=["plac3d","gfx","HelpOverlay"];Vj.__super__=wa;Vj.prototype=t(wa.prototype,{__class__:Vj});var Uj=function(a,b){null==b&&(b=80);wa.call(this);
this.placements=a;this.minimapSize=b;var c=b/80,d=new ma(40,40);this.bitmap=new re(d);this.bitmap.set_alpha(.8);this.bitmap.set_scaleX(this.bitmap.set_scaleY(2*c));this.playerHeading=new Xj;this.playerHeading.set_x(this.bitmap.get_width()/2);this.playerHeading.set_y(this.bitmap.get_height()/2);this.playerHeading.set_scaleX(this.playerHeading.set_scaleY(c));this.compass=new Wj;this.compass.set_x(8*c);this.compass.set_y(8*c+this.bitmap.get_height());this.compass.set_scaleX(this.compass.set_scaleY(c));
this.playerHeight=new Yj;this.playerHeight.set_x(18*c);this.playerHeight.set_y(this.bitmap.get_height());this.playerHeight.set_scaleX(this.playerHeight.set_scaleY(c));this.label=new ea;d=new Fe("_sans",14*c|0);this.label.setTextFormat(d);this.label.set_backgroundColor(0);this.label.set_textColor(16777215);this.label.set_x(24*c);this.label.set_y(this.bitmap.get_height());this.label.set_width(this.bitmap.get_width()-26*c);this.label.set_height(16*c);c=new ob;c.get_graphics().beginFill(0);c.get_graphics().drawRect(0,
0,this.bitmap.get_width(),this.bitmap.get_height()+this.label.get_height());c.get_graphics().endFill();c.set_alpha(.2);this.addChild(c);this.addChild(this.bitmap);this.addChild(this.playerHeading);this.addChild(this.compass);this.addChild(this.playerHeight);this.addChild(this.label)};k["plac3d.gfx.Minimap"]=Uj;Uj.__name__=["plac3d","gfx","Minimap"];Uj.__super__=wa;Uj.prototype=t(wa.prototype,{placements:null,bitmap:null,playerHeading:null,compass:null,label:null,currentX:null,currentY:null,minimapSize:null,
playerHeight:null,setPosition:function(a,b){var c=this.currentX!=a||this.currentY!=b;this.currentX=a;this.currentY=b;c&&(this.drawPlacements(),this.label.set_text(""+this.currentX+", "+this.currentY))},setRotation:function(a){this.compass.set_rotation(a);this.playerHeading.set_rotation(-a)},setHeight:function(a){this.playerHeight.setPlayerHeight(a)},drawPlacements:function(){this.bitmap.bitmapData.lock();for(var a=0;40>a;)for(var b=a++,c=0;40>c;){var d=c++,e=this.currentX-20+b,f=this.currentY-20+
d;0<=e&&e<wd.WIDTH&&0<=f&&f<wd.WIDTH?(e=this.placements.getColor(e,f),this.bitmap.bitmapData.setPixel(b,d,e)):this.bitmap.bitmapData.setPixel(b,d,14540253)}this.bitmap.bitmapData.unlock()},__class__:Uj});var Xj=function(){aa.call(this);this.get_graphics().beginFill(16766720,.8);this.get_graphics().lineStyle(1,0);for(var a=[1,2,2,2],b=D.toIntVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}a=[0,-8,4,8,-4,8,0,-8];c=D.toFloatVector(null);d=0;for(e=a.length;d<e;){var f=d++;c.set(f,a[f])}this.get_graphics().drawPath(b,
c);this.get_graphics().endFill()};k["plac3d.gfx.PlayerHeading"]=Xj;Xj.__name__=["plac3d","gfx","PlayerHeading"];Xj.__super__=ob;Xj.prototype=t(ob.prototype,{__class__:Xj});var Yj=function(){wa.call(this);this.heightShape=new ob;this.heightShape.get_graphics().beginFill(10506797);this.heightShape.get_graphics().drawRect(0,0,4,16);this.heightShape.get_graphics().endFill();this.backgroundShape=new ob;this.backgroundShape.get_graphics().beginFill(8900331);this.backgroundShape.get_graphics().drawRect(0,
0,4,16);this.backgroundShape.get_graphics().endFill();this.addChild(this.heightShape);this.addChild(this.backgroundShape)};k["plac3d.gfx.PlayerHeight"]=Yj;Yj.__name__=["plac3d","gfx","PlayerHeight"];Yj.__super__=wa;Yj.prototype=t(wa.prototype,{heightShape:null,backgroundShape:null,setPlayerHeight:function(a){a=Math.min(1,a);this.backgroundShape.set_height(16*(1-a))},__class__:Yj});var Xe=function(){};k["plac3d.gfx.Screen"]=Xe;Xe.__name__=["plac3d","gfx","Screen"];Xe.getPixelScale=function(){return null!=
window.devicePixelRatio?window.devicePixelRatio:0!=Ua.get_screenDPI()?Ua.get_screenDPI()/72:1};Xe.prototype={__class__:Xe};var Zj=function(a){this.currentX=this.currentY=0;wa.call(this);this.diameter=a;var b=a/2;this.background=new ob;this.background.get_graphics().beginFill(11584734);this.background.get_graphics().drawCircle(b,b,a/2);this.background.get_graphics().endFill();this.background.set_alpha(.2);a*=.4;this.knob=new ob;this.knob.get_graphics().beginFill(4620980);this.knob.get_graphics().drawCircle(b,
b,a/2);this.knob.get_graphics().endFill();this.knob.set_alpha(.6);this.addChild(this.background);this.addChild(this.knob)};k["plac3d.gfx.VirtualJoystick"]=Zj;Zj.__name__=["plac3d","gfx","VirtualJoystick"];Zj.__super__=wa;Zj.prototype=t(wa.prototype,{background:null,knob:null,diameter:null,currentX:null,currentY:null,setPosition:function(a,b){var c=this.diameter/2;this.knob.set_x(c*a);this.knob.set_y(c*b);(c=a!=this.currentX||b!=this.currentY)&&0==a&&0==b?(ya.tween(this.background,.5,{alpha:.2}),ya.tween(this.knob,
.5,{alpha:.6})):c&&0==this.currentX&&0==this.currentY&&(ya.tween(this.background,.5,{alpha:.6}),ya.tween(this.knob,.5,{alpha:1}));this.currentX=a;this.currentY=b},__class__:Zj});var Fl=function(a){this.up=this.down=this.left=this.right=this.escape=this.escapePressed=this.fullscreen=this.fullscreenPressed=!1;a.addEventListener("keyDown",n(this,this.keyDownCallback));a.addEventListener("keyUp",n(this,this.keyUpCallback))};k["plac3d.ui.KeyInput"]=Fl;Fl.__name__=["plac3d","ui","KeyInput"];Fl.prototype=
{up:null,down:null,left:null,right:null,escape:null,escapePressed:null,fullscreen:null,fullscreenPressed:null,keyDownCallback:function(a){switch(a.keyCode){case 27:this.escape||(this.escapePressed=!0);this.escape=!0;break;case 37:case 65:this.left=!0;break;case 38:case 87:this.up=!0;break;case 39:case 68:this.right=!0;break;case 40:case 83:this.down=!0;break;case 122:this.fullscreen||(this.fullscreenPressed=!0),this.fullscreen=!0}},keyUpCallback:function(a){switch(a.keyCode){case 27:this.escape=!1;
break;case 37:case 65:this.left=!1;break;case 38:case 87:this.up=!1;break;case 39:case 68:this.right=!1;break;case 40:case 83:this.down=!1;break;case 122:this.fullscreen=!1}},update:function(){},clear:function(){this.fullscreenPressed=this.escapePressed=!1},__class__:Fl};var Ye=function(a){this.moving=this.pointerLocked=!1;this.xMovement=this.yMovement=this.pendingXMovement=this.pendingYMovement=0;this.stage=a;a.addEventListener("mouseDown",n(this,this.mouseDownCallback));a.addEventListener("mouseUp",
n(this,this.mouseUpCallback));a.addEventListener("mouseMove",n(this,this.mouseMoveCallback));a=window.document.getElementById("openfl-content");a.addEventListener("mousedown",n(this,this.pointerLockClickCallback));window.document.addEventListener("pointerlockchange",n(this,this.pointerLockChangeCallback));a.addEventListener("mousemove",n(this,this.pointerLockMoveCallback))};k["plac3d.ui.MouseInput"]=Ye;Ye.__name__=["plac3d","ui","MouseInput"];Ye.prototype={xMovement:null,yMovement:null,stage:null,
pendingXMovement:null,pendingYMovement:null,moving:null,movingOriginX:null,movingOriginY:null,pointerLocked:null,mouseDownCallback:function(a){this.startMove(a.stageX,a.stageY)},startMove:function(a,b){this.moving=!0;this.movingOriginX=a;this.movingOriginY=b},mouseUpCallback:function(a){this.stopMove()},stopMove:function(){this.moving=!1},mouseMoveCallback:function(a){this.processMove(a.stageX,a.stageY)},processMove:function(a,b){if(this.moving||this.pointerLocked){if(this.pointerLocked){var c=this.stage.window.__width/
2|0,d=this.stage.window.__height/2|0;nc.warp(c,d,this.stage.window);a!=c&&(this.pendingXMovement-=this.movingOriginX-a);b!=d&&(this.pendingYMovement-=this.movingOriginY-b)}else this.pendingXMovement+=this.movingOriginX-a,this.pendingYMovement+=this.movingOriginY-b;this.movingOriginX=a;this.movingOriginY=b}},pointerLockClickCallback:function(a){this.pointerLocked||window.document.getElementById("openfl-content").requestPointerLock()},pointerLockMoveCallback:function(a){this.pointerLocked&&(this.pendingXMovement+=
a.movementX,this.pendingYMovement+=a.movementY)},pointerLockChangeCallback:function(a){a=window.document.getElementById("openfl-content");this.pointerLocked=window.document.pointerLockElement==a},update:function(){this.xMovement=this.pendingXMovement;this.yMovement=this.pendingYMovement;this.pendingYMovement=this.pendingXMovement=0},clear:function(){},exitPointerLock:function(){nc.show();this.pointerLocked=!1;window.document.exitPointerLock()},__class__:Ye};var Tj=function(a){this.virtualJoystickX=
this.virtualJoystickY=0;this.virtualJoystickMove=!1;var b=this;Ye.call(this,a);this.virtualJoystick=new Zj(60*Xe.getPixelScale());a.addChild(this.virtualJoystick);a.addEventListener("touchBegin",n(this,this.touchBeginCallback));a.addEventListener("touchMove",n(this,this.touchMoveCallback));a.addEventListener("touchEnd",n(this,this.touchEndCallback));a.addEventListener("resize",function(a){b.layoutVirtualJoystick()});this.layoutVirtualJoystick()};k["plac3d.ui.TouchInput"]=Tj;Tj.__name__=["plac3d",
"ui","TouchInput"];Tj.__super__=Ye;Tj.prototype=t(Ye.prototype,{virtualJoystick:null,virtualJoystickMove:null,virtualJoystickTouchId:null,virtualJoystickX:null,virtualJoystickY:null,layoutVirtualJoystick:function(){this.virtualJoystick.set_x(4*Xe.getPixelScale());this.virtualJoystick.set_y(this.stage.stageHeight-this.virtualJoystick.diameter-4*Xe.getPixelScale())},mouseDownCallback:function(a){a.target==this.virtualJoystick?this.startVirtualJoystickMove(a.stageX,a.stageY):this.isOutsideScreenSwipe(a.stageX,
a.stageY)||Ye.prototype.mouseDownCallback.call(this,a)},touchBeginCallback:function(a){a.target==this.virtualJoystick?(this.virtualJoystickTouchId=a.touchPointID,this.startVirtualJoystickMove(a.stageX,a.stageY)):this.isOutsideScreenSwipe(a.stageX,a.stageY)||this.startMove(a.stageX,a.stageY)},isOutsideScreenSwipe:function(a,b){var c=4*Xe.getPixelScale();return a<c||a>this.stage.get_width()-c||b<c?!0:b>this.stage.get_height()-c},startVirtualJoystickMove:function(a,b){this.virtualJoystickMove=!0;this.virtualJoystickX=
a;this.virtualJoystickY=b;this.processVirtualJoystickMove(a,b)},mouseUpCallback:function(a){a.target==this.virtualJoystick&&this.virtualJoystickMove?this.stopVirtualJoystickMove():this.moving&&Ye.prototype.mouseUpCallback.call(this,a)},touchEndCallback:function(a){a.touchPointID==this.virtualJoystickTouchId?(this.virtualJoystickTouchId=-1,this.stopVirtualJoystickMove()):this.stopMove()},stopVirtualJoystickMove:function(){this.virtualJoystickMove=!1;this.virtualJoystick.setPosition(0,0);this.virtualJoystickX=
this.virtualJoystickY=0},mouseMoveCallback:function(a){a.target==this.virtualJoystick?this.processVirtualJoystickMove(a.stageX,a.stageY):Ye.prototype.mouseMoveCallback.call(this,a)},touchMoveCallback:function(a){a.touchPointID==this.virtualJoystickTouchId?this.processVirtualJoystickMove(a.stageX,a.stageY):this.processMove(a.stageX,a.stageY)},processVirtualJoystickMove:function(a,b){if(this.virtualJoystickMove){var c=a-this.virtualJoystick.get_x(),d=b-this.virtualJoystick.get_y(),e=this.virtualJoystick.diameter/
2,d=(d-e)/e,c=Math.min(1,Math.max(-1,(c-e)/e)),d=Math.min(1,Math.max(-1,d));this.virtualJoystick.setPosition(c,d);this.virtualJoystickX=c;this.virtualJoystickY=d}},__class__:Tj});var Pd,bn=0;k.Math=Math;String.prototype.__class__=k.String=String;String.__name__=["String"];k.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=k.Date=Date;Date.__name__=["Date"];var zk=k.Int={__name__:["Int"]},cn=k.Dynamic={__name__:["Dynamic"]},xm=k.Float=Number;xm.__name__=["Float"];var Ql=k.Bool=Boolean;
Ql.__ename__=["Bool"];var wm=k.Class={__name__:["Class"]},Sm={},u={},Ea=ug.ArrayBuffer||lc;null==Ea.prototype.slice&&(Ea.prototype.slice=lc.sliceImpl);var kf=ug.DataView||Ak,ra=ug.Float32Array||Ie._new,nm=ug.Float64Array||(ug.Float32Array?"notsupported":null)||Je._new,Fa=ug.Uint8Array||Ke._new,dn=new Uint32Array(256);z.__alpha16=dn;for(var Wm=0;256>Wm;){var Xm=Wm++;z.__alpha16[Xm]=Math.ceil(257.00392156862745*Xm)}var en=new Fa(510);z.__clamp=en;for(var Ym=0;255>Ym;){var Zm=Ym++;z.__clamp[Zm]=Zm}for(var $m=
255;511>$m;){var fn=$m++;z.__clamp[fn]=255}qe.available=!1;qe.enabled=!1;La.level=0;"undefined"==typeof console&&(console={});null==console.log&&(console.log=function(){});La.throwErrors=!0;aa.__broadcastEvents=new pa;aa.__instanceCount=0;aa.__worldRenderDirty=0;aa.__worldTransformDirty=0;Kh.WEBSITE_URL="http://www.away3d.com";Kh.MAJOR_VERSION=4;Kh.MINOR_VERSION=1;Kh.REVISION=6;Ia.DEFAULT_NAMESPACE="default";Kl.LEFT_HANDED=0;Kl.RIGHT_HANDED=1;kb._currentId=0;J.ACTIVATE="activate";J.ADDED="added";
J.ADDED_TO_STAGE="addedToStage";J.CANCEL="cancel";J.CHANGE="change";J.CLEAR="clear";J.CLOSE="close";J.COMPLETE="complete";J.CONNECT="connect";J.CONTEXT3D_CREATE="context3DCreate";J.COPY="copy";J.CUT="cut";J.DEACTIVATE="deactivate";J.ENTER_FRAME="enterFrame";J.EXIT_FRAME="exitFrame";J.FRAME_CONSTRUCTED="frameConstructed";J.FRAME_LABEL="frameLabel";J.FULLSCREEN="fullScreen";J.ID3="id3";J.INIT="init";J.MOUSE_LEAVE="mouseLeave";J.OPEN="open";J.PASTE="paste";J.REMOVED="removed";J.REMOVED_FROM_STAGE="removedFromStage";
J.RENDER="render";J.RESIZE="resize";J.SCROLL="scroll";J.SELECT="select";J.SELECT_ALL="selectAll";J.SOUND_COMPLETE="soundComplete";J.TAB_CHILDREN_CHANGE="tabChildrenChange";J.TAB_ENABLED_CHANGE="tabEnabledChange";J.TAB_INDEX_CHANGE="tabIndexChange";J.TEXTURE_READY="textureReady";J.UNLOAD="unload";Yb.MOUSE_OVER="mouseOver3d";Yb.MOUSE_OUT="mouseOut3d";Yb.MOUSE_UP="mouseUp3d";Yb.MOUSE_DOWN="mouseDown3d";Yb.MOUSE_MOVE="mouseMove3d";Yb.CLICK="click3d";Yb.DOUBLE_CLICK="doubleClick3d";Yb.MOUSE_WHEEL="mouseWheel3d";
V._viewCount=0;V._queuedEvents=D.toObjectVector(null);V._mouseUp=new Yb("mouseUp3d");V._mouseClick=new Yb("click3d");V._mouseOut=new Yb("mouseOut3d");V._mouseDown=new Yb("mouseDown3d");V._mouseMove=new Yb("mouseMove3d");V._mouseOver=new Yb("mouseOver3d");V._mouseWheel=new Yb("mouseWheel3d");V._mouseDoubleClick=new Yb("doubleClick3d");V._previousCollidingView=-1;V._collidingView=-1;bb._numStageProxies=0;De.__identity=new De;Ma.__identity=new Ma;Ma.__matrix3=new De;Ma.__temp=new Ma;Da._frameEventDriver=
new ob;Da._vbUploadCount=0;Da._ibUploadCount=0;Da._bmpUploadCount=0;Da._atfUploadCount=0;Xb._queuedEvents=D.toObjectVector(null);bc.RADIANS_TO_DEGREES=180/Math.PI;bc.DEGREES_TO_RADIANS=Math.PI/180;ga.RAW_DATA_CONTAINER=D.toFloatVector(null,16);ga.CALCULATION_MATRIX=new Sa;ga.CALCULATION_VECTOR3D=new T;ga.CALCULATION_DECOMPOSE=function(a){a=[new T,new T,new T];for(var b=D.toObjectVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);bf.ALIGN_ANY=0;bf.ALIGN_XY_AXIS=1;bf.ALIGN_YZ_AXIS=
2;bf.ALIGN_XZ_AXIS=3;Ag.BACK=0;Ag.FRONT=1;Ag.IN=0;Ag.OUT=1;Ag.INTERSECT=2;je.tempRayPosition=new T;je.tempRayDirection=new T;ha.__temp=new ha;ef.MOUSE_SCISSOR_RECT=new ha(0,0,1,1);zg.SHADER=new ef;zg.RAYCAST_FIRST_ENCOUNTERED=new je(!1);zg.RAYCAST_BEST_HIT=new je(!0);id.RTT_PASSES=1;id.SCREEN_PASSES=2;id.ALL_PASSES=3;ie._collectionMark=0;Pb._WIDTH=125;Pb._MAX_HEIGHT=85;Pb._MIN_HEIGHT=51;Pb._UPPER_Y=-1;Pb._MID_Y=9;Pb._LOWER_Y=19;Pb._DIAG_HEIGHT=35;Pb._BOTTOM_BAR_HEIGHT=31;Pb._POLY_COL=16763904;Pb._MEM_COL=
16711884;yc.active=!1;yc.warningsAsErrors=!1;Qc.LIMIT=196605;ja.DEFAULT_TO_STRING="Error";eb.ASSET_COMPLETE="assetComplete";eb.ENTITY_COMPLETE="entityComplete";eb.SKYBOX_COMPLETE="skyboxComplete";eb.CAMERA_COMPLETE="cameraComplete";eb.MESH_COMPLETE="meshComplete";eb.GEOMETRY_COMPLETE="geometryComplete";eb.SKELETON_COMPLETE="skeletonComplete";eb.SKELETON_POSE_COMPLETE="skeletonPoseComplete";eb.CONTAINER_COMPLETE="containerComplete";eb.TEXTURE_COMPLETE="textureComplete";eb.TEXTURE_PROJECTOR_COMPLETE=
"textureProjectorComplete";eb.MATERIAL_COMPLETE="materialComplete";eb.ANIMATOR_COMPLETE="animatorComplete";eb.ANIMATION_SET_COMPLETE="animationSetComplete";eb.ANIMATION_STATE_COMPLETE="animationStateComplete";eb.ANIMATION_NODE_COMPLETE="animationNodeComplete";eb.STATE_TRANSITION_COMPLETE="stateTransitionComplete";eb.SEGMENT_SET_COMPLETE="segmentSetComplete";eb.LIGHT_COMPLETE="lightComplete";eb.LIGHTPICKER_COMPLETE="lightPickerComplete";eb.EFFECTMETHOD_COMPLETE="effectMethodComplete";eb.SHADOWMAPMETHOD_COMPLETE=
"shadowMapMethodComplete";eb.ASSET_RENAME="assetRename";eb.ASSET_CONFLICT_RESOLVED="assetConflictResolved";eb.TEXTURE_SIZE_ERROR="textureSizeError";Af.LENS_CHANGED="lensChanged";Bd.SUB_GEOMETRY_ADDED="SubGeometryAdded";Bd.SUB_GEOMETRY_REMOVED="SubGeometryRemoved";Bd.BOUNDS_INVALID="BoundsInvalid";Bf.MATRIX_CHANGED="matrixChanged";Gf.CASTS_SHADOW_CHANGE="castsShadowChange";Gc.VISIBLITY_UPDATED="visiblityUpdated";Gc.SCENETRANSFORM_CHANGED="scenetransformChanged";Gc.SCENE_CHANGED="sceneChanged";Gc.POSITION_CHANGED=
"positionChanged";Gc.ROTATION_CHANGED="rotationChanged";Gc.SCALE_CHANGED="scaleChanged";yd.ADDED_TO_SCENE="addedToScene";yd.REMOVED_FROM_SCENE="removedFromScene";yd.PARTITION_CHANGED="partitionChanged";Hf.SHADER_INVALIDATED="ShaderInvalidated";jd.CONTEXT3D_CREATED="Context3DCreated";jd.CONTEXT3D_DISPOSED="Context3DDisposed";jd.CONTEXT3D_RECREATED="Context3DRecreated";jd.VIEWPORT_UPDATED="ViewportUpdated";Hd.TOUCH_END="touchEnd3d";Hd.TOUCH_BEGIN="touchBegin3d";Hd.TOUCH_MOVE="touchMove3d";Hd.TOUCH_OUT=
"touchOut3d";Hd.TOUCH_OVER="touchOver3d";Qb.ENTITY="entity";Qb.SKYBOX="skybox";Qb.CAMERA="camera";Qb.SEGMENT_SET="segmentSet";Qb.MESH="mesh";Qb.GEOMETRY="geometry";Qb.SKELETON="skeleton";Qb.SKELETON_POSE="skeletonPose";Qb.CONTAINER="container";Qb.TEXTURE="texture";Qb.TEXTURE_PROJECTOR="textureProjector";Qb.MATERIAL="material";Qb.ANIMATION_SET="animationSet";Qb.ANIMATION_STATE="animationState";Qb.ANIMATION_NODE="animationNode";Qb.ANIMATOR="animator";Qb.STATE_TRANSITION="stateTransition";Qb.LIGHT="light";
Qb.LIGHT_PICKER="lightPicker";Qb.SHADOW_MAP_METHOD="shadowMapMethod";Qb.EFFECTS_METHOD="effectsMethod";Db.MATERIAL_ID_COUNT=0;rk.LIGHTS=1;rk.PROBES=2;rk.ALL=3;ic._regPool=new pa;ic._regCompsPool=new pa;Wb.COMPONENTS=["x","y","z","w"];Oa._previousUsedStreams=function(a){a=[0,0,0,0,0,0,0,0];for(var b=D.toIntVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);Oa._previousUsedTexs=function(a){a=[0,0,0,0,0,0,0,0];for(var b=D.toIntVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,
a[e])}return b}(this);Ge.ONE_VECTOR=function(a){a=[1,1,1,1];for(var b=D.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);Ge.FRONT_VECTOR=function(a){a=[0,0,-1,0];for(var b=D.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);zc._matrix=new Ma;zc._rect=new ha;Jg.TYPE="line";jf.NONE=0;jf.ANISOTROPIC2X=1;jf.ANISOTROPIC4X=2;jf.ANISOTROPIC8X=3;jf.ANISOTROPIC16X=4;jc._mipMaps=[];jc._mipMapUses=[];ad.LIMIT_VERTS=196605;ad.LIMIT_INDICES=983025;
Hc.MAX_SIZE=4096;Ac.USE_CACHE=!1;Ac.USE_ENUM_INDEX=!1;Ac.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Bc.DEFAULT_RESOLVER=new xi;Bc.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";ac.count=0;$b.i64tmp=new Y(0,0);$b.LN2=.6931471805599453;y.__toStr={}.toString;Ie.BYTES_PER_ELEMENT=4;Je.BYTES_PER_ELEMENT=8;Ke.BYTES_PER_ELEMENT=1;Ta.activeRequests=0;Ta.requestLimit=4;Ta.requestQueue=new hd;ua.dummyCharacter="\u007f";ua.windowID=0;ta.__base64Chars=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";Rk.FT_LOAD_FORCE_AUTOHINT=32;g.DEPTH_BUFFER_BIT=256;g.STENCIL_BUFFER_BIT=1024;g.COLOR_BUFFER_BIT=16384;g.POINTS=0;g.LINES=1;g.LINE_LOOP=2;g.LINE_STRIP=3;g.TRIANGLES=4;g.TRIANGLE_STRIP=5;g.TRIANGLE_FAN=6;g.ZERO=0;g.ONE=1;g.SRC_COLOR=768;g.ONE_MINUS_SRC_COLOR=769;g.SRC_ALPHA=770;g.ONE_MINUS_SRC_ALPHA=771;g.DST_ALPHA=772;g.ONE_MINUS_DST_ALPHA=773;g.DST_COLOR=774;g.ONE_MINUS_DST_COLOR=775;g.SRC_ALPHA_SATURATE=776;g.FUNC_ADD=32774;g.BLEND_EQUATION=
32777;g.BLEND_EQUATION_RGB=32777;g.BLEND_EQUATION_ALPHA=34877;g.FUNC_SUBTRACT=32778;g.FUNC_REVERSE_SUBTRACT=32779;g.BLEND_DST_RGB=32968;g.BLEND_SRC_RGB=32969;g.BLEND_DST_ALPHA=32970;g.BLEND_SRC_ALPHA=32971;g.CONSTANT_COLOR=32769;g.ONE_MINUS_CONSTANT_COLOR=32770;g.CONSTANT_ALPHA=32771;g.ONE_MINUS_CONSTANT_ALPHA=32772;g.BLEND_COLOR=32773;g.ARRAY_BUFFER=34962;g.ELEMENT_ARRAY_BUFFER=34963;g.ARRAY_BUFFER_BINDING=34964;g.ELEMENT_ARRAY_BUFFER_BINDING=34965;g.STREAM_DRAW=35040;g.STATIC_DRAW=35044;g.DYNAMIC_DRAW=
35048;g.BUFFER_SIZE=34660;g.BUFFER_USAGE=34661;g.CURRENT_VERTEX_ATTRIB=34342;g.FRONT=1028;g.BACK=1029;g.FRONT_AND_BACK=1032;g.CULL_FACE=2884;g.BLEND=3042;g.DITHER=3024;g.STENCIL_TEST=2960;g.DEPTH_TEST=2929;g.SCISSOR_TEST=3089;g.POLYGON_OFFSET_FILL=32823;g.SAMPLE_ALPHA_TO_COVERAGE=32926;g.SAMPLE_COVERAGE=32928;g.NO_ERROR=0;g.INVALID_ENUM=1280;g.INVALID_VALUE=1281;g.INVALID_OPERATION=1282;g.OUT_OF_MEMORY=1285;g.CW=2304;g.CCW=2305;g.LINE_WIDTH=2849;g.ALIASED_POINT_SIZE_RANGE=33901;g.ALIASED_LINE_WIDTH_RANGE=
33902;g.CULL_FACE_MODE=2885;g.FRONT_FACE=2886;g.DEPTH_RANGE=2928;g.DEPTH_WRITEMASK=2930;g.DEPTH_CLEAR_VALUE=2931;g.DEPTH_FUNC=2932;g.STENCIL_CLEAR_VALUE=2961;g.STENCIL_FUNC=2962;g.STENCIL_FAIL=2964;g.STENCIL_PASS_DEPTH_FAIL=2965;g.STENCIL_PASS_DEPTH_PASS=2966;g.STENCIL_REF=2967;g.STENCIL_VALUE_MASK=2963;g.STENCIL_WRITEMASK=2968;g.STENCIL_BACK_FUNC=34816;g.STENCIL_BACK_FAIL=34817;g.STENCIL_BACK_PASS_DEPTH_FAIL=34818;g.STENCIL_BACK_PASS_DEPTH_PASS=34819;g.STENCIL_BACK_REF=36003;g.STENCIL_BACK_VALUE_MASK=
36004;g.STENCIL_BACK_WRITEMASK=36005;g.VIEWPORT=2978;g.SCISSOR_BOX=3088;g.COLOR_CLEAR_VALUE=3106;g.COLOR_WRITEMASK=3107;g.UNPACK_ALIGNMENT=3317;g.PACK_ALIGNMENT=3333;g.MAX_TEXTURE_SIZE=3379;g.MAX_VIEWPORT_DIMS=3386;g.SUBPIXEL_BITS=3408;g.RED_BITS=3410;g.GREEN_BITS=3411;g.BLUE_BITS=3412;g.ALPHA_BITS=3413;g.DEPTH_BITS=3414;g.STENCIL_BITS=3415;g.POLYGON_OFFSET_UNITS=10752;g.POLYGON_OFFSET_FACTOR=32824;g.TEXTURE_BINDING_2D=32873;g.SAMPLE_BUFFERS=32936;g.SAMPLES=32937;g.SAMPLE_COVERAGE_VALUE=32938;g.SAMPLE_COVERAGE_INVERT=
32939;g.NUM_COMPRESSED_TEXTURE_FORMATS=34466;g.COMPRESSED_TEXTURE_FORMATS=34467;g.DONT_CARE=4352;g.FASTEST=4353;g.NICEST=4354;g.GENERATE_MIPMAP_HINT=33170;g.BYTE=5120;g.UNSIGNED_BYTE=5121;g.SHORT=5122;g.UNSIGNED_SHORT=5123;g.INT=5124;g.UNSIGNED_INT=5125;g.FLOAT=5126;g.DEPTH_COMPONENT=6402;g.ALPHA=6406;g.RGB=6407;g.RGBA=6408;g.LUMINANCE=6409;g.LUMINANCE_ALPHA=6410;g.UNSIGNED_SHORT_4_4_4_4=32819;g.UNSIGNED_SHORT_5_5_5_1=32820;g.UNSIGNED_SHORT_5_6_5=33635;g.FRAGMENT_SHADER=35632;g.VERTEX_SHADER=35633;
g.MAX_VERTEX_ATTRIBS=34921;g.MAX_VERTEX_UNIFORM_VECTORS=36347;g.MAX_VARYING_VECTORS=36348;g.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661;g.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660;g.MAX_TEXTURE_IMAGE_UNITS=34930;g.MAX_FRAGMENT_UNIFORM_VECTORS=36349;g.SHADER_TYPE=35663;g.DELETE_STATUS=35712;g.LINK_STATUS=35714;g.VALIDATE_STATUS=35715;g.ATTACHED_SHADERS=35717;g.ACTIVE_UNIFORMS=35718;g.ACTIVE_ATTRIBUTES=35721;g.SHADING_LANGUAGE_VERSION=35724;g.CURRENT_PROGRAM=35725;g.NEVER=512;g.LESS=513;g.EQUAL=514;g.LEQUAL=
515;g.GREATER=516;g.NOTEQUAL=517;g.GEQUAL=518;g.ALWAYS=519;g.KEEP=7680;g.REPLACE=7681;g.INCR=7682;g.DECR=7683;g.INVERT=5386;g.INCR_WRAP=34055;g.DECR_WRAP=34056;g.VENDOR=7936;g.RENDERER=7937;g.VERSION=7938;g.EXTENSIONS=7939;g.NEAREST=9728;g.LINEAR=9729;g.NEAREST_MIPMAP_NEAREST=9984;g.LINEAR_MIPMAP_NEAREST=9985;g.NEAREST_MIPMAP_LINEAR=9986;g.LINEAR_MIPMAP_LINEAR=9987;g.TEXTURE_MAG_FILTER=10240;g.TEXTURE_MIN_FILTER=10241;g.TEXTURE_WRAP_S=10242;g.TEXTURE_WRAP_T=10243;g.TEXTURE_2D=3553;g.TEXTURE=5890;
g.TEXTURE_CUBE_MAP=34067;g.TEXTURE_BINDING_CUBE_MAP=34068;g.TEXTURE_CUBE_MAP_POSITIVE_X=34069;g.TEXTURE_CUBE_MAP_NEGATIVE_X=34070;g.TEXTURE_CUBE_MAP_POSITIVE_Y=34071;g.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072;g.TEXTURE_CUBE_MAP_POSITIVE_Z=34073;g.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074;g.MAX_CUBE_MAP_TEXTURE_SIZE=34076;g.TEXTURE0=33984;g.TEXTURE1=33985;g.TEXTURE2=33986;g.TEXTURE3=33987;g.TEXTURE4=33988;g.TEXTURE5=33989;g.TEXTURE6=33990;g.TEXTURE7=33991;g.TEXTURE8=33992;g.TEXTURE9=33993;g.TEXTURE10=33994;g.TEXTURE11=
33995;g.TEXTURE12=33996;g.TEXTURE13=33997;g.TEXTURE14=33998;g.TEXTURE15=33999;g.TEXTURE16=34E3;g.TEXTURE17=34001;g.TEXTURE18=34002;g.TEXTURE19=34003;g.TEXTURE20=34004;g.TEXTURE21=34005;g.TEXTURE22=34006;g.TEXTURE23=34007;g.TEXTURE24=34008;g.TEXTURE25=34009;g.TEXTURE26=34010;g.TEXTURE27=34011;g.TEXTURE28=34012;g.TEXTURE29=34013;g.TEXTURE30=34014;g.TEXTURE31=34015;g.ACTIVE_TEXTURE=34016;g.REPEAT=10497;g.CLAMP_TO_EDGE=33071;g.MIRRORED_REPEAT=33648;g.FLOAT_VEC2=35664;g.FLOAT_VEC3=35665;g.FLOAT_VEC4=35666;
g.INT_VEC2=35667;g.INT_VEC3=35668;g.INT_VEC4=35669;g.BOOL=35670;g.BOOL_VEC2=35671;g.BOOL_VEC3=35672;g.BOOL_VEC4=35673;g.FLOAT_MAT2=35674;g.FLOAT_MAT3=35675;g.FLOAT_MAT4=35676;g.SAMPLER_2D=35678;g.SAMPLER_CUBE=35680;g.VERTEX_ATTRIB_ARRAY_ENABLED=34338;g.VERTEX_ATTRIB_ARRAY_SIZE=34339;g.VERTEX_ATTRIB_ARRAY_STRIDE=34340;g.VERTEX_ATTRIB_ARRAY_TYPE=34341;g.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922;g.VERTEX_ATTRIB_ARRAY_POINTER=34373;g.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975;g.IMPLEMENTATION_COLOR_READ_TYPE=
35738;g.IMPLEMENTATION_COLOR_READ_FORMAT=35739;g.VERTEX_PROGRAM_POINT_SIZE=34370;g.POINT_SPRITE=34913;g.COMPILE_STATUS=35713;g.LOW_FLOAT=36336;g.MEDIUM_FLOAT=36337;g.HIGH_FLOAT=36338;g.LOW_INT=36339;g.MEDIUM_INT=36340;g.HIGH_INT=36341;g.FRAMEBUFFER=36160;g.RENDERBUFFER=36161;g.RGBA4=32854;g.RGB5_A1=32855;g.RGB565=36194;g.DEPTH_COMPONENT16=33189;g.STENCIL_INDEX=6401;g.STENCIL_INDEX8=36168;g.DEPTH_STENCIL=34041;g.RENDERBUFFER_WIDTH=36162;g.RENDERBUFFER_HEIGHT=36163;g.RENDERBUFFER_INTERNAL_FORMAT=36164;
g.RENDERBUFFER_RED_SIZE=36176;g.RENDERBUFFER_GREEN_SIZE=36177;g.RENDERBUFFER_BLUE_SIZE=36178;g.RENDERBUFFER_ALPHA_SIZE=36179;g.RENDERBUFFER_DEPTH_SIZE=36180;g.RENDERBUFFER_STENCIL_SIZE=36181;g.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048;g.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049;g.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050;g.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051;g.COLOR_ATTACHMENT0=36064;g.DEPTH_ATTACHMENT=36096;g.STENCIL_ATTACHMENT=36128;g.DEPTH_STENCIL_ATTACHMENT=33306;g.NONE=0;g.FRAMEBUFFER_COMPLETE=
36053;g.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054;g.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055;g.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057;g.FRAMEBUFFER_UNSUPPORTED=36061;g.FRAMEBUFFER_BINDING=36006;g.RENDERBUFFER_BINDING=36007;g.MAX_RENDERBUFFER_SIZE=34024;g.INVALID_FRAMEBUFFER_OPERATION=1286;g.UNPACK_FLIP_Y_WEBGL=37440;g.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441;g.CONTEXT_LOST_WEBGL=37442;g.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443;g.BROWSER_DEFAULT_WEBGL=37444;g.READ_BUFFER=3074;g.UNPACK_ROW_LENGTH=
3314;g.UNPACK_SKIP_ROWS=3315;g.UNPACK_SKIP_PIXELS=3316;g.PACK_ROW_LENGTH=3330;g.PACK_SKIP_ROWS=3331;g.PACK_SKIP_PIXELS=3332;g.TEXTURE_BINDING_3D=32874;g.UNPACK_SKIP_IMAGES=32877;g.UNPACK_IMAGE_HEIGHT=32878;g.MAX_3D_TEXTURE_SIZE=32883;g.MAX_ELEMENTS_VERTICES=33E3;g.MAX_ELEMENTS_INDICES=33001;g.MAX_TEXTURE_LOD_BIAS=34045;g.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657;g.MAX_VERTEX_UNIFORM_COMPONENTS=35658;g.MAX_ARRAY_TEXTURE_LAYERS=35071;g.MIN_PROGRAM_TEXEL_OFFSET=35076;g.MAX_PROGRAM_TEXEL_OFFSET=35077;g.MAX_VARYING_COMPONENTS=
35659;g.FRAGMENT_SHADER_DERIVATIVE_HINT=35723;g.RASTERIZER_DISCARD=35977;g.VERTEX_ARRAY_BINDING=34229;g.MAX_VERTEX_OUTPUT_COMPONENTS=37154;g.MAX_FRAGMENT_INPUT_COMPONENTS=37157;g.MAX_SERVER_WAIT_TIMEOUT=37137;g.MAX_ELEMENT_INDEX=36203;g.RED=6403;g.RGB8=32849;g.RGBA8=32856;g.RGB10_A2=32857;g.TEXTURE_3D=32879;g.TEXTURE_WRAP_R=32882;g.TEXTURE_MIN_LOD=33082;g.TEXTURE_MAX_LOD=33083;g.TEXTURE_BASE_LEVEL=33084;g.TEXTURE_MAX_LEVEL=33085;g.TEXTURE_COMPARE_MODE=34892;g.TEXTURE_COMPARE_FUNC=34893;g.SRGB=35904;
g.SRGB8=35905;g.SRGB8_ALPHA8=35907;g.COMPARE_REF_TO_TEXTURE=34894;g.RGBA32F=34836;g.RGB32F=34837;g.RGBA16F=34842;g.RGB16F=34843;g.TEXTURE_2D_ARRAY=35866;g.TEXTURE_BINDING_2D_ARRAY=35869;g.R11F_G11F_B10F=35898;g.RGB9_E5=35901;g.RGBA32UI=36208;g.RGB32UI=36209;g.RGBA16UI=36214;g.RGB16UI=36215;g.RGBA8UI=36220;g.RGB8UI=36221;g.RGBA32I=36226;g.RGB32I=36227;g.RGBA16I=36232;g.RGB16I=36233;g.RGBA8I=36238;g.RGB8I=36239;g.RED_INTEGER=36244;g.RGB_INTEGER=36248;g.RGBA_INTEGER=36249;g.R8=33321;g.RG8=33323;g.R16F=
33325;g.R32F=33326;g.RG16F=33327;g.RG32F=33328;g.R8I=33329;g.R8UI=33330;g.R16I=33331;g.R16UI=33332;g.R32I=33333;g.R32UI=33334;g.RG8I=33335;g.RG8UI=33336;g.RG16I=33337;g.RG16UI=33338;g.RG32I=33339;g.RG32UI=33340;g.R8_SNORM=36756;g.RG8_SNORM=36757;g.RGB8_SNORM=36758;g.RGBA8_SNORM=36759;g.RGB10_A2UI=36975;g.TEXTURE_IMMUTABLE_FORMAT=37167;g.TEXTURE_IMMUTABLE_LEVELS=33503;g.UNSIGNED_INT_2_10_10_10_REV=33640;g.UNSIGNED_INT_10F_11F_11F_REV=35899;g.UNSIGNED_INT_5_9_9_9_REV=35902;g.FLOAT_32_UNSIGNED_INT_24_8_REV=
36269;g.UNSIGNED_INT_24_8=34042;g.HALF_FLOAT=5131;g.RG=33319;g.RG_INTEGER=33320;g.INT_2_10_10_10_REV=36255;g.CURRENT_QUERY=34917;g.QUERY_RESULT=34918;g.QUERY_RESULT_AVAILABLE=34919;g.ANY_SAMPLES_PASSED=35887;g.ANY_SAMPLES_PASSED_CONSERVATIVE=36202;g.MAX_DRAW_BUFFERS=34852;g.DRAW_BUFFER0=34853;g.DRAW_BUFFER1=34854;g.DRAW_BUFFER2=34855;g.DRAW_BUFFER3=34856;g.DRAW_BUFFER4=34857;g.DRAW_BUFFER5=34858;g.DRAW_BUFFER6=34859;g.DRAW_BUFFER7=34860;g.DRAW_BUFFER8=34861;g.DRAW_BUFFER9=34862;g.DRAW_BUFFER10=34863;
g.DRAW_BUFFER11=34864;g.DRAW_BUFFER12=34865;g.DRAW_BUFFER13=34866;g.DRAW_BUFFER14=34867;g.DRAW_BUFFER15=34868;g.MAX_COLOR_ATTACHMENTS=36063;g.COLOR_ATTACHMENT1=36065;g.COLOR_ATTACHMENT2=36066;g.COLOR_ATTACHMENT3=36067;g.COLOR_ATTACHMENT4=36068;g.COLOR_ATTACHMENT5=36069;g.COLOR_ATTACHMENT6=36070;g.COLOR_ATTACHMENT7=36071;g.COLOR_ATTACHMENT8=36072;g.COLOR_ATTACHMENT9=36073;g.COLOR_ATTACHMENT10=36074;g.COLOR_ATTACHMENT11=36075;g.COLOR_ATTACHMENT12=36076;g.COLOR_ATTACHMENT13=36077;g.COLOR_ATTACHMENT14=
36078;g.COLOR_ATTACHMENT15=36079;g.SAMPLER_3D=35679;g.SAMPLER_2D_SHADOW=35682;g.SAMPLER_2D_ARRAY=36289;g.SAMPLER_2D_ARRAY_SHADOW=36292;g.SAMPLER_CUBE_SHADOW=36293;g.INT_SAMPLER_2D=36298;g.INT_SAMPLER_3D=36299;g.INT_SAMPLER_CUBE=36300;g.INT_SAMPLER_2D_ARRAY=36303;g.UNSIGNED_INT_SAMPLER_2D=36306;g.UNSIGNED_INT_SAMPLER_3D=36307;g.UNSIGNED_INT_SAMPLER_CUBE=36308;g.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311;g.MAX_SAMPLES=36183;g.SAMPLER_BINDING=35097;g.PIXEL_PACK_BUFFER=35051;g.PIXEL_UNPACK_BUFFER=35052;g.PIXEL_PACK_BUFFER_BINDING=
35053;g.PIXEL_UNPACK_BUFFER_BINDING=35055;g.COPY_READ_BUFFER=36662;g.COPY_WRITE_BUFFER=36663;g.COPY_READ_BUFFER_BINDING=36662;g.COPY_WRITE_BUFFER_BINDING=36663;g.FLOAT_MAT2x3=35685;g.FLOAT_MAT2x4=35686;g.FLOAT_MAT3x2=35687;g.FLOAT_MAT3x4=35688;g.FLOAT_MAT4x2=35689;g.FLOAT_MAT4x3=35690;g.UNSIGNED_INT_VEC2=36294;g.UNSIGNED_INT_VEC3=36295;g.UNSIGNED_INT_VEC4=36296;g.UNSIGNED_NORMALIZED=35863;g.SIGNED_NORMALIZED=36764;g.VERTEX_ATTRIB_ARRAY_INTEGER=35069;g.VERTEX_ATTRIB_ARRAY_DIVISOR=35070;g.TRANSFORM_FEEDBACK_BUFFER_MODE=
35967;g.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968;g.TRANSFORM_FEEDBACK_VARYINGS=35971;g.TRANSFORM_FEEDBACK_BUFFER_START=35972;g.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973;g.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976;g.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978;g.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979;g.INTERLEAVED_ATTRIBS=35980;g.SEPARATE_ATTRIBS=35981;g.TRANSFORM_FEEDBACK_BUFFER=35982;g.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983;g.TRANSFORM_FEEDBACK=36386;g.TRANSFORM_FEEDBACK_PAUSED=
36387;g.TRANSFORM_FEEDBACK_ACTIVE=36388;g.TRANSFORM_FEEDBACK_BINDING=36389;g.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296;g.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297;g.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298;g.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299;g.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300;g.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301;g.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302;g.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303;g.FRAMEBUFFER_DEFAULT=33304;g.DEPTH24_STENCIL8=35056;g.DRAW_FRAMEBUFFER_BINDING=36006;
g.READ_FRAMEBUFFER=36008;g.DRAW_FRAMEBUFFER=36009;g.READ_FRAMEBUFFER_BINDING=36010;g.RENDERBUFFER_SAMPLES=36011;g.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052;g.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182;g.UNIFORM_BUFFER=35345;g.UNIFORM_BUFFER_BINDING=35368;g.UNIFORM_BUFFER_START=35369;g.UNIFORM_BUFFER_SIZE=35370;g.MAX_VERTEX_UNIFORM_BLOCKS=35371;g.MAX_FRAGMENT_UNIFORM_BLOCKS=35373;g.MAX_COMBINED_UNIFORM_BLOCKS=35374;g.MAX_UNIFORM_BUFFER_BINDINGS=35375;g.MAX_UNIFORM_BLOCK_SIZE=35376;g.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=
35377;g.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379;g.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380;g.ACTIVE_UNIFORM_BLOCKS=35382;g.UNIFORM_TYPE=35383;g.UNIFORM_SIZE=35384;g.UNIFORM_BLOCK_INDEX=35386;g.UNIFORM_OFFSET=35387;g.UNIFORM_ARRAY_STRIDE=35388;g.UNIFORM_MATRIX_STRIDE=35389;g.UNIFORM_IS_ROW_MAJOR=35390;g.UNIFORM_BLOCK_BINDING=35391;g.UNIFORM_BLOCK_DATA_SIZE=35392;g.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394;g.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395;g.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396;
g.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398;g.OBJECT_TYPE=37138;g.SYNC_CONDITION=37139;g.SYNC_STATUS=37140;g.SYNC_FLAGS=37141;g.SYNC_FENCE=37142;g.SYNC_GPU_COMMANDS_COMPLETE=37143;g.UNSIGNALED=37144;g.SIGNALED=37145;g.ALREADY_SIGNALED=37146;g.TIMEOUT_EXPIRED=37147;g.CONDITION_SATISFIED=37148;g.WAIT_FAILED=37149;g.SYNC_FLUSH_COMMANDS_BIT=1;g.COLOR=6144;g.DEPTH=6145;g.STENCIL=6146;g.MIN=32775;g.MAX=32776;g.DEPTH_COMPONENT24=33190;g.STREAM_READ=35041;g.STREAM_COPY=35042;g.STATIC_READ=35045;g.STATIC_COPY=
35046;g.DYNAMIC_READ=35049;g.DYNAMIC_COPY=35050;g.DEPTH_COMPONENT32F=36012;g.DEPTH32F_STENCIL8=36013;g.INVALID_INDEX=-1;g.TIMEOUT_IGNORED=-1;g.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447;la.__identity=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];P.__identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];B.NONE=0;B.FALSE=0;B.TRUE=1;B.SOURCE_RELATIVE=514;B.CONE_INNER_ANGLE=4097;B.CONE_OUTER_ANGLE=4098;B.PITCH=4099;B.POSITION=4100;B.DIRECTION=4101;B.VELOCITY=4102;B.LOOPING=4103;B.BUFFER=4105;B.GAIN=4106;B.MIN_GAIN=4109;B.MAX_GAIN=
4110;B.ORIENTATION=4111;B.SOURCE_STATE=4112;B.INITIAL=4113;B.PLAYING=4114;B.PAUSED=4115;B.STOPPED=4116;B.BUFFERS_QUEUED=4117;B.BUFFERS_PROCESSED=4118;B.REFERENCE_DISTANCE=4128;B.ROLLOFF_FACTOR=4129;B.CONE_OUTER_GAIN=4130;B.MAX_DISTANCE=4131;B.SEC_OFFSET=4132;B.SAMPLE_OFFSET=4133;B.BYTE_OFFSET=4134;B.SOURCE_TYPE=4135;B.STATIC=4136;B.STREAMING=4137;B.UNDETERMINED=4144;B.FORMAT_MONO8=4352;B.FORMAT_MONO16=4353;B.FORMAT_STEREO8=4354;B.FORMAT_STEREO16=4355;B.FREQUENCY=8193;B.BITS=8194;B.CHANNELS=8195;B.SIZE=
8196;B.NO_ERROR=0;B.INVALID_NAME=40961;B.INVALID_ENUM=40962;B.INVALID_VALUE=40963;B.INVALID_OPERATION=40964;B.OUT_OF_MEMORY=40965;B.VENDOR=45057;B.VERSION=45058;B.RENDERER=45059;B.EXTENSIONS=45060;B.DOPPLER_FACTOR=49152;B.SPEED_OF_SOUND=49155;B.DOPPLER_VELOCITY=49153;B.DISTANCE_MODEL=53248;B.INVERSE_DISTANCE=53249;B.INVERSE_DISTANCE_CLAMPED=53250;B.LINEAR_DISTANCE=53251;B.LINEAR_DISTANCE_CLAMPED=53252;B.EXPONENT_DISTANCE=53253;B.EXPONENT_DISTANCE_CLAMPED=53254;va.FALSE=0;va.TRUE=1;va.FREQUENCY=4103;
va.REFRESH=4104;va.SYNC=4105;va.MONO_SOURCES=4112;va.STEREO_SOURCES=4113;va.NO_ERROR=0;va.INVALID_DEVICE=40961;va.INVALID_CONTEXT=40962;va.INVALID_ENUM=40963;va.INVALID_VALUE=40964;va.OUT_OF_MEMORY=40965;va.ATTRIBUTES_SIZE=4098;va.ALL_ATTRIBUTES=4099;va.DEFAULT_DEVICE_SPECIFIER=4100;va.DEVICE_SPECIFIER=4101;va.EXTENSIONS=4102;va.ENUMERATE_ALL_EXT=1;va.DEFAULT_ALL_DEVICES_SPECIFIER=4114;va.ALL_DEVICES_SPECIFIER=4115;ec.alreadyCreated=new pa;ec.initialized=!1;za.__directories=new Ib;ed.INVALID=0;ed.LEFT_TO_RIGHT=
4;ed.RIGHT_TO_LEFT=5;ed.TOP_TO_BOTTOM=6;ed.BOTTOM_TO_TOP=7;M.COMMON="Zyyy";M.INHERITED="Zinh";M.UNKNOWN="Zzzz";M.ARABIC="Arab";M.ARMENIAN="Armn";M.BENGALI="Beng";M.CYRILLIC="Cyrl";M.DEVANAGARI="Deva";M.GEORGIAN="Geor";M.GREEK="Grek";M.GUJARATI="Gujr";M.GURMUKHI="Guru";M.HANGUL="Hang";M.HAN="Hani";M.HEBREW="Hebr";M.HIRAGANA="Hira";M.KANNADA="Knda";M.KATAKANA="Kana";M.LAO="Laoo";M.LATIN="Latn";M.MALAYALAM="Mlym";M.ORIYA="Orya";M.TAMIL="Taml";M.TELUGA="Telu";M.THAI="Thai";M.TIBETAN="Tibt";M.BOPOMOFO=
"Bopo";M.BRAILLE="Brai";M.CANADIAN_SYLLABICS="Cans";M.CHEROKEE="Cher";M.ETHIOPIC="Ethi";M.KHMER="Khmr";M.MONGOLIAN="Mong";M.MYANMAR="Mymr";M.OGHAM="Ogam";M.RUNIC="Runr";M.SINHALA="Sinh";M.SYRIAC="Syrc";M.THAANA="Thaa";M.YI="Yiii";M.DESERET="Dsrt";M.GOTHIC="Goth";M.OLD_ITALIC="Ital";M.BUHID="Buhd";M.HANUNOO="Hano";M.TAGALOG="Tglg";M.TAGBANWA="Tagb";M.CYPRIOT="Cprt";M.LIMBU="Limb";M.LINEAR_B="Linb";M.OSMANYA="Osma";M.SHAVIAN="Shaw";M.TAI_LE="Tale";M.UGARITIC="Ugar";M.BUGINESE="Bugi";M.COPTIC="Copt";
M.GLAGOLITIC="Glag";M.KHAROSHTHI="Khar";M.NEW_TAI_LUE="Talu";M.OLD_PERSIAN="Xpeo";M.SYLOTI_NAGRI="Sylo";M.TIFINAGH="Tfng";M.BALINESE="Bali";M.CUNEIFORM="Xsux";M.NKO="Nkoo";M.PHAGS_PA="Phag";M.PHOENICIAN="Phnx";M.CARIAN="Cari";M.CHAM="Cham";M.KAYAH_LI="Kali";M.LEPCHA="Lepc";M.LYCIAN="Lyci";M.LYDIAN="Lydi";M.OL_CHIKI="Olck";M.REJANG="Rjng";M.SAURASHTRA="Saur";M.SUNDANESE="Sund";M.VAI="Vaii";M.AVESTAN="Avst";M.BAMUM="Bamu";M.EGYPTIAN_HIEROGLYPHS="Egyp";M.IMPERIAL_ARAMAIC="Armi";M.INSCRIPTIONAL_PAHLAVI=
"Phli";M.INSCRIPTIONAL_PARTHIAN="Prti";M.JAVANESE="Java";M.KAITHI="Kthi";M.LISU="Lisu";M.MEETEI_MAYEK="Mtei";M.OLD_SOUTH_ARABIAN="Sarb";M.OLD_TURKIC="Orkh";M.SAMARITAN="Samr";M.TAI_THAM="Lana";M.TAI_VIET="Tavt";M.BATAK="Batk";M.BRAHMI="Brah";M.MANDAIC="Mand";M.CHAKMA="Cakm";M.MEROITIC_CURSIVE="Merc";M.MEROITIC_HIEROGLYPHS="Mero";M.MIAO="Plrd";M.SHARADA="Shrd";M.SORA_SOMPENG="Sora";M.TAKRI="Takr";M.BASSA_VAH="Bass";M.CAUCASIAN_ALBANIAN="Aghb";M.DUPLOYAN="Dupl";M.ELBASAN="Elba";M.GRANTHA="Gran";M.KHOJKI=
"Khoj";M.KHUDAWADI="Sind";M.LINEAR_A="Lina";M.MAHAJANI="Mahj";M.MANICHAEAN="Mani";M.MENDE_KIKAKUI="Mend";M.MODI="Modi";M.MRO="Mroo";M.NABATAEAN="Nbat";M.OLD_NORTH_ARABIAN="Narb";M.OLD_PERMIC="Perm";M.PAHAWH_HMONG="Hmng";M.PALMYRENE="Palm";M.PAU_CIN_HAU="Pauc";M.PSALTER_PAHLAVI="Phlp";M.SIDDHAM="Sidd";M.TIRHUTA="Tirh";M.WARANG_CITI="Wara";wb.devices=new Ib;wb.onConnect=new Mk;nf.LEFT_X=0;nf.LEFT_Y=1;nf.RIGHT_X=2;nf.RIGHT_Y=3;nf.TRIGGER_LEFT=4;nf.TRIGGER_RIGHT=5;Dc.A=0;Dc.B=1;Dc.X=2;Dc.Y=3;Dc.BACK=
4;Dc.GUIDE=5;Dc.START=6;Dc.LEFT_STICK=7;Dc.RIGHT_STICK=8;Dc.LEFT_SHOULDER=9;Dc.RIGHT_SHOULDER=10;Dc.DPAD_UP=11;Dc.DPAD_DOWN=12;Dc.DPAD_LEFT=13;Dc.DPAD_RIGHT=14;cb.devices=new Ib;cb.onConnect=new Nk;Ub.CENTER=0;Ub.DOWN=4;Ub.LEFT=8;Ub.RIGHT=2;Ub.UP=1;Ub.DOWN_LEFT=12;Ub.DOWN_RIGHT=6;Ub.UP_LEFT=9;Ub.UP_RIGHT=3;w.UNKNOWN=0;w.BACKSPACE=8;w.TAB=9;w.RETURN=13;w.ESCAPE=27;w.SPACE=32;w.EXCLAMATION=33;w.QUOTE=34;w.HASH=35;w.DOLLAR=36;w.PERCENT=37;w.AMPERSAND=38;w.SINGLE_QUOTE=39;w.LEFT_PARENTHESIS=40;w.RIGHT_PARENTHESIS=
41;w.ASTERISK=42;w.PLUS=43;w.COMMA=44;w.MINUS=45;w.PERIOD=46;w.SLASH=47;w.NUMBER_0=48;w.NUMBER_1=49;w.NUMBER_2=50;w.NUMBER_3=51;w.NUMBER_4=52;w.NUMBER_5=53;w.NUMBER_6=54;w.NUMBER_7=55;w.NUMBER_8=56;w.NUMBER_9=57;w.COLON=58;w.SEMICOLON=59;w.LESS_THAN=60;w.EQUALS=61;w.GREATER_THAN=62;w.QUESTION=63;w.AT=64;w.LEFT_BRACKET=91;w.BACKSLASH=92;w.RIGHT_BRACKET=93;w.CARET=94;w.UNDERSCORE=95;w.GRAVE=96;w.A=97;w.B=98;w.C=99;w.D=100;w.E=101;w.F=102;w.G=103;w.H=104;w.I=105;w.J=106;w.K=107;w.L=108;w.M=109;w.N=110;
w.O=111;w.P=112;w.Q=113;w.R=114;w.S=115;w.T=116;w.U=117;w.V=118;w.W=119;w.X=120;w.Y=121;w.Z=122;w.DELETE=127;w.CAPS_LOCK=1073741881;w.F1=1073741882;w.F2=1073741883;w.F3=1073741884;w.F4=1073741885;w.F5=1073741886;w.F6=1073741887;w.F7=1073741888;w.F8=1073741889;w.F9=1073741890;w.F10=1073741891;w.F11=1073741892;w.F12=1073741893;w.PRINT_SCREEN=1073741894;w.SCROLL_LOCK=1073741895;w.PAUSE=1073741896;w.INSERT=1073741897;w.HOME=1073741898;w.PAGE_UP=1073741899;w.END=1073741901;w.PAGE_DOWN=1073741902;w.RIGHT=
1073741903;w.LEFT=1073741904;w.DOWN=1073741905;w.UP=1073741906;w.NUM_LOCK=1073741907;w.NUMPAD_DIVIDE=1073741908;w.NUMPAD_MULTIPLY=1073741909;w.NUMPAD_MINUS=1073741910;w.NUMPAD_PLUS=1073741911;w.NUMPAD_ENTER=1073741912;w.NUMPAD_1=1073741913;w.NUMPAD_2=1073741914;w.NUMPAD_3=1073741915;w.NUMPAD_4=1073741916;w.NUMPAD_5=1073741917;w.NUMPAD_6=1073741918;w.NUMPAD_7=1073741919;w.NUMPAD_8=1073741920;w.NUMPAD_9=1073741921;w.NUMPAD_0=1073741922;w.NUMPAD_PERIOD=1073741923;w.APPLICATION=1073741925;w.POWER=1073741926;
w.NUMPAD_EQUALS=1073741927;w.F13=1073741928;w.F14=1073741929;w.F15=1073741930;w.F16=1073741931;w.F17=1073741932;w.F18=1073741933;w.F19=1073741934;w.F20=1073741935;w.F21=1073741936;w.F22=1073741937;w.F23=1073741938;w.F24=1073741939;w.EXECUTE=1073741940;w.HELP=1073741941;w.MENU=1073741942;w.SELECT=1073741943;w.STOP=1073741944;w.AGAIN=1073741945;w.UNDO=1073741946;w.CUT=1073741947;w.COPY=1073741948;w.PASTE=1073741949;w.FIND=1073741950;w.MUTE=1073741951;w.VOLUME_UP=1073741952;w.VOLUME_DOWN=1073741953;
w.NUMPAD_COMMA=1073741957;w.ALT_ERASE=1073741977;w.SYSTEM_REQUEST=1073741978;w.CANCEL=1073741979;w.CLEAR=1073741980;w.PRIOR=1073741981;w.RETURN2=1073741982;w.SEPARATOR=1073741983;w.OUT=1073741984;w.OPER=1073741985;w.CLEAR_AGAIN=1073741986;w.CRSEL=1073741987;w.EXSEL=1073741988;w.NUMPAD_00=1073742E3;w.NUMPAD_000=1073742001;w.THOUSAND_SEPARATOR=1073742002;w.DECIMAL_SEPARATOR=1073742003;w.CURRENCY_UNIT=1073742004;w.CURRENCY_SUBUNIT=1073742005;w.NUMPAD_LEFT_PARENTHESIS=1073742006;w.NUMPAD_RIGHT_PARENTHESIS=
1073742007;w.NUMPAD_LEFT_BRACE=1073742008;w.NUMPAD_RIGHT_BRACE=1073742009;w.NUMPAD_TAB=1073742010;w.NUMPAD_BACKSPACE=1073742011;w.NUMPAD_A=1073742012;w.NUMPAD_B=1073742013;w.NUMPAD_C=1073742014;w.NUMPAD_D=1073742015;w.NUMPAD_E=1073742016;w.NUMPAD_F=1073742017;w.NUMPAD_XOR=1073742018;w.NUMPAD_POWER=1073742019;w.NUMPAD_PERCENT=1073742020;w.NUMPAD_LESS_THAN=1073742021;w.NUMPAD_GREATER_THAN=1073742022;w.NUMPAD_AMPERSAND=1073742023;w.NUMPAD_DOUBLE_AMPERSAND=1073742024;w.NUMPAD_VERTICAL_BAR=1073742025;
w.NUMPAD_DOUBLE_VERTICAL_BAR=1073742026;w.NUMPAD_COLON=1073742027;w.NUMPAD_HASH=1073742028;w.NUMPAD_SPACE=1073742029;w.NUMPAD_AT=1073742030;w.NUMPAD_EXCLAMATION=1073742031;w.NUMPAD_MEM_STORE=1073742032;w.NUMPAD_MEM_RECALL=1073742033;w.NUMPAD_MEM_CLEAR=1073742034;w.NUMPAD_MEM_ADD=1073742035;w.NUMPAD_MEM_SUBTRACT=1073742036;w.NUMPAD_MEM_MULTIPLY=1073742037;w.NUMPAD_MEM_DIVIDE=1073742038;w.NUMPAD_PLUS_MINUS=1073742039;w.NUMPAD_CLEAR=1073742040;w.NUMPAD_CLEAR_ENTRY=1073742041;w.NUMPAD_BINARY=1073742042;
w.NUMPAD_OCTAL=1073742043;w.NUMPAD_DECIMAL=1073742044;w.NUMPAD_HEXADECIMAL=1073742045;w.LEFT_CTRL=1073742048;w.LEFT_SHIFT=1073742049;w.LEFT_ALT=1073742050;w.LEFT_META=1073742051;w.RIGHT_CTRL=1073742052;w.RIGHT_SHIFT=1073742053;w.RIGHT_ALT=1073742054;w.RIGHT_META=1073742055;w.MODE=1073742081;w.AUDIO_NEXT=1073742082;w.AUDIO_PREVIOUS=1073742083;w.AUDIO_STOP=1073742084;w.AUDIO_PLAY=1073742085;w.AUDIO_MUTE=1073742086;w.MEDIA_SELECT=1073742087;w.WWW=1073742088;w.MAIL=1073742089;w.CALCULATOR=1073742090;
w.COMPUTER=1073742091;w.APP_CONTROL_SEARCH=1073742092;w.APP_CONTROL_HOME=1073742093;w.APP_CONTROL_BACK=1073742094;w.APP_CONTROL_FORWARD=1073742095;w.APP_CONTROL_STOP=1073742096;w.APP_CONTROL_REFRESH=1073742097;w.APP_CONTROL_BOOKMARKS=1073742098;w.BRIGHTNESS_DOWN=1073742099;w.BRIGHTNESS_UP=1073742100;w.DISPLAY_SWITCH=1073742101;w.BACKLIGHT_TOGGLE=1073742102;w.BACKLIGHT_DOWN=1073742103;w.BACKLIGHT_UP=1073742104;w.EJECT=1073742105;w.SLEEP=1073742106;qa.NONE=0;qa.LEFT_SHIFT=1;qa.RIGHT_SHIFT=2;qa.LEFT_CTRL=
64;qa.RIGHT_CTRL=128;qa.LEFT_ALT=256;qa.RIGHT_ALT=512;qa.LEFT_META=1024;qa.RIGHT_META=2048;qa.NUM_LOCK=4096;qa.CAPS_LOCK=8192;qa.MODE=16384;qa.CTRL=192;qa.SHIFT=3;qa.ALT=768;qa.META=3072;E.UNKNOWN=0;E.BACKSPACE=42;E.TAB=43;E.RETURN=40;E.ESCAPE=41;E.SPACE=44;E.SINGLE_QUOTE=52;E.COMMA=54;E.MINUS=45;E.PERIOD=55;E.SLASH=56;E.NUMBER_0=39;E.NUMBER_1=30;E.NUMBER_2=31;E.NUMBER_3=32;E.NUMBER_4=33;E.NUMBER_5=34;E.NUMBER_6=35;E.NUMBER_7=36;E.NUMBER_8=37;E.NUMBER_9=38;E.SEMICOLON=51;E.EQUALS=46;E.LEFT_BRACKET=
47;E.BACKSLASH=49;E.RIGHT_BRACKET=48;E.GRAVE=53;E.A=4;E.B=5;E.C=6;E.D=7;E.E=8;E.F=9;E.G=10;E.H=11;E.I=12;E.J=13;E.K=14;E.L=15;E.M=16;E.N=17;E.O=18;E.P=19;E.Q=20;E.R=21;E.S=22;E.T=23;E.U=24;E.V=25;E.W=26;E.X=27;E.Y=28;E.Z=29;E.DELETE=76;E.CAPS_LOCK=57;E.F1=58;E.F2=59;E.F3=60;E.F4=61;E.F5=62;E.F6=63;E.F7=64;E.F8=65;E.F9=66;E.F10=67;E.F11=68;E.F12=69;E.PRINT_SCREEN=70;E.SCROLL_LOCK=71;E.PAUSE=72;E.INSERT=73;E.HOME=74;E.PAGE_UP=75;E.END=77;E.PAGE_DOWN=78;E.RIGHT=79;E.LEFT=80;E.DOWN=81;E.UP=82;E.NUM_LOCK=
83;E.NUMPAD_DIVIDE=84;E.NUMPAD_MULTIPLY=85;E.NUMPAD_MINUS=86;E.NUMPAD_PLUS=87;E.NUMPAD_ENTER=88;E.NUMPAD_1=89;E.NUMPAD_2=90;E.NUMPAD_3=91;E.NUMPAD_4=92;E.NUMPAD_5=93;E.NUMPAD_6=94;E.NUMPAD_7=95;E.NUMPAD_8=96;E.NUMPAD_9=97;E.NUMPAD_0=98;E.NUMPAD_PERIOD=99;E.APPLICATION=101;E.POWER=102;E.NUMPAD_EQUALS=103;E.F13=104;E.F14=105;E.F15=106;E.F16=107;E.F17=108;E.F18=109;E.F19=110;E.F20=111;E.F21=112;E.F22=113;E.F23=114;E.F24=115;E.EXECUTE=116;E.HELP=117;E.MENU=118;E.SELECT=119;E.STOP=120;E.AGAIN=121;E.UNDO=
122;E.CUT=123;E.COPY=124;E.PASTE=125;E.FIND=126;E.MUTE=127;E.VOLUME_UP=128;E.VOLUME_DOWN=129;E.NUMPAD_COMMA=133;E.ALT_ERASE=153;E.SYSTEM_REQUEST=154;E.CANCEL=155;E.CLEAR=156;E.PRIOR=157;E.RETURN2=158;E.SEPARATOR=159;E.OUT=160;E.OPER=161;E.CLEAR_AGAIN=162;E.CRSEL=163;E.EXSEL=164;E.NUMPAD_00=176;E.NUMPAD_000=177;E.THOUSAND_SEPARATOR=178;E.DECIMAL_SEPARATOR=179;E.CURRENCY_UNIT=180;E.CURRENCY_SUBUNIT=181;E.NUMPAD_LEFT_PARENTHESIS=182;E.NUMPAD_RIGHT_PARENTHESIS=183;E.NUMPAD_LEFT_BRACE=184;E.NUMPAD_RIGHT_BRACE=
185;E.NUMPAD_TAB=186;E.NUMPAD_BACKSPACE=187;E.NUMPAD_A=188;E.NUMPAD_B=189;E.NUMPAD_C=190;E.NUMPAD_D=191;E.NUMPAD_E=192;E.NUMPAD_F=193;E.NUMPAD_XOR=194;E.NUMPAD_POWER=195;E.NUMPAD_PERCENT=196;E.NUMPAD_LESS_THAN=197;E.NUMPAD_GREATER_THAN=198;E.NUMPAD_AMPERSAND=199;E.NUMPAD_DOUBLE_AMPERSAND=200;E.NUMPAD_VERTICAL_BAR=201;E.NUMPAD_DOUBLE_VERTICAL_BAR=202;E.NUMPAD_COLON=203;E.NUMPAD_HASH=204;E.NUMPAD_SPACE=205;E.NUMPAD_AT=206;E.NUMPAD_EXCLAMATION=207;E.NUMPAD_MEM_STORE=208;E.NUMPAD_MEM_RECALL=209;E.NUMPAD_MEM_CLEAR=
210;E.NUMPAD_MEM_ADD=211;E.NUMPAD_MEM_SUBTRACT=212;E.NUMPAD_MEM_MULTIPLY=213;E.NUMPAD_MEM_DIVIDE=214;E.NUMPAD_PLUS_MINUS=215;E.NUMPAD_CLEAR=216;E.NUMPAD_CLEAR_ENTRY=217;E.NUMPAD_BINARY=218;E.NUMPAD_OCTAL=219;E.NUMPAD_DECIMAL=220;E.NUMPAD_HEXADECIMAL=221;E.LEFT_CTRL=224;E.LEFT_SHIFT=225;E.LEFT_ALT=226;E.LEFT_META=227;E.RIGHT_CTRL=228;E.RIGHT_SHIFT=229;E.RIGHT_ALT=230;E.RIGHT_META=231;E.MODE=257;E.AUDIO_NEXT=258;E.AUDIO_PREVIOUS=259;E.AUDIO_STOP=260;E.AUDIO_PLAY=261;E.AUDIO_MUTE=262;E.MEDIA_SELECT=
263;E.WWW=264;E.MAIL=265;E.CALCULATOR=266;E.COMPUTER=267;E.APP_CONTROL_SEARCH=268;E.APP_CONTROL_HOME=269;E.APP_CONTROL_BACK=270;E.APP_CONTROL_FORWARD=271;E.APP_CONTROL_STOP=272;E.APP_CONTROL_REFRESH=273;E.APP_CONTROL_BOOKMARKS=274;E.BRIGHTNESS_DOWN=275;E.BRIGHTNESS_UP=276;E.DISPLAY_SWITCH=277;E.BACKLIGHT_TOGGLE=278;E.BACKLIGHT_DOWN=279;E.BACKLIGHT_UP=280;E.EJECT=281;E.SLEEP=282;Sb.onEnd=new Mg;Sb.onMove=new Mg;Sb.onStart=new Mg;Q.cache=new Zk;Q.onChange=new Tb;Q.libraries=new pa;Q.libraryPaths=new pa;
Ni.BYTES_PER_ELEMENT=4;Oi.BYTES_PER_ELEMENT=8;Pi.BYTES_PER_ELEMENT=2;Qi.BYTES_PER_ELEMENT=4;Ri.BYTES_PER_ELEMENT=1;La.throwErrors=!0;Qd.NONE=0;Qd.ERROR=1;Qd.WARN=2;Qd.INFO=3;Qd.DEBUG=4;Qd.VERBOSE=5;Si.BYTES_PER_ELEMENT=2;Ti.BYTES_PER_ELEMENT=4;Ui.BYTES_PER_ELEMENT=1;Qg.BYTES_PER_ELEMENT=1;Za.actuators=[];Za.actuatorsLength=0;Za.addedEvent=!1;ya.defaultActuator=Za;ya.defaultEase=Rg.get_easeOut();ya.targetLibraries=new ac;ia.current=new Oc;ia.__sentWarnings=new pa;pc.empty=new pc;I.SIN45=.7071067811865476;
I.TAN22=.41421356237309503;I.fillCommands=new pc;I.strokeCommands=new pc;r.SIN45=.7071067811865476;r.TAN22=.41421356237309503;r.fillCommands=new pc;r.strokeCommands=new pc;r.hitTestCanvas=window.document.createElement("canvas");r.hitTestContext=r.hitTestCanvas.getContext("2d");Vb.__regexColor=new Ba("color=(\"#([^\"]+)\"|'#([^']+)')","i");Vb.__regexFace=new Ba("face=(\"([^\"]+)\"|'([^']+)')","i");Vb.__regexFont=new Ba("<font ([^>]+)>","gi");Vb.__regexCloseFont=new Ba("</font>","gi");Vb.__regexSize=
new Ba("size=(\"([^\"]+)\"|'([^']+)')>","i");vc.limitedProfile=!0;ag.FLOATS_PER_REGISTER=4;ag.MAX_NUM_REGISTERS=1024;ag.disableCache=!0;K.debug=!1;Wd.instances=new pa;Qa.UTF8_TAB=9;Qa.UTF8_ENDLINE=10;Qa.UTF8_SPACE=32;Qa.UTF8_HYPHEN=45;Qa.__defaultFonts=new pa;eh.P=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,
48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,
81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180,151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,
143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,
127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];wc.ADD=0;wc.ALPHA=1;wc.DARKEN=2;wc.DIFFERENCE=3;wc.ERASE=4;wc.HARDLIGHT=5;wc.INVERT=6;wc.LAYER=7;wc.LIGHTEN=8;wc.MULTIPLY=9;wc.NORMAL=10;wc.OVERLAY=11;wc.SCREEN=12;wc.SHADER=13;wc.SUBTRACT=14;Yf.NONE=0;Yf.ROUND=1;Yf.SQUARE=2;yj.LINEAR=0;yj.RADIAL=1;zj.EVEN_ODD=0;zj.NON_ZERO=1;Aj.LINEAR_RGB=0;Aj.RGB=1;Xf.BEVEL=0;Xf.MITER=1;Xf.ROUND=2;gg.HORIZONTAL=0;gg.NONE=1;gg.NORMAL=2;gg.VERTICAL=3;te.__rootURL=window.document.URL;
tf.CONTEXT_LOST="glcontextlost";tf.CONTEXT_RESTORED="glcontextrestored";ih.ALWAYS=0;ih.AUTO=1;ih.NEVER=2;Gb.BOOL=0;Gb.BOOL2=1;Gb.BOOL3=2;Gb.BOOL4=3;Gb.FLOAT=4;Gb.FLOAT2=5;Gb.FLOAT3=6;Gb.FLOAT4=7;Gb.INT=8;Gb.INT2=9;Gb.INT3=10;Gb.INT4=11;Gb.MATRIX2X2=12;Gb.MATRIX2X3=13;Gb.MATRIX2X4=14;Gb.MATRIX3X2=15;Gb.MATRIX3X3=16;Gb.MATRIX3X4=17;Gb.MATRIX4X2=18;Gb.MATRIX4X3=19;Gb.MATRIX4X4=20;Cj.FAST=0;Cj.FULL=1;kh.PAD=0;kh.REFLECT=1;kh.REPEAT=2;ae.BOTTOM=0;ae.BOTTOM_LEFT=1;ae.BOTTOM_RIGHT=2;ae.LEFT=3;ae.RIGHT=4;
ae.TOP=5;ae.TOP_LEFT=6;ae.TOP_RIGHT=7;mh.FULL_SCREEN=0;mh.FULL_SCREEN_INTERACTIVE=1;mh.NORMAL=2;jg.BEST=0;jg.HIGH=1;jg.LOW=2;jg.MEDIUM=3;kg.EXACT_FIT=0;kg.NO_BORDER=1;kg.NO_SCALE=2;kg.SHOW_ALL=3;nh.NEGATIVE=0;nh.NONE=1;nh.POSITIVE=2;ab.supportsVideoTexture=!0;ab.MAX_SAMPLERS=8;ab.MAX_ATTRIBUTES=16;ab.MAX_PROGRAM_REGISTERS=128;ab.TEXTURE_MAX_ANISOTROPY_EXT=0;ab.DEPTH_STENCIL=0;ab.__stateCache=new ag;fd.DRAW_CALLS=0;fd.COUNT_INDEX_BUFFER=1;fd.COUNT_VERTEX_BUFFER=2;fd.COUNT_TEXTURE=3;fd.COUNT_TEXTURE_COMPRESSED=
4;fd.COUNT_PROGRAM=5;fd.MEM_INDEX_BUFFER=6;fd.MEM_VERTEX_BUFFER=7;fd.MEM_TEXTURE=8;fd.MEM_TEXTURE_COMPRESSED=9;fd.MEM_PROGRAM=10;fd.$length=11;gd.DESTINATION_ALPHA=0;gd.DESTINATION_COLOR=1;gd.ONE=2;gd.ONE_MINUS_DESTINATION_ALPHA=3;gd.ONE_MINUS_DESTINATION_COLOR=4;gd.ONE_MINUS_SOURCE_ALPHA=5;gd.ONE_MINUS_SOURCE_COLOR=6;gd.SOURCE_ALPHA=7;gd.SOURCE_COLOR=8;gd.ZERO=9;Te.DYNAMIC_DRAW=0;Te.STATIC_DRAW=1;be.ALWAYS=0;be.EQUAL=1;be.GREATER=2;be.GREATER_EQUAL=3;be.LESS=4;be.LESS_EQUAL=5;be.NEVER=6;be.NOT_EQUAL=
7;ph.MIPLINEAR=0;ph.MIPNEAREST=1;ph.MIPNONE=2;Ee.BASELINE=0;Ee.BASELINE_CONSTRAINED=1;Ee.BASELINE_EXTENDED=2;Ee.STANDARD=3;Ee.STANDARD_CONSTRAINED=4;Pc.FRAGMENT=0;Pc.VERTEX=1;Fj.AUTO=0;Fj.SOFTWARE=1;ce.DECREMENT_SATURATE=0;ce.DECREMENT_WRAP=1;ce.INCREMENT_SATURATE=2;ce.INCREMENT_WRAP=3;ce.INVERT=4;ce.KEEP=5;ce.SET=6;ce.ZERO=7;Ue.ANISOTROPIC16X=0;Ue.ANISOTROPIC2X=1;Ue.ANISOTROPIC4X=2;Ue.ANISOTROPIC8X=3;Ue.LINEAR=4;Ue.NEAREST=5;ue.BGR_PACKED=0;ue.BGRA=1;ue.BGRA_PACKED=2;ue.COMPRESSED=3;ue.COMPRESSED_ALPHA=
4;ue.RGBA_HALF_FLOAT=5;mg.BACK=0;mg.FRONT=1;mg.FRONT_AND_BACK=2;mg.NONE=3;vf.BYTES_4=0;vf.FLOAT_1=1;vf.FLOAT_2=2;vf.FLOAT_3=3;vf.FLOAT_4=4;ng.CLAMP=0;ng.CLAMP_U_REPEAT_V=1;ng.REPEAT=2;ng.REPEAT_U_CLAMP_V=3;oh.verbose=5==La.level;Jd.__lowMemoryMode=!1;Ve.ACTIVITY="activity";td.LINK="link";td.TEXT_INPUT="textInput";Nc.ERROR="error";$d.FOCUS_IN="focusIn";$d.FOCUS_OUT="focusOut";$d.KEY_FOCUS_CHANGE="keyFocusChange";$d.MOUSE_FOCUS_CHANGE="mouseFocusChange";ee.FULL_SCREEN="fullScreen";ee.FULL_SCREEN_INTERACTIVE_ACCEPTED=
"fullScreenInteractiveAccepted";ve.DEVICE_ADDED="deviceAdded";ve.DEVICE_REMOVED="deviceRemoved";ve.DEVICE_UNUSABLE="deviceUnusable";pg.HTTP_RESPONSE_STATUS="httpResponseStatus";pg.HTTP_STATUS="httpStatus";sd.IO_ERROR="ioError";uf.KEY_DOWN="keyDown";uf.KEY_UP="keyUp";Ga.CLICK="click";Ga.DOUBLE_CLICK="doubleClick";Ga.MIDDLE_CLICK="middleClick";Ga.MIDDLE_MOUSE_DOWN="middleMouseDown";Ga.MIDDLE_MOUSE_UP="middleMouseUp";Ga.MOUSE_DOWN="mouseDown";Ga.MOUSE_MOVE="mouseMove";Ga.MOUSE_OUT="mouseOut";Ga.MOUSE_OVER=
"mouseOver";Ga.MOUSE_UP="mouseUp";Ga.MOUSE_WHEEL="mouseWheel";Ga.RIGHT_CLICK="rightClick";Ga.RIGHT_MOUSE_DOWN="rightMouseDown";Ga.RIGHT_MOUSE_UP="rightMouseUp";Ga.ROLL_OUT="rollOut";Ga.ROLL_OVER="rollOver";we.NET_STATUS="netStatus";Yd.PROGRESS="progress";Yd.SOCKET_DATA="socketData";qg.SECURITY_ERROR="securityError";xe.TIMER="timer";xe.TIMER_COMPLETE="timerComplete";hc.TOUCH_BEGIN="touchBegin";hc.TOUCH_END="touchEnd";hc.TOUCH_MOVE="touchMove";hc.TOUCH_OUT="touchOut";hc.TOUCH_OVER="touchOver";hc.TOUCH_ROLL_OUT=
"touchRollOut";hc.TOUCH_ROLL_OVER="touchRollOver";hc.TOUCH_TAP="touchTap";ig.UNCAUGHT_ERROR="uncaughtError";Ne.__blurShader=new Hj;Oe.__colorMatrixShader=new Ij;Zc.__glowShader=new Jj;qh.AXIS_ANGLE=0;qh.EULER_ANGLES=1;qh.QUATERNION=2;Ka.__temp=new Ka;Ab.MAX_ACTIVE_CHANNELS=32;Ab.__soundChannels=[];Ab.__soundTransform=new qd;Lj.CONNECT_SUCCESS="connectSuccess";rh.BINARY=0;rh.TEXT=1;rh.VARIABLES=2;hg.currentDomain=new hg(null);Ua.avHardwareDisable=!0;Ua.hasAccessibility=!1;Ua.hasAudio=!0;Ua.hasAudioEncoder=
!1;Ua.hasEmbeddedVideo=!1;Ua.hasIME=!1;Ua.hasMP3=!1;Ua.hasPrinting=!0;Ua.hasScreenBroadcast=!1;Ua.hasScreenPlayback=!1;Ua.hasStreamingAudio=!1;Ua.hasStreamingVideo=!1;Ua.hasTLS=!0;Ua.hasVideoEncoder=!0;Ua.isDebugger=!1;Ua.isEmbeddedInAcrobat=!1;Ua.localFileReadDisable=!0;Ua.maxLevelIDC=0;Ua.playerType="PlugIn";Ua.screenColor="color";Ua.serverString="";Ua.supports32BitProcesses=!1;Ua.supports64BitProcesses=!1;Ua.touchscreenType=0;Ua.__standardDensities=[120,160,240,320,480,640,800,960];Mj.currentDomain=
new Mj;Id.useCodePage=!1;sh.FINGER=0;sh.NONE=1;sh.STYLUS=2;Nj.ADVANCED=0;Nj.NORMAL=1;gc.__registeredFonts=[];rg.BOLD=0;rg.BOLD_ITALIC=1;rg.ITALIC=2;rg.REGULAR=3;th.DEVICE=0;th.EMBEDDED=1;th.EMBEDDED_CFF=2;uh.NONE=0;uh.PIXEL=1;uh.SUBPIXEL=2;ea.__missingFontWarning=new pa;ea.__regexAlign=new Ba("align=(\"([^\"]+)\"|'([^']+)')","i");ea.__regexColor=new Ba("color=(\"#([^\"]+)\"|'#([^']+)')","i");ea.__regexBlockIndent=new Ba("blockindent=(\"([^\"]+)\"|'([^']+)')","i");ea.__regexBreakTag=new Ba("<br\\s*/?>",
"gi");ea.__regexEntities=[new Ba("&quot;","g"),new Ba("&apos;","g"),new Ba("&amp;","g"),new Ba("&lt;","g"),new Ba("&gt;","g")];ea.__regexFace=new Ba("face=(\"([^\"]+)\"|'([^']+)')","i");ea.__regexHref=new Ba("href=(\"([^\"]+)\"|'([^']+)')","i");ea.__regexHTMLTag=new Ba("<.*?>","g");ea.__regexIndent=new Ba(" indent=(\"([^\"]+)\"|'([^']+)')","i");ea.__regexLeading=new Ba("leading=(\"([^\"]+)\"|'([^']+)')","i");ea.__regexLeftMargin=new Ba("leftmargin=(\"([^\"]+)\"|'([^']+)')","i");ea.__regexRightMargin=
new Ba("rightmargin=(\"([^\"]+)\"|'([^']+)')","i");ea.__regexTabStops=new Ba("tabstops=(\"([^\"]+)\"|'([^']+)')","i");ea.__regexSize=new Ba("size=(\"([^\"]+)\"|'([^']+)')","i");sg.CENTER=0;sg.LEFT=1;sg.NONE=2;sg.RIGHT=3;Oj.DYNAMIC=0;Oj.INPUT=1;ze.CENTER=0;ze.END=1;ze.JUSTIFY=2;ze.LEFT=3;ze.RIGHT=4;ze.START=5;Ja.isSupported=!0;Ja.numDevices=0;Ja.__deviceList=[];Ja.__devices=new ac;Ja.__instances=[];Pj.MAX_BUFFER_SIZE=32E3;R.NUMBER_0=48;R.NUMBER_1=49;R.NUMBER_2=50;R.NUMBER_3=51;R.NUMBER_4=52;R.NUMBER_5=
53;R.NUMBER_6=54;R.NUMBER_7=55;R.NUMBER_8=56;R.NUMBER_9=57;R.A=65;R.B=66;R.C=67;R.D=68;R.E=69;R.F=70;R.G=71;R.H=72;R.I=73;R.J=74;R.K=75;R.L=76;R.M=77;R.N=78;R.O=79;R.P=80;R.Q=81;R.R=82;R.S=83;R.T=84;R.U=85;R.V=86;R.W=87;R.X=88;R.Y=89;R.Z=90;R.NUMPAD_0=96;R.NUMPAD_1=97;R.NUMPAD_2=98;R.NUMPAD_3=99;R.NUMPAD_4=100;R.NUMPAD_5=101;R.NUMPAD_6=102;R.NUMPAD_7=103;R.NUMPAD_8=104;R.NUMPAD_9=105;R.NUMPAD_MULTIPLY=106;R.NUMPAD_ADD=107;R.NUMPAD_ENTER=108;R.NUMPAD_SUBTRACT=109;R.NUMPAD_DECIMAL=110;R.NUMPAD_DIVIDE=
111;R.F1=112;R.F2=113;R.F3=114;R.F4=115;R.F5=116;R.F6=117;R.F7=118;R.F8=119;R.F9=120;R.F10=121;R.F11=122;R.F12=123;R.F13=124;R.F14=125;R.F15=126;R.BACKSPACE=8;R.TAB=9;R.ALTERNATE=18;R.ENTER=13;R.COMMAND=15;R.SHIFT=16;R.CONTROL=17;R.BREAK=19;R.CAPS_LOCK=20;R.NUMPAD=21;R.ESCAPE=27;R.SPACE=32;R.PAGE_UP=33;R.PAGE_DOWN=34;R.END=35;R.HOME=36;R.LEFT=37;R.RIGHT=39;R.UP=38;R.DOWN=40;R.INSERT=45;R.DELETE=46;R.NUMLOCK=144;R.SEMICOLON=186;R.EQUAL=187;R.COMMA=188;R.MINUS=189;R.PERIOD=190;R.SLASH=191;R.BACKQUOTE=
192;R.LEFTBRACKET=219;R.BACKSLASH=220;R.RIGHTBRACKET=221;R.QUOTE=222;ud.supportsCursor=!0;ud.supportsNativeCursor=!0;ud.__cursor="auto";G.OPMAP=new pa;G.REGMAP=new pa;G.SAMPLEMAP=new pa;G.MAX_NESTING=4;G.MAX_OPCODES=4096;G.FRAGMENT="fragment";G.VERTEX="vertex";G.SAMPLER_TYPE_SHIFT=8;G.SAMPLER_DIM_SHIFT=12;G.SAMPLER_SPECIAL_SHIFT=16;G.SAMPLER_REPEAT_SHIFT=20;G.SAMPLER_MIPMAP_SHIFT=24;G.SAMPLER_FILTER_SHIFT=28;G.REG_WRITE=1;G.REG_READ=2;G.REG_FRAG=32;G.REG_VERT=64;G.OP_SCALAR=1;G.OP_SPECIAL_TEX=8;G.OP_SPECIAL_MATRIX=
16;G.OP_FRAG_ONLY=32;G.OP_VERT_ONLY=64;G.OP_NO_DEST=128;G.OP_VERSION2=256;G.OP_INCNEST=512;G.OP_DECNEST=1024;G.MOV="mov";G.ADD="add";G.SUB="sub";G.MUL="mul";G.DIV="div";G.RCP="rcp";G.MIN="min";G.MAX="max";G.FRC="frc";G.SQT="sqt";G.RSQ="rsq";G.POW="pow";G.LOG="log";G.EXP="exp";G.NRM="nrm";G.SIN="sin";G.COS="cos";G.CRS="crs";G.DP3="dp3";G.DP4="dp4";G.ABS="abs";G.NEG="neg";G.SAT="sat";G.M33="m33";G.M44="m44";G.M34="m34";G.DDX="ddx";G.DDY="ddy";G.IFE="ife";G.INE="ine";G.IFG="ifg";G.IFL="ifl";G.IEG="ieg";
G.IEL="iel";G.ELS="els";G.EIF="eif";G.TED="ted";G.KIL="kil";G.TEX="tex";G.SGE="sge";G.SLT="slt";G.SGN="sgn";G.SEQ="seq";G.SNE="sne";G.VA="va";G.VC="vc";G.VT="vt";G.VO="vo";G.VI="vi";G.FC="fc";G.FT="ft";G.FS="fs";G.FO="fo";G.FD="fd";G.IID="iid";G.D2="2d";G.D3="3d";G.CUBE="cube";G.MIPNEAREST="mipnearest";G.MIPLINEAR="miplinear";G.MIPNONE="mipnone";G.NOMIP="nomip";G.NEAREST="nearest";G.LINEAR="linear";G.ANISOTROPIC2X="anisotropic2x";G.ANISOTROPIC4X="anisotropic4x";G.ANISOTROPIC8X="anisotropic8x";G.ANISOTROPIC16X=
"anisotropic16x";G.CENTROID="centroid";G.SINGLE="single";G.IGNORESAMPLER="ignoresampler";G.REPEAT="repeat";G.WRAP="wrap";G.CLAMP="clamp";G.REPEAT_U_CLAMP_V="repeat_u_clamp_v";G.CLAMP_U_REPEAT_V="clamp_u_repeat_v";G.RGBA="rgba";G.COMPRESSED="compressed";G.COMPRESSEDALPHA="compressedalpha";G.DXT1="dxt1";G.DXT5="dxt5";G.VIDEO="video";G.initialized=!1;ca.cache=new Qj;ca.dispatcher=new X;vh.DEFLATE=0;vh.LZMA=1;vh.ZLIB=2;Rj.BIG_ENDIAN=0;Rj.LITTLE_ENDIAN=1;tg.COLOR=[16777215,15000804,8947848,2236962,16754641,
15007744,15045888,10512962,15063296,9756740,179713,58864,33735,234,14699263,8519808];tb.CLUSTER_WIDTH=16;tb.CUBE_WIDTH=100;wd.WIDTH=1E3;xd.PIXEL_CANVAS_WIDTH=1E3;xd.PIXEL_CANVAS_HEIGHT=1E3;Ae.main()})("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
