var cobbles_runtime=function(){var oa="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(Q){function pa(a){var b=q[X>>2];a=b+a+15&-16;if(a<=F)q[X>>2]=a;else if(!qa(a))return 0;return b}function K(a,b){a||w("Assertion failed: "+b)}function ra(a){var b=e["_"+a];K(b,"Cannot call unknown function "+a+", make sure it is exported");return b}function sa(a,b,d,c,f){f={string:function(a){var b=0;if(null!==a&&void 0!==a&&0!==a){var d=(a.length<<2)+1,b=ta(d);
R(a,B,b,d)}return b},array:function(a){var b=ta(a.length);C.set(a,b);return b}};var l=ra(a),e=[];a=0;if(c)for(var r=0;r<c.length;r++){var g=f[d[r]];g?(0===a&&(a=L()),e[r]=g(c[r])):e[r]=c[r]}d=l.apply(null,e);d="string"===b?d?G(B,d,void 0):"":"boolean"===b?Boolean(d):d;0!==a&&M(a);return d}function G(a,b,d){var c=b+d;for(d=b;a[d]&&!(d>=c);)++d;if(16<d-b&&a.subarray&&ua)return ua.decode(a.subarray(b,d));for(c="";b<d;){var f=a[b++];if(f&128){var l=a[b++]&63;if(192==(f&224))c+=String.fromCharCode((f&
31)<<6|l);else{var e=a[b++]&63,f=224==(f&240)?(f&15)<<12|l<<6|e:(f&7)<<18|l<<12|e<<6|a[b++]&63;65536>f?c+=String.fromCharCode(f):(f-=65536,c+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else c+=String.fromCharCode(f)}return c}function R(a,b,d,c){if(!(0<c))return 0;var f=d;c=d+c-1;for(var l=0;l<a.length;++l){var e=a.charCodeAt(l);if(55296<=e&&57343>=e)var r=a.charCodeAt(++l),e=65536+((e&1023)<<10)|r&1023;if(127>=e){if(d>=c)break;b[d++]=e}else{if(2047>=e){if(d+1>=c)break;b[d++]=192|e>>6}else{if(65535>=
e){if(d+2>=c)break;b[d++]=224|e>>12}else{if(d+3>=c)break;b[d++]=240|e>>18;b[d++]=128|e>>12&63}b[d++]=128|e>>6&63}b[d++]=128|e&63}}b[d]=0;return d-f}function Z(a){for(var b=0,d=0;d<a.length;++d){var c=a.charCodeAt(d);55296<=c&&57343>=c&&(c=65536+((c&1023)<<10)|a.charCodeAt(++d)&1023);127>=c?++b:b=2047>=c?b+2:65535>=c?b+3:b+4}return b}function Ha(a){return a.replace(/__Z[\w\d_]+/g,function(a){return a===a?a:a+" ["+a+"]"})}function Ia(){var a;a:{a=Error();if(!a.stack){try{throw Error(0);}catch(b){a=
b}if(!a.stack){a="(no stack trace available)";break a}}a=a.stack.toString()}e.extraStackTrace&&(a+="\n"+e.extraStackTrace());return Ha(a)}function fa(a,b){0<a%b&&(a+=b-a%b);return a}function va(){e.HEAP8=C=new Int8Array(x);e.HEAP16=wa=new Int16Array(x);e.HEAP32=q=new Int32Array(x);e.HEAPU8=B=new Uint8Array(x);e.HEAPU16=new Uint16Array(x);e.HEAPU32=new Uint32Array(x);e.HEAPF32=new Float32Array(x);e.HEAPF64=new Float64Array(x)}function $(a){for(;0<a.length;){var b=a.shift();if("function"==typeof b)b();
else{var d=b.func;"number"===typeof d?void 0===b.arg?e.dynCall_v(d):e.dynCall_vi(d,b.arg):d(void 0===b.arg?null:b.arg)}}}function Ja(a){xa.unshift(a)}function ya(a){N++;e.monitorRunDependencies&&e.monitorRunDependencies(N)}function ga(a){N--;e.monitorRunDependencies&&e.monitorRunDependencies(N);0==N&&(null!==ha&&(clearInterval(ha),ha=null),S&&(a=S,S=null,a()))}function za(){try{if(e.wasmBinary)return new Uint8Array(e.wasmBinary);if(e.readBinary)return e.readBinary(z);throw"both async and sync fetching of the wasm failed";
}catch(a){w(a)}}function Ka(){return!e.wasmBinary&&(T||D)&&"function"===typeof fetch?fetch(z,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+z+"'";return a.arrayBuffer()}).catch(function(){return za()}):new Promise(function(a,b){a(za())})}function La(a){function b(a,b){e.asm=a.exports;ga("wasm-instantiate")}function d(a){b(a.instance)}function c(a){Ka().then(function(a){return WebAssembly.instantiate(a,f)}).then(a,function(a){E("failed to asynchronously prepare wasm: "+
a);w(a)})}var f={env:a,global:{NaN:NaN,Infinity:Infinity},"global.Math":Math,asm2wasm:Ma};ya("wasm-instantiate");if(e.instantiateWasm)try{return e.instantiateWasm(f,b)}catch(l){return E("Module.instantiateWasm callback failed with error: "+l),!1}!e.wasmBinary&&"function"===typeof WebAssembly.instantiateStreaming&&!(String.prototype.startsWith?z.startsWith(aa):0===z.indexOf(aa))&&"function"===typeof fetch?WebAssembly.instantiateStreaming(fetch(z,{credentials:"same-origin"}),f).then(d,function(a){E("wasm streaming compile failed: "+
a);E("falling back to ArrayBuffer instantiation");c(d)}):c(d);return{}}function ia(a){var b,d;ia.called?(d=q[a>>2],b=q[d>>2]):(ia.called=!0,y.USER=y.LOGNAME="web_user",y.PATH="/",y.PWD="/",y.HOME="/home/web_user",y.LANG="C.UTF-8",y._=e.thisProgram,b=!ba?pa(1024):ca(1024),d=!ba?pa(256):ca(256),q[d>>2]=b,q[a>>2]=d);a=[];var c=0,f;for(f in y)if("string"===typeof y[f]){var l=f+"="+y[f];a.push(l);c+=l.length}if(1024<c)throw Error("Environment size exceeded TOTAL_ENV_SIZE!");for(f=0;f<a.length;f++){for(var c=
l=a[f],k=b,r=0;r<c.length;++r)C[k++>>0]=c.charCodeAt(r);C[k>>0]=0;q[d+4*f>>2]=b;b+=l.length+1}q[d+4*a.length>>2]=0}function U(a){e.___errno_location&&(q[e.___errno_location()>>2]=a);return a}function Aa(a,b){P(a,b||1);throw"longjmp";}function qa(a){if(2147418112<a)return!1;for(var b=Math.max(F,16777216);b<a;)b=536870912>=b?fa(2*b,65536):Math.min(fa((3*b+2147483648)/4,65536),2147418112);var d;a=fa(b,65536);var c=e.buffer.byteLength;try{d=-1!==V.grow((a-c)/65536)?e.buffer=V.buffer:null}catch(f){d=null}if(!d||
d.byteLength!=b)return!1;e.buffer=x=d;va();F=b;return!0}function W(a){if(0===a)return 0;a=a?G(B,a,void 0):"";if(!y.hasOwnProperty(a))return 0;W.ret&&Na(W.ret);var b=W;a=y[a];var d=Z(a)+1,c=ca(d);c&&R(a,C,c,d);b.ret=c;return W.ret}function ja(){var a=ja;a.LLVM_SAVEDSTACKS||(a.LLVM_SAVEDSTACKS=[]);a.LLVM_SAVEDSTACKS.push(L());return a.LLVM_SAVEDSTACKS.length-1}function ka(a,b,d){d=0<d?d:Z(a)+1;d=Array(d);a=R(a,d,0,d.length);b&&(d.length=a);return d}function da(a){this.name="ExitStatus";this.message=
"Program terminated with exit("+a+")";this.status=a}function la(a){function b(){if(!e.calledRun&&(e.calledRun=!0,!Ba)){ba||(ba=!0,!e.noFSInit&&!c.init.initialized&&c.init(),H.init(),$(Ca));c.ignorePermissions=!1;$(Oa);if(e.onRuntimeInitialized)e.onRuntimeInitialized();if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var a=e.postRun.shift();Da.unshift(a)}$(Da)}}if(!(0<N)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)Ja(e.preRun.shift());
$(xa);!(0<N)&&!e.calledRun&&(e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1);b()},1)):b())}}function w(a){if(e.onAbort)e.onAbort(a);void 0!==a?(ea(a),E(a),a=JSON.stringify(a)):a="";Ba=!0;throw"abort("+a+"). Build with -s ASSERTIONS=1 for more info.";}Q=Q||{};var e="undefined"!==typeof Q?Q:{},I={},J;for(J in e)e.hasOwnProperty(J)&&(I[J]=e[J]);e.arguments=[];e.thisProgram="./this.program";e.quit=function(a,b){throw b;};e.preRun=[];e.postRun=[];
var T=!1,D=!1,O=!1,Ea=!1,T="object"===typeof window,D="function"===typeof importScripts,O="object"===typeof process&&"function"===typeof require&&!T&&!D,Ea=!T&&!O&&!D,A="";if(O){var A=__dirname+"/",ma,na;e.read=function(a,b){var d;ma||(ma=require("fs"));na||(na=require("path"));a=na.normalize(a);d=ma.readFileSync(a);return b?d:d.toString()};e.readBinary=function(a){a=e.read(a,!0);a.buffer||(a=new Uint8Array(a));K(a.buffer);return a};1<process.argv.length&&(e.thisProgram=process.argv[1].replace(/\\/g,
"/"));e.arguments=process.argv.slice(2);process.on("uncaughtException",function(a){if(!(a instanceof da))throw a;});process.on("unhandledRejection",w);e.quit=function(a){process.exit(a)};e.inspect=function(){return"[Emscripten Module object]"}}else if(Ea)"undefined"!=typeof read&&(e.read=function(a){return read(a)}),e.readBinary=function(a){if("function"===typeof readbuffer)return new Uint8Array(readbuffer(a));a=read(a,"binary");K("object"===typeof a);return a},"undefined"!=typeof scriptArgs?e.arguments=
scriptArgs:"undefined"!=typeof arguments&&(e.arguments=arguments),"function"===typeof quit&&(e.quit=function(a){quit(a)});else if(T||D)D?A=self.location.href:document.currentScript&&(A=document.currentScript.src),oa&&(A=oa),A=0!==A.indexOf("blob:")?A.substr(0,A.lastIndexOf("/")+1):"",e.read=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.send(null);return b.responseText},D&&(e.readBinary=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}),
e.readAsync=function(a,b,d){var c=new XMLHttpRequest;c.open("GET",a,!0);c.responseType="arraybuffer";c.onload=function(){200==c.status||0==c.status&&c.response?b(c.response):d()};c.onerror=d;c.send(null)},e.setWindowTitle=function(a){document.title=a};var ea=e.print||("undefined"!==typeof console?console.log.bind(console):"undefined"!==typeof print?print:null),E=e.printErr||("undefined"!==typeof printErr?printErr:"undefined"!==typeof console&&console.warn.bind(console)||ea);for(J in I)I.hasOwnProperty(J)&&
(e[J]=I[J]);var I=void 0,Ma={"f64-rem":function(a,b){return a%b},"debugger":function(){debugger}},Fa=0;"object"!==typeof WebAssembly&&E("no native wasm support detected");var V,Ba=!1,ua="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");var x,C,B,wa,q,X=374416,F=e.TOTAL_MEMORY||16777216;5242880>F&&E("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+F+"! (TOTAL_STACK=5242880)");e.buffer?x=e.buffer:("object"===typeof WebAssembly&&
"function"===typeof WebAssembly.Memory?(V=new WebAssembly.Memory({initial:F/65536}),x=V.buffer):x=new ArrayBuffer(F),e.buffer=x);va();q[X>>2]=5617552;var xa=[],Ca=[],Oa=[],Da=[],ba=!1,N=0,ha=null,S=null;e.preloadedImages={};e.preloadedAudios={};var aa="data:application/octet-stream;base64,",z="cobbles.wasm";if(!(String.prototype.startsWith?z.startsWith(aa):0===z.indexOf(aa)))z=e.locateFile?e.locateFile(z,A):A+z;e.asm=function(a,b,d){b.memory=V;b.table=new WebAssembly.Table({initial:854,maximum:854,
element:"anyfunc"});b.__memory_base=1024;b.__table_base=0;return La(b)};Ca.push({func:function(){Pa()}});var y={},n={splitPath:function(a){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(a).slice(1)},normalizeArray:function(a,b){for(var d=0,c=a.length-1;0<=c;c--){var f=a[c];"."===f?a.splice(c,1):".."===f?(a.splice(c,1),d++):d&&(a.splice(c,1),d--)}if(b)for(;d;d--)a.unshift("..");return a},normalize:function(a){var b="/"===a.charAt(0),d="/"===a.substr(-1);a=n.normalizeArray(a.split("/").filter(function(a){return!!a}),
!b).join("/");!a&&!b&&(a=".");a&&d&&(a+="/");return(b?"/":"")+a},dirname:function(a){var b=n.splitPath(a);a=b[0];b=b[1];if(!a&&!b)return".";b&&(b=b.substr(0,b.length-1));return a+b},basename:function(a){if("/"===a)return"/";var b=a.lastIndexOf("/");return-1===b?a:a.substr(b+1)},extname:function(a){return n.splitPath(a)[3]},join:function(){var a=Array.prototype.slice.call(arguments,0);return n.normalize(a.join("/"))},join2:function(a,b){return n.normalize(a+"/"+b)},resolve:function(){for(var a="",
b=!1,d=arguments.length-1;-1<=d&&!b;d--){b=0<=d?arguments[d]:c.cwd();if("string"!==typeof b)throw new TypeError("Arguments to path.resolve must be strings");if(!b)return"";a=b+"/"+a;b="/"===b.charAt(0)}a=n.normalizeArray(a.split("/").filter(function(a){return!!a}),!b).join("/");return(b?"/":"")+a||"."},relative:function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var d=a.length-1;0<=d&&""===a[d];d--);return b>d?[]:a.slice(b,d-b+1)}a=n.resolve(a).substr(1);b=n.resolve(b).substr(1);
for(var c=d(a.split("/")),f=d(b.split("/")),e=Math.min(c.length,f.length),k=e,r=0;r<e;r++)if(c[r]!==f[r]){k=r;break}e=[];for(r=k;r<c.length;r++)e.push("..");e=e.concat(f.slice(k));return e.join("/")}},H={ttys:[],init:function(){},shutdown:function(){},register:function(a,b){H.ttys[a]={input:[],output:[],ops:b};c.registerDevice(a,H.stream_ops)},stream_ops:{open:function(a){var b=H.ttys[a.node.rdev];if(!b)throw new c.ErrnoError(g.ENODEV);a.tty=b;a.seekable=!1},close:function(a){a.tty.ops.flush(a.tty)},
flush:function(a){a.tty.ops.flush(a.tty)},read:function(a,b,d,h,f){if(!a.tty||!a.tty.ops.get_char)throw new c.ErrnoError(g.ENXIO);for(var e=f=0;e<h;e++){var k;try{k=a.tty.ops.get_char(a.tty)}catch(r){throw new c.ErrnoError(g.EIO);}if(void 0===k&&0===f)throw new c.ErrnoError(g.EAGAIN);if(null===k||void 0===k)break;f++;b[d+e]=k}f&&(a.node.timestamp=Date.now());return f},write:function(a,b,d,h,f){if(!a.tty||!a.tty.ops.put_char)throw new c.ErrnoError(g.ENXIO);try{for(f=0;f<h;f++)a.tty.ops.put_char(a.tty,
b[d+f])}catch(e){throw new c.ErrnoError(g.EIO);}h&&(a.node.timestamp=Date.now());return f}},default_tty_ops:{get_char:function(a){if(!a.input.length){var b=null;if(O){var b=new Buffer(256),d=0,c=process.stdin.fd;if("win32"!=process.platform){var f=!1;try{c=u.openSync("/dev/stdin","r"),f=!0}catch(e){}}try{d=u.readSync(c,b,0,256,null)}catch(k){if(-1!=k.toString().indexOf("EOF"))d=0;else throw k;}f&&u.closeSync(c);b=0<d?b.slice(0,d).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==
typeof window.prompt?(b=window.prompt("Input: "),null!==b&&(b+="\n")):"function"==typeof readline&&(b=readline(),null!==b&&(b+="\n"));if(!b)return null;a.input=ka(b,!0)}return a.input.shift()},put_char:function(a,b){null===b||10===b?(ea(G(a.output,0)),a.output=[]):0!=b&&a.output.push(b)},flush:function(a){a.output&&0<a.output.length&&(ea(G(a.output,0)),a.output=[])}},default_tty1_ops:{put_char:function(a,b){null===b||10===b?(E(G(a.output,0)),a.output=[]):0!=b&&a.output.push(b)},flush:function(a){a.output&&
0<a.output.length&&(E(G(a.output,0)),a.output=[])}}},m={ops_table:null,mount:function(a){return m.createNode(null,"/",16895,0)},createNode:function(a,b,d,h){if(c.isBlkdev(d)||c.isFIFO(d))throw new c.ErrnoError(g.EPERM);m.ops_table||(m.ops_table={dir:{node:{getattr:m.node_ops.getattr,setattr:m.node_ops.setattr,lookup:m.node_ops.lookup,mknod:m.node_ops.mknod,rename:m.node_ops.rename,unlink:m.node_ops.unlink,rmdir:m.node_ops.rmdir,readdir:m.node_ops.readdir,symlink:m.node_ops.symlink},stream:{llseek:m.stream_ops.llseek}},
file:{node:{getattr:m.node_ops.getattr,setattr:m.node_ops.setattr},stream:{llseek:m.stream_ops.llseek,read:m.stream_ops.read,write:m.stream_ops.write,allocate:m.stream_ops.allocate,mmap:m.stream_ops.mmap,msync:m.stream_ops.msync}},link:{node:{getattr:m.node_ops.getattr,setattr:m.node_ops.setattr,readlink:m.node_ops.readlink},stream:{}},chrdev:{node:{getattr:m.node_ops.getattr,setattr:m.node_ops.setattr},stream:c.chrdev_stream_ops}});d=c.createNode(a,b,d,h);c.isDir(d.mode)?(d.node_ops=m.ops_table.dir.node,
d.stream_ops=m.ops_table.dir.stream,d.contents={}):c.isFile(d.mode)?(d.node_ops=m.ops_table.file.node,d.stream_ops=m.ops_table.file.stream,d.usedBytes=0,d.contents=null):c.isLink(d.mode)?(d.node_ops=m.ops_table.link.node,d.stream_ops=m.ops_table.link.stream):c.isChrdev(d.mode)&&(d.node_ops=m.ops_table.chrdev.node,d.stream_ops=m.ops_table.chrdev.stream);d.timestamp=Date.now();a&&(a.contents[b]=d);return d},getFileDataAsRegularArray:function(a){if(a.contents&&a.contents.subarray){for(var b=[],d=0;d<
a.usedBytes;++d)b.push(a.contents[d]);return b}return a.contents},getFileDataAsTypedArray:function(a){return!a.contents?new Uint8Array:a.contents.subarray?a.contents.subarray(0,a.usedBytes):new Uint8Array(a.contents)},expandFileStorage:function(a,b){var d=a.contents?a.contents.length:0;d>=b||(b=Math.max(b,d*(1048576>d?2:1.125)|0),0!=d&&(b=Math.max(b,256)),d=a.contents,a.contents=new Uint8Array(b),0<a.usedBytes&&a.contents.set(d.subarray(0,a.usedBytes),0))},resizeFileStorage:function(a,b){if(a.usedBytes!=
b)if(0==b)a.contents=null,a.usedBytes=0;else{if(!a.contents||a.contents.subarray){var d=a.contents;a.contents=new Uint8Array(new ArrayBuffer(b));d&&a.contents.set(d.subarray(0,Math.min(b,a.usedBytes)))}else if(a.contents||(a.contents=[]),a.contents.length>b)a.contents.length=b;else for(;a.contents.length<b;)a.contents.push(0);a.usedBytes=b}},node_ops:{getattr:function(a){var b={};b.dev=c.isChrdev(a.mode)?a.id:1;b.ino=a.id;b.mode=a.mode;b.nlink=1;b.uid=0;b.gid=0;b.rdev=a.rdev;c.isDir(a.mode)?b.size=
4096:c.isFile(a.mode)?b.size=a.usedBytes:c.isLink(a.mode)?b.size=a.link.length:b.size=0;b.atime=new Date(a.timestamp);b.mtime=new Date(a.timestamp);b.ctime=new Date(a.timestamp);b.blksize=4096;b.blocks=Math.ceil(b.size/b.blksize);return b},setattr:function(a,b){void 0!==b.mode&&(a.mode=b.mode);void 0!==b.timestamp&&(a.timestamp=b.timestamp);void 0!==b.size&&m.resizeFileStorage(a,b.size)},lookup:function(a,b){throw c.genericErrors[g.ENOENT];},mknod:function(a,b,d,c){return m.createNode(a,b,d,c)},rename:function(a,
b,d){if(c.isDir(a.mode)){var h;try{h=c.lookupNode(b,d)}catch(f){}if(h)for(var e in h.contents)throw new c.ErrnoError(g.ENOTEMPTY);}delete a.parent.contents[a.name];a.name=d;b.contents[d]=a;a.parent=b},unlink:function(a,b){delete a.contents[b]},rmdir:function(a,b){var d=c.lookupNode(a,b),h;for(h in d.contents)throw new c.ErrnoError(g.ENOTEMPTY);delete a.contents[b]},readdir:function(a){var b=[".",".."],d;for(d in a.contents)a.contents.hasOwnProperty(d)&&b.push(d);return b},symlink:function(a,b,d){a=
m.createNode(a,b,41471,0);a.link=d;return a},readlink:function(a){if(!c.isLink(a.mode))throw new c.ErrnoError(g.EINVAL);return a.link}},stream_ops:{read:function(a,b,d,c,f){var e=a.node.contents;if(f>=a.node.usedBytes)return 0;a=Math.min(a.node.usedBytes-f,c);if(8<a&&e.subarray)b.set(e.subarray(f,f+a),d);else for(c=0;c<a;c++)b[d+c]=e[f+c];return a},write:function(a,b,d,c,f,e){e=!1;if(!c)return 0;a=a.node;a.timestamp=Date.now();if(b.subarray&&(!a.contents||a.contents.subarray)){if(e)return a.contents=
b.subarray(d,d+c),a.usedBytes=c;if(0===a.usedBytes&&0===f)return a.contents=new Uint8Array(b.subarray(d,d+c)),a.usedBytes=c;if(f+c<=a.usedBytes)return a.contents.set(b.subarray(d,d+c),f),c}m.expandFileStorage(a,f+c);if(a.contents.subarray&&b.subarray)a.contents.set(b.subarray(d,d+c),f);else for(e=0;e<c;e++)a.contents[f+e]=b[d+e];a.usedBytes=Math.max(a.usedBytes,f+c);return c},llseek:function(a,b,d){1===d?b+=a.position:2===d&&c.isFile(a.node.mode)&&(b+=a.node.usedBytes);if(0>b)throw new c.ErrnoError(g.EINVAL);
return b},allocate:function(a,b,d){m.expandFileStorage(a.node,b+d);a.node.usedBytes=Math.max(a.node.usedBytes,b+d)},mmap:function(a,b,d,h,f,e,k){if(!c.isFile(a.node.mode))throw new c.ErrnoError(g.ENODEV);d=a.node.contents;if(!(k&2)&&(d.buffer===b||d.buffer===b.buffer))a=!1,h=d.byteOffset;else{if(0<f||f+h<a.node.usedBytes)d=d.subarray?d.subarray(f,f+h):Array.prototype.slice.call(d,f,f+h);a=!0;h=ca(h);if(!h)throw new c.ErrnoError(g.ENOMEM);b.set(d,h)}return{ptr:h,allocated:a}},msync:function(a,b,d,
h,f){if(!c.isFile(a.node.mode))throw new c.ErrnoError(g.ENODEV);if(f&2)return 0;m.stream_ops.write(a,b,0,h,d,!1);return 0}}},t={dbs:{},indexedDB:function(){if("undefined"!==typeof indexedDB)return indexedDB;var a=null;"object"===typeof window&&(a=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB);K(a,"IDBFS used, but indexedDB not supported");return a},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(a){return m.mount.apply(null,arguments)},syncfs:function(a,
b,d){t.getLocalSet(a,function(c,f){if(c)return d(c);t.getRemoteSet(a,function(a,c){if(a)return d(a);t.reconcile(b?c:f,b?f:c,d)})})},getDB:function(a,b){var d=t.dbs[a];if(d)return b(null,d);var c;try{c=t.indexedDB().open(a,t.DB_VERSION)}catch(f){return b(f)}if(!c)return b("Unable to connect to IndexedDB");c.onupgradeneeded=function(a){var b=a.target.result;a=a.target.transaction;b=b.objectStoreNames.contains(t.DB_STORE_NAME)?a.objectStore(t.DB_STORE_NAME):b.createObjectStore(t.DB_STORE_NAME);b.indexNames.contains("timestamp")||
b.createIndex("timestamp","timestamp",{unique:!1})};c.onsuccess=function(){d=c.result;t.dbs[a]=d;b(null,d)};c.onerror=function(a){b(this.error);a.preventDefault()}},getLocalSet:function(a,b){function d(a){return"."!==a&&".."!==a}function h(a){return function(b){return n.join2(a,b)}}for(var f={},e=c.readdir(a.mountpoint).filter(d).map(h(a.mountpoint));e.length;){var k=e.pop(),r;try{r=c.stat(k)}catch(g){return b(g)}c.isDir(r.mode)&&e.push.apply(e,c.readdir(k).filter(d).map(h(k)));f[k]={timestamp:r.mtime}}return b(null,
{type:"local",entries:f})},getRemoteSet:function(a,b){var d={};t.getDB(a.mountpoint,function(a,c){if(a)return b(a);try{var e=c.transaction([t.DB_STORE_NAME],"readonly");e.onerror=function(a){b(this.error);a.preventDefault()};e.objectStore(t.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(a){a=a.target.result;if(!a)return b(null,{type:"remote",db:c,entries:d});d[a.primaryKey]={timestamp:a.key};a.continue()}}catch(k){return b(k)}})},loadLocalEntry:function(a,b){var d,h;try{h=c.lookupPath(a).node,
d=c.stat(a)}catch(f){return b(f)}return c.isDir(d.mode)?b(null,{timestamp:d.mtime,mode:d.mode}):c.isFile(d.mode)?(h.contents=m.getFileDataAsTypedArray(h),b(null,{timestamp:d.mtime,mode:d.mode,contents:h.contents})):b(Error("node type not supported"))},storeLocalEntry:function(a,b,d){try{if(c.isDir(b.mode))c.mkdir(a,b.mode);else if(c.isFile(b.mode))c.writeFile(a,b.contents,{canOwn:!0});else return d(Error("node type not supported"));c.chmod(a,b.mode);c.utime(a,b.timestamp,b.timestamp)}catch(h){return d(h)}d(null)},
removeLocalEntry:function(a,b){try{c.lookupPath(a);var d=c.stat(a);c.isDir(d.mode)?c.rmdir(a):c.isFile(d.mode)&&c.unlink(a)}catch(h){return b(h)}b(null)},loadRemoteEntry:function(a,b,d){a=a.get(b);a.onsuccess=function(a){d(null,a.target.result)};a.onerror=function(a){d(this.error);a.preventDefault()}},storeRemoteEntry:function(a,b,d,c){a=a.put(d,b);a.onsuccess=function(){c(null)};a.onerror=function(a){c(this.error);a.preventDefault()}},removeRemoteEntry:function(a,b,d){a=a.delete(b);a.onsuccess=function(){d(null)};
a.onerror=function(a){d(this.error);a.preventDefault()}},reconcile:function(a,b,d){function c(a){if(a){if(!c.errored)return c.errored=!0,d(a)}else if(++r>=f)return d(null)}var f=0,e=[];Object.keys(a.entries).forEach(function(d){var c=a.entries[d],h=b.entries[d];if(!h||c.timestamp>h.timestamp)e.push(d),f++});var k=[];Object.keys(b.entries).forEach(function(b){a.entries[b]||(k.push(b),f++)});if(!f)return d(null);var r=0,g=("remote"===a.type?a.db:b.db).transaction([t.DB_STORE_NAME],"readwrite"),Y=g.objectStore(t.DB_STORE_NAME);
g.onerror=function(a){c(this.error);a.preventDefault()};e.sort().forEach(function(a){"local"===b.type?t.loadRemoteEntry(Y,a,function(b,d){if(b)return c(b);t.storeLocalEntry(a,d,c)}):t.loadLocalEntry(a,function(b,d){if(b)return c(b);t.storeRemoteEntry(Y,a,d,c)})});k.sort().reverse().forEach(function(a){"local"===b.type?t.removeLocalEntry(a,c):t.removeRemoteEntry(Y,a,c)})}},s={isWindows:!1,staticInit:function(){s.isWindows=!!process.platform.match(/^win/);var a=process.binding("constants");a.fs&&(a=
a.fs);s.flagsForNodeMap={1024:a.O_APPEND,64:a.O_CREAT,128:a.O_EXCL,"0":a.O_RDONLY,2:a.O_RDWR,4096:a.O_SYNC,512:a.O_TRUNC,1:a.O_WRONLY}},bufferFrom:function(a){return Buffer.alloc?Buffer.from(a):new Buffer(a)},mount:function(a){K(O);return s.createNode(null,"/",s.getMode(a.opts.root),0)},createNode:function(a,b,d,h){if(!c.isDir(d)&&!c.isFile(d)&&!c.isLink(d))throw new c.ErrnoError(g.EINVAL);a=c.createNode(a,b,d);a.node_ops=s.node_ops;a.stream_ops=s.stream_ops;return a},getMode:function(a){var b;try{b=
u.lstatSync(a),s.isWindows&&(b.mode|=(b.mode&292)>>2)}catch(d){if(!d.code)throw d;throw new c.ErrnoError(g[d.code]);}return b.mode},realPath:function(a){for(var b=[];a.parent!==a;)b.push(a.name),a=a.parent;b.push(a.mount.opts.root);b.reverse();return n.join.apply(null,b)},flagsForNode:function(a){a&=-2099201;a&=-32769;a&=-524289;var b=0,d;for(d in s.flagsForNodeMap)a&d&&(b|=s.flagsForNodeMap[d],a^=d);if(a)throw new c.ErrnoError(g.EINVAL);return b},node_ops:{getattr:function(a){a=s.realPath(a);var b;
try{b=u.lstatSync(a)}catch(d){if(!d.code)throw d;throw new c.ErrnoError(g[d.code]);}s.isWindows&&!b.blksize&&(b.blksize=4096);s.isWindows&&!b.blocks&&(b.blocks=(b.size+b.blksize-1)/b.blksize|0);return{dev:b.dev,ino:b.ino,mode:b.mode,nlink:b.nlink,uid:b.uid,gid:b.gid,rdev:b.rdev,size:b.size,atime:b.atime,mtime:b.mtime,ctime:b.ctime,blksize:b.blksize,blocks:b.blocks}},setattr:function(a,b){var d=s.realPath(a);try{void 0!==b.mode&&(u.chmodSync(d,b.mode),a.mode=b.mode);if(void 0!==b.timestamp){var h=
new Date(b.timestamp);u.utimesSync(d,h,h)}void 0!==b.size&&u.truncateSync(d,b.size)}catch(f){if(!f.code)throw f;throw new c.ErrnoError(g[f.code]);}},lookup:function(a,b){var d=n.join2(s.realPath(a),b),d=s.getMode(d);return s.createNode(a,b,d)},mknod:function(a,b,d,h){a=s.createNode(a,b,d,h);b=s.realPath(a);try{c.isDir(a.mode)?u.mkdirSync(b,a.mode):u.writeFileSync(b,"",{mode:a.mode})}catch(f){if(!f.code)throw f;throw new c.ErrnoError(g[f.code]);}return a},rename:function(a,b,d){a=s.realPath(a);b=n.join2(s.realPath(b),
d);try{u.renameSync(a,b)}catch(h){if(!h.code)throw h;throw new c.ErrnoError(g[h.code]);}},unlink:function(a,b){var d=n.join2(s.realPath(a),b);try{u.unlinkSync(d)}catch(h){if(!h.code)throw h;throw new c.ErrnoError(g[h.code]);}},rmdir:function(a,b){var d=n.join2(s.realPath(a),b);try{u.rmdirSync(d)}catch(h){if(!h.code)throw h;throw new c.ErrnoError(g[h.code]);}},readdir:function(a){a=s.realPath(a);try{return u.readdirSync(a)}catch(b){if(!b.code)throw b;throw new c.ErrnoError(g[b.code]);}},symlink:function(a,
b,d){a=n.join2(s.realPath(a),b);try{u.symlinkSync(d,a)}catch(h){if(!h.code)throw h;throw new c.ErrnoError(g[h.code]);}},readlink:function(a){var b=s.realPath(a);try{return b=u.readlinkSync(b),b=Ga.relative(Ga.resolve(a.mount.opts.root),b)}catch(d){if(!d.code)throw d;throw new c.ErrnoError(g[d.code]);}}},stream_ops:{open:function(a){var b=s.realPath(a.node);try{c.isFile(a.node.mode)&&(a.nfd=u.openSync(b,s.flagsForNode(a.flags)))}catch(d){if(!d.code)throw d;throw new c.ErrnoError(g[d.code]);}},close:function(a){try{c.isFile(a.node.mode)&&
a.nfd&&u.closeSync(a.nfd)}catch(b){if(!b.code)throw b;throw new c.ErrnoError(g[b.code]);}},read:function(a,b,d,h,f){if(0===h)return 0;try{return u.readSync(a.nfd,s.bufferFrom(b.buffer),d,h,f)}catch(e){throw new c.ErrnoError(g[e.code]);}},write:function(a,b,d,h,f){try{return u.writeSync(a.nfd,s.bufferFrom(b.buffer),d,h,f)}catch(e){throw new c.ErrnoError(g[e.code]);}},llseek:function(a,b,d){if(1===d)b+=a.position;else if(2===d&&c.isFile(a.node.mode))try{var h=u.fstatSync(a.nfd);b+=h.size}catch(f){throw new c.ErrnoError(g[f.code]);
}if(0>b)throw new c.ErrnoError(g.EINVAL);return b}}},v={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(a){function b(a){a=a.split("/");for(var b=c,d=0;d<a.length-1;d++){var e=a.slice(0,d+1).join("/");f[e]||(f[e]=v.createNode(b,a[d],v.DIR_MODE,0));b=f[e]}return b}function d(a){a=a.split("/");return a[a.length-1]}K(D);v.reader||(v.reader=new FileReaderSync);var c=v.createNode(null,"/",v.DIR_MODE,0),f={};Array.prototype.forEach.call(a.opts.files||[],function(a){v.createNode(b(a.name),d(a.name),
v.FILE_MODE,0,a,a.lastModifiedDate)});(a.opts.blobs||[]).forEach(function(a){v.createNode(b(a.name),d(a.name),v.FILE_MODE,0,a.data)});(a.opts.packages||[]).forEach(function(a){a.metadata.files.forEach(function(c){var f=c.filename.substr(1);v.createNode(b(f),d(f),v.FILE_MODE,0,a.blob.slice(c.start,c.end))})});return c},createNode:function(a,b,d,h,f,e){h=c.createNode(a,b,d);h.mode=d;h.node_ops=v.node_ops;h.stream_ops=v.stream_ops;h.timestamp=(e||new Date).getTime();K(v.FILE_MODE!==v.DIR_MODE);d===v.FILE_MODE?
(h.size=f.size,h.contents=f):(h.size=4096,h.contents={});a&&(a.contents[b]=h);return h},node_ops:{getattr:function(a){return{dev:1,ino:void 0,mode:a.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:a.size,atime:new Date(a.timestamp),mtime:new Date(a.timestamp),ctime:new Date(a.timestamp),blksize:4096,blocks:Math.ceil(a.size/4096)}},setattr:function(a,b){void 0!==b.mode&&(a.mode=b.mode);void 0!==b.timestamp&&(a.timestamp=b.timestamp)},lookup:function(a,b){throw new c.ErrnoError(g.ENOENT);},mknod:function(a,
b,d,h){throw new c.ErrnoError(g.EPERM);},rename:function(a,b,d){throw new c.ErrnoError(g.EPERM);},unlink:function(a,b){throw new c.ErrnoError(g.EPERM);},rmdir:function(a,b){throw new c.ErrnoError(g.EPERM);},readdir:function(a){var b=[".",".."],d;for(d in a.contents)a.contents.hasOwnProperty(d)&&b.push(d);return b},symlink:function(a,b,d){throw new c.ErrnoError(g.EPERM);},readlink:function(a){throw new c.ErrnoError(g.EPERM);}},stream_ops:{read:function(a,b,d,c,f){if(f>=a.node.size)return 0;a=a.node.contents.slice(f,
f+c);c=v.reader.readAsArrayBuffer(a);b.set(new Uint8Array(c),d);return a.size},write:function(a,b,d,h,f){throw new c.ErrnoError(g.EIO);},llseek:function(a,b,d){1===d?b+=a.position:2===d&&c.isFile(a.node.mode)&&(b+=a.node.size);if(0>b)throw new c.ErrnoError(g.EINVAL);return b}}},c={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,
syncFSRequests:0,handleFSError:function(a){if(!(a instanceof c.ErrnoError))throw a+" : "+Ia();return U(a.errno)},lookupPath:function(a,b){a=n.resolve(c.cwd(),a);b=b||{};if(!a)return{path:"",node:null};var d={follow_mount:!0,recurse_count:0},h;for(h in d)void 0===b[h]&&(b[h]=d[h]);if(8<b.recurse_count)throw new c.ErrnoError(40);var d=n.normalizeArray(a.split("/").filter(function(a){return!!a}),!1),f=c.root;h="/";for(var e=0;e<d.length;e++){var k=e===d.length-1;if(k&&b.parent)break;f=c.lookupNode(f,
d[e]);h=n.join2(h,d[e]);if(c.isMountpoint(f)&&(!k||k&&b.follow_mount))f=f.mounted.root;if(!k||b.follow)for(k=0;c.isLink(f.mode);)if(f=c.readlink(h),h=n.resolve(n.dirname(h),f),f=c.lookupPath(h,{recurse_count:b.recurse_count}).node,40<k++)throw new c.ErrnoError(40);}return{path:h,node:f}},getPath:function(a){for(var b;;){if(c.isRoot(a))return a=a.mount.mountpoint,!b?a:"/"!==a[a.length-1]?a+"/"+b:a+b;b=b?a.name+"/"+b:a.name;a=a.parent}},hashName:function(a,b){for(var d=0,h=0;h<b.length;h++)d=(d<<5)-
d+b.charCodeAt(h)|0;return(a+d>>>0)%c.nameTable.length},hashAddNode:function(a){var b=c.hashName(a.parent.id,a.name);a.name_next=c.nameTable[b];c.nameTable[b]=a},hashRemoveNode:function(a){var b=c.hashName(a.parent.id,a.name);if(c.nameTable[b]===a)c.nameTable[b]=a.name_next;else for(b=c.nameTable[b];b;){if(b.name_next===a){b.name_next=a.name_next;break}b=b.name_next}},lookupNode:function(a,b){var d=c.mayLookup(a);if(d)throw new c.ErrnoError(d,a);d=c.hashName(a.id,b);for(d=c.nameTable[d];d;d=d.name_next){var h=
d.name;if(d.parent.id===a.id&&h===b)return d}return c.lookup(a,b)},createNode:function(a,b,d,h){c.FSNode||(c.FSNode=function(a,b,d,h){a||(a=this);this.parent=a;this.mount=a.mount;this.mounted=null;this.id=c.nextInode++;this.name=b;this.mode=d;this.node_ops={};this.stream_ops={};this.rdev=h},c.FSNode.prototype={},Object.defineProperties(c.FSNode.prototype,{read:{get:function(){return 365===(this.mode&365)},set:function(a){a?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146===(this.mode&
146)},set:function(a){a?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return c.isDir(this.mode)}},isDevice:{get:function(){return c.isChrdev(this.mode)}}}));a=new c.FSNode(a,b,d,h);c.hashAddNode(a);return a},destroyNode:function(a){c.hashRemoveNode(a)},isRoot:function(a){return a===a.parent},isMountpoint:function(a){return!!a.mounted},isFile:function(a){return 32768===(a&61440)},isDir:function(a){return 16384===(a&61440)},isLink:function(a){return 40960===(a&61440)},isChrdev:function(a){return 8192===
(a&61440)},isBlkdev:function(a){return 24576===(a&61440)},isFIFO:function(a){return 4096===(a&61440)},isSocket:function(a){return 49152===(a&49152)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(a){var b=c.flagModes[a];if("undefined"===typeof b)throw Error("Unknown file open mode: "+a);return b},flagsToPermissionString:function(a){var b=["r","w","rw"][a&3];a&512&&(b+="w");return b},
nodePermissions:function(a,b){return c.ignorePermissions?0:-1!==b.indexOf("r")&&!(a.mode&292)||-1!==b.indexOf("w")&&!(a.mode&146)||-1!==b.indexOf("x")&&!(a.mode&73)?13:0},mayLookup:function(a){var b=c.nodePermissions(a,"x");return b?b:!a.node_ops.lookup?13:0},mayCreate:function(a,b){try{return c.lookupNode(a,b),17}catch(d){}return c.nodePermissions(a,"wx")},mayDelete:function(a,b,d){var h;try{h=c.lookupNode(a,b)}catch(f){return f.errno}if(a=c.nodePermissions(a,"wx"))return a;if(d){if(!c.isDir(h.mode))return 20;
if(c.isRoot(h)||c.getPath(h)===c.cwd())return 16}else if(c.isDir(h.mode))return 21;return 0},mayOpen:function(a,b){return!a?2:c.isLink(a.mode)?40:c.isDir(a.mode)&&("r"!==c.flagsToPermissionString(b)||b&512)?21:c.nodePermissions(a,c.flagsToPermissionString(b))},MAX_OPEN_FDS:4096,nextfd:function(a,b){b=b||c.MAX_OPEN_FDS;for(var d=a||0;d<=b;d++)if(!c.streams[d])return d;throw new c.ErrnoError(24);},getStream:function(a){return c.streams[a]},createStream:function(a,b,d){c.FSStream||(c.FSStream=function(){},
c.FSStream.prototype={},Object.defineProperties(c.FSStream.prototype,{object:{get:function(){return this.node},set:function(a){this.node=a}},isRead:{get:function(){return 1!==(this.flags&2097155)}},isWrite:{get:function(){return 0!==(this.flags&2097155)}},isAppend:{get:function(){return this.flags&1024}}}));var h=new c.FSStream,f;for(f in a)h[f]=a[f];a=h;b=c.nextfd(b,d);a.fd=b;return c.streams[b]=a},closeStream:function(a){c.streams[a]=null},chrdev_stream_ops:{open:function(a){var b=c.getDevice(a.node.rdev);
a.stream_ops=b.stream_ops;a.stream_ops.open&&a.stream_ops.open(a)},llseek:function(){throw new c.ErrnoError(29);}},major:function(a){return a>>8},minor:function(a){return a&255},makedev:function(a,b){return a<<8|b},registerDevice:function(a,b){c.devices[a]={stream_ops:b}},getDevice:function(a){return c.devices[a]},getMounts:function(a){var b=[];for(a=[a];a.length;){var d=a.pop();b.push(d);a.push.apply(a,d.mounts)}return b},syncfs:function(a,b){function d(a){c.syncFSRequests--;return b(a)}function h(a){if(a){if(!h.errored)return h.errored=
!0,d(a)}else++e>=f.length&&d(null)}"function"===typeof a&&(b=a,a=!1);c.syncFSRequests++;1<c.syncFSRequests&&console.log("warning: "+c.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var f=c.getMounts(c.root.mount),e=0;f.forEach(function(b){if(!b.type.syncfs)return h(null);b.type.syncfs(b,a,h)})},mount:function(a,b,d){var h="/"===d,f=!d,e;if(h&&c.root)throw new c.ErrnoError(16);if(!h&&!f){e=c.lookupPath(d,{follow_mount:!1});d=e.path;e=e.node;if(c.isMountpoint(e))throw new c.ErrnoError(16);
if(!c.isDir(e.mode))throw new c.ErrnoError(20);}b={type:a,opts:b,mountpoint:d,mounts:[]};a=a.mount(b);a.mount=b;b.root=a;h?c.root=a:e&&(e.mounted=b,e.mount&&e.mount.mounts.push(b));return a},unmount:function(a){a=c.lookupPath(a,{follow_mount:!1});if(!c.isMountpoint(a.node))throw new c.ErrnoError(22);a=a.node;var b=a.mounted,d=c.getMounts(b);Object.keys(c.nameTable).forEach(function(a){for(a=c.nameTable[a];a;){var b=a.name_next;-1!==d.indexOf(a.mount)&&c.destroyNode(a);a=b}});a.mounted=null;b=a.mount.mounts.indexOf(b);
a.mount.mounts.splice(b,1)},lookup:function(a,b){return a.node_ops.lookup(a,b)},mknod:function(a,b,d){var e=c.lookupPath(a,{parent:!0}).node;a=n.basename(a);if(!a||"."===a||".."===a)throw new c.ErrnoError(22);var f=c.mayCreate(e,a);if(f)throw new c.ErrnoError(f);if(!e.node_ops.mknod)throw new c.ErrnoError(1);return e.node_ops.mknod(e,a,b,d)},create:function(a,b){b=(void 0!==b?b:438)&4095;b|=32768;return c.mknod(a,b,0)},mkdir:function(a,b){b=(void 0!==b?b:511)&1023;b|=16384;return c.mknod(a,b,0)},
mkdirTree:function(a,b){for(var d=a.split("/"),e="",f=0;f<d.length;++f)if(d[f]){e+="/"+d[f];try{c.mkdir(e,b)}catch(l){if(17!=l.errno)throw l;}}},mkdev:function(a,b,d){"undefined"===typeof d&&(d=b,b=438);return c.mknod(a,b|8192,d)},symlink:function(a,b){if(!n.resolve(a))throw new c.ErrnoError(2);var d=c.lookupPath(b,{parent:!0}).node;if(!d)throw new c.ErrnoError(2);var e=n.basename(b),f=c.mayCreate(d,e);if(f)throw new c.ErrnoError(f);if(!d.node_ops.symlink)throw new c.ErrnoError(1);return d.node_ops.symlink(d,
e,a)},rename:function(a,b){var d=n.dirname(a),e=n.dirname(b),f=n.basename(a),l=n.basename(b),k,r,g;try{k=c.lookupPath(a,{parent:!0}),r=k.node,k=c.lookupPath(b,{parent:!0}),g=k.node}catch(Y){throw new c.ErrnoError(16);}if(!r||!g)throw new c.ErrnoError(2);if(r.mount!==g.mount)throw new c.ErrnoError(18);k=c.lookupNode(r,f);e=n.relative(a,e);if("."!==e.charAt(0))throw new c.ErrnoError(22);e=n.relative(b,d);if("."!==e.charAt(0))throw new c.ErrnoError(39);var m;try{m=c.lookupNode(g,l)}catch(p){}if(k!==
m){d=c.isDir(k.mode);if(f=c.mayDelete(r,f,d))throw new c.ErrnoError(f);if(f=m?c.mayDelete(g,l,d):c.mayCreate(g,l))throw new c.ErrnoError(f);if(!r.node_ops.rename)throw new c.ErrnoError(1);if(c.isMountpoint(k)||m&&c.isMountpoint(m))throw new c.ErrnoError(16);if(g!==r&&(f=c.nodePermissions(r,"w")))throw new c.ErrnoError(f);try{c.trackingDelegate.willMovePath&&c.trackingDelegate.willMovePath(a,b)}catch(q){console.log("FS.trackingDelegate['willMovePath']('"+a+"', '"+b+"') threw an exception: "+q.message)}c.hashRemoveNode(k);
try{r.node_ops.rename(k,g,l)}catch(s){throw s;}finally{c.hashAddNode(k)}try{if(c.trackingDelegate.onMovePath)c.trackingDelegate.onMovePath(a,b)}catch(Qa){console.log("FS.trackingDelegate['onMovePath']('"+a+"', '"+b+"') threw an exception: "+Qa.message)}}},rmdir:function(a){var b=c.lookupPath(a,{parent:!0}).node,d=n.basename(a),e=c.lookupNode(b,d),f=c.mayDelete(b,d,!0);if(f)throw new c.ErrnoError(f);if(!b.node_ops.rmdir)throw new c.ErrnoError(1);if(c.isMountpoint(e))throw new c.ErrnoError(16);try{c.trackingDelegate.willDeletePath&&
c.trackingDelegate.willDeletePath(a)}catch(l){console.log("FS.trackingDelegate['willDeletePath']('"+a+"') threw an exception: "+l.message)}b.node_ops.rmdir(b,d);c.destroyNode(e);try{if(c.trackingDelegate.onDeletePath)c.trackingDelegate.onDeletePath(a)}catch(k){console.log("FS.trackingDelegate['onDeletePath']('"+a+"') threw an exception: "+k.message)}},readdir:function(a){a=c.lookupPath(a,{follow:!0}).node;if(!a.node_ops.readdir)throw new c.ErrnoError(20);return a.node_ops.readdir(a)},unlink:function(a){var b=
c.lookupPath(a,{parent:!0}).node,d=n.basename(a),e=c.lookupNode(b,d),f=c.mayDelete(b,d,!1);if(f)throw new c.ErrnoError(f);if(!b.node_ops.unlink)throw new c.ErrnoError(1);if(c.isMountpoint(e))throw new c.ErrnoError(16);try{c.trackingDelegate.willDeletePath&&c.trackingDelegate.willDeletePath(a)}catch(l){console.log("FS.trackingDelegate['willDeletePath']('"+a+"') threw an exception: "+l.message)}b.node_ops.unlink(b,d);c.destroyNode(e);try{if(c.trackingDelegate.onDeletePath)c.trackingDelegate.onDeletePath(a)}catch(k){console.log("FS.trackingDelegate['onDeletePath']('"+
a+"') threw an exception: "+k.message)}},readlink:function(a){a=c.lookupPath(a).node;if(!a)throw new c.ErrnoError(2);if(!a.node_ops.readlink)throw new c.ErrnoError(22);return n.resolve(c.getPath(a.parent),a.node_ops.readlink(a))},stat:function(a,b){var d=c.lookupPath(a,{follow:!b}).node;if(!d)throw new c.ErrnoError(2);if(!d.node_ops.getattr)throw new c.ErrnoError(1);return d.node_ops.getattr(d)},lstat:function(a){return c.stat(a,!0)},chmod:function(a,b,d){a="string"===typeof a?c.lookupPath(a,{follow:!d}).node:
a;if(!a.node_ops.setattr)throw new c.ErrnoError(1);a.node_ops.setattr(a,{mode:b&4095|a.mode&-4096,timestamp:Date.now()})},lchmod:function(a,b){c.chmod(a,b,!0)},fchmod:function(a,b){var d=c.getStream(a);if(!d)throw new c.ErrnoError(9);c.chmod(d.node,b)},chown:function(a,b,d,e){a="string"===typeof a?c.lookupPath(a,{follow:!e}).node:a;if(!a.node_ops.setattr)throw new c.ErrnoError(1);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown:function(a,b,d){c.chown(a,b,d,!0)},fchown:function(a,b,d){a=c.getStream(a);
if(!a)throw new c.ErrnoError(9);c.chown(a.node,b,d)},truncate:function(a,b){if(0>b)throw new c.ErrnoError(22);var d;d="string"===typeof a?c.lookupPath(a,{follow:!0}).node:a;if(!d.node_ops.setattr)throw new c.ErrnoError(1);if(c.isDir(d.mode))throw new c.ErrnoError(21);if(!c.isFile(d.mode))throw new c.ErrnoError(22);var e=c.nodePermissions(d,"w");if(e)throw new c.ErrnoError(e);d.node_ops.setattr(d,{size:b,timestamp:Date.now()})},ftruncate:function(a,b){var d=c.getStream(a);if(!d)throw new c.ErrnoError(9);
if(0===(d.flags&2097155))throw new c.ErrnoError(22);c.truncate(d.node,b)},utime:function(a,b,d){a=c.lookupPath(a,{follow:!0}).node;a.node_ops.setattr(a,{timestamp:Math.max(b,d)})},open:function(a,b,d,h,f){if(""===a)throw new c.ErrnoError(2);b="string"===typeof b?c.modeStringToFlags(b):b;d=b&64?("undefined"===typeof d?438:d)&4095|32768:0;var l;if("object"===typeof a)l=a;else{a=n.normalize(a);try{l=c.lookupPath(a,{follow:!(b&131072)}).node}catch(k){}}var g=!1;if(b&64)if(l){if(b&128)throw new c.ErrnoError(17);
}else l=c.mknod(a,d,0),g=!0;if(!l)throw new c.ErrnoError(2);c.isChrdev(l.mode)&&(b&=-513);if(b&65536&&!c.isDir(l.mode))throw new c.ErrnoError(20);if(!g&&(d=c.mayOpen(l,b)))throw new c.ErrnoError(d);b&512&&c.truncate(l,0);b&=-641;h=c.createStream({node:l,path:c.getPath(l),flags:b,seekable:!0,position:0,stream_ops:l.stream_ops,ungotten:[],error:!1},h,f);h.stream_ops.open&&h.stream_ops.open(h);e.logReadFiles&&!(b&1)&&(c.readFiles||(c.readFiles={}),a in c.readFiles||(c.readFiles[a]=1,console.log("FS.trackingDelegate error on read file: "+
a)));try{c.trackingDelegate.onOpenFile&&(f=0,1!==(b&2097155)&&(f|=c.tracking.openFlags.READ),0!==(b&2097155)&&(f|=c.tracking.openFlags.WRITE),c.trackingDelegate.onOpenFile(a,f))}catch(m){console.log("FS.trackingDelegate['onOpenFile']('"+a+"', flags) threw an exception: "+m.message)}return h},close:function(a){if(c.isClosed(a))throw new c.ErrnoError(9);a.getdents&&(a.getdents=null);try{a.stream_ops.close&&a.stream_ops.close(a)}catch(b){throw b;}finally{c.closeStream(a.fd)}a.fd=null},isClosed:function(a){return null===
a.fd},llseek:function(a,b,d){if(c.isClosed(a))throw new c.ErrnoError(9);if(!a.seekable||!a.stream_ops.llseek)throw new c.ErrnoError(29);if(0!=d&&1!=d&&2!=d)throw new c.ErrnoError(22);a.position=a.stream_ops.llseek(a,b,d);a.ungotten=[];return a.position},read:function(a,b,d,e,f){if(0>e||0>f)throw new c.ErrnoError(22);if(c.isClosed(a))throw new c.ErrnoError(9);if(1===(a.flags&2097155))throw new c.ErrnoError(9);if(c.isDir(a.node.mode))throw new c.ErrnoError(21);if(!a.stream_ops.read)throw new c.ErrnoError(22);
var l="undefined"!==typeof f;if(l){if(!a.seekable)throw new c.ErrnoError(29);}else f=a.position;b=a.stream_ops.read(a,b,d,e,f);l||(a.position+=b);return b},write:function(a,b,d,e,f,l){if(0>e||0>f)throw new c.ErrnoError(22);if(c.isClosed(a))throw new c.ErrnoError(9);if(0===(a.flags&2097155))throw new c.ErrnoError(9);if(c.isDir(a.node.mode))throw new c.ErrnoError(21);if(!a.stream_ops.write)throw new c.ErrnoError(22);a.flags&1024&&c.llseek(a,0,2);var k="undefined"!==typeof f;if(k){if(!a.seekable)throw new c.ErrnoError(29);
}else f=a.position;b=a.stream_ops.write(a,b,d,e,f,l);k||(a.position+=b);try{if(a.path&&c.trackingDelegate.onWriteToFile)c.trackingDelegate.onWriteToFile(a.path)}catch(g){console.log("FS.trackingDelegate['onWriteToFile']('"+a.path+"') threw an exception: "+g.message)}return b},allocate:function(a,b,d){if(c.isClosed(a))throw new c.ErrnoError(9);if(0>b||0>=d)throw new c.ErrnoError(22);if(0===(a.flags&2097155))throw new c.ErrnoError(9);if(!c.isFile(a.node.mode)&&!c.isDir(a.node.mode))throw new c.ErrnoError(19);
if(!a.stream_ops.allocate)throw new c.ErrnoError(95);a.stream_ops.allocate(a,b,d)},mmap:function(a,b,d,e,f,l,k){if(1===(a.flags&2097155))throw new c.ErrnoError(13);if(!a.stream_ops.mmap)throw new c.ErrnoError(19);return a.stream_ops.mmap(a,b,d,e,f,l,k)},msync:function(a,b,d,c,e){return!a||!a.stream_ops.msync?0:a.stream_ops.msync(a,b,d,c,e)},munmap:function(a){return 0},ioctl:function(a,b,d){if(!a.stream_ops.ioctl)throw new c.ErrnoError(25);return a.stream_ops.ioctl(a,b,d)},readFile:function(a,b){b=
b||{};b.flags=b.flags||"r";b.encoding=b.encoding||"binary";if("utf8"!==b.encoding&&"binary"!==b.encoding)throw Error('Invalid encoding type "'+b.encoding+'"');var d,e=c.open(a,b.flags),f=c.stat(a).size,l=new Uint8Array(f);c.read(e,l,0,f,0);"utf8"===b.encoding?d=G(l,0):"binary"===b.encoding&&(d=l);c.close(e);return d},writeFile:function(a,b,d){d=d||{};d.flags=d.flags||"w";a=c.open(a,d.flags,d.mode);if("string"===typeof b){var e=new Uint8Array(Z(b)+1);b=R(b,e,0,e.length);c.write(a,e,0,b,void 0,d.canOwn)}else if(ArrayBuffer.isView(b))c.write(a,
b,0,b.byteLength,void 0,d.canOwn);else throw Error("Unsupported data type");c.close(a)},cwd:function(){return c.currentPath},chdir:function(a){a=c.lookupPath(a,{follow:!0});if(null===a.node)throw new c.ErrnoError(2);if(!c.isDir(a.node.mode))throw new c.ErrnoError(20);var b=c.nodePermissions(a.node,"x");if(b)throw new c.ErrnoError(b);c.currentPath=a.path},createDefaultDirectories:function(){c.mkdir("/tmp");c.mkdir("/home");c.mkdir("/home/web_user")},createDefaultDevices:function(){c.mkdir("/dev");
c.registerDevice(c.makedev(1,3),{read:function(){return 0},write:function(a,b,d,c,e){return c}});c.mkdev("/dev/null",c.makedev(1,3));H.register(c.makedev(5,0),H.default_tty_ops);H.register(c.makedev(6,0),H.default_tty1_ops);c.mkdev("/dev/tty",c.makedev(5,0));c.mkdev("/dev/tty1",c.makedev(6,0));var a;if("object"===typeof crypto&&"function"===typeof crypto.getRandomValues){var b=new Uint8Array(1);a=function(){crypto.getRandomValues(b);return b[0]}}else if(O)try{var d=require("crypto");a=function(){return d.randomBytes(1)[0]}}catch(e){}a||
(a=function(){w("random_device")});c.createDevice("/dev","random",a);c.createDevice("/dev","urandom",a);c.mkdir("/dev/shm");c.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){c.mkdir("/proc");c.mkdir("/proc/self");c.mkdir("/proc/self/fd");c.mount({mount:function(){var a=c.createNode("/proc/self","fd",16895,73);a.node_ops={lookup:function(a,d){var e=c.getStream(+d);if(!e)throw new c.ErrnoError(9);var f={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return e.path}}};
return f.parent=f}};return a}},{},"/proc/self/fd")},createStandardStreams:function(){e.stdin?c.createDevice("/dev","stdin",e.stdin):c.symlink("/dev/tty","/dev/stdin");e.stdout?c.createDevice("/dev","stdout",null,e.stdout):c.symlink("/dev/tty","/dev/stdout");e.stderr?c.createDevice("/dev","stderr",null,e.stderr):c.symlink("/dev/tty1","/dev/stderr");c.open("/dev/stdin","r");c.open("/dev/stdout","w");c.open("/dev/stderr","w")},ensureErrnoError:function(){c.ErrnoError||(c.ErrnoError=function(a,b){this.node=
b;this.setErrno=function(a){this.errno=a};this.setErrno(a);this.message="FS error";this.stack&&Object.defineProperty(this,"stack",{value:Error().stack,writable:!0})},c.ErrnoError.prototype=Error(),c.ErrnoError.prototype.constructor=c.ErrnoError,[2].forEach(function(a){c.genericErrors[a]=new c.ErrnoError(a);c.genericErrors[a].stack="<generic error, no stack>"}))},staticInit:function(){c.ensureErrnoError();c.nameTable=Array(4096);c.mount(m,{},"/");c.createDefaultDirectories();c.createDefaultDevices();
c.createSpecialDirectories();c.filesystems={MEMFS:m,IDBFS:t,NODEFS:s,WORKERFS:v}},init:function(a,b,d){c.init.initialized=!0;c.ensureErrnoError();e.stdin=a||e.stdin;e.stdout=b||e.stdout;e.stderr=d||e.stderr;c.createStandardStreams()},quit:function(){c.init.initialized=!1;var a=e._fflush;a&&a(0);for(a=0;a<c.streams.length;a++){var b=c.streams[a];b&&c.close(b)}},getMode:function(a,b){var c=0;a&&(c|=365);b&&(c|=146);return c},joinPath:function(a,b){var c=n.join.apply(null,a);b&&"/"==c[0]&&(c=c.substr(1));
return c},absolutePath:function(a,b){return n.resolve(b,a)},standardizePath:function(a){return n.normalize(a)},findObject:function(a,b){var d=c.analyzePath(a,b);if(d.exists)return d.object;U(d.error);return null},analyzePath:function(a,b){try{var d=c.lookupPath(a,{follow:!b});a=d.path}catch(e){}var f={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{d=c.lookupPath(a,{parent:!0}),f.parentExists=!0,f.parentPath=d.path,f.parentObject=
d.node,f.name=n.basename(a),d=c.lookupPath(a,{follow:!b}),f.exists=!0,f.path=d.path,f.object=d.node,f.name=d.node.name,f.isRoot="/"===d.path}catch(l){f.error=l.errno}return f},createFolder:function(a,b,d,e){a=n.join2("string"===typeof a?a:c.getPath(a),b);d=c.getMode(d,e);return c.mkdir(a,d)},createPath:function(a,b,d,e){a="string"===typeof a?a:c.getPath(a);for(b=b.split("/").reverse();b.length;)if(d=b.pop()){var f=n.join2(a,d);try{c.mkdir(f)}catch(l){}a=f}return f},createFile:function(a,b,d,e,f){a=
n.join2("string"===typeof a?a:c.getPath(a),b);e=c.getMode(e,f);return c.create(a,e)},createDataFile:function(a,b,d,e,f,l){a=b?n.join2("string"===typeof a?a:c.getPath(a),b):a;e=c.getMode(e,f);f=c.create(a,e);if(d){if("string"===typeof d){a=Array(d.length);b=0;for(var k=d.length;b<k;++b)a[b]=d.charCodeAt(b);d=a}c.chmod(f,e|146);a=c.open(f,"w");c.write(a,d,0,d.length,0,l);c.close(a);c.chmod(f,e)}return f},createDevice:function(a,b,d,e){a=n.join2("string"===typeof a?a:c.getPath(a),b);b=c.getMode(!!d,
!!e);c.createDevice.major||(c.createDevice.major=64);var f=c.makedev(c.createDevice.major++,0);c.registerDevice(f,{open:function(a){a.seekable=!1},close:function(a){e&&(e.buffer&&e.buffer.length)&&e(10)},read:function(a,b,e,f,h){for(var g=h=0;g<f;g++){var m;try{m=d()}catch(n){throw new c.ErrnoError(5);}if(void 0===m&&0===h)throw new c.ErrnoError(11);if(null===m||void 0===m)break;h++;b[e+g]=m}h&&(a.node.timestamp=Date.now());return h},write:function(a,b,d,f,g){for(g=0;g<f;g++)try{e(b[d+g])}catch(m){throw new c.ErrnoError(5);
}f&&(a.node.timestamp=Date.now());return g}});return c.mkdev(a,b,f)},createLink:function(a,b,d,e,f){a=n.join2("string"===typeof a?a:c.getPath(a),b);return c.symlink(d,a)},forceLoadFile:function(a){if(a.isDevice||a.isFolder||a.link||a.contents)return!0;var b=!0;if("undefined"!==typeof XMLHttpRequest)throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");
if(e.read)try{a.contents=ka(e.read(a.url),!0),a.usedBytes=a.contents.length}catch(c){b=!1}else throw Error("Cannot load without read() or XMLHttpRequest.");b||U(5);return b},createLazyFile:function(a,b,d,e,f){function l(){this.lengthKnown=!1;this.chunks=[]}l.prototype.get=function(a){if(!(a>this.length-1||0>a)){var b=a%this.chunkSize;return this.getter(a/this.chunkSize|0)[b]}};l.prototype.setDataGetter=function(a){this.getter=a};l.prototype.cacheLength=function(){var a=new XMLHttpRequest;a.open("HEAD",
d,!1);a.send(null);if(!(200<=a.status&&300>a.status||304===a.status))throw Error("Couldn't load "+d+". Status: "+a.status);var b=Number(a.getResponseHeader("Content-length")),c,e=(c=a.getResponseHeader("Accept-Ranges"))&&"bytes"===c,a=(c=a.getResponseHeader("Content-Encoding"))&&"gzip"===c,f=1048576;e||(f=b);var h=this;h.setDataGetter(function(a){var c=a*f,e=(a+1)*f-1,e=Math.min(e,b-1);if("undefined"===typeof h.chunks[a]){var l=h.chunks;if(c>e)throw Error("invalid range ("+c+", "+e+") or no bytes requested!");
if(e>b-1)throw Error("only "+b+" bytes available! programmer error!");var g=new XMLHttpRequest;g.open("GET",d,!1);b!==f&&g.setRequestHeader("Range","bytes="+c+"-"+e);"undefined"!=typeof Uint8Array&&(g.responseType="arraybuffer");g.overrideMimeType&&g.overrideMimeType("text/plain; charset=x-user-defined");g.send(null);if(!(200<=g.status&&300>g.status||304===g.status))throw Error("Couldn't load "+d+". Status: "+g.status);c=void 0!==g.response?new Uint8Array(g.response||[]):ka(g.responseText||"",!0);
l[a]=c}if("undefined"===typeof h.chunks[a])throw Error("doXHR failed!");return h.chunks[a]});if(a||!b)f=b=1,f=b=this.getter(0).length,console.log("LazyFiles on gzip forces download of the whole file when length is accessed");this._length=b;this._chunkSize=f;this.lengthKnown=!0};if("undefined"!==typeof XMLHttpRequest){if(!D)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var k=new l;Object.defineProperties(k,{length:{get:function(){this.lengthKnown||
this.cacheLength();return this._length}},chunkSize:{get:function(){this.lengthKnown||this.cacheLength();return this._chunkSize}}});k={isDevice:!1,contents:k}}else k={isDevice:!1,url:d};var g=c.createFile(a,b,k,e,f);k.contents?g.contents=k.contents:k.url&&(g.contents=null,g.url=k.url);Object.defineProperties(g,{usedBytes:{get:function(){return this.contents.length}}});var m={};Object.keys(g.stream_ops).forEach(function(a){var b=g.stream_ops[a];m[a]=function(){if(!c.forceLoadFile(g))throw new c.ErrnoError(5);
return b.apply(null,arguments)}});m.read=function(a,b,d,e,f){if(!c.forceLoadFile(g))throw new c.ErrnoError(5);a=a.node.contents;if(f>=a.length)return 0;e=Math.min(a.length-f,e);if(a.slice)for(var h=0;h<e;h++)b[d+h]=a[f+h];else for(h=0;h<e;h++)b[d+h]=a.get(f+h);return e};g.stream_ops=m;return g},createPreloadedFile:function(a,b,d,h,f,g,k,m,p,q){function s(d){function n(d){q&&q();m||c.createDataFile(a,b,d,h,f,p);g&&g();ga(u)}var v=!1;e.preloadPlugins.forEach(function(a){!v&&a.canHandle(t)&&(a.handle(d,
t,n,function(){k&&k();ga(u)}),v=!0)});v||n(d)}Browser.init();var t=b?n.resolve(n.join2(a,b)):a,u="cp "+t;ya(u);"string"==typeof d?Browser.asyncLoad(d,function(a){s(a)},k):s(d)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(a,b,d){b=b||function(){};d=d||function(){};var e=c.indexedDB();try{var f=e.open(c.DB_NAME(),
c.DB_VERSION)}catch(g){return d(g)}f.onupgradeneeded=function(){console.log("creating db");f.result.createObjectStore(c.DB_STORE_NAME)};f.onsuccess=function(){var e=f.result.transaction([c.DB_STORE_NAME],"readwrite"),h=e.objectStore(c.DB_STORE_NAME),g=0,l=0,m=a.length;a.forEach(function(a){a=h.put(c.analyzePath(a).object.contents,a);a.onsuccess=function(){g++;g+l==m&&(0==l?b():d())};a.onerror=function(){l++;g+l==m&&(0==l?b():d())}});e.onerror=d};f.onerror=d},loadFilesFromDB:function(a,b,d){b=b||function(){};
d=d||function(){};var e=c.indexedDB();try{var f=e.open(c.DB_NAME(),c.DB_VERSION)}catch(g){return d(g)}f.onupgradeneeded=d;f.onsuccess=function(){var e=f.result;try{var h=e.transaction([c.DB_STORE_NAME],"readonly")}catch(g){d(g);return}var l=h.objectStore(c.DB_STORE_NAME),m=0,p=0,q=a.length;a.forEach(function(a){var e=l.get(a);e.onsuccess=function(){c.analyzePath(a).exists&&c.unlink(a);c.createDataFile(n.dirname(a),n.basename(a),e.result,!0,!0,!0);m++;m+p==q&&(0==p?b():d())};e.onerror=function(){p++;
m+p==q&&(0==p?b():d())}});h.onerror=d};f.onerror=d}},g={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,
ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,
ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86},p={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(a,b){if("/"!==
b[0]){var d;if(-100===a)d=c.cwd();else{d=c.getStream(a);if(!d)throw new c.ErrnoError(g.EBADF);d=d.path}b=n.join2(d,b)}return b},doStat:function(a,b,d){try{var e=a(b)}catch(f){if(f&&f.node&&n.normalize(b)!==n.normalize(c.getPath(f.node)))return-g.ENOTDIR;throw f;}q[d>>2]=e.dev;q[d+4>>2]=0;q[d+8>>2]=e.ino;q[d+12>>2]=e.mode;q[d+16>>2]=e.nlink;q[d+20>>2]=e.uid;q[d+24>>2]=e.gid;q[d+28>>2]=e.rdev;q[d+32>>2]=0;q[d+36>>2]=e.size;q[d+40>>2]=4096;q[d+44>>2]=e.blocks;q[d+48>>2]=e.atime.getTime()/1E3|0;q[d+52>>
2]=0;q[d+56>>2]=e.mtime.getTime()/1E3|0;q[d+60>>2]=0;q[d+64>>2]=e.ctime.getTime()/1E3|0;q[d+68>>2]=0;q[d+72>>2]=e.ino;return 0},doMsync:function(a,b,d,e){a=new Uint8Array(B.subarray(a,a+d));c.msync(b,a,0,d,e)},doMkdir:function(a,b){a=n.normalize(a);"/"===a[a.length-1]&&(a=a.substr(0,a.length-1));c.mkdir(a,b,0);return 0},doMknod:function(a,b,d){switch(b&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-g.EINVAL}c.mknod(a,b,d);return 0},doReadlink:function(a,b,d){if(0>=
d)return-g.EINVAL;a=c.readlink(a);var e=Math.min(d,Z(a)),f=C[b+e];R(a,B,b,d+1);C[b+e]=f;return e},doAccess:function(a,b){if(b&-8)return-g.EINVAL;var d;d=c.lookupPath(a,{follow:!0}).node;var e="";b&4&&(e+="r");b&2&&(e+="w");b&1&&(e+="x");return e&&c.nodePermissions(d,e)?-g.EACCES:0},doDup:function(a,b,d){var e=c.getStream(d);e&&c.close(e);return c.open(a,b,0,d,d).fd},doReadv:function(a,b,d,e){for(var f=0,g=0;g<d;g++){var k=q[b+(8*g+4)>>2],m=c.read(a,C,q[b+8*g>>2],k,e);if(0>m)return-1;f+=m;if(m<k)break}return f},
doWritev:function(a,b,d,e){for(var f=0,g=0;g<d;g++){var k=c.write(a,C,q[b+8*g>>2],q[b+(8*g+4)>>2],e);if(0>k)return-1;f+=k}return f},varargs:0,get:function(a){p.varargs+=4;return q[p.varargs-4>>2]},getStr:function(){var a=p.get();return a?G(B,a,void 0):""},getStreamFromFD:function(){var a=c.getStream(p.get());if(!a)throw new c.ErrnoError(g.EBADF);return a},getSocketFromFD:function(){var a=SOCKFS.getSocket(p.get());if(!a)throw new c.ErrnoError(g.EBADF);return a},getSocketAddress:function(a){var b=p.get(),
d=p.get();if(a&&0===b)return null;a=__read_sockaddr(b,d);if(a.errno)throw new c.ErrnoError(a.errno);a.addr=DNS.lookup_addr(a.addr)||a.addr;return a},get64:function(){var a=p.get();p.get();return a},getZero:function(){p.get()}};c.staticInit();if(O){var u=require("fs"),Ga=require("path");s.staticInit()}I=e.asm({},{c:w,e:function(a){Fa=a},d:function(){return Fa},s:function(a,b,c){var e=L();try{return Ra(a,b,c)}catch(f){M(e);if(f!==f+0&&"longjmp"!==f)throw f;P(1,0)}},r:function(a,b,c,e){var f=L();try{return Sa(a,
b,c,e)}catch(g){M(f);if(g!==g+0&&"longjmp"!==g)throw g;P(1,0)}},q:function(a,b,c,e,f){var g=L();try{return Ta(a,b,c,e,f)}catch(k){M(g);if(k!==k+0&&"longjmp"!==k)throw k;P(1,0)}},p:function(a,b,c){var e=L();try{Ua(a,b,c)}catch(f){M(e);if(f!==f+0&&"longjmp"!==f)throw f;P(1,0)}},o:function(a,b,c,e,f){var g=L();try{Va(a,b,c,e,f)}catch(k){M(g);if(k!==k+0&&"longjmp"!==k)throw k;P(1,0)}},n:ia,h:function(){},m:U,C:function(a,b){p.varargs=b;try{var d=p.getStreamFromFD();p.get();var e=p.get(),f=p.get(),g=p.get();
c.llseek(d,e,g);q[f>>2]=d.position;d.getdents&&(0===e&&0===g)&&(d.getdents=null);return 0}catch(k){return("undefined"===typeof c||!(k instanceof c.ErrnoError))&&w(k),-k.errno}},B:function(a,b){p.varargs=b;try{var d=p.getStreamFromFD(),e=p.get(),f=p.get();return p.doReadv(d,e,f)}catch(g){return("undefined"===typeof c||!(g instanceof c.ErrnoError))&&w(g),-g.errno}},l:function(a,b){p.varargs=b;try{var d=p.getStreamFromFD(),e=p.get(),f=p.get();return p.doWritev(d,e,f)}catch(g){return("undefined"===typeof c||
!(g instanceof c.ErrnoError))&&w(g),-g.errno}},g:function(a,b){p.varargs=b;try{var d=p.getStreamFromFD();switch(p.get()){case 0:var e=p.get();return 0>e?-g.EINVAL:c.open(d.path,d.flags,0,e).fd;case 1:case 2:return 0;case 3:return d.flags;case 4:return e=p.get(),d.flags|=e,0;case 12:return e=p.get(),wa[e+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-g.EINVAL;case 9:return U(g.EINVAL),-1;default:return-g.EINVAL}}catch(f){return("undefined"===typeof c||!(f instanceof c.ErrnoError))&&w(f),
-f.errno}},A:function(a,b){p.varargs=b;try{var d=p.getStr(),e=p.get(),f=p.get();return c.open(d,e,f).fd}catch(g){return("undefined"===typeof c||!(g instanceof c.ErrnoError))&&w(g),-g.errno}},k:function(a,b){p.varargs=b;try{var d=p.getStreamFromFD(),e=p.get();switch(e){case 21509:case 21505:return!d.tty?-g.ENOTTY:0;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return!d.tty?-g.ENOTTY:0;case 21519:if(!d.tty)return-g.ENOTTY;var f=p.get();return q[f>>2]=0;case 21520:return!d.tty?-g.ENOTTY:
-g.EINVAL;case 21531:return f=p.get(),c.ioctl(d,e,f);case 21523:return!d.tty?-g.ENOTTY:0;case 21524:return!d.tty?-g.ENOTTY:0;default:w("bad ioctl syscall "+e)}}catch(l){return("undefined"===typeof c||!(l instanceof c.ErrnoError))&&w(l),-l.errno}},j:function(a,b){p.varargs=b;try{var d=p.getStreamFromFD();c.close(d);return 0}catch(e){return("undefined"===typeof c||!(e instanceof c.ErrnoError))&&w(e),-e.errno}},f:function(){},z:function(){return F},y:function(a,b){Aa(a,b)},x:function(a,b,c){B.set(B.subarray(b,
b+c),a)},w:qa,i:W,v:function(a){var b=ja,c=b.LLVM_SAVEDSTACKS[a];b.LLVM_SAVEDSTACKS.splice(a,1);M(c)},u:ja,b:Aa,t:function(a){w("OOM")},a:X},x);e.asm=I;var Pa=e.___emscripten_environ_constructor=function(){return e.asm.D.apply(null,arguments)};e.___errno_location=function(){return e.asm.E.apply(null,arguments)};e._cobbles_destroy=function(){return e.asm.F.apply(null,arguments)};e._cobbles_font_close=function(){return e.asm.G.apply(null,arguments)};e._cobbles_font_get_error=function(){return e.asm.H.apply(null,
arguments)};e._cobbles_font_get_glyph_bitmap=function(){return e.asm.I.apply(null,arguments)};e._cobbles_font_get_glyph_id=function(){return e.asm.J.apply(null,arguments)};e._cobbles_font_get_glyph_info=function(){return e.asm.K.apply(null,arguments)};e._cobbles_font_load_glyph=function(){return e.asm.L.apply(null,arguments)};e._cobbles_font_set_size=function(){return e.asm.M.apply(null,arguments)};e._cobbles_get_error=function(){return e.asm.N.apply(null,arguments)};e._cobbles_guess_string_script=
function(){return e.asm.O.apply(null,arguments)};e._cobbles_init=function(){return e.asm.P.apply(null,arguments)};e._cobbles_open_font_bytes=function(){return e.asm.Q.apply(null,arguments)};e._cobbles_open_font_file=function(){return e.asm.R.apply(null,arguments)};e._cobbles_shaper_destroy=function(){return e.asm.S.apply(null,arguments)};e._cobbles_shaper_get_error=function(){return e.asm.T.apply(null,arguments)};e._cobbles_shaper_get_glyph_count=function(){return e.asm.U.apply(null,arguments)};e._cobbles_shaper_get_glyph_info=
function(){return e.asm.V.apply(null,arguments)};e._cobbles_shaper_guess_text_properties=function(){return e.asm.W.apply(null,arguments)};e._cobbles_shaper_init=function(){return e.asm.X.apply(null,arguments)};e._cobbles_shaper_set_direction=function(){return e.asm.Y.apply(null,arguments)};e._cobbles_shaper_set_font=function(){return e.asm.Z.apply(null,arguments)};e._cobbles_shaper_set_language=function(){return e.asm._.apply(null,arguments)};e._cobbles_shaper_set_script=function(){return e.asm.$.apply(null,
arguments)};e._cobbles_shaper_set_text=function(){return e.asm.aa.apply(null,arguments)};e._cobbles_shaper_shape=function(){return e.asm.ba.apply(null,arguments)};var Na=e._free=function(){return e.asm.ca.apply(null,arguments)},ca=e._malloc=function(){return e.asm.da.apply(null,arguments)},P=e._setThrew=function(){return e.asm.ea.apply(null,arguments)},ta=e.stackAlloc=function(){return e.asm.la.apply(null,arguments)},M=e.stackRestore=function(){return e.asm.ma.apply(null,arguments)},L=e.stackSave=
function(){return e.asm.na.apply(null,arguments)},Ra=e.dynCall_iii=function(){return e.asm.fa.apply(null,arguments)},Sa=e.dynCall_iiii=function(){return e.asm.ga.apply(null,arguments)},Ta=e.dynCall_iiiii=function(){return e.asm.ha.apply(null,arguments)};e.dynCall_vi=function(){return e.asm.ia.apply(null,arguments)};var Ua=e.dynCall_vii=function(){return e.asm.ja.apply(null,arguments)},Va=e.dynCall_viiii=function(){return e.asm.ka.apply(null,arguments)};e.asm=I;e.ccall=sa;e.cwrap=function(a,b,c,e){c=
c||[];var f=c.every(function(a){return"number"===a});return"string"!==b&&f&&!e?ra(a):function(){return sa(a,b,c,arguments,e)}};e.then=function(a){if(e.calledRun)a(e);else{var b=e.onRuntimeInitialized;e.onRuntimeInitialized=function(){b&&b();a(e)}}return e};da.prototype=Error();da.prototype.constructor=da;S=function b(){e.calledRun||la();e.calledRun||(S=b)};e.run=la;e.abort=w;if(e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();e.noExitRuntime=
!0;la();return Q}}();"object"===typeof exports&&"object"===typeof module?module.exports=cobbles_runtime:"function"===typeof define&&define.amd?define([],function(){return cobbles_runtime}):"object"===typeof exports&&(exports.cobbles_runtime=cobbles_runtime);
