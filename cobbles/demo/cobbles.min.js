var cobbles_runtime=function(){var pa="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(S){function qa(a){var b=q[Y>>2];a=b+a+15&-16;if(a<=E)q[Y>>2]=a;else if(!ra(a))return 0;return b}function I(a,b){a||w("Assertion failed: "+b)}function sa(a){var b=e["_"+a];I(b,"Cannot call unknown function "+a+", make sure it is exported");return b}function ta(a,b,d,c,f){f={string:function(a){var b=0;if(null!==a&&void 0!==a&&0!==a){var d=(a.length<<2)+1,b=ua(d);
T(a,J,b,d)}return b},array:function(a){var b=ua(a.length);B.set(a,b);return b}};var e=sa(a),g=[];a=0;if(c)for(var r=0;r<c.length;r++){var k=f[d[r]];k?(0===a&&(a=K()),g[r]=k(c[r])):g[r]=c[r]}d=e.apply(null,g);d="string"===b?O(d):"boolean"===b?Boolean(d):d;0!==a&&L(a);return d}function P(a,b,d){var c=b+d;for(d=b;a[d]&&!(d>=c);)++d;if(16<d-b&&a.subarray&&va)return va.decode(a.subarray(b,d));for(c="";b<d;){var f=a[b++];if(f&128){var e=a[b++]&63;if(192==(f&224))c+=String.fromCharCode((f&31)<<6|e);else{var g=
a[b++]&63,f=224==(f&240)?(f&15)<<12|e<<6|g:(f&7)<<18|e<<12|g<<6|a[b++]&63;65536>f?c+=String.fromCharCode(f):(f-=65536,c+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else c+=String.fromCharCode(f)}return c}function O(a,b){return a?P(J,a,b):""}function T(a,b,d,c){if(!(0<c))return 0;var f=d;c=d+c-1;for(var e=0;e<a.length;++e){var g=a.charCodeAt(e);if(55296<=g&&57343>=g)var r=a.charCodeAt(++e),g=65536+((g&1023)<<10)|r&1023;if(127>=g){if(d>=c)break;b[d++]=g}else{if(2047>=g){if(d+1>=c)break;b[d++]=
192|g>>6}else{if(65535>=g){if(d+2>=c)break;b[d++]=224|g>>12}else{if(d+3>=c)break;b[d++]=240|g>>18;b[d++]=128|g>>12&63}b[d++]=128|g>>6&63}b[d++]=128|g&63}}b[d]=0;return d-f}function $(a){for(var b=0,d=0;d<a.length;++d){var c=a.charCodeAt(d);55296<=c&&57343>=c&&(c=65536+((c&1023)<<10)|a.charCodeAt(++d)&1023);127>=c?++b:b=2047>=c?b+2:65535>=c?b+3:b+4}return b}function Ka(a){return a.replace(/__Z[\w\d_]+/g,function(a){return a===a?a:a+" ["+a+"]"})}function La(){var a;a:{a=Error();if(!a.stack){try{throw Error(0);
}catch(b){a=b}if(!a.stack){a="(no stack trace available)";break a}}a=a.stack.toString()}e.extraStackTrace&&(a+="\n"+e.extraStackTrace());return Ka(a)}function ga(a,b){0<a%b&&(a+=b-a%b);return a}function wa(){e.HEAP8=B=new Int8Array(x);e.HEAP16=xa=new Int16Array(x);e.HEAP32=q=new Int32Array(x);e.HEAPU8=J=new Uint8Array(x);e.HEAPU16=new Uint16Array(x);e.HEAPU32=new Uint32Array(x);e.HEAPF32=new Float32Array(x);e.HEAPF64=new Float64Array(x)}function aa(a){for(;0<a.length;){var b=a.shift();if("function"==
typeof b)b();else{var d=b.func;"number"===typeof d?void 0===b.arg?e.dynCall_v(d):e.dynCall_vi(d,b.arg):d(void 0===b.arg?null:b.arg)}}}function Ma(a){ya.unshift(a)}function za(a){M++;e.monitorRunDependencies&&e.monitorRunDependencies(M)}function ha(a){M--;e.monitorRunDependencies&&e.monitorRunDependencies(M);0==M&&(null!==ia&&(clearInterval(ia),ia=null),U&&(a=U,U=null,a()))}function Aa(){try{if(e.wasmBinary)return new Uint8Array(e.wasmBinary);if(e.readBinary)return e.readBinary(z);throw"both async and sync fetching of the wasm failed";
}catch(a){w(a)}}function Na(){return!e.wasmBinary&&(V||C)&&"function"===typeof fetch?fetch(z,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+z+"'";return a.arrayBuffer()}).catch(function(){return Aa()}):new Promise(function(a,b){a(Aa())})}function Oa(a){function b(a,b){e.asm=a.exports;ha("wasm-instantiate")}function d(a){b(a.instance)}function c(a){Na().then(function(a){return WebAssembly.instantiate(a,f)}).then(a,function(a){D("failed to asynchronously prepare wasm: "+
a);w(a)})}var f={env:a,global:{NaN:NaN,Infinity:Infinity},"global.Math":Math,asm2wasm:Pa};za("wasm-instantiate");if(e.instantiateWasm)try{return e.instantiateWasm(f,b)}catch(h){return D("Module.instantiateWasm callback failed with error: "+h),!1}!e.wasmBinary&&"function"===typeof WebAssembly.instantiateStreaming&&!(String.prototype.startsWith?z.startsWith(ba):0===z.indexOf(ba))&&"function"===typeof fetch?WebAssembly.instantiateStreaming(fetch(z,{credentials:"same-origin"}),f).then(d,function(a){D("wasm streaming compile failed: "+
a);D("falling back to ArrayBuffer instantiation");c(d)}):c(d);return{}}function ja(a){var b,d;ja.called?(d=q[a>>2],b=q[d>>2]):(ja.called=!0,y.USER=y.LOGNAME="web_user",y.PATH="/",y.PWD="/",y.HOME="/home/web_user",y.LANG="C.UTF-8",y._=e.thisProgram,b=!ca?qa(1024):da(1024),d=!ca?qa(256):da(256),q[d>>2]=b,q[a>>2]=d);a=[];var c=0,f;for(f in y)if("string"===typeof y[f]){var h=f+"="+y[f];a.push(h);c+=h.length}if(1024<c)throw Error("Environment size exceeded TOTAL_ENV_SIZE!");for(f=0;f<a.length;f++){for(var c=
h=a[f],g=b,r=0;r<c.length;++r)B[g++>>0]=c.charCodeAt(r);B[g>>0]=0;q[d+4*f>>2]=b;b+=h.length+1}q[d+4*a.length>>2]=0}function Q(a){e.___errno_location&&(q[e.___errno_location()>>2]=a);return a}function Ba(a,b){R(a,b||1);throw"longjmp";}function Ca(a){a=ga(a,65536);var b=e.buffer.byteLength;try{return-1!==W.grow((a-b)/65536)?e.buffer=W.buffer:null}catch(d){return null}}function ra(a){if(2147418112<a)return!1;for(var b=Math.max(E,16777216);b<a;)b=536870912>=b?ga(2*b,65536):Math.min(ga((3*b+2147483648)/
4,65536),2147418112);a=Ca(b);if(!a||a.byteLength!=b)return!1;e.buffer=x=a;wa();E=b;return!0}function X(a){if(0===a)return 0;a=O(a);if(!y.hasOwnProperty(a))return 0;X.ret&&Da(X.ret);var b=X;a=y[a];var d=$(a)+1,c=da(d);c&&T(a,B,c,d);b.ret=c;return X.ret}function ka(){var a=ka;a.LLVM_SAVEDSTACKS||(a.LLVM_SAVEDSTACKS=[]);a.LLVM_SAVEDSTACKS.push(K());return a.LLVM_SAVEDSTACKS.length-1}function la(a,b,d){d=0<d?d:$(a)+1;d=Array(d);a=T(a,d,0,d.length);b&&(d.length=a);return d}function ea(a){this.name="ExitStatus";
this.message="Program terminated with exit("+a+")";this.status=a}function ma(a){function b(){if(!e.calledRun&&(e.calledRun=!0,!Ea)){ca||(ca=!0,!e.noFSInit&&!c.init.initialized&&c.init(),F.init(),aa(Fa));c.ignorePermissions=!1;aa(Qa);if(e.onRuntimeInitialized)e.onRuntimeInitialized();if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var a=e.postRun.shift();Ga.unshift(a)}aa(Ga)}}if(!(0<M)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)Ma(e.preRun.shift());
aa(ya);!(0<M)&&!e.calledRun&&(e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1);b()},1)):b())}}function w(a){if(e.onAbort)e.onAbort(a);void 0!==a?(fa(a),D(a),a=JSON.stringify(a)):a="";Ea=!0;throw"abort("+a+"). Build with -s ASSERTIONS=1 for more info.";}S=S||{};var e="undefined"!==typeof S?S:{},G={},H;for(H in e)e.hasOwnProperty(H)&&(G[H]=e[H]);e.arguments=[];e.thisProgram="./this.program";e.quit=function(a,b){throw b;};e.preRun=[];e.postRun=[];
var V=!1,C=!1,N=!1,Ha=!1,V="object"===typeof window,C="function"===typeof importScripts,N="object"===typeof process&&"function"===typeof require&&!V&&!C,Ha=!V&&!N&&!C,A="";if(N){var A=__dirname+"/",na,oa;e.read=function(a,b){var d;na||(na=require("fs"));oa||(oa=require("path"));a=oa.normalize(a);d=na.readFileSync(a);return b?d:d.toString()};e.readBinary=function(a){a=e.read(a,!0);a.buffer||(a=new Uint8Array(a));I(a.buffer);return a};1<process.argv.length&&(e.thisProgram=process.argv[1].replace(/\\/g,
"/"));e.arguments=process.argv.slice(2);process.on("uncaughtException",function(a){if(!(a instanceof ea))throw a;});process.on("unhandledRejection",w);e.quit=function(a){process.exit(a)};e.inspect=function(){return"[Emscripten Module object]"}}else if(Ha)"undefined"!=typeof read&&(e.read=function(a){return read(a)}),e.readBinary=function(a){if("function"===typeof readbuffer)return new Uint8Array(readbuffer(a));a=read(a,"binary");I("object"===typeof a);return a},"undefined"!=typeof scriptArgs?e.arguments=
scriptArgs:"undefined"!=typeof arguments&&(e.arguments=arguments),"function"===typeof quit&&(e.quit=function(a){quit(a)});else if(V||C)C?A=self.location.href:document.currentScript&&(A=document.currentScript.src),pa&&(A=pa),A=0!==A.indexOf("blob:")?A.substr(0,A.lastIndexOf("/")+1):"",e.read=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.send(null);return b.responseText},C&&(e.readBinary=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}),
e.readAsync=function(a,b,d){var c=new XMLHttpRequest;c.open("GET",a,!0);c.responseType="arraybuffer";c.onload=function(){200==c.status||0==c.status&&c.response?b(c.response):d()};c.onerror=d;c.send(null)},e.setWindowTitle=function(a){document.title=a};var fa=e.print||("undefined"!==typeof console?console.log.bind(console):"undefined"!==typeof print?print:null),D=e.printErr||("undefined"!==typeof printErr?printErr:"undefined"!==typeof console&&console.warn.bind(console)||fa);for(H in G)G.hasOwnProperty(H)&&
(e[H]=G[H]);var G=void 0,Pa={"f64-rem":function(a,b){return a%b},"debugger":function(){debugger}},Ia=0;"object"!==typeof WebAssembly&&D("no native wasm support detected");var W,Ea=!1,va="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");var x,B,J,xa,q,Y=374304,E=e.TOTAL_MEMORY||16777216;5242880>E&&D("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+E+"! (TOTAL_STACK=5242880)");e.buffer?x=e.buffer:("object"===typeof WebAssembly&&
"function"===typeof WebAssembly.Memory?(W=new WebAssembly.Memory({initial:E/65536}),x=W.buffer):x=new ArrayBuffer(E),e.buffer=x);wa();q[Y>>2]=5617440;var ya=[],Fa=[],Qa=[],Ga=[],ca=!1,M=0,ia=null,U=null;e.preloadedImages={};e.preloadedAudios={};var ba="data:application/octet-stream;base64,",z="cobbles.wasm";if(!(String.prototype.startsWith?z.startsWith(ba):0===z.indexOf(ba)))z=e.locateFile?e.locateFile(z,A):A+z;e.asm=function(a,b,d){b.memory=W;b.table=new WebAssembly.Table({initial:854,maximum:854,
element:"anyfunc"});b.__memory_base=1024;b.__table_base=0;return Oa(b)};Fa.push({func:function(){Ra()}});var y={},n={splitPath:function(a){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(a).slice(1)},normalizeArray:function(a,b){for(var d=0,c=a.length-1;0<=c;c--){var f=a[c];"."===f?a.splice(c,1):".."===f?(a.splice(c,1),d++):d&&(a.splice(c,1),d--)}if(b)for(;d;d--)a.unshift("..");return a},normalize:function(a){var b="/"===a.charAt(0),d="/"===a.substr(-1);a=n.normalizeArray(a.split("/").filter(function(a){return!!a}),
!b).join("/");!a&&!b&&(a=".");a&&d&&(a+="/");return(b?"/":"")+a},dirname:function(a){var b=n.splitPath(a);a=b[0];b=b[1];if(!a&&!b)return".";b&&(b=b.substr(0,b.length-1));return a+b},basename:function(a){if("/"===a)return"/";var b=a.lastIndexOf("/");return-1===b?a:a.substr(b+1)},extname:function(a){return n.splitPath(a)[3]},join:function(){var a=Array.prototype.slice.call(arguments,0);return n.normalize(a.join("/"))},join2:function(a,b){return n.normalize(a+"/"+b)},resolve:function(){for(var a="",
b=!1,d=arguments.length-1;-1<=d&&!b;d--){b=0<=d?arguments[d]:c.cwd();if("string"!==typeof b)throw new TypeError("Arguments to path.resolve must be strings");if(!b)return"";a=b+"/"+a;b="/"===b.charAt(0)}a=n.normalizeArray(a.split("/").filter(function(a){return!!a}),!b).join("/");return(b?"/":"")+a||"."},relative:function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var d=a.length-1;0<=d&&""===a[d];d--);return b>d?[]:a.slice(b,d-b+1)}a=n.resolve(a).substr(1);b=n.resolve(b).substr(1);
for(var c=d(a.split("/")),f=d(b.split("/")),e=Math.min(c.length,f.length),g=e,r=0;r<e;r++)if(c[r]!==f[r]){g=r;break}e=[];for(r=g;r<c.length;r++)e.push("..");e=e.concat(f.slice(g));return e.join("/")}},F={ttys:[],init:function(){},shutdown:function(){},register:function(a,b){F.ttys[a]={input:[],output:[],ops:b};c.registerDevice(a,F.stream_ops)},stream_ops:{open:function(a){var b=F.ttys[a.node.rdev];if(!b)throw new c.ErrnoError(k.ENODEV);a.tty=b;a.seekable=!1},close:function(a){a.tty.ops.flush(a.tty)},
flush:function(a){a.tty.ops.flush(a.tty)},read:function(a,b,d,l,f){if(!a.tty||!a.tty.ops.get_char)throw new c.ErrnoError(k.ENXIO);for(var e=f=0;e<l;e++){var g;try{g=a.tty.ops.get_char(a.tty)}catch(r){throw new c.ErrnoError(k.EIO);}if(void 0===g&&0===f)throw new c.ErrnoError(k.EAGAIN);if(null===g||void 0===g)break;f++;b[d+e]=g}f&&(a.node.timestamp=Date.now());return f},write:function(a,b,d,l,f){if(!a.tty||!a.tty.ops.put_char)throw new c.ErrnoError(k.ENXIO);try{for(f=0;f<l;f++)a.tty.ops.put_char(a.tty,
b[d+f])}catch(e){throw new c.ErrnoError(k.EIO);}l&&(a.node.timestamp=Date.now());return f}},default_tty_ops:{get_char:function(a){if(!a.input.length){var b=null;if(N){var b=new Buffer(256),d=0,c=process.stdin.fd;if("win32"!=process.platform){var f=!1;try{c=u.openSync("/dev/stdin","r"),f=!0}catch(e){}}try{d=u.readSync(c,b,0,256,null)}catch(g){if(-1!=g.toString().indexOf("EOF"))d=0;else throw g;}f&&u.closeSync(c);b=0<d?b.slice(0,d).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==
typeof window.prompt?(b=window.prompt("Input: "),null!==b&&(b+="\n")):"function"==typeof readline&&(b=readline(),null!==b&&(b+="\n"));if(!b)return null;a.input=la(b,!0)}return a.input.shift()},put_char:function(a,b){null===b||10===b?(fa(P(a.output,0)),a.output=[]):0!=b&&a.output.push(b)},flush:function(a){a.output&&0<a.output.length&&(fa(P(a.output,0)),a.output=[])}},default_tty1_ops:{put_char:function(a,b){null===b||10===b?(D(P(a.output,0)),a.output=[]):0!=b&&a.output.push(b)},flush:function(a){a.output&&
0<a.output.length&&(D(P(a.output,0)),a.output=[])}}},p={ops_table:null,mount:function(a){return p.createNode(null,"/",16895,0)},createNode:function(a,b,d,l){if(c.isBlkdev(d)||c.isFIFO(d))throw new c.ErrnoError(k.EPERM);p.ops_table||(p.ops_table={dir:{node:{getattr:p.node_ops.getattr,setattr:p.node_ops.setattr,lookup:p.node_ops.lookup,mknod:p.node_ops.mknod,rename:p.node_ops.rename,unlink:p.node_ops.unlink,rmdir:p.node_ops.rmdir,readdir:p.node_ops.readdir,symlink:p.node_ops.symlink},stream:{llseek:p.stream_ops.llseek}},
file:{node:{getattr:p.node_ops.getattr,setattr:p.node_ops.setattr},stream:{llseek:p.stream_ops.llseek,read:p.stream_ops.read,write:p.stream_ops.write,allocate:p.stream_ops.allocate,mmap:p.stream_ops.mmap,msync:p.stream_ops.msync}},link:{node:{getattr:p.node_ops.getattr,setattr:p.node_ops.setattr,readlink:p.node_ops.readlink},stream:{}},chrdev:{node:{getattr:p.node_ops.getattr,setattr:p.node_ops.setattr},stream:c.chrdev_stream_ops}});d=c.createNode(a,b,d,l);c.isDir(d.mode)?(d.node_ops=p.ops_table.dir.node,
d.stream_ops=p.ops_table.dir.stream,d.contents={}):c.isFile(d.mode)?(d.node_ops=p.ops_table.file.node,d.stream_ops=p.ops_table.file.stream,d.usedBytes=0,d.contents=null):c.isLink(d.mode)?(d.node_ops=p.ops_table.link.node,d.stream_ops=p.ops_table.link.stream):c.isChrdev(d.mode)&&(d.node_ops=p.ops_table.chrdev.node,d.stream_ops=p.ops_table.chrdev.stream);d.timestamp=Date.now();a&&(a.contents[b]=d);return d},getFileDataAsRegularArray:function(a){if(a.contents&&a.contents.subarray){for(var b=[],d=0;d<
a.usedBytes;++d)b.push(a.contents[d]);return b}return a.contents},getFileDataAsTypedArray:function(a){return!a.contents?new Uint8Array:a.contents.subarray?a.contents.subarray(0,a.usedBytes):new Uint8Array(a.contents)},expandFileStorage:function(a,b){var d=a.contents?a.contents.length:0;d>=b||(b=Math.max(b,d*(1048576>d?2:1.125)|0),0!=d&&(b=Math.max(b,256)),d=a.contents,a.contents=new Uint8Array(b),0<a.usedBytes&&a.contents.set(d.subarray(0,a.usedBytes),0))},resizeFileStorage:function(a,b){if(a.usedBytes!=
b)if(0==b)a.contents=null,a.usedBytes=0;else{if(!a.contents||a.contents.subarray){var d=a.contents;a.contents=new Uint8Array(new ArrayBuffer(b));d&&a.contents.set(d.subarray(0,Math.min(b,a.usedBytes)))}else if(a.contents||(a.contents=[]),a.contents.length>b)a.contents.length=b;else for(;a.contents.length<b;)a.contents.push(0);a.usedBytes=b}},node_ops:{getattr:function(a){var b={};b.dev=c.isChrdev(a.mode)?a.id:1;b.ino=a.id;b.mode=a.mode;b.nlink=1;b.uid=0;b.gid=0;b.rdev=a.rdev;c.isDir(a.mode)?b.size=
4096:c.isFile(a.mode)?b.size=a.usedBytes:c.isLink(a.mode)?b.size=a.link.length:b.size=0;b.atime=new Date(a.timestamp);b.mtime=new Date(a.timestamp);b.ctime=new Date(a.timestamp);b.blksize=4096;b.blocks=Math.ceil(b.size/b.blksize);return b},setattr:function(a,b){void 0!==b.mode&&(a.mode=b.mode);void 0!==b.timestamp&&(a.timestamp=b.timestamp);void 0!==b.size&&p.resizeFileStorage(a,b.size)},lookup:function(a,b){throw c.genericErrors[k.ENOENT];},mknod:function(a,b,d,c){return p.createNode(a,b,d,c)},rename:function(a,
b,d){if(c.isDir(a.mode)){var l;try{l=c.lookupNode(b,d)}catch(f){}if(l)for(var e in l.contents)throw new c.ErrnoError(k.ENOTEMPTY);}delete a.parent.contents[a.name];a.name=d;b.contents[d]=a;a.parent=b},unlink:function(a,b){delete a.contents[b]},rmdir:function(a,b){var d=c.lookupNode(a,b),l;for(l in d.contents)throw new c.ErrnoError(k.ENOTEMPTY);delete a.contents[b]},readdir:function(a){var b=[".",".."],d;for(d in a.contents)a.contents.hasOwnProperty(d)&&b.push(d);return b},symlink:function(a,b,d){a=
p.createNode(a,b,41471,0);a.link=d;return a},readlink:function(a){if(!c.isLink(a.mode))throw new c.ErrnoError(k.EINVAL);return a.link}},stream_ops:{read:function(a,b,d,c,f){var e=a.node.contents;if(f>=a.node.usedBytes)return 0;a=Math.min(a.node.usedBytes-f,c);if(8<a&&e.subarray)b.set(e.subarray(f,f+a),d);else for(c=0;c<a;c++)b[d+c]=e[f+c];return a},write:function(a,b,d,c,f,e){e=!1;if(!c)return 0;a=a.node;a.timestamp=Date.now();if(b.subarray&&(!a.contents||a.contents.subarray)){if(e)return a.contents=
b.subarray(d,d+c),a.usedBytes=c;if(0===a.usedBytes&&0===f)return a.contents=new Uint8Array(b.subarray(d,d+c)),a.usedBytes=c;if(f+c<=a.usedBytes)return a.contents.set(b.subarray(d,d+c),f),c}p.expandFileStorage(a,f+c);if(a.contents.subarray&&b.subarray)a.contents.set(b.subarray(d,d+c),f);else for(e=0;e<c;e++)a.contents[f+e]=b[d+e];a.usedBytes=Math.max(a.usedBytes,f+c);return c},llseek:function(a,b,d){1===d?b+=a.position:2===d&&c.isFile(a.node.mode)&&(b+=a.node.usedBytes);if(0>b)throw new c.ErrnoError(k.EINVAL);
return b},allocate:function(a,b,d){p.expandFileStorage(a.node,b+d);a.node.usedBytes=Math.max(a.node.usedBytes,b+d)},mmap:function(a,b,d,l,f,e,g){if(!c.isFile(a.node.mode))throw new c.ErrnoError(k.ENODEV);d=a.node.contents;if(!(g&2)&&(d.buffer===b||d.buffer===b.buffer))a=!1,l=d.byteOffset;else{if(0<f||f+l<a.node.usedBytes)d=d.subarray?d.subarray(f,f+l):Array.prototype.slice.call(d,f,f+l);a=!0;l=da(l);if(!l)throw new c.ErrnoError(k.ENOMEM);b.set(d,l)}return{ptr:l,allocated:a}},msync:function(a,b,d,
l,f){if(!c.isFile(a.node.mode))throw new c.ErrnoError(k.ENODEV);if(f&2)return 0;p.stream_ops.write(a,b,0,l,d,!1);return 0}}},t={dbs:{},indexedDB:function(){if("undefined"!==typeof indexedDB)return indexedDB;var a=null;"object"===typeof window&&(a=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB);I(a,"IDBFS used, but indexedDB not supported");return a},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(a){return p.mount.apply(null,arguments)},syncfs:function(a,
b,d){t.getLocalSet(a,function(c,f){if(c)return d(c);t.getRemoteSet(a,function(a,c){if(a)return d(a);t.reconcile(b?c:f,b?f:c,d)})})},getDB:function(a,b){var d=t.dbs[a];if(d)return b(null,d);var c;try{c=t.indexedDB().open(a,t.DB_VERSION)}catch(f){return b(f)}if(!c)return b("Unable to connect to IndexedDB");c.onupgradeneeded=function(a){var b=a.target.result;a=a.target.transaction;b=b.objectStoreNames.contains(t.DB_STORE_NAME)?a.objectStore(t.DB_STORE_NAME):b.createObjectStore(t.DB_STORE_NAME);b.indexNames.contains("timestamp")||
b.createIndex("timestamp","timestamp",{unique:!1})};c.onsuccess=function(){d=c.result;t.dbs[a]=d;b(null,d)};c.onerror=function(a){b(this.error);a.preventDefault()}},getLocalSet:function(a,b){function d(a){return"."!==a&&".."!==a}function l(a){return function(b){return n.join2(a,b)}}for(var f={},e=c.readdir(a.mountpoint).filter(d).map(l(a.mountpoint));e.length;){var g=e.pop(),r;try{r=c.stat(g)}catch(k){return b(k)}c.isDir(r.mode)&&e.push.apply(e,c.readdir(g).filter(d).map(l(g)));f[g]={timestamp:r.mtime}}return b(null,
{type:"local",entries:f})},getRemoteSet:function(a,b){var d={};t.getDB(a.mountpoint,function(a,c){if(a)return b(a);try{var e=c.transaction([t.DB_STORE_NAME],"readonly");e.onerror=function(a){b(this.error);a.preventDefault()};e.objectStore(t.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(a){a=a.target.result;if(!a)return b(null,{type:"remote",db:c,entries:d});d[a.primaryKey]={timestamp:a.key};a.continue()}}catch(g){return b(g)}})},loadLocalEntry:function(a,b){var d,l;try{l=c.lookupPath(a).node,
d=c.stat(a)}catch(f){return b(f)}return c.isDir(d.mode)?b(null,{timestamp:d.mtime,mode:d.mode}):c.isFile(d.mode)?(l.contents=p.getFileDataAsTypedArray(l),b(null,{timestamp:d.mtime,mode:d.mode,contents:l.contents})):b(Error("node type not supported"))},storeLocalEntry:function(a,b,d){try{if(c.isDir(b.mode))c.mkdir(a,b.mode);else if(c.isFile(b.mode))c.writeFile(a,b.contents,{canOwn:!0});else return d(Error("node type not supported"));c.chmod(a,b.mode);c.utime(a,b.timestamp,b.timestamp)}catch(l){return d(l)}d(null)},
removeLocalEntry:function(a,b){try{c.lookupPath(a);var d=c.stat(a);c.isDir(d.mode)?c.rmdir(a):c.isFile(d.mode)&&c.unlink(a)}catch(l){return b(l)}b(null)},loadRemoteEntry:function(a,b,d){a=a.get(b);a.onsuccess=function(a){d(null,a.target.result)};a.onerror=function(a){d(this.error);a.preventDefault()}},storeRemoteEntry:function(a,b,d,c){a=a.put(d,b);a.onsuccess=function(){c(null)};a.onerror=function(a){c(this.error);a.preventDefault()}},removeRemoteEntry:function(a,b,d){a=a.delete(b);a.onsuccess=function(){d(null)};
a.onerror=function(a){d(this.error);a.preventDefault()}},reconcile:function(a,b,d){function c(a){if(a){if(!c.errored)return c.errored=!0,d(a)}else if(++r>=f)return d(null)}var f=0,e=[];Object.keys(a.entries).forEach(function(d){var c=a.entries[d],l=b.entries[d];if(!l||c.timestamp>l.timestamp)e.push(d),f++});var g=[];Object.keys(b.entries).forEach(function(b){a.entries[b]||(g.push(b),f++)});if(!f)return d(null);var r=0,k=("remote"===a.type?a.db:b.db).transaction([t.DB_STORE_NAME],"readwrite"),Z=k.objectStore(t.DB_STORE_NAME);
k.onerror=function(a){c(this.error);a.preventDefault()};e.sort().forEach(function(a){"local"===b.type?t.loadRemoteEntry(Z,a,function(b,d){if(b)return c(b);t.storeLocalEntry(a,d,c)}):t.loadLocalEntry(a,function(b,d){if(b)return c(b);t.storeRemoteEntry(Z,a,d,c)})});g.sort().reverse().forEach(function(a){"local"===b.type?t.removeLocalEntry(a,c):t.removeRemoteEntry(Z,a,c)})}},s={isWindows:!1,staticInit:function(){s.isWindows=!!process.platform.match(/^win/);var a=process.binding("constants");a.fs&&(a=
a.fs);s.flagsForNodeMap={1024:a.O_APPEND,64:a.O_CREAT,128:a.O_EXCL,"0":a.O_RDONLY,2:a.O_RDWR,4096:a.O_SYNC,512:a.O_TRUNC,1:a.O_WRONLY}},bufferFrom:function(a){return Buffer.alloc?Buffer.from(a):new Buffer(a)},mount:function(a){I(N);return s.createNode(null,"/",s.getMode(a.opts.root),0)},createNode:function(a,b,d,l){if(!c.isDir(d)&&!c.isFile(d)&&!c.isLink(d))throw new c.ErrnoError(k.EINVAL);a=c.createNode(a,b,d);a.node_ops=s.node_ops;a.stream_ops=s.stream_ops;return a},getMode:function(a){var b;try{b=
u.lstatSync(a),s.isWindows&&(b.mode|=(b.mode&292)>>2)}catch(d){if(!d.code)throw d;throw new c.ErrnoError(k[d.code]);}return b.mode},realPath:function(a){for(var b=[];a.parent!==a;)b.push(a.name),a=a.parent;b.push(a.mount.opts.root);b.reverse();return n.join.apply(null,b)},flagsForNode:function(a){a&=-2099201;a&=-32769;a&=-524289;var b=0,d;for(d in s.flagsForNodeMap)a&d&&(b|=s.flagsForNodeMap[d],a^=d);if(a)throw new c.ErrnoError(k.EINVAL);return b},node_ops:{getattr:function(a){a=s.realPath(a);var b;
try{b=u.lstatSync(a)}catch(d){if(!d.code)throw d;throw new c.ErrnoError(k[d.code]);}s.isWindows&&!b.blksize&&(b.blksize=4096);s.isWindows&&!b.blocks&&(b.blocks=(b.size+b.blksize-1)/b.blksize|0);return{dev:b.dev,ino:b.ino,mode:b.mode,nlink:b.nlink,uid:b.uid,gid:b.gid,rdev:b.rdev,size:b.size,atime:b.atime,mtime:b.mtime,ctime:b.ctime,blksize:b.blksize,blocks:b.blocks}},setattr:function(a,b){var d=s.realPath(a);try{void 0!==b.mode&&(u.chmodSync(d,b.mode),a.mode=b.mode);if(void 0!==b.timestamp){var l=
new Date(b.timestamp);u.utimesSync(d,l,l)}void 0!==b.size&&u.truncateSync(d,b.size)}catch(f){if(!f.code)throw f;throw new c.ErrnoError(k[f.code]);}},lookup:function(a,b){var d=n.join2(s.realPath(a),b),d=s.getMode(d);return s.createNode(a,b,d)},mknod:function(a,b,d,l){a=s.createNode(a,b,d,l);b=s.realPath(a);try{c.isDir(a.mode)?u.mkdirSync(b,a.mode):u.writeFileSync(b,"",{mode:a.mode})}catch(f){if(!f.code)throw f;throw new c.ErrnoError(k[f.code]);}return a},rename:function(a,b,d){a=s.realPath(a);b=n.join2(s.realPath(b),
d);try{u.renameSync(a,b)}catch(l){if(!l.code)throw l;throw new c.ErrnoError(k[l.code]);}},unlink:function(a,b){var d=n.join2(s.realPath(a),b);try{u.unlinkSync(d)}catch(l){if(!l.code)throw l;throw new c.ErrnoError(k[l.code]);}},rmdir:function(a,b){var d=n.join2(s.realPath(a),b);try{u.rmdirSync(d)}catch(l){if(!l.code)throw l;throw new c.ErrnoError(k[l.code]);}},readdir:function(a){a=s.realPath(a);try{return u.readdirSync(a)}catch(b){if(!b.code)throw b;throw new c.ErrnoError(k[b.code]);}},symlink:function(a,
b,d){a=n.join2(s.realPath(a),b);try{u.symlinkSync(d,a)}catch(l){if(!l.code)throw l;throw new c.ErrnoError(k[l.code]);}},readlink:function(a){var b=s.realPath(a);try{return b=u.readlinkSync(b),b=Ja.relative(Ja.resolve(a.mount.opts.root),b)}catch(d){if(!d.code)throw d;throw new c.ErrnoError(k[d.code]);}}},stream_ops:{open:function(a){var b=s.realPath(a.node);try{c.isFile(a.node.mode)&&(a.nfd=u.openSync(b,s.flagsForNode(a.flags)))}catch(d){if(!d.code)throw d;throw new c.ErrnoError(k[d.code]);}},close:function(a){try{c.isFile(a.node.mode)&&
a.nfd&&u.closeSync(a.nfd)}catch(b){if(!b.code)throw b;throw new c.ErrnoError(k[b.code]);}},read:function(a,b,d,l,f){if(0===l)return 0;try{return u.readSync(a.nfd,s.bufferFrom(b.buffer),d,l,f)}catch(e){throw new c.ErrnoError(k[e.code]);}},write:function(a,b,d,l,f){try{return u.writeSync(a.nfd,s.bufferFrom(b.buffer),d,l,f)}catch(e){throw new c.ErrnoError(k[e.code]);}},llseek:function(a,b,d){if(1===d)b+=a.position;else if(2===d&&c.isFile(a.node.mode))try{var e=u.fstatSync(a.nfd);b+=e.size}catch(f){throw new c.ErrnoError(k[f.code]);
}if(0>b)throw new c.ErrnoError(k.EINVAL);return b}}},v={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(a){function b(a){a=a.split("/");for(var b=c,d=0;d<a.length-1;d++){var e=a.slice(0,d+1).join("/");f[e]||(f[e]=v.createNode(b,a[d],v.DIR_MODE,0));b=f[e]}return b}function d(a){a=a.split("/");return a[a.length-1]}I(C);v.reader||(v.reader=new FileReaderSync);var c=v.createNode(null,"/",v.DIR_MODE,0),f={};Array.prototype.forEach.call(a.opts.files||[],function(a){v.createNode(b(a.name),d(a.name),
v.FILE_MODE,0,a,a.lastModifiedDate)});(a.opts.blobs||[]).forEach(function(a){v.createNode(b(a.name),d(a.name),v.FILE_MODE,0,a.data)});(a.opts.packages||[]).forEach(function(a){a.metadata.files.forEach(function(c){var e=c.filename.substr(1);v.createNode(b(e),d(e),v.FILE_MODE,0,a.blob.slice(c.start,c.end))})});return c},createNode:function(a,b,d,e,f,h){e=c.createNode(a,b,d);e.mode=d;e.node_ops=v.node_ops;e.stream_ops=v.stream_ops;e.timestamp=(h||new Date).getTime();I(v.FILE_MODE!==v.DIR_MODE);d===v.FILE_MODE?
(e.size=f.size,e.contents=f):(e.size=4096,e.contents={});a&&(a.contents[b]=e);return e},node_ops:{getattr:function(a){return{dev:1,ino:void 0,mode:a.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:a.size,atime:new Date(a.timestamp),mtime:new Date(a.timestamp),ctime:new Date(a.timestamp),blksize:4096,blocks:Math.ceil(a.size/4096)}},setattr:function(a,b){void 0!==b.mode&&(a.mode=b.mode);void 0!==b.timestamp&&(a.timestamp=b.timestamp)},lookup:function(a,b){throw new c.ErrnoError(k.ENOENT);},mknod:function(a,
b,d,e){throw new c.ErrnoError(k.EPERM);},rename:function(a,b,d){throw new c.ErrnoError(k.EPERM);},unlink:function(a,b){throw new c.ErrnoError(k.EPERM);},rmdir:function(a,b){throw new c.ErrnoError(k.EPERM);},readdir:function(a){var b=[".",".."],d;for(d in a.contents)a.contents.hasOwnProperty(d)&&b.push(d);return b},symlink:function(a,b,d){throw new c.ErrnoError(k.EPERM);},readlink:function(a){throw new c.ErrnoError(k.EPERM);}},stream_ops:{read:function(a,b,d,c,e){if(e>=a.node.size)return 0;a=a.node.contents.slice(e,
e+c);c=v.reader.readAsArrayBuffer(a);b.set(new Uint8Array(c),d);return a.size},write:function(a,b,d,e,f){throw new c.ErrnoError(k.EIO);},llseek:function(a,b,d){1===d?b+=a.position:2===d&&c.isFile(a.node.mode)&&(b+=a.node.size);if(0>b)throw new c.ErrnoError(k.EINVAL);return b}}},c={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,
syncFSRequests:0,handleFSError:function(a){if(!(a instanceof c.ErrnoError))throw a+" : "+La();return Q(a.errno)},lookupPath:function(a,b){a=n.resolve(c.cwd(),a);b=b||{};if(!a)return{path:"",node:null};var d={follow_mount:!0,recurse_count:0},e;for(e in d)void 0===b[e]&&(b[e]=d[e]);if(8<b.recurse_count)throw new c.ErrnoError(40);var d=n.normalizeArray(a.split("/").filter(function(a){return!!a}),!1),f=c.root;e="/";for(var h=0;h<d.length;h++){var g=h===d.length-1;if(g&&b.parent)break;f=c.lookupNode(f,
d[h]);e=n.join2(e,d[h]);if(c.isMountpoint(f)&&(!g||g&&b.follow_mount))f=f.mounted.root;if(!g||b.follow)for(g=0;c.isLink(f.mode);)if(f=c.readlink(e),e=n.resolve(n.dirname(e),f),f=c.lookupPath(e,{recurse_count:b.recurse_count}).node,40<g++)throw new c.ErrnoError(40);}return{path:e,node:f}},getPath:function(a){for(var b;;){if(c.isRoot(a))return a=a.mount.mountpoint,!b?a:"/"!==a[a.length-1]?a+"/"+b:a+b;b=b?a.name+"/"+b:a.name;a=a.parent}},hashName:function(a,b){for(var d=0,e=0;e<b.length;e++)d=(d<<5)-
d+b.charCodeAt(e)|0;return(a+d>>>0)%c.nameTable.length},hashAddNode:function(a){var b=c.hashName(a.parent.id,a.name);a.name_next=c.nameTable[b];c.nameTable[b]=a},hashRemoveNode:function(a){var b=c.hashName(a.parent.id,a.name);if(c.nameTable[b]===a)c.nameTable[b]=a.name_next;else for(b=c.nameTable[b];b;){if(b.name_next===a){b.name_next=a.name_next;break}b=b.name_next}},lookupNode:function(a,b){var d=c.mayLookup(a);if(d)throw new c.ErrnoError(d,a);d=c.hashName(a.id,b);for(d=c.nameTable[d];d;d=d.name_next){var e=
d.name;if(d.parent.id===a.id&&e===b)return d}return c.lookup(a,b)},createNode:function(a,b,d,e){c.FSNode||(c.FSNode=function(a,b,d,e){a||(a=this);this.parent=a;this.mount=a.mount;this.mounted=null;this.id=c.nextInode++;this.name=b;this.mode=d;this.node_ops={};this.stream_ops={};this.rdev=e},c.FSNode.prototype={},Object.defineProperties(c.FSNode.prototype,{read:{get:function(){return 365===(this.mode&365)},set:function(a){a?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146===(this.mode&
146)},set:function(a){a?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return c.isDir(this.mode)}},isDevice:{get:function(){return c.isChrdev(this.mode)}}}));a=new c.FSNode(a,b,d,e);c.hashAddNode(a);return a},destroyNode:function(a){c.hashRemoveNode(a)},isRoot:function(a){return a===a.parent},isMountpoint:function(a){return!!a.mounted},isFile:function(a){return 32768===(a&61440)},isDir:function(a){return 16384===(a&61440)},isLink:function(a){return 40960===(a&61440)},isChrdev:function(a){return 8192===
(a&61440)},isBlkdev:function(a){return 24576===(a&61440)},isFIFO:function(a){return 4096===(a&61440)},isSocket:function(a){return 49152===(a&49152)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(a){var b=c.flagModes[a];if("undefined"===typeof b)throw Error("Unknown file open mode: "+a);return b},flagsToPermissionString:function(a){var b=["r","w","rw"][a&3];a&512&&(b+="w");return b},
nodePermissions:function(a,b){return c.ignorePermissions?0:-1!==b.indexOf("r")&&!(a.mode&292)||-1!==b.indexOf("w")&&!(a.mode&146)||-1!==b.indexOf("x")&&!(a.mode&73)?13:0},mayLookup:function(a){var b=c.nodePermissions(a,"x");return b?b:!a.node_ops.lookup?13:0},mayCreate:function(a,b){try{return c.lookupNode(a,b),17}catch(d){}return c.nodePermissions(a,"wx")},mayDelete:function(a,b,d){var e;try{e=c.lookupNode(a,b)}catch(f){return f.errno}if(a=c.nodePermissions(a,"wx"))return a;if(d){if(!c.isDir(e.mode))return 20;
if(c.isRoot(e)||c.getPath(e)===c.cwd())return 16}else if(c.isDir(e.mode))return 21;return 0},mayOpen:function(a,b){return!a?2:c.isLink(a.mode)?40:c.isDir(a.mode)&&("r"!==c.flagsToPermissionString(b)||b&512)?21:c.nodePermissions(a,c.flagsToPermissionString(b))},MAX_OPEN_FDS:4096,nextfd:function(a,b){b=b||c.MAX_OPEN_FDS;for(var d=a||0;d<=b;d++)if(!c.streams[d])return d;throw new c.ErrnoError(24);},getStream:function(a){return c.streams[a]},createStream:function(a,b,d){c.FSStream||(c.FSStream=function(){},
c.FSStream.prototype={},Object.defineProperties(c.FSStream.prototype,{object:{get:function(){return this.node},set:function(a){this.node=a}},isRead:{get:function(){return 1!==(this.flags&2097155)}},isWrite:{get:function(){return 0!==(this.flags&2097155)}},isAppend:{get:function(){return this.flags&1024}}}));var e=new c.FSStream,f;for(f in a)e[f]=a[f];a=e;b=c.nextfd(b,d);a.fd=b;return c.streams[b]=a},closeStream:function(a){c.streams[a]=null},chrdev_stream_ops:{open:function(a){var b=c.getDevice(a.node.rdev);
a.stream_ops=b.stream_ops;a.stream_ops.open&&a.stream_ops.open(a)},llseek:function(){throw new c.ErrnoError(29);}},major:function(a){return a>>8},minor:function(a){return a&255},makedev:function(a,b){return a<<8|b},registerDevice:function(a,b){c.devices[a]={stream_ops:b}},getDevice:function(a){return c.devices[a]},getMounts:function(a){var b=[];for(a=[a];a.length;){var d=a.pop();b.push(d);a.push.apply(a,d.mounts)}return b},syncfs:function(a,b){function d(a){c.syncFSRequests--;return b(a)}function e(a){if(a){if(!e.errored)return e.errored=
!0,d(a)}else++h>=f.length&&d(null)}"function"===typeof a&&(b=a,a=!1);c.syncFSRequests++;1<c.syncFSRequests&&console.log("warning: "+c.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var f=c.getMounts(c.root.mount),h=0;f.forEach(function(b){if(!b.type.syncfs)return e(null);b.type.syncfs(b,a,e)})},mount:function(a,b,d){var e="/"===d,f=!d,h;if(e&&c.root)throw new c.ErrnoError(16);if(!e&&!f){h=c.lookupPath(d,{follow_mount:!1});d=h.path;h=h.node;if(c.isMountpoint(h))throw new c.ErrnoError(16);
if(!c.isDir(h.mode))throw new c.ErrnoError(20);}b={type:a,opts:b,mountpoint:d,mounts:[]};a=a.mount(b);a.mount=b;b.root=a;e?c.root=a:h&&(h.mounted=b,h.mount&&h.mount.mounts.push(b));return a},unmount:function(a){a=c.lookupPath(a,{follow_mount:!1});if(!c.isMountpoint(a.node))throw new c.ErrnoError(22);a=a.node;var b=a.mounted,d=c.getMounts(b);Object.keys(c.nameTable).forEach(function(a){for(a=c.nameTable[a];a;){var b=a.name_next;-1!==d.indexOf(a.mount)&&c.destroyNode(a);a=b}});a.mounted=null;b=a.mount.mounts.indexOf(b);
a.mount.mounts.splice(b,1)},lookup:function(a,b){return a.node_ops.lookup(a,b)},mknod:function(a,b,d){var e=c.lookupPath(a,{parent:!0}).node;a=n.basename(a);if(!a||"."===a||".."===a)throw new c.ErrnoError(22);var f=c.mayCreate(e,a);if(f)throw new c.ErrnoError(f);if(!e.node_ops.mknod)throw new c.ErrnoError(1);return e.node_ops.mknod(e,a,b,d)},create:function(a,b){b=(void 0!==b?b:438)&4095;b|=32768;return c.mknod(a,b,0)},mkdir:function(a,b){b=(void 0!==b?b:511)&1023;b|=16384;return c.mknod(a,b,0)},
mkdirTree:function(a,b){for(var d=a.split("/"),e="",f=0;f<d.length;++f)if(d[f]){e+="/"+d[f];try{c.mkdir(e,b)}catch(h){if(17!=h.errno)throw h;}}},mkdev:function(a,b,d){"undefined"===typeof d&&(d=b,b=438);return c.mknod(a,b|8192,d)},symlink:function(a,b){if(!n.resolve(a))throw new c.ErrnoError(2);var d=c.lookupPath(b,{parent:!0}).node;if(!d)throw new c.ErrnoError(2);var e=n.basename(b),f=c.mayCreate(d,e);if(f)throw new c.ErrnoError(f);if(!d.node_ops.symlink)throw new c.ErrnoError(1);return d.node_ops.symlink(d,
e,a)},rename:function(a,b){var d=n.dirname(a),e=n.dirname(b),f=n.basename(a),h=n.basename(b),g,r,k;try{g=c.lookupPath(a,{parent:!0}),r=g.node,g=c.lookupPath(b,{parent:!0}),k=g.node}catch(Z){throw new c.ErrnoError(16);}if(!r||!k)throw new c.ErrnoError(2);if(r.mount!==k.mount)throw new c.ErrnoError(18);g=c.lookupNode(r,f);e=n.relative(a,e);if("."!==e.charAt(0))throw new c.ErrnoError(22);e=n.relative(b,d);if("."!==e.charAt(0))throw new c.ErrnoError(39);var m;try{m=c.lookupNode(k,h)}catch(p){}if(g!==
m){d=c.isDir(g.mode);if(f=c.mayDelete(r,f,d))throw new c.ErrnoError(f);if(f=m?c.mayDelete(k,h,d):c.mayCreate(k,h))throw new c.ErrnoError(f);if(!r.node_ops.rename)throw new c.ErrnoError(1);if(c.isMountpoint(g)||m&&c.isMountpoint(m))throw new c.ErrnoError(16);if(k!==r&&(f=c.nodePermissions(r,"w")))throw new c.ErrnoError(f);try{c.trackingDelegate.willMovePath&&c.trackingDelegate.willMovePath(a,b)}catch(q){console.log("FS.trackingDelegate['willMovePath']('"+a+"', '"+b+"') threw an exception: "+q.message)}c.hashRemoveNode(g);
try{r.node_ops.rename(g,k,h)}catch(s){throw s;}finally{c.hashAddNode(g)}try{if(c.trackingDelegate.onMovePath)c.trackingDelegate.onMovePath(a,b)}catch(Sa){console.log("FS.trackingDelegate['onMovePath']('"+a+"', '"+b+"') threw an exception: "+Sa.message)}}},rmdir:function(a){var b=c.lookupPath(a,{parent:!0}).node,d=n.basename(a),e=c.lookupNode(b,d),f=c.mayDelete(b,d,!0);if(f)throw new c.ErrnoError(f);if(!b.node_ops.rmdir)throw new c.ErrnoError(1);if(c.isMountpoint(e))throw new c.ErrnoError(16);try{c.trackingDelegate.willDeletePath&&
c.trackingDelegate.willDeletePath(a)}catch(h){console.log("FS.trackingDelegate['willDeletePath']('"+a+"') threw an exception: "+h.message)}b.node_ops.rmdir(b,d);c.destroyNode(e);try{if(c.trackingDelegate.onDeletePath)c.trackingDelegate.onDeletePath(a)}catch(g){console.log("FS.trackingDelegate['onDeletePath']('"+a+"') threw an exception: "+g.message)}},readdir:function(a){a=c.lookupPath(a,{follow:!0}).node;if(!a.node_ops.readdir)throw new c.ErrnoError(20);return a.node_ops.readdir(a)},unlink:function(a){var b=
c.lookupPath(a,{parent:!0}).node,d=n.basename(a),e=c.lookupNode(b,d),f=c.mayDelete(b,d,!1);if(f)throw new c.ErrnoError(f);if(!b.node_ops.unlink)throw new c.ErrnoError(1);if(c.isMountpoint(e))throw new c.ErrnoError(16);try{c.trackingDelegate.willDeletePath&&c.trackingDelegate.willDeletePath(a)}catch(h){console.log("FS.trackingDelegate['willDeletePath']('"+a+"') threw an exception: "+h.message)}b.node_ops.unlink(b,d);c.destroyNode(e);try{if(c.trackingDelegate.onDeletePath)c.trackingDelegate.onDeletePath(a)}catch(g){console.log("FS.trackingDelegate['onDeletePath']('"+
a+"') threw an exception: "+g.message)}},readlink:function(a){a=c.lookupPath(a).node;if(!a)throw new c.ErrnoError(2);if(!a.node_ops.readlink)throw new c.ErrnoError(22);return n.resolve(c.getPath(a.parent),a.node_ops.readlink(a))},stat:function(a,b){var d=c.lookupPath(a,{follow:!b}).node;if(!d)throw new c.ErrnoError(2);if(!d.node_ops.getattr)throw new c.ErrnoError(1);return d.node_ops.getattr(d)},lstat:function(a){return c.stat(a,!0)},chmod:function(a,b,d){a="string"===typeof a?c.lookupPath(a,{follow:!d}).node:
a;if(!a.node_ops.setattr)throw new c.ErrnoError(1);a.node_ops.setattr(a,{mode:b&4095|a.mode&-4096,timestamp:Date.now()})},lchmod:function(a,b){c.chmod(a,b,!0)},fchmod:function(a,b){var d=c.getStream(a);if(!d)throw new c.ErrnoError(9);c.chmod(d.node,b)},chown:function(a,b,d,e){a="string"===typeof a?c.lookupPath(a,{follow:!e}).node:a;if(!a.node_ops.setattr)throw new c.ErrnoError(1);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown:function(a,b,d){c.chown(a,b,d,!0)},fchown:function(a,b,d){a=c.getStream(a);
if(!a)throw new c.ErrnoError(9);c.chown(a.node,b,d)},truncate:function(a,b){if(0>b)throw new c.ErrnoError(22);var d;d="string"===typeof a?c.lookupPath(a,{follow:!0}).node:a;if(!d.node_ops.setattr)throw new c.ErrnoError(1);if(c.isDir(d.mode))throw new c.ErrnoError(21);if(!c.isFile(d.mode))throw new c.ErrnoError(22);var e=c.nodePermissions(d,"w");if(e)throw new c.ErrnoError(e);d.node_ops.setattr(d,{size:b,timestamp:Date.now()})},ftruncate:function(a,b){var d=c.getStream(a);if(!d)throw new c.ErrnoError(9);
if(0===(d.flags&2097155))throw new c.ErrnoError(22);c.truncate(d.node,b)},utime:function(a,b,d){a=c.lookupPath(a,{follow:!0}).node;a.node_ops.setattr(a,{timestamp:Math.max(b,d)})},open:function(a,b,d,l,f){if(""===a)throw new c.ErrnoError(2);b="string"===typeof b?c.modeStringToFlags(b):b;d=b&64?("undefined"===typeof d?438:d)&4095|32768:0;var h;if("object"===typeof a)h=a;else{a=n.normalize(a);try{h=c.lookupPath(a,{follow:!(b&131072)}).node}catch(g){}}var k=!1;if(b&64)if(h){if(b&128)throw new c.ErrnoError(17);
}else h=c.mknod(a,d,0),k=!0;if(!h)throw new c.ErrnoError(2);c.isChrdev(h.mode)&&(b&=-513);if(b&65536&&!c.isDir(h.mode))throw new c.ErrnoError(20);if(!k&&(d=c.mayOpen(h,b)))throw new c.ErrnoError(d);b&512&&c.truncate(h,0);b&=-641;l=c.createStream({node:h,path:c.getPath(h),flags:b,seekable:!0,position:0,stream_ops:h.stream_ops,ungotten:[],error:!1},l,f);l.stream_ops.open&&l.stream_ops.open(l);e.logReadFiles&&!(b&1)&&(c.readFiles||(c.readFiles={}),a in c.readFiles||(c.readFiles[a]=1,console.log("FS.trackingDelegate error on read file: "+
a)));try{c.trackingDelegate.onOpenFile&&(f=0,1!==(b&2097155)&&(f|=c.tracking.openFlags.READ),0!==(b&2097155)&&(f|=c.tracking.openFlags.WRITE),c.trackingDelegate.onOpenFile(a,f))}catch(m){console.log("FS.trackingDelegate['onOpenFile']('"+a+"', flags) threw an exception: "+m.message)}return l},close:function(a){if(c.isClosed(a))throw new c.ErrnoError(9);a.getdents&&(a.getdents=null);try{a.stream_ops.close&&a.stream_ops.close(a)}catch(b){throw b;}finally{c.closeStream(a.fd)}a.fd=null},isClosed:function(a){return null===
a.fd},llseek:function(a,b,d){if(c.isClosed(a))throw new c.ErrnoError(9);if(!a.seekable||!a.stream_ops.llseek)throw new c.ErrnoError(29);if(0!=d&&1!=d&&2!=d)throw new c.ErrnoError(22);a.position=a.stream_ops.llseek(a,b,d);a.ungotten=[];return a.position},read:function(a,b,d,e,f){if(0>e||0>f)throw new c.ErrnoError(22);if(c.isClosed(a))throw new c.ErrnoError(9);if(1===(a.flags&2097155))throw new c.ErrnoError(9);if(c.isDir(a.node.mode))throw new c.ErrnoError(21);if(!a.stream_ops.read)throw new c.ErrnoError(22);
var h="undefined"!==typeof f;if(h){if(!a.seekable)throw new c.ErrnoError(29);}else f=a.position;b=a.stream_ops.read(a,b,d,e,f);h||(a.position+=b);return b},write:function(a,b,d,e,f,h){if(0>e||0>f)throw new c.ErrnoError(22);if(c.isClosed(a))throw new c.ErrnoError(9);if(0===(a.flags&2097155))throw new c.ErrnoError(9);if(c.isDir(a.node.mode))throw new c.ErrnoError(21);if(!a.stream_ops.write)throw new c.ErrnoError(22);a.flags&1024&&c.llseek(a,0,2);var g="undefined"!==typeof f;if(g){if(!a.seekable)throw new c.ErrnoError(29);
}else f=a.position;b=a.stream_ops.write(a,b,d,e,f,h);g||(a.position+=b);try{if(a.path&&c.trackingDelegate.onWriteToFile)c.trackingDelegate.onWriteToFile(a.path)}catch(k){console.log("FS.trackingDelegate['onWriteToFile']('"+a.path+"') threw an exception: "+k.message)}return b},allocate:function(a,b,d){if(c.isClosed(a))throw new c.ErrnoError(9);if(0>b||0>=d)throw new c.ErrnoError(22);if(0===(a.flags&2097155))throw new c.ErrnoError(9);if(!c.isFile(a.node.mode)&&!c.isDir(a.node.mode))throw new c.ErrnoError(19);
if(!a.stream_ops.allocate)throw new c.ErrnoError(95);a.stream_ops.allocate(a,b,d)},mmap:function(a,b,d,e,f,h,g){if(1===(a.flags&2097155))throw new c.ErrnoError(13);if(!a.stream_ops.mmap)throw new c.ErrnoError(19);return a.stream_ops.mmap(a,b,d,e,f,h,g)},msync:function(a,b,d,c,e){return!a||!a.stream_ops.msync?0:a.stream_ops.msync(a,b,d,c,e)},munmap:function(a){return 0},ioctl:function(a,b,d){if(!a.stream_ops.ioctl)throw new c.ErrnoError(25);return a.stream_ops.ioctl(a,b,d)},readFile:function(a,b){b=
b||{};b.flags=b.flags||"r";b.encoding=b.encoding||"binary";if("utf8"!==b.encoding&&"binary"!==b.encoding)throw Error('Invalid encoding type "'+b.encoding+'"');var d,e=c.open(a,b.flags),f=c.stat(a).size,h=new Uint8Array(f);c.read(e,h,0,f,0);"utf8"===b.encoding?d=P(h,0):"binary"===b.encoding&&(d=h);c.close(e);return d},writeFile:function(a,b,d){d=d||{};d.flags=d.flags||"w";a=c.open(a,d.flags,d.mode);if("string"===typeof b){var e=new Uint8Array($(b)+1);b=T(b,e,0,e.length);c.write(a,e,0,b,void 0,d.canOwn)}else if(ArrayBuffer.isView(b))c.write(a,
b,0,b.byteLength,void 0,d.canOwn);else throw Error("Unsupported data type");c.close(a)},cwd:function(){return c.currentPath},chdir:function(a){a=c.lookupPath(a,{follow:!0});if(null===a.node)throw new c.ErrnoError(2);if(!c.isDir(a.node.mode))throw new c.ErrnoError(20);var b=c.nodePermissions(a.node,"x");if(b)throw new c.ErrnoError(b);c.currentPath=a.path},createDefaultDirectories:function(){c.mkdir("/tmp");c.mkdir("/home");c.mkdir("/home/web_user")},createDefaultDevices:function(){c.mkdir("/dev");
c.registerDevice(c.makedev(1,3),{read:function(){return 0},write:function(a,b,d,c,e){return c}});c.mkdev("/dev/null",c.makedev(1,3));F.register(c.makedev(5,0),F.default_tty_ops);F.register(c.makedev(6,0),F.default_tty1_ops);c.mkdev("/dev/tty",c.makedev(5,0));c.mkdev("/dev/tty1",c.makedev(6,0));var a;if("object"===typeof crypto&&"function"===typeof crypto.getRandomValues){var b=new Uint8Array(1);a=function(){crypto.getRandomValues(b);return b[0]}}else if(N)try{var d=require("crypto");a=function(){return d.randomBytes(1)[0]}}catch(e){}a||
(a=function(){w("random_device")});c.createDevice("/dev","random",a);c.createDevice("/dev","urandom",a);c.mkdir("/dev/shm");c.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){c.mkdir("/proc");c.mkdir("/proc/self");c.mkdir("/proc/self/fd");c.mount({mount:function(){var a=c.createNode("/proc/self","fd",16895,73);a.node_ops={lookup:function(a,d){var e=c.getStream(+d);if(!e)throw new c.ErrnoError(9);var f={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return e.path}}};
return f.parent=f}};return a}},{},"/proc/self/fd")},createStandardStreams:function(){e.stdin?c.createDevice("/dev","stdin",e.stdin):c.symlink("/dev/tty","/dev/stdin");e.stdout?c.createDevice("/dev","stdout",null,e.stdout):c.symlink("/dev/tty","/dev/stdout");e.stderr?c.createDevice("/dev","stderr",null,e.stderr):c.symlink("/dev/tty1","/dev/stderr");c.open("/dev/stdin","r");c.open("/dev/stdout","w");c.open("/dev/stderr","w")},ensureErrnoError:function(){c.ErrnoError||(c.ErrnoError=function(a,b){this.node=
b;this.setErrno=function(a){this.errno=a};this.setErrno(a);this.message="FS error";this.stack&&Object.defineProperty(this,"stack",{value:Error().stack,writable:!0})},c.ErrnoError.prototype=Error(),c.ErrnoError.prototype.constructor=c.ErrnoError,[2].forEach(function(a){c.genericErrors[a]=new c.ErrnoError(a);c.genericErrors[a].stack="<generic error, no stack>"}))},staticInit:function(){c.ensureErrnoError();c.nameTable=Array(4096);c.mount(p,{},"/");c.createDefaultDirectories();c.createDefaultDevices();
c.createSpecialDirectories();c.filesystems={MEMFS:p,IDBFS:t,NODEFS:s,WORKERFS:v}},init:function(a,b,d){c.init.initialized=!0;c.ensureErrnoError();e.stdin=a||e.stdin;e.stdout=b||e.stdout;e.stderr=d||e.stderr;c.createStandardStreams()},quit:function(){c.init.initialized=!1;var a=e._fflush;a&&a(0);for(a=0;a<c.streams.length;a++){var b=c.streams[a];b&&c.close(b)}},getMode:function(a,b){var c=0;a&&(c|=365);b&&(c|=146);return c},joinPath:function(a,b){var c=n.join.apply(null,a);b&&"/"==c[0]&&(c=c.substr(1));
return c},absolutePath:function(a,b){return n.resolve(b,a)},standardizePath:function(a){return n.normalize(a)},findObject:function(a,b){var d=c.analyzePath(a,b);if(d.exists)return d.object;Q(d.error);return null},analyzePath:function(a,b){try{var d=c.lookupPath(a,{follow:!b});a=d.path}catch(e){}var f={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{d=c.lookupPath(a,{parent:!0}),f.parentExists=!0,f.parentPath=d.path,f.parentObject=
d.node,f.name=n.basename(a),d=c.lookupPath(a,{follow:!b}),f.exists=!0,f.path=d.path,f.object=d.node,f.name=d.node.name,f.isRoot="/"===d.path}catch(h){f.error=h.errno}return f},createFolder:function(a,b,d,e){a=n.join2("string"===typeof a?a:c.getPath(a),b);d=c.getMode(d,e);return c.mkdir(a,d)},createPath:function(a,b,d,e){a="string"===typeof a?a:c.getPath(a);for(b=b.split("/").reverse();b.length;)if(d=b.pop()){var f=n.join2(a,d);try{c.mkdir(f)}catch(h){}a=f}return f},createFile:function(a,b,d,e,f){a=
n.join2("string"===typeof a?a:c.getPath(a),b);e=c.getMode(e,f);return c.create(a,e)},createDataFile:function(a,b,d,e,f,h){a=b?n.join2("string"===typeof a?a:c.getPath(a),b):a;e=c.getMode(e,f);f=c.create(a,e);if(d){if("string"===typeof d){a=Array(d.length);b=0;for(var g=d.length;b<g;++b)a[b]=d.charCodeAt(b);d=a}c.chmod(f,e|146);a=c.open(f,"w");c.write(a,d,0,d.length,0,h);c.close(a);c.chmod(f,e)}return f},createDevice:function(a,b,d,e){a=n.join2("string"===typeof a?a:c.getPath(a),b);b=c.getMode(!!d,
!!e);c.createDevice.major||(c.createDevice.major=64);var f=c.makedev(c.createDevice.major++,0);c.registerDevice(f,{open:function(a){a.seekable=!1},close:function(a){e&&(e.buffer&&e.buffer.length)&&e(10)},read:function(a,b,e,f,l){for(var k=l=0;k<f;k++){var m;try{m=d()}catch(n){throw new c.ErrnoError(5);}if(void 0===m&&0===l)throw new c.ErrnoError(11);if(null===m||void 0===m)break;l++;b[e+k]=m}l&&(a.node.timestamp=Date.now());return l},write:function(a,b,d,f,k){for(k=0;k<f;k++)try{e(b[d+k])}catch(m){throw new c.ErrnoError(5);
}f&&(a.node.timestamp=Date.now());return k}});return c.mkdev(a,b,f)},createLink:function(a,b,d,e,f){a=n.join2("string"===typeof a?a:c.getPath(a),b);return c.symlink(d,a)},forceLoadFile:function(a){if(a.isDevice||a.isFolder||a.link||a.contents)return!0;var b=!0;if("undefined"!==typeof XMLHttpRequest)throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");
if(e.read)try{a.contents=la(e.read(a.url),!0),a.usedBytes=a.contents.length}catch(c){b=!1}else throw Error("Cannot load without read() or XMLHttpRequest.");b||Q(5);return b},createLazyFile:function(a,b,d,e,f){function h(){this.lengthKnown=!1;this.chunks=[]}h.prototype.get=function(a){if(!(a>this.length-1||0>a)){var b=a%this.chunkSize;return this.getter(a/this.chunkSize|0)[b]}};h.prototype.setDataGetter=function(a){this.getter=a};h.prototype.cacheLength=function(){var a=new XMLHttpRequest;a.open("HEAD",
d,!1);a.send(null);if(!(200<=a.status&&300>a.status||304===a.status))throw Error("Couldn't load "+d+". Status: "+a.status);var b=Number(a.getResponseHeader("Content-length")),c,e=(c=a.getResponseHeader("Accept-Ranges"))&&"bytes"===c,a=(c=a.getResponseHeader("Content-Encoding"))&&"gzip"===c,f=1048576;e||(f=b);var l=this;l.setDataGetter(function(a){var c=a*f,e=(a+1)*f-1,e=Math.min(e,b-1);if("undefined"===typeof l.chunks[a]){var h=l.chunks;if(c>e)throw Error("invalid range ("+c+", "+e+") or no bytes requested!");
if(e>b-1)throw Error("only "+b+" bytes available! programmer error!");var g=new XMLHttpRequest;g.open("GET",d,!1);b!==f&&g.setRequestHeader("Range","bytes="+c+"-"+e);"undefined"!=typeof Uint8Array&&(g.responseType="arraybuffer");g.overrideMimeType&&g.overrideMimeType("text/plain; charset=x-user-defined");g.send(null);if(!(200<=g.status&&300>g.status||304===g.status))throw Error("Couldn't load "+d+". Status: "+g.status);c=void 0!==g.response?new Uint8Array(g.response||[]):la(g.responseText||"",!0);
h[a]=c}if("undefined"===typeof l.chunks[a])throw Error("doXHR failed!");return l.chunks[a]});if(a||!b)f=b=1,f=b=this.getter(0).length,console.log("LazyFiles on gzip forces download of the whole file when length is accessed");this._length=b;this._chunkSize=f;this.lengthKnown=!0};if("undefined"!==typeof XMLHttpRequest){if(!C)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var g=new h;Object.defineProperties(g,{length:{get:function(){this.lengthKnown||
this.cacheLength();return this._length}},chunkSize:{get:function(){this.lengthKnown||this.cacheLength();return this._chunkSize}}});g={isDevice:!1,contents:g}}else g={isDevice:!1,url:d};var k=c.createFile(a,b,g,e,f);g.contents?k.contents=g.contents:g.url&&(k.contents=null,k.url=g.url);Object.defineProperties(k,{usedBytes:{get:function(){return this.contents.length}}});var m={};Object.keys(k.stream_ops).forEach(function(a){var b=k.stream_ops[a];m[a]=function(){if(!c.forceLoadFile(k))throw new c.ErrnoError(5);
return b.apply(null,arguments)}});m.read=function(a,b,d,e,f){if(!c.forceLoadFile(k))throw new c.ErrnoError(5);a=a.node.contents;if(f>=a.length)return 0;e=Math.min(a.length-f,e);if(a.slice)for(var l=0;l<e;l++)b[d+l]=a[f+l];else for(l=0;l<e;l++)b[d+l]=a.get(f+l);return e};k.stream_ops=m;return k},createPreloadedFile:function(a,b,d,l,f,h,g,k,m,p){function q(d){function n(d){p&&p();k||c.createDataFile(a,b,d,l,f,m);h&&h();ha(t)}var u=!1;e.preloadPlugins.forEach(function(a){!u&&a.canHandle(s)&&(a.handle(d,
s,n,function(){g&&g();ha(t)}),u=!0)});u||n(d)}Browser.init();var s=b?n.resolve(n.join2(a,b)):a,t="cp "+s;za(t);"string"==typeof d?Browser.asyncLoad(d,function(a){q(a)},g):q(d)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(a,b,d){b=b||function(){};d=d||function(){};var e=c.indexedDB();try{var f=e.open(c.DB_NAME(),
c.DB_VERSION)}catch(h){return d(h)}f.onupgradeneeded=function(){console.log("creating db");f.result.createObjectStore(c.DB_STORE_NAME)};f.onsuccess=function(){var e=f.result.transaction([c.DB_STORE_NAME],"readwrite"),l=e.objectStore(c.DB_STORE_NAME),h=0,k=0,m=a.length;a.forEach(function(a){a=l.put(c.analyzePath(a).object.contents,a);a.onsuccess=function(){h++;h+k==m&&(0==k?b():d())};a.onerror=function(){k++;h+k==m&&(0==k?b():d())}});e.onerror=d};f.onerror=d},loadFilesFromDB:function(a,b,d){b=b||function(){};
d=d||function(){};var e=c.indexedDB();try{var f=e.open(c.DB_NAME(),c.DB_VERSION)}catch(h){return d(h)}f.onupgradeneeded=d;f.onsuccess=function(){var e=f.result;try{var l=e.transaction([c.DB_STORE_NAME],"readonly")}catch(h){d(h);return}var k=l.objectStore(c.DB_STORE_NAME),m=0,p=0,q=a.length;a.forEach(function(a){var e=k.get(a);e.onsuccess=function(){c.analyzePath(a).exists&&c.unlink(a);c.createDataFile(n.dirname(a),n.basename(a),e.result,!0,!0,!0);m++;m+p==q&&(0==p?b():d())};e.onerror=function(){p++;
m+p==q&&(0==p?b():d())}});l.onerror=d};f.onerror=d}},k={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,
ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,
ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86},m={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(a,b){if("/"!==
b[0]){var d;if(-100===a)d=c.cwd();else{d=c.getStream(a);if(!d)throw new c.ErrnoError(k.EBADF);d=d.path}b=n.join2(d,b)}return b},doStat:function(a,b,d){try{var e=a(b)}catch(f){if(f&&f.node&&n.normalize(b)!==n.normalize(c.getPath(f.node)))return-k.ENOTDIR;throw f;}q[d>>2]=e.dev;q[d+4>>2]=0;q[d+8>>2]=e.ino;q[d+12>>2]=e.mode;q[d+16>>2]=e.nlink;q[d+20>>2]=e.uid;q[d+24>>2]=e.gid;q[d+28>>2]=e.rdev;q[d+32>>2]=0;q[d+36>>2]=e.size;q[d+40>>2]=4096;q[d+44>>2]=e.blocks;q[d+48>>2]=e.atime.getTime()/1E3|0;q[d+52>>
2]=0;q[d+56>>2]=e.mtime.getTime()/1E3|0;q[d+60>>2]=0;q[d+64>>2]=e.ctime.getTime()/1E3|0;q[d+68>>2]=0;q[d+72>>2]=e.ino;return 0},doMsync:function(a,b,d,e){a=new Uint8Array(J.subarray(a,a+d));c.msync(b,a,0,d,e)},doMkdir:function(a,b){a=n.normalize(a);"/"===a[a.length-1]&&(a=a.substr(0,a.length-1));c.mkdir(a,b,0);return 0},doMknod:function(a,b,d){switch(b&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-k.EINVAL}c.mknod(a,b,d);return 0},doReadlink:function(a,b,d){if(0>=
d)return-k.EINVAL;a=c.readlink(a);var e=Math.min(d,$(a)),f=B[b+e];T(a,J,b,d+1);B[b+e]=f;return e},doAccess:function(a,b){if(b&-8)return-k.EINVAL;var d;d=c.lookupPath(a,{follow:!0}).node;var e="";b&4&&(e+="r");b&2&&(e+="w");b&1&&(e+="x");return e&&c.nodePermissions(d,e)?-k.EACCES:0},doDup:function(a,b,d){var e=c.getStream(d);e&&c.close(e);return c.open(a,b,0,d,d).fd},doReadv:function(a,b,d,e){for(var f=0,h=0;h<d;h++){var g=q[b+(8*h+4)>>2],k=c.read(a,B,q[b+8*h>>2],g,e);if(0>k)return-1;f+=k;if(k<g)break}return f},
doWritev:function(a,b,d,e){for(var f=0,h=0;h<d;h++){var g=c.write(a,B,q[b+8*h>>2],q[b+(8*h+4)>>2],e);if(0>g)return-1;f+=g}return f},varargs:0,get:function(a){m.varargs+=4;return q[m.varargs-4>>2]},getStr:function(){return O(m.get())},getStreamFromFD:function(){var a=c.getStream(m.get());if(!a)throw new c.ErrnoError(k.EBADF);return a},getSocketFromFD:function(){var a=SOCKFS.getSocket(m.get());if(!a)throw new c.ErrnoError(k.EBADF);return a},getSocketAddress:function(a){var b=m.get(),d=m.get();if(a&&
0===b)return null;a=__read_sockaddr(b,d);if(a.errno)throw new c.ErrnoError(a.errno);a.addr=DNS.lookup_addr(a.addr)||a.addr;return a},get64:function(){var a=m.get();m.get();return a},getZero:function(){m.get()}};c.staticInit();if(N){var u=require("fs"),Ja=require("path");s.staticInit()}G=e.asm({},{abort:w,setTempRet0:function(a){Ia=a},getTempRet0:function(){return Ia},invoke_iii:function(a,b,c){var e=K();try{return Ta(a,b,c)}catch(f){L(e);if(f!==f+0&&"longjmp"!==f)throw f;R(1,0)}},invoke_iiii:function(a,
b,c,e){var f=K();try{return Ua(a,b,c,e)}catch(h){L(f);if(h!==h+0&&"longjmp"!==h)throw h;R(1,0)}},invoke_iiiii:function(a,b,c,e,f){var h=K();try{return Va(a,b,c,e,f)}catch(g){L(h);if(g!==g+0&&"longjmp"!==g)throw g;R(1,0)}},invoke_vii:function(a,b,c){var e=K();try{Wa(a,b,c)}catch(f){L(e);if(f!==f+0&&"longjmp"!==f)throw f;R(1,0)}},invoke_viiii:function(a,b,c,e,f){var h=K();try{Xa(a,b,c,e,f)}catch(g){L(h);if(g!==g+0&&"longjmp"!==g)throw g;R(1,0)}},___assert_fail:function(a,b,c,e){w("Assertion failed: "+
O(a)+", at: "+[b?O(b):"unknown filename",c,e?O(e):"unknown function"])},___buildEnvironment:ja,___lock:function(){},___map_file:function(a,b){Q(1);return-1},___setErrNo:Q,___syscall140:function(a,b){m.varargs=b;try{var d=m.getStreamFromFD();m.get();var e=m.get(),f=m.get(),h=m.get();c.llseek(d,e,h);q[f>>2]=d.position;d.getdents&&(0===e&&0===h)&&(d.getdents=null);return 0}catch(g){return("undefined"===typeof c||!(g instanceof c.ErrnoError))&&w(g),-g.errno}},___syscall145:function(a,b){m.varargs=b;try{var d=
m.getStreamFromFD(),e=m.get(),f=m.get();return m.doReadv(d,e,f)}catch(h){return("undefined"===typeof c||!(h instanceof c.ErrnoError))&&w(h),-h.errno}},___syscall146:function(a,b){m.varargs=b;try{var d=m.getStreamFromFD(),e=m.get(),f=m.get();return m.doWritev(d,e,f)}catch(h){return("undefined"===typeof c||!(h instanceof c.ErrnoError))&&w(h),-h.errno}},___syscall221:function(a,b){m.varargs=b;try{var d=m.getStreamFromFD();switch(m.get()){case 0:var e=m.get();return 0>e?-k.EINVAL:c.open(d.path,d.flags,
0,e).fd;case 1:case 2:return 0;case 3:return d.flags;case 4:return e=m.get(),d.flags|=e,0;case 12:return e=m.get(),xa[e+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-k.EINVAL;case 9:return Q(k.EINVAL),-1;default:return-k.EINVAL}}catch(f){return("undefined"===typeof c||!(f instanceof c.ErrnoError))&&w(f),-f.errno}},___syscall5:function(a,b){m.varargs=b;try{var d=m.getStr(),e=m.get(),f=m.get();return c.open(d,e,f).fd}catch(h){return("undefined"===typeof c||!(h instanceof c.ErrnoError))&&
w(h),-h.errno}},___syscall54:function(a,b){m.varargs=b;try{var d=m.getStreamFromFD(),e=m.get();switch(e){case 21509:case 21505:return!d.tty?-k.ENOTTY:0;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return!d.tty?-k.ENOTTY:0;case 21519:if(!d.tty)return-k.ENOTTY;var f=m.get();return q[f>>2]=0;case 21520:return!d.tty?-k.ENOTTY:-k.EINVAL;case 21531:return f=m.get(),c.ioctl(d,e,f);case 21523:return!d.tty?-k.ENOTTY:0;case 21524:return!d.tty?-k.ENOTTY:0;default:w("bad ioctl syscall "+
e)}}catch(h){return("undefined"===typeof c||!(h instanceof c.ErrnoError))&&w(h),-h.errno}},___syscall6:function(a,b){m.varargs=b;try{var d=m.getStreamFromFD();c.close(d);return 0}catch(e){return("undefined"===typeof c||!(e instanceof c.ErrnoError))&&w(e),-e.errno}},___syscall91:function(a,b){m.varargs=b;try{var d=m.get(),e=m.get(),f=m.mappings[d];if(!f)return 0;if(e===f.len){var h=c.getStream(f.fd);m.doMsync(d,h,e,f.flags);c.munmap(h);m.mappings[d]=null;f.allocated&&Da(f.malloc)}return 0}catch(g){return("undefined"===
typeof c||!(g instanceof c.ErrnoError))&&w(g),-g.errno}},___unlock:function(){},_emscripten_get_heap_size:function(){return E},_emscripten_longjmp:function(a,b){Ba(a,b)},_emscripten_memcpy_big:function(a,b,c){J.set(J.subarray(b,b+c),a)},_emscripten_resize_heap:ra,_getenv:X,_llvm_stackrestore:function(a){var b=ka,c=b.LLVM_SAVEDSTACKS[a];b.LLVM_SAVEDSTACKS.splice(a,1);L(c)},_llvm_stacksave:ka,_longjmp:Ba,abortOnCannotGrowMemory:function(a){w("OOM")},emscripten_realloc_buffer:Ca,tempDoublePtr:374544,
DYNAMICTOP_PTR:Y},x);e.asm=G;var Ra=e.___emscripten_environ_constructor=function(){return e.asm.___emscripten_environ_constructor.apply(null,arguments)};e.___errno_location=function(){return e.asm.___errno_location.apply(null,arguments)};e.__get_environ=function(){return e.asm.__get_environ.apply(null,arguments)};e._cobbles_destroy=function(){return e.asm._cobbles_destroy.apply(null,arguments)};e._cobbles_font_close=function(){return e.asm._cobbles_font_close.apply(null,arguments)};e._cobbles_font_get_error=
function(){return e.asm._cobbles_font_get_error.apply(null,arguments)};e._cobbles_font_get_glyph_bitmap=function(){return e.asm._cobbles_font_get_glyph_bitmap.apply(null,arguments)};e._cobbles_font_get_glyph_id=function(){return e.asm._cobbles_font_get_glyph_id.apply(null,arguments)};e._cobbles_font_get_glyph_info=function(){return e.asm._cobbles_font_get_glyph_info.apply(null,arguments)};e._cobbles_font_load_glyph=function(){return e.asm._cobbles_font_load_glyph.apply(null,arguments)};e._cobbles_font_set_size=
function(){return e.asm._cobbles_font_set_size.apply(null,arguments)};e._cobbles_get_error=function(){return e.asm._cobbles_get_error.apply(null,arguments)};e._cobbles_init=function(){return e.asm._cobbles_init.apply(null,arguments)};e._cobbles_open_font_bytes=function(){return e.asm._cobbles_open_font_bytes.apply(null,arguments)};e._cobbles_open_font_file=function(){return e.asm._cobbles_open_font_file.apply(null,arguments)};e._cobbles_shaper_destroy=function(){return e.asm._cobbles_shaper_destroy.apply(null,
arguments)};e._cobbles_shaper_get_error=function(){return e.asm._cobbles_shaper_get_error.apply(null,arguments)};e._cobbles_shaper_get_glyph_count=function(){return e.asm._cobbles_shaper_get_glyph_count.apply(null,arguments)};e._cobbles_shaper_get_glyph_info=function(){return e.asm._cobbles_shaper_get_glyph_info.apply(null,arguments)};e._cobbles_shaper_guess_text_properties=function(){return e.asm._cobbles_shaper_guess_text_properties.apply(null,arguments)};e._cobbles_shaper_init=function(){return e.asm._cobbles_shaper_init.apply(null,
arguments)};e._cobbles_shaper_set_direction=function(){return e.asm._cobbles_shaper_set_direction.apply(null,arguments)};e._cobbles_shaper_set_font=function(){return e.asm._cobbles_shaper_set_font.apply(null,arguments)};e._cobbles_shaper_set_language=function(){return e.asm._cobbles_shaper_set_language.apply(null,arguments)};e._cobbles_shaper_set_script=function(){return e.asm._cobbles_shaper_set_script.apply(null,arguments)};e._cobbles_shaper_set_text=function(){return e.asm._cobbles_shaper_set_text.apply(null,
arguments)};e._cobbles_shaper_shape=function(){return e.asm._cobbles_shaper_shape.apply(null,arguments)};e._emscripten_replace_memory=function(){return e.asm._emscripten_replace_memory.apply(null,arguments)};var Da=e._free=function(){return e.asm._free.apply(null,arguments)};e._llvm_bswap_i16=function(){return e.asm._llvm_bswap_i16.apply(null,arguments)};e._llvm_bswap_i32=function(){return e.asm._llvm_bswap_i32.apply(null,arguments)};e._llvm_round_f32=function(){return e.asm._llvm_round_f32.apply(null,
arguments)};var da=e._malloc=function(){return e.asm._malloc.apply(null,arguments)};e._memcpy=function(){return e.asm._memcpy.apply(null,arguments)};e._memmove=function(){return e.asm._memmove.apply(null,arguments)};e._memset=function(){return e.asm._memset.apply(null,arguments)};e._realloc=function(){return e.asm._realloc.apply(null,arguments)};e._saveSetjmp=function(){return e.asm._saveSetjmp.apply(null,arguments)};e._sbrk=function(){return e.asm._sbrk.apply(null,arguments)};var R=e._setThrew=function(){return e.asm._setThrew.apply(null,
arguments)};e._testSetjmp=function(){return e.asm._testSetjmp.apply(null,arguments)};e.establishStackSpace=function(){return e.asm.establishStackSpace.apply(null,arguments)};var ua=e.stackAlloc=function(){return e.asm.stackAlloc.apply(null,arguments)},L=e.stackRestore=function(){return e.asm.stackRestore.apply(null,arguments)},K=e.stackSave=function(){return e.asm.stackSave.apply(null,arguments)};e.dynCall_ii=function(){return e.asm.dynCall_ii.apply(null,arguments)};var Ta=e.dynCall_iii=function(){return e.asm.dynCall_iii.apply(null,
arguments)},Ua=e.dynCall_iiii=function(){return e.asm.dynCall_iiii.apply(null,arguments)},Va=e.dynCall_iiiii=function(){return e.asm.dynCall_iiiii.apply(null,arguments)};e.dynCall_iiiiii=function(){return e.asm.dynCall_iiiiii.apply(null,arguments)};e.dynCall_iiiiiii=function(){return e.asm.dynCall_iiiiiii.apply(null,arguments)};e.dynCall_iiiiiiii=function(){return e.asm.dynCall_iiiiiiii.apply(null,arguments)};e.dynCall_iiiiiiiiii=function(){return e.asm.dynCall_iiiiiiiiii.apply(null,arguments)};e.dynCall_vi=
function(){return e.asm.dynCall_vi.apply(null,arguments)};var Wa=e.dynCall_vii=function(){return e.asm.dynCall_vii.apply(null,arguments)};e.dynCall_viii=function(){return e.asm.dynCall_viii.apply(null,arguments)};var Xa=e.dynCall_viiii=function(){return e.asm.dynCall_viiii.apply(null,arguments)};e.dynCall_viiiii=function(){return e.asm.dynCall_viiiii.apply(null,arguments)};e.dynCall_viiiiii=function(){return e.asm.dynCall_viiiiii.apply(null,arguments)};e.asm=G;e.ccall=ta;e.cwrap=function(a,b,c,e){c=
c||[];var f=c.every(function(a){return"number"===a});return"string"!==b&&f&&!e?sa(a):function(){return ta(a,b,c,arguments,e)}};e.then=function(a){if(e.calledRun)a(e);else{var b=e.onRuntimeInitialized;e.onRuntimeInitialized=function(){b&&b();a(e)}}return e};ea.prototype=Error();ea.prototype.constructor=ea;U=function b(){e.calledRun||ma();e.calledRun||(U=b)};e.run=ma;e.abort=w;if(e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();e.noExitRuntime=
!0;ma();return S}}();"object"===typeof exports&&"object"===typeof module?module.exports=cobbles_runtime:"function"===typeof define&&define.amd?define([],function(){return cobbles_runtime}):"object"===typeof exports&&(exports.cobbles_runtime=cobbles_runtime);
